(()=>{"use strict";var e={282:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(354),i=n.n(o),r=n(314),l=n.n(r)()(i());l.push([e.id,'/** cursor style */\n[contenteditable="true"] {\n    cursor: text !important;\n    white-space: pre-wrap !important;\n}\n\n\nfigure figcaption[data-placeholder]:empty:before {\n    content: attr(data-placeholder) !important;\n    color: #84888d !important;\n    display: block !important;\n}\n\n\nfigure figcaption{\n    max-width: 100%;\n    width: fit-content;\n    margin:  0 auto;\n    display: block !important;\n}\n\n/** CSS reset */\n.button-reset {\n    border: none;\n    margin: 0;\n    padding: 0;\n    width: auto;\n    overflow: visible;\n    background: transparent;\n    font: inherit;\n    line-height: normal;\n}\n\n/** add block */\n.add-block {\n    margin: 0;\n    padding: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 1px solid #000;\n    background-color: white;\n    transition: all 0.3s ease;\n    box-sizing: border-box;\n    margin-left: 1.3rem;\n}\n\n.add-block-wrapper {\n    width: 100%;\n    height: 3.125rem;\n}\n\n.add-block-wrapper:hover .add-block {\n    display: flex;\n}\n\n/** and add block */\n\n\n\n/** List  **/\n.list {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n\n}\n\n.list-item-checkable input {\n    margin-top: 0.5rem;\n}\n\n.list li div {\n    display: inline-block !important;\n    min-width: 100px;\n    line-height: 1;\n}\n\nol.johannes-content-element,\nul.johannes-content-element {\n    padding-left: 1rem !important;\n}\n\n.johannes-content-element li>button {\n    /* display: none; */\n    display: none;\n    position: absolute;\n    margin-left: 10px;\n    top: 0;\n\n    flex-direction: row;\n    align-items: start;\n    justify-content: start;\n\n}\n\n.johannes-content-element li {\n    position: relative;\n\n}\n\n.johannes-content-element li::before {\n    margin-left: 0.3125rem;\n}\n\n.johannes-content-element li:hover>button {\n    /* display: inline-block; */\n    display: inline-flex;\n\n}\n\np.johannes-content-element {\n    display: inline-block;\n    line-height: 1;\n    margin: 0;\n    padding: 0;\n}\n\n.johannes-content-element .checkbox-list {\n    list-style-type: none;\n    padding-left: 0 !important;\n}\n\n\n.johannes-content-element .checkbox-list li {\n    display: flex;\n    flex-direction: row;\n    justify-content: left;\n}\n\n\n.johannes-content-element ul.checkbox-list input[type="checkbox"]:checked+span {\n    text-decoration: line-through;\n}\n\n/** Add line through text decoration to checked checkboxes text div */\n.block input[type="checkbox"]:checked+div {\n    text-decoration: line-through;\n}\n\n/** Remove the default list style and replace by another that works with display flex */\n.block ol,\n.block ul {\n    list-style: none;\n}\n\n.block ul .list-item,\n.block ol .list-item {\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n\n}\n\n.block ol li {\n    counter-increment: item;\n}\n\n.block ol li::before {\n    content: counter(item) ".";\n    margin-right: 0.3125rem;\n    display: flex;\n    /* width: 18px; */\n    justify-content: flex-start;\n}\n\n.block ul li:not(.no-list-style)::before {\n    content: "•";\n    margin-right: 0.3125rem;\n    display: flex;\n}\n\n.list-item-checkable input {\n    margin-right: 0.3125rem;\n}\n\n\n/** and list **/\n\n\n.drag-handler {\n    color: #84888d;\n    visibility: hidden;\n    cursor: grab;\n    align-self: start;\n    padding-top: 0.33rem;\n    position: absolute;\n}\n\n.drag-handler-wrapper {\n    position: relative;\n    height: 0;\n    width: 0;\n}\n\n.drag-handler:active {\n    cursor: grabbing;\n}\n\n.block {\n    display: flex;\n    flex-direction: row;\n    margin-bottom: 1rem;\n    position: relative;\n    max-width: 100%;\n}\n\n.block>*:not(.editor-only) {\n    padding-left: 1.25rem !important;\n}\n\n.block:hover .drag-handler {\n    visibility: visible;\n    vertical-align: top;\n    justify-content: start;\n    transition: visibility 0.2s;\n}\n\n.drop-line {\n    height: 1rem;\n    background-color: #84888d;\n    width: 100%;\n}\n\n\n.title h1 {\n    margin-left: 1.3rem;\n    line-height: 3rem;\n}\n\n\n#johannesEditor [contenteditable="true"]:empty:focus {\n    content: attr(data-placeholder);\n    color: #84888d;\n    pointer-events: none;\n}\n\n#johannesEditor h1[data-placeholder]:empty:before {\n    content: attr(data-placeholder);\n    color: #84888d !important;\n    display: block;\n}\n\n#johannesEditor h1[data-placeholder]:focus:before {}\n\n\n#johannesEditor *[contenteditable="true"]:not(h1):empty:before {\n    content: attr(data-placeholder);\n    color: #84888acd;\n    display: none;\n}\n\n#johannesEditor *[contenteditable="true"]:not(h1):empty:hover:before {\n    display: block;\n}\n\n#johannesEditor cite[contenteditable="true"]:empty:before {\n    display: block;\n}\n\n#johannesEditor *[contenteditable="true"]:not(h1)[data-placeholder]:empty:focus:before {\n    content: attr(data-placeholder);\n    color: #84888acd !important;\n    display: block;\n}\n\n#johannesEditor li.div[contenteditable="true"]:empty:hover:before {\n    content: attr(data-placeholder);\n    color: #84888acd;\n    display: block;\n}\n\n\n\nh1 {\n    font-size: 2.5rem;\n    font-weight: bolder !important;\n}\n\n.content {\n    width: 100%;\n    box-sizing: border-box;\n}\n\n.content .block .table-wrapper {\n    overflow-x: auto;\n    overflow-y: hidden;\n}\n\n\n[contenteditable] {\n    outline: none;\n}\n\nbody {\n    background-color: white;\n    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", "Noto Sans", "Liberation Sans", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    margin-bottom: 200px;\n}\n\n\n.editor {\n    display: flex;\n    margin-top: 80px;\n}\n\np {\n    color: #242424;\n}\n\n.block,\n.block * {\n    user-select: text;\n}\n\n\n.johannes-content-element {\n    width: 100%;\n    padding: 0;\n    margin: 0;\n}\n\n\n#johannesEditor {\n    /* width: 60%; */\n    margin-left: auto;\n    margin-right: auto;\n}\n\n.johannes-editor hr {\n    width: 100%;\n    height: 2px;\n    visibility: visible;\n    border: none;\n    border-bottom: 1px solid rgba(55, 53, 47, 0.16);\n}\n\n\n\n.johannes-editor blockquote {\n    margin: 0.5rem 0;\n    padding-left: 20px;\n    border-left: 4px solid rgb(55, 53, 47);\n    font-style: italic;\n    display: block;\n}\n\n.johannes-editor cite {\n    padding-top: 1rem !important;\n    display: inline-block;\n}\n\n\n.johannes-editor cite::before {\n    content: \'— \';\n}\n\n\n#linkBox {\n    z-index: 999999;\n    width: fit-content;\n    background-color: white;\n}\n\n#linkBox .header {\n    border-bottom: 1px solid rgba(55, 53, 47, 0.16);\n    padding: 10px 20px;\n    font-size: 0.86rem;\n    color: #37352fd9;\n    font-weight: 600;\n}\n\n#linkBox .link-box-shell {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    padding: 20px;\n}\n\n\n#linkBox .link-box-shell input {\n    width: 20rem;\n    border: 1px solid rgba(55, 53, 47, 0.16);\n    height: 1.5rem;\n    border-radius: 4px;\n    padding-left: 10px;\n}\n\n\n.ctrl-active .johannes-content-element a {\n    cursor: pointer;\n}\n\n\n/** soft-box-shadow class */\n.soft-box-shadow {\n    margin: 0;\n    border-radius: 2px;\n    box-shadow:\n        0 4px 6px rgba(0, 0, 0, 0.1),\n        0 -2px 4px rgba(216, 196, 196, 0.02),\n        -2px 0 4px rgba(0, 0, 0, 0.02),\n        2px 0 4px rgba(0, 0, 0, 0.02);\n\n    border: 1px solid #d0d0d0;\n}\n\n/** and soft-box-shadow */\n\n\n/** selection-wrapper class */\n.select-wrapper {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    position: relative;\n    color: rgb(120, 119, 116);\n}\n\n.select-wrapper ul {\n    background: white;\n    flex-direction: column;\n    width: fit-content;\n    padding-bottom: 0.5rem;\n    padding-left: 5px;\n    top: 2.2rem;\n    color: rgb(55, 53, 47);\n    padding-right: 0.3125rem;\n}\n\n.select-wrapper ul li {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 0.625rem;\n    padding: 0.1875rem 0.3125rem;\n    border-radius: 0.1875rem;\n    user-select: none !important;\n    font-size: small !important;\n    font-weight: 500;\n}\n\n.select-wrapper ul li span,\n.select-wrapper button span {\n    display: inline-block;\n    width: max-content;\n    line-height: 100% !important;\n}\n\n.select-wrapper ul li .option-image {\n    width: 1.375rem;\n    height: 1.375rem;\n    color: #242424;\n    padding: 0 !important;\n    margin: 0 !important;\n}\n\n.select-wrapper ul li .option-image svg {\n    color: #4f4f4f;\n    padding: 0 !important;\n    margin: 0 !important;\n}\n\n.select-wrapper>button {\n    color: #37352fd9;\n}\n\n.select-wrapper ul li>h3 {\n    margin: 0;\n    font-size: small !important;\n    color: #37352fa6;\n    margin: 0;\n    padding: 0;\n    font-weight: 600 !important;\n    margin-top: 0.3125rem;\n    margin-bottom: 0.3125rem;\n}\n\n/** end selection wrapper **/\n\n\n\n/** Text formatting Bar **/\n\n\n\n.floating-toolbar {\n    justify-content: space-between;\n    padding: 8px 16px;\n    background-color: white;\n    width: fit-content;\n    position: absolute;\n    user-select: none;\n}\n\n\n.floating-toolbar .item {\n    color: rgb(120, 119, 116);\n    display: flex;\n    align-items: center;\n    gap: 10px;\n}\n\n.item>button,\n.floating-toolbar .item>button {\n\n    display: inline-flex;\n    align-items: center;\n    cursor: pointer;\n}\n\n\n.floating-toolbar select {\n    color: rgb(120, 119, 116);\n    border: none;\n    font-size: 0.85rem;\n    /* background-color: inherit; */\n}\n\n.text-formatting-select-button {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n}\n\n#turnIntoButton span {\n    display: inline-flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    font-size: 0.9rem;\n    font-weight: 600;\n\n}\n\n#turnIntoButton svg use {\n    margin: auto;\n}\n\n\n.text-formatting-button-active {\n    color: #2382e2;\n}\n\n.text-formatting-circle-active {\n    border-color: #2382e2 !important;\n}\n\n\n\n#moreTextOptionSelect {\n    position: absolute;\n}\n\n.moreTextOptionWrapper {\n    position: relative;\n}\n\n\n.bgc-red {\n    background-color: #FDDEDE;\n}\n\n.bgc-green {\n    background-color: #D7F7DC;\n}\n\n.bgc-blue {\n    background-color: #D9EDF6;\n}\n\n.bgc-yellow {\n    background-color: #FAF4D1;\n}\n\n.bgc-grey {\n    background-color: #E1E0E0;\n}\n\np,\nmark {\n    line-height: 1;\n}\n\n\n.border-less-image {\n    width: 24px;\n    height: 24px;\n}\n\n\n\n/** Block Options **/\n\n.block-options-wrapper {\n    z-index: 999999;\n    position: absolute;\n    display: none;\n}\n\n.block-options {\n    width: fit-content;\n    max-height: 19rem;\n    overflow-y: auto;\n}\n\n.block-options {\n    padding: 0 0.625rem;\n    background: white;\n}\n\n.block-options section h2 {\n    font-size: small !important;\n    color: #37352fa6;\n    margin: 0;\n    padding: 0;\n    font-weight: 600 !important;\n    margin-top: 0.3125rem;\n    margin-bottom: 0.3125rem;\n    padding-left: 0.3125rem;\n}\n\n.block-options .option {\n    padding: 0.3125rem 0.625rem;\n    margin: 0.3125rem 0;\n    cursor: pointer;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: left;\n    gap: 0.6rem;\n    border-radius: 3px;\n}\n\n.block-options .option:focus {\n    outline: none;\n    background-color: #e9e9e9;\n    border: inherit;\n}\n\n.option-focused {\n    outline: none;\n    background-color: #e9e9e9;\n    border: none;\n}\n\n.danger-option.option-focused,\n.danger-option.option-focused svg {\n    color: #EB5757 !important;\n}\n\n\n\n.block-options .option:focus-visible {\n    outline: none;\n    background-color: #e9e9e9;\n    border: inherit;\n}\n\n\n\n#colorTextButton {\n    margin-left: 0.625rem;\n}\n\n#turnIntoButton:not([disabled]):hover,\n#colorTextButton:not([disabled]):hover,\n#moreTextOptionButton:not([disabled]):hover,\n.floating-toolbar .item>button:not([disabled]):hover {\n    background-color: #e9e9e9;\n    box-shadow: 0px 0px 0px 2px #e9e9e9;\n    border-radius: 1px;\n    transition: 0.1s ease;\n}\n\n\n\n.option[focused="true"] {\n    background-color: #bde4ff;\n}\n\n.option-image {\n    width: 2.875rem;\n    height: 2.875rem;\n    border-radius: 0.1875rem;\n    border: 1px solid #ccc;\n    color: #4f4f4f;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    vertical-align: middle;\n    align-items: center;\n    background-color: #ffff;\n    box-sizing: border-box;\n}\n\n.option-image img {\n    max-width: 2.875rem;\n    max-height: 2.875rem;\n}\n\n.option-image svg {\n    margin: 0;\n    padding: 0;\n    padding: 0.625rem;\n    box-sizing: border-box;\n\n}\n\n.option-text * {\n    margin: 0;\n    padding: 0;\n\n}\n\n.option-text .block-title {\n    font-size: small !important;\n    font-weight: 500;\n}\n\n.option-text .block-description {\n    font-size: small !important;\n    color: rgba(55, 53, 47, 0.5);\n}\n\n/** End Block Options **/\n\n\n.johannes-editor *::selection {\n    background-color: hsl(210 75% 50% / 1);\n    color: white;\n}\n\n.johannes-editor mark,\n.johannes-editor *:not(h1) {\n    line-height: 1.5 !important;\n}\n\n.option {\n    justify-content: space-between;\n}\n\n.text-option {\n    display: flex;\n    flex-direction: row;\n    justify-content: start;\n    align-items: center;\n    gap: 0.625rem;\n}\n\n\n/* Para telas com densidade média */\n@media only screen and (-webkit-min-device-pixel-ratio: 2),\nonly screen and (min--moz-device-pixel-ratio: 2),\nonly screen and (min-resolution: 192dpi),\nonly screen and (min-resolution: 2dppx) {\n    :root {\n        font-size: 18px;\n        /* Aumenta o tamanho da fonte para telas de alta densidade */\n    }\n}\n\n/* Para telas com altíssima densidade */\n@media only screen and (-webkit-min-device-pixel-ratio: 3),\nonly screen and (min--moz-device-pixel-ratio: 3),\nonly screen and (min-resolution: 288dpi),\nonly screen and (min-resolution: 3dppx) {\n    :root {\n        font-size: 20px;\n        /* Ainda maior para telas de densidade muito alta */\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\ntable.johannes-content-element {\n    border-collapse: collapse;\n    max-width: inherit;\n    width: auto;\n    display: flex;\n    box-sizing: border-box !important;\n}\n\ntable.johannes-content-element th,\ntable.johannes-content-element td {\n    min-height: 20px;\n}\n\ntable.johannes-content-element th,\ntable.johannes-content-element td {\n    border: 1px solid #84888d;\n    padding: 8px;\n    text-align: left;\n    align-items: start;\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n    white-space: normal;\n    vertical-align: top;\n    min-width: 100px;\n    max-width: 200px;\n\n    transition: border 100ms ease-out, box-shadow 100ms ease-out;\n\n}\n\ntable.johannes-content-element td.selected,\ntable.johannes-content-element td:focus {\n    outline: none;\n    box-shadow: 0 0 0 1px #74b6db inset;\n    border: 1px double #74b6db;\n\n}\n\ntd {\n    min-height: 1rem !important;\n    line-height: 1rem;\n}\n\ntd::placeholder {\n    display: block;\n}\n\n#johannesEditor td:empty:before {\n    content: attr(data-placeholder);\n    color: #84888acd;\n    display: block !important;\n    opacity: 0;\n}\n\n.table-wrapper {\n    width: 100%;\n}\n\n.table-controller {\n    position: relative;\n    max-width: 100%;\n}\n\n.add-table-row {\n    background-color: rgba(55, 53, 47, 0.06);\n    width: 100%;\n    padding: 0;\n    margin: 0;\n    margin-top: 0.375rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    height: 1rem;\n    cursor: pointer;\n    opacity: 0;\n    user-select: none;\n}\n\n.add-table-column {\n    position: absolute;\n    right: -1.3125rem;\n    background-color: rgba(55, 53, 47, 0.06);\n    width: 1rem;\n    padding: 0;\n    margin: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    height: 100%;\n    top: 0;\n    cursor: pointer;\n    height: calc(100% - 1rem - 5px);\n    opacity: 0;\n    user-select: none;\n}\n\n.add-table-column:hover {\n    opacity: 1;\n}\n\n.add-table-row:hover {\n    opacity: 1;\n}\n\n.table-shell {\n    max-width: 100%;\n}\n\n\n\n.table-option {\n    background-color: white;\n    width: fit-content;\n    justify-content: space-between;\n    padding: 8px 16px;\n    background-color: #f9f9f9;\n    width: fit-content;\n    z-index: 999999;\n    position: absolute;\n    user-select: none;\n    padding: 8px 16px;\n    display: none;\n}\n\n\n/** Callout **/\n\n.callout-wrapper {\n    padding: 1rem;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n}\n\n.callout:hover .options-button {\n    display: block !important;\n}\n\n.callout p {\n    margin: 0;\n}\n\n.callout-background-red {\n    background-color: #feebeb;\n    border-color: #FDDEDE;\n}\n\n.callout-background-green {\n    background-color: #ebfbee;\n    border-color: #D7F7DC;\n}\n\n.callout-background-blue {\n    background-color: #e8f4fa;\n    border-color: #D9EDF6;\n}\n\n.callout-background-yellow {\n    background-color: #fcf7df;\n    border-color: #FAF4D1;\n}\n\n.callout-background-grey {\n    background-color: #edecec;\n    border-color: #E1E0E0;\n}\n\n.callout-background-none {\n    background-color: transparent;\n    border-color: #e7e6e6;\n\n}\n\n/** end callout */\n\n\n/** mediaInputter **/\n.mediaInputter {\n    background-color: white;\n}\n\n/** mediaInputter **/\n\n\n.no-selection {\n    user-select: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n}\n\n.pointer {\n    cursor: pointer;\n}\n\n\n/** upload/embed **/\n\n.tab-container {\n    font-size: 0.86rem;\n    display: flex;\n    flex-direction: column;\n    transition: 0.1s ease;\n\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n\n    transition: visibility 0.2s ease;\n\n\n    width: fit-content;\n    position: absolute;\n    background-color: white;\n\n}\n\n.nav-underline {\n    margin: 0;\n    padding: 0;\n    border-bottom: 1px solid rgba(55, 53, 47, 0.16);\n    padding: 10px 20px;\n}\n\n.nav-underline .nav-item {\n    display: flex;\n    margin-right: 15px;\n}\n\n.nav-underline .nav-link {\n    cursor: pointer;\n    text-decoration: none;\n    color: rgb(55, 53, 47);\n    color: rgba(55, 53, 47, 0.5);\n    transition: 0.1s ease;\n}\n\n\n.nav-item.active .nav-link {\n    color: #37352fd9;\n    font-weight: 600;\n}\n\n.tab-content .content-data {\n    display: none;\n    padding: 20px;\n    border-top: none;\n    transition: 0.1s ease;\n}\n\n.tab-content .content-data.active {\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n    gap: 1rem;\n}\n\n.tab-content .text-information {\n    font-size: 0.75rem;\n    color: rgba(55, 53, 47, 0.6);\n}\n\n.nav-underline .nav-item {\n    display: inline;\n}\n\n.embed-content input {\n    width: 20rem;\n    border: 1px solid rgba(55, 53, 47, 0.16);\n    height: 1.5rem;\n    border-radius: 4px;\n    padding-left: 10px;\n}\n\n.embed-content button {\n    cursor: pointer;\n}\n\n\n.upload-content label {\n    display: block;\n    border: 1px solid rgba(55, 53, 47, 0.16);\n    border-radius: 4px;\n    width: 20rem;\n    text-align: center;\n    padding: 4px;\n    color: rgb(55, 53, 47);\n    background-color: #fff;\n}\n\n.upload-content label:hover {\n    background-color: #eeeeee;\n}\n\n\n\n\n\n\n\n\n\n\n/* Resize handler */\n.resize-handle {\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    background: rgba(0, 0, 0, 0.5);\n    cursor: nwse-resize;\n}\n\n.resize-handle.se {\n    bottom: 0;\n    right: 0;\n}\n\n/** Resize handler **/\n\n.spotify-embed {\n    min-height: 152px;\n    height: auto !important;\n    padding-bottom: 0 !important;\n    border-radius: .75rem !important;\n}\n\n.gist-embed {\n    padding-bottom: 0 !important;\n    min-height: 150px !important;\n    overflow-y: auto;\n}\n\n.snippet-embed {\n    padding-bottom: 0 !important;\n    min-height: 150px !important;\n    overflow-y: auto;\n}\n\n.embed-container {\n    position: relative;\n    width: 100%;\n    padding-bottom: 56.25%;\n    height: 0;\n    overflow: visible;\n}\n\n.embed-container iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n\n\n.iframe-wrapper {\n    position: relative;\n}\n\n\n\n.video-container {\n    position: relative;\n    width: 100%;\n    padding-bottom: 56.25%;\n    height: 0;\n    overflow: hidden;\n}\n\n.video-container iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n\n.x-resizable {\n    resize: horizontal;\n    overflow: auto;\n    cursor: nesw-resize;\n    min-width: 250px;\n}\n\n.y-resizable {\n    resize: vertical;\n    overflow: auto;\n    cursor: ns-resize;\n    min-height: 150px;\n}\n\n.background {\n    background-color: #e7e6e3;\n}\n\n\n.fit-content {\n    width: fit-content;\n    height: fit-content;\n}\n\n\n/** BlockToolbar component **/\n.block-toolbar-wrapper {\n    width: 0;\n    height: 0;\n    position: relative;\n    overflow: visible;\n    margin: 0;\n    padding: 0;\n    display: contents;\n    display: block;\n\n}\n\n.block-toolbar {\n    margin: 0;\n    padding: 0;\n    position: absolute;\n    right: 0;\n    display: flex;\n    flex-direction: row;\n    background-color: #f9f9f9;\n    color: black !important;\n    justify-content: center;\n    align-items: center;\n    padding: 0;\n    margin: 0;\n    gap: 10px;\n    padding: 5px;\n    padding-left: 10px;\n    padding-right: 10px;\n    transition: visibility 0.2s;\n\n    top: 5px;\n    right: 5px;\n    border-radius: 4px;\n}\n\n.block-toolbar .item {\n    flex-direction: row;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.block-toolbar .item button {\n    display: flex;\n}\n\n.block-toolbar button {\n    color: black;\n}\n\n.block-toolbar .color-interactive-button {\n    margin: 0;\n    padding: 0;\n}\n\n/** End BlockToolbar component **/\n\n\n\n.justify-left {\n    justify-content: left;\n}\n\n.justify-center {\n    justify-content: center;\n}\n\n.justify-right {\n    justify-content: right;\n}\n\n\n.hidden {\n    visibility: hidden !important;\n}\n\n\n\n\nfigure {\n    margin: 0;\n    padding: 0;\n}\n\n\n.overflow-hidden {\n    overflow: hidden;\n}\n\n/** Inline Code **/\n.johannes-content-element code:not(pre code) {\n    font-size: 1rem;\n    background-color: #cccccc7a;\n    padding: 0 3px;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n}\n\n/** Content placeholder */\n\n.content-placeholder {\n    padding: 1rem;\n    background-color: #e7e6e3;\n    color: rgba(55, 53, 47, 0.5);\n    display: flex;\n    gap: 5px;\n    align-items: center;\n    border-radius: 4px;\n    cursor: pointer;\n}\n\n.content-placeholder .icon-wrapper {\n    display: flex;\n    align-items: center;\n    margin-right: 8px;\n}\n\n\n/* end Content placeholder */\n\n\n\n/** Code **/\n\npre {\n    margin: 0;\n}\n\npre code {\n    border-radius: 4px;\n}\n\n.ignore-events {\n    position: relative;\n}\n\n.code-block {\n    position: relative;\n}\n\n.code-block select {\n    position: absolute;\n}\n\n.code-block select {\n    appearance: none;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    background: transparent;\n    border: none;\n    padding: 4px 8px;\n    font: inherit;\n    /* color: inherit; */\n    background-repeat: no-repeat;\n    background-position: right 10px center;\n    color: white;\n    display: none;\n}\n\n.code-block:hover select {\n    display: block;\n}\n\n\n\n.code-block code {\n    font-size: 1rem;\n\n}\n\n\n\n@keyframes shake {\n\n    0%,\n    100% {\n        transform: translateX(0);\n    }\n\n    25%,\n    75% {\n        transform: translateX(-5px);\n    }\n\n    50% {\n        transform: translateX(5px);\n    }\n}\n\n.shake-animation {\n    animation: shake 0.6s cubic-bezier(.36, .07, .19, .97) both;\n    transform: translate3d(0, 0, 0);\n    backface-visibility: hidden;\n    perspective: 1000px;\n}\n\n.blue-button {\n    background-color: #2383e2;\n    color: white;\n    border: none;\n    padding: 3px;\n    border-radius: 5px;\n    font-weight: 500;\n}\n\n\n/** separator **/\n\n.separator-wrapper {\n    display: flex;\n    align-items: center;\n}\n\n.separator {\n    flex-grow: 1;\n    padding: 0 10px;\n}\n\n.separator-wrapper hr {\n    outline: none !important;\n}\n\n.separator-wrapper hr:focus {\n    outline: none !important;\n}\n\n.separator-selected {\n    border: none !important;\n    outline: none !important;\n    background-color: hsl(210 75% 50% / 1);\n}\n\n.separator-selected hr {\n    color: white !important;\n    border-color: white !important;\n}\n\n/** end separator */\n\n\n\n\n#linkBoxInput{\n\n}\n\n.content-data input:focus,\n#linkBoxInput:focus {\n    outline: 2px solid #4A90E2;\n    box-shadow: 0 0 5px rgba(74, 144, 226, 0.5);\n}\n\n\n.d-none{\n    display: none !important;\n}',"",{version:3,sources:["webpack://./src/assets/css/main.css"],names:[],mappings:"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",sourcesContent:['/** cursor style */\n[contenteditable="true"] {\n    cursor: text !important;\n    white-space: pre-wrap !important;\n}\n\n\nfigure figcaption[data-placeholder]:empty:before {\n    content: attr(data-placeholder) !important;\n    color: #84888d !important;\n    display: block !important;\n}\n\n\nfigure figcaption{\n    max-width: 100%;\n    width: fit-content;\n    margin:  0 auto;\n    display: block !important;\n}\n\n/** CSS reset */\n.button-reset {\n    border: none;\n    margin: 0;\n    padding: 0;\n    width: auto;\n    overflow: visible;\n    background: transparent;\n    font: inherit;\n    line-height: normal;\n}\n\n/** add block */\n.add-block {\n    margin: 0;\n    padding: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 1px solid #000;\n    background-color: white;\n    transition: all 0.3s ease;\n    box-sizing: border-box;\n    margin-left: 1.3rem;\n}\n\n.add-block-wrapper {\n    width: 100%;\n    height: 3.125rem;\n}\n\n.add-block-wrapper:hover .add-block {\n    display: flex;\n}\n\n/** and add block */\n\n\n\n/** List  **/\n.list {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n\n}\n\n.list-item-checkable input {\n    margin-top: 0.5rem;\n}\n\n.list li div {\n    display: inline-block !important;\n    min-width: 100px;\n    line-height: 1;\n}\n\nol.johannes-content-element,\nul.johannes-content-element {\n    padding-left: 1rem !important;\n}\n\n.johannes-content-element li>button {\n    /* display: none; */\n    display: none;\n    position: absolute;\n    margin-left: 10px;\n    top: 0;\n\n    flex-direction: row;\n    align-items: start;\n    justify-content: start;\n\n}\n\n.johannes-content-element li {\n    position: relative;\n\n}\n\n.johannes-content-element li::before {\n    margin-left: 0.3125rem;\n}\n\n.johannes-content-element li:hover>button {\n    /* display: inline-block; */\n    display: inline-flex;\n\n}\n\np.johannes-content-element {\n    display: inline-block;\n    line-height: 1;\n    margin: 0;\n    padding: 0;\n}\n\n.johannes-content-element .checkbox-list {\n    list-style-type: none;\n    padding-left: 0 !important;\n}\n\n\n.johannes-content-element .checkbox-list li {\n    display: flex;\n    flex-direction: row;\n    justify-content: left;\n}\n\n\n.johannes-content-element ul.checkbox-list input[type="checkbox"]:checked+span {\n    text-decoration: line-through;\n}\n\n/** Add line through text decoration to checked checkboxes text div */\n.block input[type="checkbox"]:checked+div {\n    text-decoration: line-through;\n}\n\n/** Remove the default list style and replace by another that works with display flex */\n.block ol,\n.block ul {\n    list-style: none;\n}\n\n.block ul .list-item,\n.block ol .list-item {\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n\n}\n\n.block ol li {\n    counter-increment: item;\n}\n\n.block ol li::before {\n    content: counter(item) ".";\n    margin-right: 0.3125rem;\n    display: flex;\n    /* width: 18px; */\n    justify-content: flex-start;\n}\n\n.block ul li:not(.no-list-style)::before {\n    content: "•";\n    margin-right: 0.3125rem;\n    display: flex;\n}\n\n.list-item-checkable input {\n    margin-right: 0.3125rem;\n}\n\n\n/** and list **/\n\n\n.drag-handler {\n    color: #84888d;\n    visibility: hidden;\n    cursor: grab;\n    align-self: start;\n    padding-top: 0.33rem;\n    position: absolute;\n}\n\n.drag-handler-wrapper {\n    position: relative;\n    height: 0;\n    width: 0;\n}\n\n.drag-handler:active {\n    cursor: grabbing;\n}\n\n.block {\n    display: flex;\n    flex-direction: row;\n    margin-bottom: 1rem;\n    position: relative;\n    max-width: 100%;\n}\n\n.block>*:not(.editor-only) {\n    padding-left: 1.25rem !important;\n}\n\n.block:hover .drag-handler {\n    visibility: visible;\n    vertical-align: top;\n    justify-content: start;\n    transition: visibility 0.2s;\n}\n\n.drop-line {\n    height: 1rem;\n    background-color: #84888d;\n    width: 100%;\n}\n\n\n.title h1 {\n    margin-left: 1.3rem;\n    line-height: 3rem;\n}\n\n\n#johannesEditor [contenteditable="true"]:empty:focus {\n    content: attr(data-placeholder);\n    color: #84888d;\n    pointer-events: none;\n}\n\n#johannesEditor h1[data-placeholder]:empty:before {\n    content: attr(data-placeholder);\n    color: #84888d !important;\n    display: block;\n}\n\n#johannesEditor h1[data-placeholder]:focus:before {}\n\n\n#johannesEditor *[contenteditable="true"]:not(h1):empty:before {\n    content: attr(data-placeholder);\n    color: #84888acd;\n    display: none;\n}\n\n#johannesEditor *[contenteditable="true"]:not(h1):empty:hover:before {\n    display: block;\n}\n\n#johannesEditor cite[contenteditable="true"]:empty:before {\n    display: block;\n}\n\n#johannesEditor *[contenteditable="true"]:not(h1)[data-placeholder]:empty:focus:before {\n    content: attr(data-placeholder);\n    color: #84888acd !important;\n    display: block;\n}\n\n#johannesEditor li.div[contenteditable="true"]:empty:hover:before {\n    content: attr(data-placeholder);\n    color: #84888acd;\n    display: block;\n}\n\n\n\nh1 {\n    font-size: 2.5rem;\n    font-weight: bolder !important;\n}\n\n.content {\n    width: 100%;\n    box-sizing: border-box;\n}\n\n.content .block .table-wrapper {\n    overflow-x: auto;\n    overflow-y: hidden;\n}\n\n\n[contenteditable] {\n    outline: none;\n}\n\nbody {\n    background-color: white;\n    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", "Noto Sans", "Liberation Sans", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    margin-bottom: 200px;\n}\n\n\n.editor {\n    display: flex;\n    margin-top: 80px;\n}\n\np {\n    color: #242424;\n}\n\n.block,\n.block * {\n    user-select: text;\n}\n\n\n.johannes-content-element {\n    width: 100%;\n    padding: 0;\n    margin: 0;\n}\n\n\n#johannesEditor {\n    /* width: 60%; */\n    margin-left: auto;\n    margin-right: auto;\n}\n\n.johannes-editor hr {\n    width: 100%;\n    height: 2px;\n    visibility: visible;\n    border: none;\n    border-bottom: 1px solid rgba(55, 53, 47, 0.16);\n}\n\n\n\n.johannes-editor blockquote {\n    margin: 0.5rem 0;\n    padding-left: 20px;\n    border-left: 4px solid rgb(55, 53, 47);\n    font-style: italic;\n    display: block;\n}\n\n.johannes-editor cite {\n    padding-top: 1rem !important;\n    display: inline-block;\n}\n\n\n.johannes-editor cite::before {\n    content: \'— \';\n}\n\n\n#linkBox {\n    z-index: 999999;\n    width: fit-content;\n    background-color: white;\n}\n\n#linkBox .header {\n    border-bottom: 1px solid rgba(55, 53, 47, 0.16);\n    padding: 10px 20px;\n    font-size: 0.86rem;\n    color: #37352fd9;\n    font-weight: 600;\n}\n\n#linkBox .link-box-shell {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    padding: 20px;\n}\n\n\n#linkBox .link-box-shell input {\n    width: 20rem;\n    border: 1px solid rgba(55, 53, 47, 0.16);\n    height: 1.5rem;\n    border-radius: 4px;\n    padding-left: 10px;\n}\n\n\n.ctrl-active .johannes-content-element a {\n    cursor: pointer;\n}\n\n\n/** soft-box-shadow class */\n.soft-box-shadow {\n    margin: 0;\n    border-radius: 2px;\n    box-shadow:\n        0 4px 6px rgba(0, 0, 0, 0.1),\n        0 -2px 4px rgba(216, 196, 196, 0.02),\n        -2px 0 4px rgba(0, 0, 0, 0.02),\n        2px 0 4px rgba(0, 0, 0, 0.02);\n\n    border: 1px solid #d0d0d0;\n}\n\n/** and soft-box-shadow */\n\n\n/** selection-wrapper class */\n.select-wrapper {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    position: relative;\n    color: rgb(120, 119, 116);\n}\n\n.select-wrapper ul {\n    background: white;\n    flex-direction: column;\n    width: fit-content;\n    padding-bottom: 0.5rem;\n    padding-left: 5px;\n    top: 2.2rem;\n    color: rgb(55, 53, 47);\n    padding-right: 0.3125rem;\n}\n\n.select-wrapper ul li {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 0.625rem;\n    padding: 0.1875rem 0.3125rem;\n    border-radius: 0.1875rem;\n    user-select: none !important;\n    font-size: small !important;\n    font-weight: 500;\n}\n\n.select-wrapper ul li span,\n.select-wrapper button span {\n    display: inline-block;\n    width: max-content;\n    line-height: 100% !important;\n}\n\n.select-wrapper ul li .option-image {\n    width: 1.375rem;\n    height: 1.375rem;\n    color: #242424;\n    padding: 0 !important;\n    margin: 0 !important;\n}\n\n.select-wrapper ul li .option-image svg {\n    color: #4f4f4f;\n    padding: 0 !important;\n    margin: 0 !important;\n}\n\n.select-wrapper>button {\n    color: #37352fd9;\n}\n\n.select-wrapper ul li>h3 {\n    margin: 0;\n    font-size: small !important;\n    color: #37352fa6;\n    margin: 0;\n    padding: 0;\n    font-weight: 600 !important;\n    margin-top: 0.3125rem;\n    margin-bottom: 0.3125rem;\n}\n\n/** end selection wrapper **/\n\n\n\n/** Text formatting Bar **/\n\n\n\n.floating-toolbar {\n    justify-content: space-between;\n    padding: 8px 16px;\n    background-color: white;\n    width: fit-content;\n    position: absolute;\n    user-select: none;\n}\n\n\n.floating-toolbar .item {\n    color: rgb(120, 119, 116);\n    display: flex;\n    align-items: center;\n    gap: 10px;\n}\n\n.item>button,\n.floating-toolbar .item>button {\n\n    display: inline-flex;\n    align-items: center;\n    cursor: pointer;\n}\n\n\n.floating-toolbar select {\n    color: rgb(120, 119, 116);\n    border: none;\n    font-size: 0.85rem;\n    /* background-color: inherit; */\n}\n\n.text-formatting-select-button {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n}\n\n#turnIntoButton span {\n    display: inline-flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    font-size: 0.9rem;\n    font-weight: 600;\n\n}\n\n#turnIntoButton svg use {\n    margin: auto;\n}\n\n\n.text-formatting-button-active {\n    color: #2382e2;\n}\n\n.text-formatting-circle-active {\n    border-color: #2382e2 !important;\n}\n\n\n\n#moreTextOptionSelect {\n    position: absolute;\n}\n\n.moreTextOptionWrapper {\n    position: relative;\n}\n\n\n.bgc-red {\n    background-color: #FDDEDE;\n}\n\n.bgc-green {\n    background-color: #D7F7DC;\n}\n\n.bgc-blue {\n    background-color: #D9EDF6;\n}\n\n.bgc-yellow {\n    background-color: #FAF4D1;\n}\n\n.bgc-grey {\n    background-color: #E1E0E0;\n}\n\np,\nmark {\n    line-height: 1;\n}\n\n\n.border-less-image {\n    width: 24px;\n    height: 24px;\n}\n\n\n\n/** Block Options **/\n\n.block-options-wrapper {\n    z-index: 999999;\n    position: absolute;\n    display: none;\n}\n\n.block-options {\n    width: fit-content;\n    max-height: 19rem;\n    overflow-y: auto;\n}\n\n.block-options {\n    padding: 0 0.625rem;\n    background: white;\n}\n\n.block-options section h2 {\n    font-size: small !important;\n    color: #37352fa6;\n    margin: 0;\n    padding: 0;\n    font-weight: 600 !important;\n    margin-top: 0.3125rem;\n    margin-bottom: 0.3125rem;\n    padding-left: 0.3125rem;\n}\n\n.block-options .option {\n    padding: 0.3125rem 0.625rem;\n    margin: 0.3125rem 0;\n    cursor: pointer;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: left;\n    gap: 0.6rem;\n    border-radius: 3px;\n}\n\n.block-options .option:focus {\n    outline: none;\n    background-color: #e9e9e9;\n    border: inherit;\n}\n\n.option-focused {\n    outline: none;\n    background-color: #e9e9e9;\n    border: none;\n}\n\n.danger-option.option-focused,\n.danger-option.option-focused svg {\n    color: #EB5757 !important;\n}\n\n\n\n.block-options .option:focus-visible {\n    outline: none;\n    background-color: #e9e9e9;\n    border: inherit;\n}\n\n\n\n#colorTextButton {\n    margin-left: 0.625rem;\n}\n\n#turnIntoButton:not([disabled]):hover,\n#colorTextButton:not([disabled]):hover,\n#moreTextOptionButton:not([disabled]):hover,\n.floating-toolbar .item>button:not([disabled]):hover {\n    background-color: #e9e9e9;\n    box-shadow: 0px 0px 0px 2px #e9e9e9;\n    border-radius: 1px;\n    transition: 0.1s ease;\n}\n\n\n\n.option[focused="true"] {\n    background-color: #bde4ff;\n}\n\n.option-image {\n    width: 2.875rem;\n    height: 2.875rem;\n    border-radius: 0.1875rem;\n    border: 1px solid #ccc;\n    color: #4f4f4f;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    vertical-align: middle;\n    align-items: center;\n    background-color: #ffff;\n    box-sizing: border-box;\n}\n\n.option-image img {\n    max-width: 2.875rem;\n    max-height: 2.875rem;\n}\n\n.option-image svg {\n    margin: 0;\n    padding: 0;\n    padding: 0.625rem;\n    box-sizing: border-box;\n\n}\n\n.option-text * {\n    margin: 0;\n    padding: 0;\n\n}\n\n.option-text .block-title {\n    font-size: small !important;\n    font-weight: 500;\n}\n\n.option-text .block-description {\n    font-size: small !important;\n    color: rgba(55, 53, 47, 0.5);\n}\n\n/** End Block Options **/\n\n\n.johannes-editor *::selection {\n    background-color: hsl(210 75% 50% / 1);\n    color: white;\n}\n\n.johannes-editor mark,\n.johannes-editor *:not(h1) {\n    line-height: 1.5 !important;\n}\n\n.option {\n    justify-content: space-between;\n}\n\n.text-option {\n    display: flex;\n    flex-direction: row;\n    justify-content: start;\n    align-items: center;\n    gap: 0.625rem;\n}\n\n\n/* Para telas com densidade média */\n@media only screen and (-webkit-min-device-pixel-ratio: 2),\nonly screen and (min--moz-device-pixel-ratio: 2),\nonly screen and (min-resolution: 192dpi),\nonly screen and (min-resolution: 2dppx) {\n    :root {\n        font-size: 18px;\n        /* Aumenta o tamanho da fonte para telas de alta densidade */\n    }\n}\n\n/* Para telas com altíssima densidade */\n@media only screen and (-webkit-min-device-pixel-ratio: 3),\nonly screen and (min--moz-device-pixel-ratio: 3),\nonly screen and (min-resolution: 288dpi),\nonly screen and (min-resolution: 3dppx) {\n    :root {\n        font-size: 20px;\n        /* Ainda maior para telas de densidade muito alta */\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\ntable.johannes-content-element {\n    border-collapse: collapse;\n    max-width: inherit;\n    width: auto;\n    display: flex;\n    box-sizing: border-box !important;\n}\n\ntable.johannes-content-element th,\ntable.johannes-content-element td {\n    min-height: 20px;\n}\n\ntable.johannes-content-element th,\ntable.johannes-content-element td {\n    border: 1px solid #84888d;\n    padding: 8px;\n    text-align: left;\n    align-items: start;\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n    white-space: normal;\n    vertical-align: top;\n    min-width: 100px;\n    max-width: 200px;\n\n    transition: border 100ms ease-out, box-shadow 100ms ease-out;\n\n}\n\ntable.johannes-content-element td.selected,\ntable.johannes-content-element td:focus {\n    outline: none;\n    box-shadow: 0 0 0 1px #74b6db inset;\n    border: 1px double #74b6db;\n\n}\n\ntd {\n    min-height: 1rem !important;\n    line-height: 1rem;\n}\n\ntd::placeholder {\n    display: block;\n}\n\n#johannesEditor td:empty:before {\n    content: attr(data-placeholder);\n    color: #84888acd;\n    display: block !important;\n    opacity: 0;\n}\n\n.table-wrapper {\n    width: 100%;\n}\n\n.table-controller {\n    position: relative;\n    max-width: 100%;\n}\n\n.add-table-row {\n    background-color: rgba(55, 53, 47, 0.06);\n    width: 100%;\n    padding: 0;\n    margin: 0;\n    margin-top: 0.375rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    height: 1rem;\n    cursor: pointer;\n    opacity: 0;\n    user-select: none;\n}\n\n.add-table-column {\n    position: absolute;\n    right: -1.3125rem;\n    background-color: rgba(55, 53, 47, 0.06);\n    width: 1rem;\n    padding: 0;\n    margin: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    height: 100%;\n    top: 0;\n    cursor: pointer;\n    height: calc(100% - 1rem - 5px);\n    opacity: 0;\n    user-select: none;\n}\n\n.add-table-column:hover {\n    opacity: 1;\n}\n\n.add-table-row:hover {\n    opacity: 1;\n}\n\n.table-shell {\n    max-width: 100%;\n}\n\n\n\n.table-option {\n    background-color: white;\n    width: fit-content;\n    justify-content: space-between;\n    padding: 8px 16px;\n    background-color: #f9f9f9;\n    width: fit-content;\n    z-index: 999999;\n    position: absolute;\n    user-select: none;\n    padding: 8px 16px;\n    display: none;\n}\n\n\n/** Callout **/\n\n.callout-wrapper {\n    padding: 1rem;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n}\n\n.callout:hover .options-button {\n    display: block !important;\n}\n\n.callout p {\n    margin: 0;\n}\n\n.callout-background-red {\n    background-color: #feebeb;\n    border-color: #FDDEDE;\n}\n\n.callout-background-green {\n    background-color: #ebfbee;\n    border-color: #D7F7DC;\n}\n\n.callout-background-blue {\n    background-color: #e8f4fa;\n    border-color: #D9EDF6;\n}\n\n.callout-background-yellow {\n    background-color: #fcf7df;\n    border-color: #FAF4D1;\n}\n\n.callout-background-grey {\n    background-color: #edecec;\n    border-color: #E1E0E0;\n}\n\n.callout-background-none {\n    background-color: transparent;\n    border-color: #e7e6e6;\n\n}\n\n/** end callout */\n\n\n/** mediaInputter **/\n.mediaInputter {\n    background-color: white;\n}\n\n/** mediaInputter **/\n\n\n.no-selection {\n    user-select: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n}\n\n.pointer {\n    cursor: pointer;\n}\n\n\n/** upload/embed **/\n\n.tab-container {\n    font-size: 0.86rem;\n    display: flex;\n    flex-direction: column;\n    transition: 0.1s ease;\n\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n\n    transition: visibility 0.2s ease;\n\n\n    width: fit-content;\n    position: absolute;\n    background-color: white;\n\n}\n\n.nav-underline {\n    margin: 0;\n    padding: 0;\n    border-bottom: 1px solid rgba(55, 53, 47, 0.16);\n    padding: 10px 20px;\n}\n\n.nav-underline .nav-item {\n    display: flex;\n    margin-right: 15px;\n}\n\n.nav-underline .nav-link {\n    cursor: pointer;\n    text-decoration: none;\n    color: rgb(55, 53, 47);\n    color: rgba(55, 53, 47, 0.5);\n    transition: 0.1s ease;\n}\n\n\n.nav-item.active .nav-link {\n    color: #37352fd9;\n    font-weight: 600;\n}\n\n.tab-content .content-data {\n    display: none;\n    padding: 20px;\n    border-top: none;\n    transition: 0.1s ease;\n}\n\n.tab-content .content-data.active {\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n    gap: 1rem;\n}\n\n.tab-content .text-information {\n    font-size: 0.75rem;\n    color: rgba(55, 53, 47, 0.6);\n}\n\n.nav-underline .nav-item {\n    display: inline;\n}\n\n.embed-content input {\n    width: 20rem;\n    border: 1px solid rgba(55, 53, 47, 0.16);\n    height: 1.5rem;\n    border-radius: 4px;\n    padding-left: 10px;\n}\n\n.embed-content button {\n    cursor: pointer;\n}\n\n\n.upload-content label {\n    display: block;\n    border: 1px solid rgba(55, 53, 47, 0.16);\n    border-radius: 4px;\n    width: 20rem;\n    text-align: center;\n    padding: 4px;\n    color: rgb(55, 53, 47);\n    background-color: #fff;\n}\n\n.upload-content label:hover {\n    background-color: #eeeeee;\n}\n\n\n\n\n\n\n\n\n\n\n/* Resize handler */\n.resize-handle {\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    background: rgba(0, 0, 0, 0.5);\n    cursor: nwse-resize;\n}\n\n.resize-handle.se {\n    bottom: 0;\n    right: 0;\n}\n\n/** Resize handler **/\n\n.spotify-embed {\n    min-height: 152px;\n    height: auto !important;\n    padding-bottom: 0 !important;\n    border-radius: .75rem !important;\n}\n\n.gist-embed {\n    padding-bottom: 0 !important;\n    min-height: 150px !important;\n    overflow-y: auto;\n}\n\n.snippet-embed {\n    padding-bottom: 0 !important;\n    min-height: 150px !important;\n    overflow-y: auto;\n}\n\n.embed-container {\n    position: relative;\n    width: 100%;\n    padding-bottom: 56.25%;\n    height: 0;\n    overflow: visible;\n}\n\n.embed-container iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n\n\n.iframe-wrapper {\n    position: relative;\n}\n\n\n\n.video-container {\n    position: relative;\n    width: 100%;\n    padding-bottom: 56.25%;\n    height: 0;\n    overflow: hidden;\n}\n\n.video-container iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n\n.x-resizable {\n    resize: horizontal;\n    overflow: auto;\n    cursor: nesw-resize;\n    min-width: 250px;\n}\n\n.y-resizable {\n    resize: vertical;\n    overflow: auto;\n    cursor: ns-resize;\n    min-height: 150px;\n}\n\n.background {\n    background-color: #e7e6e3;\n}\n\n\n.fit-content {\n    width: fit-content;\n    height: fit-content;\n}\n\n\n/** BlockToolbar component **/\n.block-toolbar-wrapper {\n    width: 0;\n    height: 0;\n    position: relative;\n    overflow: visible;\n    margin: 0;\n    padding: 0;\n    display: contents;\n    display: block;\n\n}\n\n.block-toolbar {\n    margin: 0;\n    padding: 0;\n    position: absolute;\n    right: 0;\n    display: flex;\n    flex-direction: row;\n    background-color: #f9f9f9;\n    color: black !important;\n    justify-content: center;\n    align-items: center;\n    padding: 0;\n    margin: 0;\n    gap: 10px;\n    padding: 5px;\n    padding-left: 10px;\n    padding-right: 10px;\n    transition: visibility 0.2s;\n\n    top: 5px;\n    right: 5px;\n    border-radius: 4px;\n}\n\n.block-toolbar .item {\n    flex-direction: row;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.block-toolbar .item button {\n    display: flex;\n}\n\n.block-toolbar button {\n    color: black;\n}\n\n.block-toolbar .color-interactive-button {\n    margin: 0;\n    padding: 0;\n}\n\n/** End BlockToolbar component **/\n\n\n\n.justify-left {\n    justify-content: left;\n}\n\n.justify-center {\n    justify-content: center;\n}\n\n.justify-right {\n    justify-content: right;\n}\n\n\n.hidden {\n    visibility: hidden !important;\n}\n\n\n\n\nfigure {\n    margin: 0;\n    padding: 0;\n}\n\n\n.overflow-hidden {\n    overflow: hidden;\n}\n\n/** Inline Code **/\n.johannes-content-element code:not(pre code) {\n    font-size: 1rem;\n    background-color: #cccccc7a;\n    padding: 0 3px;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n}\n\n/** Content placeholder */\n\n.content-placeholder {\n    padding: 1rem;\n    background-color: #e7e6e3;\n    color: rgba(55, 53, 47, 0.5);\n    display: flex;\n    gap: 5px;\n    align-items: center;\n    border-radius: 4px;\n    cursor: pointer;\n}\n\n.content-placeholder .icon-wrapper {\n    display: flex;\n    align-items: center;\n    margin-right: 8px;\n}\n\n\n/* end Content placeholder */\n\n\n\n/** Code **/\n\npre {\n    margin: 0;\n}\n\npre code {\n    border-radius: 4px;\n}\n\n.ignore-events {\n    position: relative;\n}\n\n.code-block {\n    position: relative;\n}\n\n.code-block select {\n    position: absolute;\n}\n\n.code-block select {\n    appearance: none;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    background: transparent;\n    border: none;\n    padding: 4px 8px;\n    font: inherit;\n    /* color: inherit; */\n    background-repeat: no-repeat;\n    background-position: right 10px center;\n    color: white;\n    display: none;\n}\n\n.code-block:hover select {\n    display: block;\n}\n\n\n\n.code-block code {\n    font-size: 1rem;\n\n}\n\n\n\n@keyframes shake {\n\n    0%,\n    100% {\n        transform: translateX(0);\n    }\n\n    25%,\n    75% {\n        transform: translateX(-5px);\n    }\n\n    50% {\n        transform: translateX(5px);\n    }\n}\n\n.shake-animation {\n    animation: shake 0.6s cubic-bezier(.36, .07, .19, .97) both;\n    transform: translate3d(0, 0, 0);\n    backface-visibility: hidden;\n    perspective: 1000px;\n}\n\n.blue-button {\n    background-color: #2383e2;\n    color: white;\n    border: none;\n    padding: 3px;\n    border-radius: 5px;\n    font-weight: 500;\n}\n\n\n/** separator **/\n\n.separator-wrapper {\n    display: flex;\n    align-items: center;\n}\n\n.separator {\n    flex-grow: 1;\n    padding: 0 10px;\n}\n\n.separator-wrapper hr {\n    outline: none !important;\n}\n\n.separator-wrapper hr:focus {\n    outline: none !important;\n}\n\n.separator-selected {\n    border: none !important;\n    outline: none !important;\n    background-color: hsl(210 75% 50% / 1);\n}\n\n.separator-selected hr {\n    color: white !important;\n    border-color: white !important;\n}\n\n/** end separator */\n\n\n\n\n#linkBoxInput{\n\n}\n\n.content-data input:focus,\n#linkBoxInput:focus {\n    outline: 2px solid #4A90E2;\n    box-shadow: 0 0 5px rgba(74, 144, 226, 0.5);\n}\n\n\n.d-none{\n    display: none !important;\n}'],sourceRoot:""}]);const s=l},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(o)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(l[a]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);o&&l[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},354:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),r="/*# ".concat(i," */");return[t].concat([r]).join("\n")}return[t].join("\n")}},72:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var r={},l=[],s=0;s<e.length;s++){var a=e[s],c=o.base?a[0]+o.base:a[0],d=r[c]||0,u="".concat(c," ").concat(d);r[c]=d+1;var m=n(u),h={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==m)t[m].references++,t[m].updater(h);else{var A=i(h,o);o.byIndex=s,t.splice(s,0,{identifier:u,updater:A,references:1})}l.push(u)}return l}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var r=o(e=e||[],i=i||{});return function(e){e=e||[];for(var l=0;l<r.length;l++){var s=n(r[l]);t[s].references--}for(var a=o(e,i),c=0;c<r.length;c++){var d=n(r[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}r=a}}},659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,i&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={id:o,exports:{}};return e[o](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var o,i,r,l,s,a,c=n(72),d=n.n(c),u=n(825),m=n.n(u),h=n(659),A=n.n(h),p=n(56),C=n.n(p),g=n(540),b=n.n(g),E=n(113),f=n.n(E),B=n(282),v={};v.styleTagTransform=f(),v.setAttributes=C(),v.insert=A().bind(null,"head"),v.domAPI=m(),v.insertStyleElement=b(),d()(B.A,v),B.A&&B.A.locals&&B.A.locals,function(e){e.Paragraph="p",e.Heading_1="h1",e.Heading_2="h2",e.Heading_3="h3",e.Heading_4="h4",e.Heading_5="h5",e.Heading_6="h6",e.CheckList="checkList",e.BulletedList="bulletedList",e.NumberedList="numberedList",e.List="list",e.Table="table",e.Image="image",e.Script="script",e.Iframe="iframe"}(o||(o={}));class w{static generateUniqueId(){const e=Date.now().toString(36),t=new Uint32Array(1);return window.crypto.getRandomValues(t),e+t[0].toString(36)}static rgbToHex(e){return"#"+e.match(/\d+/g).map(Number).map((e=>{const t=e.toString(16);return 1===t.length?"0"+t:t})).join("")}static isValidUrl(e){const t=new RegExp("^(https?:\\/\\/)(?!-)[a-zA-Z\\d-]{1,63}(?<!-)\\.([a-zA-Z\\d-]+\\.)*[a-zA-Z]{2,}(\\:\\d{1,5})?(\\/[-a-zA-Z\\d%_.~+]*)*(\\?[-a-zA-Z\\d%_.~+=&]*)?(#[-a-zA-Z\\d_]*)?$","i");return!(e.includes("../")||e.toLowerCase().includes("%2e%2e")||e.toLowerCase().includes("%00"))&&t.test(e)}}!function(e){e.Link="icon-material-link",e.Bold="icon-wordpress-bold",e.Italic="icon-material-italic",e.Underline="icon-material-underline",e.InlineCode="icon-material-code-inline",e.StrikeThrough="icon-wordpress-strike-through",e.Plus="icon-plus",e.ColumnRight="icon-material-column-right",e.ColumnLeft="icon-material-column-left",e.RowAbove="icon-material-row-above",e.RowBelow="icon-material-row-below",e.deleteSweep="icon-material-delete-sweep",e.Trash="icon-material-trash",e.CloseCircle="icon-ionic-close-circle",e.Empty="Empty",e.Callout="icon-material-callout",e.Image="icon-material-image",e.Image2="icon-bootstrap-image",e.Video="icon-material-video",e.JustifyStart="icon-material-justify-start",e.JustifyCenter="icon-material-justify-center",e.JustifyEnd="icon-material-justify-end",e.Duplicate="icon-material-duplicate",e.Spotify="icon-bootstrap-spotify",e.GitHub="icon-bootstrap-github",e.GitLab="icon-bootstrap-gitlab",e.CodePen="icon-codepen",e.YouTube="icon-bootstrap-youtube"}(i||(i={})),function(e){e.IncludeBlockToolbarClass="include-block-toolbar",e.AlignToolClass="align-tool",e.ColorToolClass="color-tool",e.ExtraOptionsClass="extra-options",e.LanguageSelectionToolClass="language-selection-tool"}(r||(r={})),function(e){e.ContentElement="johannes-content-element",e.EditorOnly="editor-only",e.Block="block",e.ShowMediaInputOnClick="show-media-input-on-click",e.ShowMediaInputUpload="show-media-input-upload",e.ShowMediaInputEmbed="show-media-input-embed"}(l||(l={}));class k{creators;static _instance;static ELEMENT_TYPES={BLOCK_PARAGRAPH:"block-p",PARAGRAPH:"p",CHECKBOX_ITEM:"checkboxItem",LIST_ITEM:"listItem",CODE:"code",QUOTE:"blockquote",BULLETED_LIST:"ul",NUMBERED_LIST:"ol",CHECK_LIST:"checkLists",HEADER_1:"h1",HEADER_2:"h2",HEADER_3:"h3",HEADER_4:"h4",HEADER_5:"h5",HEADER_6:"h6",DRAG_HANDLE_BUTTON:"drag-handle-button",TABLE:"table",IMAGE:"image",VIDEO:"video",SPOTIFY:"spotify",GITHUB_GIST:"github-gist",GITLAB_SNIPPET:"gitlab-snippet",CODEPEN:"codepen",CALLOUT:"callout",SEPARATOR:"separator"};constructor(){if(k._instance)throw new Error("Use ElementFactoryService.getInstance() to get instance.");this.creators={},this.register(k.ELEMENT_TYPES.BLOCK_PARAGRAPH,k.blockParagraphCreator()),this.register(k.ELEMENT_TYPES.PARAGRAPH,k.paragraphCreator()),this.register(k.ELEMENT_TYPES.CHECKBOX_ITEM,k.checkboxItemCreator()),this.register(k.ELEMENT_TYPES.LIST_ITEM,k.listItemCreator()),this.register(k.ELEMENT_TYPES.CODE,k.codeCreator()),this.register(k.ELEMENT_TYPES.QUOTE,k.quoteCreator()),this.register(k.ELEMENT_TYPES.CHECK_LIST,k.checkListCreator()),this.register(k.ELEMENT_TYPES.BULLETED_LIST,k.bulletedListCreator()),this.register(k.ELEMENT_TYPES.NUMBERED_LIST,k.numberedListCreator()),this.register(k.ELEMENT_TYPES.HEADER_1,k.headingCreator(1)),this.register(k.ELEMENT_TYPES.HEADER_2,k.headingCreator(2)),this.register(k.ELEMENT_TYPES.HEADER_3,k.headingCreator(3)),this.register(k.ELEMENT_TYPES.HEADER_4,k.headingCreator(4)),this.register(k.ELEMENT_TYPES.HEADER_5,k.headingCreator(5)),this.register(k.ELEMENT_TYPES.HEADER_6,k.headingCreator(6)),this.register(k.ELEMENT_TYPES.DRAG_HANDLE_BUTTON,k.dragHandleButtonCreator()),this.register(k.ELEMENT_TYPES.TABLE,k.tableCreator()),this.register(k.ELEMENT_TYPES.IMAGE,k.placeholderCreator(o.Image,i.Image2,"Upload or embed an image",[l.ShowMediaInputUpload,l.ShowMediaInputEmbed,"image-embed-placeholder-text"])),this.register(k.ELEMENT_TYPES.VIDEO,k.placeholderCreator(o.Iframe,i.YouTube,"Embed a YouTube video",[l.ShowMediaInputEmbed,"youtube-embed-placeholder-text"])),this.register(k.ELEMENT_TYPES.SPOTIFY,k.placeholderCreator(o.Iframe,i.Spotify,"Embed a Spotify audio track",[l.ShowMediaInputEmbed,"spotify-embed-placeholder-text"])),this.register(k.ELEMENT_TYPES.GITHUB_GIST,k.placeholderCreator(o.Iframe,i.GitHub,"Embed a GitHub Gist",[l.ShowMediaInputEmbed,"github-gist-embed-placeholder-text"])),this.register(k.ELEMENT_TYPES.CODEPEN,k.placeholderCreator(o.Iframe,i.CodePen,"Embed a CodePen web demo",[l.ShowMediaInputEmbed,"codepen-embed-placeholder-text"])),this.register(k.ELEMENT_TYPES.CALLOUT,k.calloutCreator()),this.register(k.ELEMENT_TYPES.SEPARATOR,k.separatorCreator()),k._instance=this}static getInstance(){return this._instance||(this._instance=new k),this._instance}register(e,t){this.creators[e]=t}create(e,t){const n=this.creators[e];if(!n)throw new TypeError(`No creator registered for type: ${e}`);return n(t||"")}static blockParagraphCreator(){return e=>k.blockParagraph(e)}static paragraphCreator(){return e=>k.paragraph(e)}static headingCreator(e){return t=>k.heading(e,t)}static checkboxItemCreator(){return e=>k.checkboxItem(e||"")}static listItemCreator(){return e=>k.listItem_2(e)}static dragHandleButtonCreator(){return()=>k.dragHandleButton()}static codeCreator(){return e=>{const t=document.createElement("div");t.classList.add("johannes-content-element","ignore-events");const n=document.createElement("div");n.classList.add("code-block","ignore-quick-menu","ignore-text-floating-toolbar");const o=document.createElement("pre");o.classList.add(r.IncludeBlockToolbarClass,r.LanguageSelectionToolClass,r.ExtraOptionsClass);const i=document.createElement("code");return i.contentEditable="true",i.setAttribute("data-placeholder","/* Code snippet */"),i.textContent=e||"",i.classList.add("johannes-code","focusable","hljs","language-plaintext","editable"),i.setAttribute("spellCheck","false"),o.appendChild(i),i.addEventListener("blur",(()=>{i.removeAttribute("data-highlighted"),hljs.highlightElement(i)})),n.appendChild(o),t.appendChild(n),hljs.highlightElement(i),t}}static quoteCreator(){return e=>{const t=document.createElement("div");t.classList.add("johannes-content-element","swittable");const n=document.createElement("blockquote");return n.classList.add("focusable","editable"),n.textContent=e||"",n.contentEditable="true",n.setAttribute("data-placeholder",k.getRandomQuote()),t.appendChild(n),t}}static getRandomQuote(){const e=["Talk is cheap. Show me the code. - Linus Torvalds","Premature optimization is the root of all evil. - Donald Knuth","The most dangerous phrase in the language is, 'We've always done it this way.' - Grace Hopper","Simplicity is prerequisite for reliability. - Edsger W. Dijkstra","Any fool can write code that a computer can understand. Good programmers write code that humans can understand. - Martin Fowler","First, solve the problem. Then, write the code. - John Johnson","In programming, the hard part isn't solving problems, but deciding what problems to solve. - Paul Graham","Code is like humor. When you have to explain it, it's bad. - Cory House","Make it work, make it right, make it fast. - Kent Beck","Before software can be reusable it first has to be usable. - Ralph Johnson"];return e[Math.floor(Math.random()*e.length)]}static checkListCreator(){return e=>{const t=document.createElement("ul");t.classList.add("johannes-content-element","swittable","list","checkbox-list"),t.setAttribute("data-content-type",o.CheckList);const n=k.checkboxItem(e||"");return t.appendChild(n),t}}static bulletedListCreator(){return e=>{const t=document.createElement("ul");t.setAttribute("data-content-type",o.BulletedList),t.classList.add("johannes-content-element"),t.classList.add("swittable"),t.classList.add("list");const n=k.listItem_2(e||"");return t.appendChild(n),t}}static numberedListCreator(){return e=>{const t=document.createElement("ol");t.setAttribute("data-content-type",o.NumberedList),t.classList.add("johannes-content-element"),t.classList.add("swittable"),t.classList.add("list");const n=k.listItem_2(e||"");return t.appendChild(n),t}}static tableCreator(){return e=>{const t=document.createElement("div");t.classList.add("table-shell","ignore-quick-menu");const n=document.createElement("div");n.classList.add("table-controller");const i=document.createElement("div");i.classList.add("table-wrapper");const l=document.createElement("table");l.classList.add("johannes-content-element","swittable","table",r.IncludeBlockToolbarClass,r.AlignToolClass,r.ExtraOptionsClass,"hide-turninto","hide-moreoptions"),l.setAttribute("data-content-type",o.Table),t.appendChild(n),n.appendChild(i),i.appendChild(l);const s=document.createElement("tbody");l.appendChild(s);const a=e?e.split(","):[],c=document.createElement("tr");a.forEach((e=>{const t=document.createElement("td");t.classList.add("focusable","editable"),t.setAttribute("data-placeholder","cell"),t.textContent=e,t.contentEditable="true",c.appendChild(t)})),s.appendChild(c);const d=document.createElement("div");d.classList.add("add-table-row"),d.innerHTML='<svg width="1rem" height="1rem" fill="currentColor"><use xlink:href="#icon-plus"></use></svg>';const u=document.createElement("div");return u.classList.add("add-table-column"),u.innerHTML='<svg width="1rem" height="1rem" fill="currentColor"><use xlink:href="#icon-plus"></use></svg>',n.appendChild(d),n.appendChild(u),t}}static placeholderCreator(e,t,n,o=[]){return i=>{const s=document.createElement("div");s.classList.add(l.ContentElement,"swittable","no-selection",r.IncludeBlockToolbarClass,r.ExtraOptionsClass),s.setAttribute("data-content-type",e);const a=document.createElement("div");a.classList.add("content-placeholder",l.ShowMediaInputOnClick,...o);const c=this.createIcon(t),d=document.createElement("span");return d.classList.add("no-selection"),d.innerText=n,s.appendChild(a),a.appendChild(c),a.appendChild(d),s}}static calloutCreator(){return e=>{const t=document.createElement("div");t.classList.add("ignore-quick-menu","callout","johannes-content-element","swittable",r.IncludeBlockToolbarClass,r.ColorToolClass,r.ExtraOptionsClass);const n=document.createElement("div");n.classList.add("callout-background-grey","callout-wrapper");const o=document.createElement("p");return o.setAttribute("data-placeholder","Type something..."),o.contentEditable="true",o.classList.add("callout-text","editable","focusable"),n.appendChild(o),t.appendChild(n),t}}static separatorCreator(){return()=>{const e=document.createElement("div");e.classList.add("johannes-content-element");const t=document.createElement("div");t.classList.add("separator-wrapper");const n=document.createElement("hr");return n.classList.add("separator"),t.appendChild(n),e.appendChild(t),e}}static paragraph(e=null){const t=document.createElement("p");return t.innerText=e||"",t.contentEditable="true",t.setAttribute("data-content-type",o.Paragraph),t.classList.add("johannes-content-element","swittable","focusable","key-trigger","editable"),t.setAttribute("data-placeholder","Write something or type / (slash) to choose a block..."),t}static heading(e,t=null){const n=document.createElement(`h${e}`);return n.innerText=t||"",n.contentEditable="true",n.setAttribute("data-content-type",`h${e}`),n.classList.add("johannes-content-element","swittable","focusable","focus","key-trigger","editable"),n.setAttribute("data-placeholder",`Heading ${e}`),n}static checkboxItem(e){const t=w.generateUniqueId();let n=document.createElement("li");n.classList.add("deletable","no-list-style","list-item","list-item-checkable");let o=document.createElement("input");o.id=t,o.setAttribute("type","checkbox");let i=document.createElement("div");return i.textContent=e,i.setAttribute("data-placeholder","To-do"),i.contentEditable="true",i.setAttribute("for",t),i.classList.add("focusable","editable","focus"),n.appendChild(o),n.appendChild(i),n}static listItem_2(e=null){let t=document.createElement("li");t.classList.add("deletable"),t.classList.add("list-item");const n=document.createElement("div");return n.classList.add("focusable","editable","focus","key-trigger"),n.contentEditable="true",n.setAttribute("data-placeholder","Item"),t.appendChild(n),n.innerText=e||"",t}static blockParagraph(e=null){let t=document.createElement("div");t.id=`b-${w.generateUniqueId()}`;let n=k.paragraph(e);return t.appendChild(n),t.classList.add("block"),t.classList.add("deletable"),t}static dragHandleButton(){const e=document.createElement("div");e.classList.add("drag-handler-wrapper",l.EditorOnly);let t=document.createElement("button");return t.innerHTML='<svg width="1.375rem" height="1.375rem" fill="currentColor"><use href="#icon-material-drag"></use></svg>',t.classList.add(l.EditorOnly,"drag-handler","button-reset"),t.draggable=!0,e.appendChild(t),e}static createIcon(e){let t=document.createElement("div");return t.classList.add("icon-wrapper"),t.innerHTML=`<svg width="1.375rem" height="1.375rem" fill="currentColor"><use href="#${e}"></use></svg>`,t}}!function(e){e.ColorChangeRequest="ColorChangeRequest",e.ShowHideActiveButton="ShowHideActiveButton",e.ResetActiveButtons="ResetActiveButtons",e.CloseElement="HideComponent",e.ShowElement="ShowElement",e.ChangeBlockToolbarLanguage="ChangeBlockToolbarLanguage"}(s||(s={}));class y{id;_canHide;classList=[];props;htmlElement;parent;constructor(e){this.props=e,this.htmlElement=this.init(),this._canHide=!0}get display(){return"block"}setId(e){this.id=e,this.htmlElement.id=e}addCssClass(...e){this.classList.push(...e),this.htmlElement.classList.add(...e)}appendTo(e){this.parent=e,e.htmlElement.appendChild(this.htmlElement)}get isVisible(){let e=this.htmlElement;if("none"===e.style.display||"hidden"===e.style.visibility||!document.contains(e))return!1;for(;e;){const t=window.getComputedStyle(e);if("none"===t.display||"hidden"===t.visibility)return!1;if(!e.parentElement)break;e=e.parentElement}return!0}show(){this.htmlElement.style.display=this.display}hide(){this.htmlElement.style.display="none"}lockHide(){this._canHide=!1}unlockHide(){this._canHide=!0}get canHide(){return this._canHide&&this.isVisible}set canHide(e){this._canHide=e}focus(){this.htmlElement.focus()}changeColor(e){this.htmlElement.style.color=e}removeColor(){this.htmlElement.style.color="inherit"}changeVisibilityToVisible(){this.htmlElement.style.visibility="visible"}changeVisibilityToHidden(){this.htmlElement.style.visibility="hidden"}get doesElementOverflowScreen(){const e=this.htmlElement.style.display,t=this.htmlElement.style.visibility,n=this.htmlElement.style.position;"none"===e&&(this.htmlElement.style.display="block",this.htmlElement.style.visibility="hidden",this.htmlElement.style.position="absolute");const o=this.htmlElement.getBoundingClientRect(),i=window.innerWidth;return"none"===e&&(this.htmlElement.style.display=e,this.htmlElement.style.visibility=t,this.htmlElement.style.position=n),o.right>i||o.left<0}ensureVisible(){this.htmlElement.closest("select, ul")?this.htmlElement.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}):console.warn("Attempted to make a non-relevant item visible")}handleCloseElementEvent(e){const t=e.detail;this.id&&this.id==t.targetId&&(e.stopImmediatePropagation(),this.hide())}handleShowElementEvent(e){e.detail.targetId==this.id&&(e.stopImmediatePropagation(),this.show())}attachUIEvent(){document.addEventListener(s.CloseElement,this.handleCloseElementEvent.bind(this)),document.addEventListener(s.ShowElement,this.handleShowElementEvent.bind(this))}}class I{static instance=new I;dependencies={};constructor(){}static get Instance(){return I.instance}register(e,t){this.dependencies[e]=t}resolve(e){if(!this.dependencies[e])throw new Error(`Dependency ${e} not found.`);return this.dependencies[e]()}}!function(e){e.Load="load",e.Mouseenter="mouseenter",e.Mouseleave="mouseleave",e.Mousedown="mousedown",e.Mousemove="mousemove",e.Mouseup="mouseup",e.Mouseover="mouseover",e.Keyup="keyup",e.Keydown="keydown",e.Blur="blur",e.SelectStart="selectstart",e.SelectionChange="selectionchange",e.Click="click",e.Focusin="focusin",e.Focusout="focusout",e.DOMContentLoaded="DOMContentLoaded",e.Input="input",e.BblClick="dblclick"}(a||(a={}));const x="caret-start-marker";class T{static isSelectionInTableCell(){let e=window.getSelection();if(!e?.rangeCount)return!1;let t=e.anchorNode;for(;t;){if(t.nodeType===Node.ELEMENT_NODE&&("TD"===t.tagName||"TH"===t.tagName))return!0;t=t.parentNode}return!1}static getSelectionTextInfo(e){let t,n,o=!1,i=!1;if(""==e.textContent)return o=!0,i=!0,{atStart:o,atEnd:i};const r=window.getSelection();return r&&r.rangeCount>0&&(t=r.getRangeAt(0),n=document.createRange(),n.selectNodeContents(e),n.setEnd(t.startContainer,t.startOffset),o=""===n.toString(),n.selectNodeContents(e),n.setStart(t.endContainer,t.endOffset),i=""===n.toString()),{atStart:o,atEnd:i}}static insertAfter(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)}static hasTextContent(e){return""!==e.textContent?.trim()||e.hasChildNodes()&&Array.from(e.childNodes).some((e=>this.hasTextContent(e)))}static cloneAndInsertAfter(e){const t=e.cloneNode(!0),n=e.parentNode;if(!n)return null;if(n.insertBefore(t,e.nextSibling),t.id){const e=t.id.match(/^(.+?)-/);if(e){const n=e[1];t.id=n+"-"+w.generateUniqueId()}else t.id=w.generateUniqueId()}return t}static findClosestAncestorOfActiveElementByClass(e){const t=document.activeElement;if(!t)return null;let n=t;for(;n;){if(n instanceof HTMLElement&&n.classList.contains(e))return n;n=n.parentNode}return null}static findClosestAncestorOfSelectionByClass(e){const t=window.getSelection();if(!t||0===t.rangeCount)return null;let n=t.getRangeAt(0).commonAncestorContainer;for(n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);n;){if(n.nodeType===Node.ELEMENT_NODE&&n.classList.contains(e))return n;n=n.parentNode}return null}static rearrangeContentAfterSplit(e,t){const n=T.getCursorPosition(e),o=this.splitContentAtCursorSelection(e);if(document.getSelection()?.removeAllRanges(),document.getSelection()?.addRange(o[1]),document.getSelection()?.deleteFromDocument(),t&&n){this.setCursorPosition(t,n);const e=this.splitContentAtCursorSelection(t);document.getSelection()?.removeAllRanges(),document.getSelection()?.addRange(e[0]),document.getSelection()?.deleteFromDocument()}}static getCursorPosition(e){const t=window.getSelection();if(!t||!e)return null;const n=t.getRangeAt(0);if(!n.intersectsNode(e))return null;const o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:e=>NodeFilter.FILTER_ACCEPT});let i=0,r=o.firstChild();for(;r;){if(r===n.startContainer){i+=n.startOffset;break}i+=r.textContent?.length||0,r=o.nextNode()}return i}static setCursorPosition(e,t){const n=window.getSelection();if(!n)return;n.removeAllRanges();const o=document.createRange(),i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:()=>NodeFilter.FILTER_ACCEPT});let r=i.nextNode(),l=0;for(;r;){const e=r.textContent?.length||0;if(l+e>=t){o.setStart(r,t-l),o.collapse(!0);break}l+=e,r=i.nextNode()}n.addRange(o)}static getContentTypeFromActiveElement(){const e=T.getCurrentActiveBlock(),t=e?.querySelector(".johannes-content-element");return t&&t.getAttribute("data-content-type")||null}static splitContentAtCursorSelection(e){const t=[],n=window.getSelection();if(!n||0===n.rangeCount)return t;const o=n.getRangeAt(0),i=document.createRange();i.selectNodeContents(e),i.setEnd(o.startContainer,o.startOffset);const r=document.createRange();return r.selectNodeContents(e),r.setStart(o.endContainer,o.endOffset),e.lastChild&&r.setEndAfter(e.lastChild),t.push(i),t.push(r),t}static placeCursorAtStartOfEditableElement(e){setTimeout((()=>{if(e.isContentEditable){e.focus();const t=document.createRange();t.selectNodeContents(e),t.collapse(!0);const n=window.getSelection();n?.removeAllRanges(),n?.addRange(t)}else console.warn("The element is not editable.")}))}static placeCursorAtEndOfEditableElement(e){e.isContentEditable?requestAnimationFrame((()=>{e.focus();const t=document.createRange(),n=window.getSelection();t.selectNodeContents(e);let o=e;for(;o.lastChild;)o=o.lastChild;t.setEnd(o,o.nodeType===Node.TEXT_NODE?o.textContent.length:0),t.collapse(!1),n?.removeAllRanges(),n?.addRange(t)})):console.warn("The element is not editable.")}static getCurrentActiveBlock(){let e=document.activeElement;return e?e.closest(".block"):null}static isSelectedTextDescendantOf(e){const t=document.getSelection();if(!t)return!1;if(!t.rangeCount)return!1;let n=t.getRangeAt(0).startContainer;return n.nodeType===Node.TEXT_NODE&&(n=n.parentNode),!!n&&null!==n.closest(e)}static removeFilterText(){let e=null;const t=window.getSelection();if(t&&t.rangeCount>0){const n=t.getRangeAt(0),o=n.commonAncestorContainer;if(o.nodeType===Node.TEXT_NODE&&o.parentElement?.isContentEditable){let i=o,r=n.startOffset;for(;i&&r>0;){if(e=(i.textContent?.substring(0,r)||"").lastIndexOf("/"),-1!==e){n.setStart(i,e),n.deleteContents();break}r=i.parentNode?.textContent?.lastIndexOf("/")||-1,i=i.parentNode}t.removeAllRanges(),t.addRange(n)}else console.warn("The cursor is not within a contentEditable element or a text node.")}else console.warn("No active selection.");return e}static findClickedElementOrAncestorByDataContentType(e,t){let n=e.target;if(n.nodeType===Node.TEXT_NODE&&(n=n.parentElement),n.dataset.contentType===t)return n;let o=n.parentElement;for(;o;){if(o.dataset.contentType===t)return o;o=o.parentElement}return null}static findClickedElementOrAncestorById(e,t){let n=e.target;if(n.nodeType===Node.TEXT_NODE&&(n=n.parentElement),n.id===t)return n;let o=n.parentElement;for(;o;){if(o.id===t)return o;o=o.parentElement}return null}static findClickedElementOrAncestorByClass(e,t){let n=e.target;if(n.nodeType===Node.TEXT_NODE&&(n=n.parentElement),n.classList.contains(t))return n;let o=n.parentElement;for(;o;){if(o.classList.contains(t))return o;o=o.parentElement}return null}static isEventTargetDescendantOf(e,t){let n=e.target;if(!(e.target instanceof Element))return!1;for(;n&&n!==document.documentElement;){if(n.matches(t))return!0;n=n.parentElement}return!1}static getParentTargetBySelector(e,t){let n=e.target instanceof Element?e.target:e.target instanceof Node?e.target.parentElement:null;if(!n)return null;for(;n&&n!==document.documentElement;){if(n.matches(t))return n;n=n.parentElement}return null}static getParentFromSelection(e){const t=window.getSelection();if(!t||0===t.rangeCount)return null;let n=t.getRangeAt(0).commonAncestorContainer;if(n instanceof Element&&n.matches(e))return n;let o=n instanceof Element?n:n.parentElement;for(;o&&o!==document.documentElement;){if(o.matches(e))return o;o=o.parentElement}return null}static removeClassesWithPrefix(e,t){Array.from(e.classList).filter((e=>e.startsWith(t))).forEach((t=>e.classList.remove(t)))}static isTargetDescendantOfSelector(e,t){let n=null;return e.target instanceof HTMLElement?n=e.target:e.target instanceof Text&&(n=e.target.parentElement),!!n&&null!==n.closest(t)}static querySelectorIncludingSelf(e,t){return e.matches(t)?e:e.querySelector(t)}static sanitizeContentEditable(e){const t=e.innerHTML,n=window.getSelection();if(!n)return;let o=!1,i=0;if(n.rangeCount>0){const r=n.getRangeAt(0);r.endOffset===e.innerText.length&&t.endsWith("<br>")&&(o=!0,i=r.endOffset)}if(t.endsWith("<br>")){const t=e.lastChild;t&&"BR"===t.nodeName&&e.removeChild(t)}if(o){const t=new Range,o=this.getTextNodesIn(e);let r=0;for(const e of o){const n=e.length;if(r+n>=i){t.setStart(e,i-r),t.setEnd(e,i-r);break}r+=n}n.removeAllRanges(),n.addRange(t)}}static getTextNodesIn(e){let t=[];if(e.nodeType===Node.TEXT_NODE)t.push(e);else{const n=e.childNodes;for(let e=0;e<n.length;e++)t=t.concat(this.getTextNodesIn(n[e]))}return t}static getPreviousContentEditable(e){const t=Array.from(document.querySelectorAll('[contenteditable="true"]')),n=t.indexOf(e);return n>0?t[n-1]:null}static getNextContentEditable(e){const t=Array.from(document.querySelectorAll('[contenteditable="true"]')),n=t.indexOf(e);return n<t.length-1?t[n+1]:null}static getActiveContentEditable(){const e=document.activeElement;if(!e)return null;if(e instanceof HTMLElement&&e.isContentEditable)return e;let t=e.parentElement;for(;t;){if(t.isContentEditable)return t;t=t.parentElement}return T.findContentEditableInDescendants(e)}static findContentEditableInDescendants(e){if(e.isContentEditable)return e;for(let t=0;t<e.children.length;t++){const n=e.children[t],o=T.findContentEditableInDescendants(n);if(o)return o}return null}static saveCaretPosition2d(e){const t=window.getSelection();if(t&&t.rangeCount>0){const n=t.getRangeAt(0).getBoundingClientRect();return{charIndex:Array.from(e.textContent||"").slice(0,t.anchorOffset).length,horizontalPos:n.left}}return{charIndex:0,horizontalPos:0}}static restoreCaretPosition2d(e,t){setTimeout((()=>{const n=window.getSelection();if(!n)return;const o=document.createRange(),i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT);let r=i.nextNode(),l=r,s=0,a=1/0;for(;r;)if(r.nodeValue){for(let e=0;e<=r.nodeValue.length;e++){o.setStart(r,e),o.collapse(!0);const n=o.getBoundingClientRect(),i=Math.abs(n.left-t.horizontalPos);if(i<a&&(a=i,l=r,s=e,i<5))break}r=i.nextNode()}l&&(o.setStart(l,s),o.collapse(!0),n.removeAllRanges(),n.addRange(o))}))}static saveCaretPosition3d(e){const t=window.getSelection();if(t&&t.rangeCount>0){const n=t.getRangeAt(0).getBoundingClientRect();return{charIndex:Array.from(e.textContent||"").slice(0,t.anchorOffset).length,horizontalPos:n.left,verticalPos:n.top}}return{charIndex:0,horizontalPos:0,verticalPos:0}}static restoreCaretPosition3d(e,t){setTimeout((()=>{const n=window.getSelection();if(!n)return;const o=document.createRange(),i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT);let r=i.nextNode(),l=r,s=0,a=1/0;for(;r;)if(r.nodeValue){for(let e=0;e<=r.nodeValue.length;e++){o.setStart(r,e),o.collapse(!0);const n=o.getBoundingClientRect(),i=Math.abs(n.left-t.horizontalPos),c=Math.abs(n.top-t.verticalPos),d=Math.sqrt(i**2+c**2);if(d<a&&(a=d,l=r,s=e,d<5))break}r=i.nextNode()}l&&(o.setStart(l,s),o.collapse(!0),n.removeAllRanges(),n.addRange(o))}))}static mergeInlineElements(e){e.normalize();const t=e.childNodes;for(let n=0;n<t.length;n++)if(t[n].nodeType===Node.ELEMENT_NODE){const o=t[n];if(["SPAN","CODE","EM","STRONG","B","I"].includes(o.nodeName)){for(;n<t.length-1&&o.nextSibling&&o.nextSibling.nodeType===Node.ELEMENT_NODE&&o.nodeName===o.nextSibling.nodeName;){for(;o.nextSibling.childNodes.length>0;)o.appendChild(o.nextSibling.firstChild);e.removeChild(o.nextSibling)}T.mergeInlineElements(o)}}}static insertCaretMarker(e){const t=window.getSelection();if(t&&t.rangeCount>0){const e=t.getRangeAt(0);if(e.collapsed){const n=document.createElement("span");n.id=x,n.style.display="none",e.insertNode(n),e.setStartAfter(n),e.collapse(!0),t.removeAllRanges(),t.addRange(e)}else{const n=document.createElement("span");n.id="caret-end-marker",n.style.display="none";const o=e.cloneRange();o.collapse(!1),o.insertNode(n);const i=document.createElement("span");i.id=x,i.style.display="none",e.collapse(!0),e.insertNode(i);const r=document.createRange();r.setStartAfter(i),r.setEndBefore(n),t.removeAllRanges(),t.addRange(r)}}}static removeCaretMarker(e){const t=e.querySelector(`#${x}`);t?.parentNode?.removeChild(t)}static restoreCaretFromMarker(e){const t=e.querySelector(`#${x}`);if(t){const e=window.getSelection(),n=document.createRange();n.setStartAfter(t),n.collapse(!0),e?.removeAllRanges(),e?.addRange(n),t.parentNode?.removeChild(t)}}}var S,L,M,N,q,O,H,R,D,P,F;!function(e){e.floatingToolbarDisplayed="floatingToolbarDisplayed",e.anchorButtonClicked="anchorButtonClicked",e.boldButtonClicked="boldButtonClicked",e.italicButtonClicked="italicButtonClicked",e.underlineButtonClicked="underlineButtonClicked",e.inlineCodeButtonClicked="inlineCodeButtonClicked",e.strikeThroughButtonClicked="strikeThroughButtonClicked",e.hiliteColorButtonClicked="hiliteColorButtonClicked",e.foreColorButtonClicked="foreColorButtonClicked",e.buttonGroupItemClicked="buttonGroupItemClicked",e.focusOnFirstRequested="focusOnFirstRequested",e.pressedEnterOnTitle="pressedEnterOnTitle",e.transformBlockRequested="transformBlockRequested",e.duplicateBlockRequested="duplicateBlockRequested",e.anchor="anchor",e.bold="bold",e.italic="italic",e.underline="underline",e.inlineCode="inlineCode",e.strikeThrough="strikeThrough",e.hiliteColor="hiliteColor",e.foreColor="foreColor",e.textFormatChanged="textFormatChanged",e.emittedCommand="emittedCommand",e.blockTypeChanged="blockTypeChanged",e.blockDeleted="blockDeleted",e.blockCloned="blockCloned",e.tableCellChanged="tableCellChanged"}(S||(S={})),function(e){e.LowImportance="100",e.SlightlyImportant="200",e.Neutral="300",e.ModeratelyImportant="400",e.VeryImportant="500",e.ExtremelyImportant="600"}(L||(L={}));class _ extends y{dropdowns;separators;currentSelectionRange;htmlFocusedElementBeforeOpenQuickMenu;constructor(e){super({id:e}),this.dropdowns=[],this.separators=[],this.currentSelectionRange=null,this.htmlFocusedElementBeforeOpenQuickMenu=null}init(){const e=document.createElement("div");e.id=this.props.id,e.style.display="none",e.classList.add("floating-toolbar","select-wrapper","soft-box-shadow"),e.style.zIndex=L.SlightlyImportant;const t=document.createElement("div");return e.appendChild(t),e}get display(){return"flex"}hide(){this.canHide&&(this.anyDropdownVisible()&&this.hideAllDropdownVisible(),this.currentSelectionRange=null,super.hide())}appendDropdown(e){this.dropdowns.push(e),this.htmlElement.appendChild(e.htmlElement)}appendButtonGroup(e){this.htmlElement.appendChild(e.htmlElement)}appendSeparator(e){this.separators.push(e),this.htmlElement.appendChild(e.htmlElement)}appendTextToolbar(e){this.htmlElement.appendChild(e.htmlElement)}anyDropdownVisible(){for(const e of this.dropdowns)if(e.dropdownList.isVisible)return!0;return!1}hideAllDropdownVisible(){for(const e of this.dropdowns)e.dropdownList.canHide&&e.dropdownList.hide();return!1}attachEvents(){this.htmlElement.addEventListener(a.Click,(e=>{e.preventDefault()})),this.htmlElement.addEventListener(a.Mousedown,(e=>{e.preventDefault()})),document.addEventListener("showInputLinkBoxRequested",(()=>{this.canHide=!1})),document.addEventListener("showInputLinkBoxFinished",(()=>{this.canHide=!0,this.restoreRangeSelection()})),document.addEventListener(S.blockDeleted,(()=>{this.hide()})),document.addEventListener(S.blockTypeChanged,(()=>{this.hide()}))}isSelectionEmpty(){const e=document.getSelection();return!e||0===e.rangeCount||""===e.toString().trim()}restoreRangeSelection(){document.getSelection()?.removeAllRanges(),document.getSelection()?.addRange(this.currentSelectionRange)}}!function(e){e.HiliteColorRed="#FDDEDE",e.HiliteColorGreen="#D7F7DC",e.HiliteColorBlue="#D9EDF6",e.HiliteColorYellow="#FAF4D1",e.HiliteColorGrey="#E1E0E0",e.HiliteColorNone="transparent",e.BackgroundColorCellRed="#FDDEDE",e.BackgroundColorCellGreen="#D7F7DC",e.BackgroundColorCellBlue="#D9EDF6",e.BackgroundColorCellYellow="#FAF4D1",e.BackgroundColorCellGrey="#E1E0E0",e.BackgroundColorCellNone="transparent",e.ForeColorRed="#D44C47",e.ForeColorGreen="#448361",e.ForeColorBlue="#337EA9",e.ForeColorYellow="#CB912F",e.ForeColorGrey="#787774",e.ForeColorInitial="initial",e.BackgroundColorRed="#FDDEDE",e.BackgroundColorGreen="#D7F7DC",e.BackgroundColorBlue="#D9EDF6",e.BackgroundColorYellow="#FAF4D1",e.BackgroundColorGrey="#E1E0E0",e.BackgroundColorNone="transparent",e.IconActiveBlue="#2382e2",e.IconDefaultBlack="#37352fd9",e.Red="red",e.Tomato="#EB5757",e.OriginalTableColor="#84888d"}(M||(M={})),function(e){e.CalloutBackgroundRed="callout-background-red",e.CalloutBackgroundGreen="callout-background-green",e.CalloutBackgroundBlue="callout-background-blue",e.CalloutBackgroundYellow="callout-background-yellow",e.CalloutBackgroundGrey="callout-background-grey",e.CalloutBackgroundNone="callout-background-none"}(N||(N={})),function(e){e.toggleBold="bold",e.toggleItalic="italic",e.toggleHiliteColor="hiliteColor",e.changeCalloutBackgroundColor="changeCalloutBackgroundColor",e.toggleForeColor="foreColor",e.toggleInlineCode="inlineCode",e.toggleLink="createLink",e.linkReadyToInsert="linkReadyToInsert",e.toggleUnderline="underline",e.toggleStrikeThrough="strikeThrough",e.removeFormat="removeFormat",e.copySelected="copySelected",e.cutSelected="cutSelected",e.past="past",e.transformBlock="transformBlock",e.duplicateBlock="duplicateBlock",e.deleteBlock="deleteBlock",e.createDefaultBlock="createDefaultBlock",e.focusOnNextBlock="focusOnNextBlock",e.focusOnPreviousBlock="focusOnPreviousBlock",e.mergeWithPreviousBlock="mergeWithPreviousBlock",e.mergeWithNextBlock="mergeWithNextBlock",e.focusOnFirstBlock="focusOnFirstBlock",e.deleteBlockAndFocusOnPrevious="deleteBlockAndFocusOnPrevious",e.deleteBlockAndFocusOnNext="deleteBlockAndFocusOnNext",e.JustifyLeft="justifyLeft",e.JustifyCenter="justifyCenter",e.JustifyRight="justifyRight",e.insertNew="insertNew",e.insertTableRowAbove="insertTableRowAbove",e.insertTableRowBelow="insertTableRowBelow",e.insertTableColumnLeft="insertTableColumnLeft",e.insertTableColumnRight="insertTableColumnRight",e.showInsertTableColumnElement="showInsertTableColumnElement",e.showInsertTableRowElement="showInsertTableRowElement",e.hideInsertTableColumnElement="hideInsertTableColumnElement",e.hideInsertTableRowElement="hideInsertTableRowElement",e.toggleCellHiliteColor="toggleCellHiliteColor",e.removeColumn="removeColumn",e.removeRow="removeRow",e.changeTableBorderColor="changeTableBorderColor",e.changeCodeBlockLanguage="changeCodeBlockLanguage"}(q||(q={}));class V{color;constructor(e){this.color=e}}class j{classKey;value;intention;constructor(e,t,n){this.classKey=e,this.value=t,this.intention=n}}class Y{classKey;constructor(e){this.classKey=e}}class z{}class U{}class G{language;blockId;constructor(e,t){this.blockId=e,this.language=t}}class Z{static emitCodeBlockLanguageChangedEvent(e,t,n){const o=new CustomEvent(s.ChangeBlockToolbarLanguage,{detail:{targetClass:e,action:new G(t,n)}});document.dispatchEvent(o)}static emitShowElementEvent(e){const t=new CustomEvent(s.ShowElement,{detail:{targetId:e,action:new U}});document.dispatchEvent(t)}static emitCloseElementEvent(e){const t=new CustomEvent(s.CloseElement,{detail:{targetId:e,action:new z}});document.dispatchEvent(t)}static emitChangeComponentColorEvent(e,t){const n=new CustomEvent(s.ColorChangeRequest,{detail:{targetId:e,action:new V(t)}});document.dispatchEvent(n)}static emitShowHideActiveElementEvent(e,t,n){"hiliteColor"==e&&t==M.HiliteColorNone&&(n="hide"),"foreColor"==e&&t==M.ForeColorInitial&&(n="hide"),"backgroundColor"==e&&t==M.BackgroundColorNone&&(n="hide");const o=new CustomEvent(s.ShowHideActiveButton,{detail:{targetClass:e,action:new j(e,t,n)}});document.dispatchEvent(o)}static emitResetActiveButtonsElementEvent(e){const t=new CustomEvent(s.ResetActiveButtons,{detail:{targetClass:e,action:new Y(e)}});document.dispatchEvent(t)}static emitChangeTableBorderColorEvent(e,t){const n=new CustomEvent(S.emittedCommand,{detail:{command:q.changeTableBorderColor,value:t,scope:e}});document.dispatchEvent(n)}}!function(e){e.Link="linkButton",e.Bold="boldButton",e.Italic="italicButton",e.Underline="underlineButton",e.InlineCode="inlineCodeButton",e.Strikethrough="strikethroughButton",e.AlignLeft="alignLeft",e.AlignCenter="alignCenter",e.AlignRight="alignRight"}(O||(O={})),function(e){e.Shift="Shift",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Control="Control",e.Space=" ",e.Delete="Delete"}(H||(H={}));class K extends _{static id="textFloatingToolbar";static instance;textOperationsService;initialRect=null;lockedHide=!1;debounceTimer=null;constructor(e){if(K.instance)throw new Error("Use TextContextFloatingToolbar.getInstance() to get instance.");super(K.id),this.htmlElement.style.zIndex=L.VeryImportant,this.textOperationsService=e,this.attachEvents()}static getInstance(){const e=I.Instance.resolve("ITextOperationsService");return K.instance||(K.instance=new K(e)),K.instance}processSelectionChangeEffects(){setTimeout((()=>{Z.emitResetActiveButtonsElementEvent("hiliteColor"),Z.emitResetActiveButtonsElementEvent("foreColor");const e=this.textOperationsService.queryCommandState("createLink"),t=this.textOperationsService.queryCommandState("bold"),n=this.textOperationsService.queryCommandState("italic"),o=this.textOperationsService.queryCommandState("underline"),i=this.textOperationsService.queryCommandState("inlineCode"),r=this.textOperationsService.queryCommandState("strikeThrough"),l={};l[M.HiliteColorRed]=this.textOperationsService.queryHiliteColor(M.HiliteColorRed),l[M.HiliteColorGreen]=this.textOperationsService.queryHiliteColor(M.HiliteColorGreen),l[M.HiliteColorBlue]=this.textOperationsService.queryHiliteColor(M.HiliteColorBlue),l[M.HiliteColorYellow]=this.textOperationsService.queryHiliteColor(M.HiliteColorYellow),l[M.HiliteColorGrey]=this.textOperationsService.queryHiliteColor(M.HiliteColorGrey);const s={};s[M.ForeColorRed]=this.textOperationsService.queryForeColor(M.ForeColorRed),s[M.ForeColorGreen]=this.textOperationsService.queryForeColor(M.ForeColorGreen),s[M.ForeColorBlue]=this.textOperationsService.queryForeColor(M.ForeColorBlue),s[M.ForeColorYellow]=this.textOperationsService.queryForeColor(M.ForeColorYellow),s[M.ForeColorGrey]=this.textOperationsService.queryForeColor(M.ForeColorGrey),Object.entries(l).forEach((([e,t])=>{t&&Z.emitShowHideActiveElementEvent("hiliteColor",e,"show")})),Object.entries(s).forEach((([e,t])=>{t&&Z.emitShowHideActiveElementEvent("foreColor",e,"show")})),this.emitChangeComponentColorEvent(e,O.Link),this.emitChangeComponentColorEvent(t,O.Bold),this.emitChangeComponentColorEvent(n,O.Italic),this.emitChangeComponentColorEvent(i,O.InlineCode),this.emitChangeComponentColorEvent(o,O.Underline),this.emitChangeComponentColorEvent(r,O.Strikethrough)}),20)}emitChangeComponentColorEvent(e,t){e?Z.emitChangeComponentColorEvent(t,M.IconActiveBlue):Z.emitChangeComponentColorEvent(t,M.IconDefaultBlack)}processAfterChange(e){const t=document.getSelection();t&&!t.isCollapsed&&this.processSelectionChangeEffects()}attachEvents(){let e,t=!1;this.htmlElement.addEventListener(a.Mouseup,(e=>{e.preventDefault()})),document.addEventListener(a.Mouseup,this.processAfterChange.bind(this)),document.addEventListener(a.BblClick,this.processAfterChange.bind(this)),document.addEventListener(a.SelectionChange,this.processAfterChange.bind(this)),document.addEventListener(a.Keydown,(e=>{e.shiftKey&&(t=!0)})),document.addEventListener(a.Keyup,(e=>{e.key===H.Shift&&(t=!1,this.showHide(e,t))})),document.addEventListener(a.Mousedown,(()=>{t=!0})),document.addEventListener(a.Mouseup,(n=>{t=!1,this.showHide(n,t),clearTimeout(e),e=setTimeout((()=>{t=!1,this.showHide(n,t)}),100)})),document.addEventListener(a.SelectionChange,(e=>{this.showHide(e,t)})),document.addEventListener(a.Keydown,(e=>{setTimeout((()=>{this.canHide&&e.key===H.Escape&&!this.lockedHide&&(this.anyDropdownVisible()?this.hideAllDropdownVisible():this.hide())}),10)})),super.attachEvents()}shouldUpdatePosition(){const e=window.getSelection();if(!e||0===e.rangeCount)return!1;const t=e.getRangeAt(0).getBoundingClientRect();return!this.initialRect||(Math.abs(t.left-this.initialRect.left)>10||Math.abs(t.top-this.initialRect.top)>10)}showHide(e,t){const n=this.hasSelection();if(!n){if(this.lockedHide)return;return this.hide(),void(this.initialRect=null)}if(n&&!t)if(this.isVisible){if(this.shouldUpdatePosition()&&(T.isSelectedTextDescendantOf(".gist")||T.isSelectedTextDescendantOf(".gist")))return}else{if(T.isSelectedTextDescendantOf(".ignore-text-floating-toolbar")||T.isSelectedTextDescendantOf(".gist"))return;this.show()}}hasSelection(){const e=window.getSelection();return!!(e&&e.rangeCount>0&&""!==e.toString().trim())}changeToolbarPositionToBeClosedToSelection(){const e=window.getSelection();if(!e||0===e.rangeCount)return void console.error("No selection found");this.currentSelectionRange=e.getRangeAt(0);const t=this.currentSelectionRange.getClientRects();if(0===t.length)return void console.error("No rects found");const n=t[0],o=n.left,i=n.top,r=n.bottom;this.htmlElement.style.display="flex";const l=this.htmlElement.offsetWidth;let s=o+window.scrollX-50;s+l>window.innerWidth&&(s=window.innerWidth-l-20);const a=this.htmlElement.offsetHeight;let c=i+window.scrollY-a-10;c<0&&(c=r+window.scrollY+10),this.htmlElement.style.left=`${s}px`,this.htmlElement.style.top=`${c}px`}show(){const e=window.getSelection();e&&0!==e.rangeCount?T.findClosestAncestorOfActiveElementByClass("title")||(this.changeToolbarPositionToBeClosedToSelection(),this.hideTurnInto(),this.hideMoreOptions()):console.error("No selection found")}hideTurnInto(){const e=this.isSelectionWithinElementWithClass("hide-turninto");this.dropdowns.forEach((t=>{"turnIntoMenu"===t.id&&(t.htmlElement.style.display=e?"none":this.display)})),this.separators.forEach((t=>{"turnIntoSeparator"===t.id&&(t.htmlElement.style.display=e?"none":this.display)}))}hideMoreOptions(){const e=this.isSelectionWithinElementWithClass("hide-moreoptions");this.dropdowns.forEach((t=>{"moreTextOptionsMenu"===t.id&&(t.htmlElement.style.display=e?"none":this.display)})),this.separators.forEach((t=>{"textOperationsSeparator"===t.id&&(t.htmlElement.style.display=e?"none":this.display)}))}isSelectionWithinElementWithClass(e){const t=window.getSelection();if(0===t?.rangeCount)return!1;let n=t?.getRangeAt(0).commonAncestorContainer;for(n&&n.nodeType!==Node.ELEMENT_NODE&&(n=n.parentNode);null!=n;){if(n instanceof HTMLElement&&n.classList.contains(e))return!0;n=n.parentNode}return!1}updatePosition(){const e=window.getSelection();if(e&&e.rangeCount>0){const t=e.getRangeAt(0).getBoundingClientRect();this.setPosition(t)}}setPosition(e){const t=this.htmlElement.offsetWidth;let n=e.left+window.scrollX-50;n+t>window.innerWidth&&(n=window.innerWidth-t-20);const o=this.htmlElement.offsetHeight;let i=e.top+window.scrollY-o-10;i<0&&(i=e.bottom+window.scrollY+10),this.htmlElement.style.left=`${n}px`,this.htmlElement.style.top=`${i}px`}hide(){this.canHide&&(this.currentSelectionRange=null,super.hide())}lockHide(){this.lockedHide=!0}unlockHide(){this.lockedHide=!1}}class W extends y{parentWrapper;constructor(){super({})}init(){const e=document.createElement("input");return e.id="linkBoxInput",e.type="url",e.placeholder="Paste or type a link...",e.style.position="relative",e}setParentWrapper(e){this.parentWrapper=e}}class Q extends y{inputLinkBox;highlights=[];button;savedSelectionRange=null;textContextFloatingToolbar;constructor(){const e=new W,t=document.createElement("button");super({inputLinkBox:e,button:t}),this.id="linkBox",this.inputLinkBox=e,this.button=t,e.setParentWrapper(this),this.textContextFloatingToolbar=K.getInstance(),this.attachEvent()}init(){const e=document.createElement("div");e.id="linkBox",e.style.display="none",e.classList.add("dependent-box","soft-box-shadow"),e.style.position="absolute";const t=document.createElement("div");t.classList.add("header"),t.innerText="Link";const n=document.createElement("div");return n.appendChild(this.props.inputLinkBox.htmlElement),n.classList.add("link-box-shell"),this.props.button.classList.add("blue-button"),this.props.button.innerHTML="Insert",n.appendChild(this.props.button),e.appendChild(t),e.appendChild(n),e}attachEvent(){document.addEventListener(a.Keydown,(e=>{this.canHide&&e.key===H.Escape&&(e.stopImmediatePropagation(),this.hide())}),!0),document.addEventListener(a.Keydown,(function(e){e.key===H.Control&&document.body.classList.add("ctrl-active")})),document.addEventListener(a.Keyup,(function(e){e.key===H.Control&&document.body.classList.remove("ctrl-active")})),this.inputLinkBox.htmlElement.addEventListener(a.Keydown,(e=>{e.key==H.Enter&&this.insertLink(e)}),!0),document.addEventListener(a.Click,(e=>{if(e.ctrlKey){const t=e.target;if("A"===t.tagName&&t.getAttribute("href")){const e=t.getAttribute("href");return void window.open(e,"_blank")}}!this.canHide||e.target.closest("#linkBox")||e.target.closest("#textFloatingToolbar")||this.hide()})),this.button.addEventListener(a.Click,this.insertLink.bind(this),!0),super.attachUIEvent()}handleShowElementEvent(e){const t=e.detail;t.targetId!=this.id||this.isVisible?t.targetId==this.id&&this.isVisible&&(e.stopImmediatePropagation(),this.hide()):(e.stopImmediatePropagation(),this.show())}insertLink(e){e.preventDefault(),e.stopImmediatePropagation();const t=this.inputLinkBox.htmlElement.value,n=t.startsWith("http://")||t.startsWith("https://")?t:`https://${t}`;if(w.isValidUrl(n)){if(this.savedSelectionRange){const e=document.getSelection();e?.removeAllRanges(),e?.addRange(this.savedSelectionRange)}this.hide(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.linkReadyToInsert,value:n}}))}else{const e=this.inputLinkBox.htmlElement;e.style.backgroundColor="rgb(253, 222, 222)",e.classList.add("shake-animation"),setTimeout((()=>{e.classList.remove("shake-animation")}),1e3)}}show(){const e=this.inputLinkBox.htmlElement;e.style.backgroundColor="white",this.textContextFloatingToolbar.lockHide();const t=document.getSelection()?.getRangeAt(0);t&&(this.savedSelectionRange=t.cloneRange(),this.positionLinkComponentBelowSelection(t),this.highlightSelectedText(t),super.show(),setTimeout((()=>{e.focus()}),100))}positionLinkComponentBelowSelection(e){const t=e.getClientRects();if(0===t.length)return void console.error("No rects found");const n=t[0],o=n.left,i=n.top,r=n.bottom;this.htmlElement.style.display="flex";const l=this.htmlElement.offsetWidth;let s=o+window.scrollX-50;s+l>window.innerWidth&&(s=window.innerWidth-l-20),this.htmlElement.offsetHeight;let a=i+window.scrollY+40;a<0&&(a=r+window.scrollY+10),this.htmlElement.style.left=`${s}px`,this.htmlElement.style.top=`${a}px`}hide(){this.textContextFloatingToolbar.unlockHide(),super.hide(),this.removeHighlights(),this.inputLinkBox.htmlElement.value=""}highlightSelectedText(e){const t=e.getClientRects();for(let e=0;e<t.length;e++){const n=t[e],o=document.createElement("div");o.style.position="absolute",o.style.width=`${n.width}px`,o.style.height=`${n.height}px`,o.style.backgroundColor="#c2c2c2",o.style.opacity="0.3",document.body.appendChild(o),this.highlights.push(o),o.style.backgroundColor="rgba(0, 120, 215, 0.3)",o.style.pointerEvents="none",o.style.zIndex="1000",o.style.left=`${n.left+window.scrollX}px`,o.style.top=`${n.top+window.scrollY}px`}}removeHighlights(){this.highlights.forEach((e=>{document.body.removeChild(e)})),this.highlights=[]}}class $ extends y{elementFactoryService;static editorId="johannesEditor";static instance;memento;title;content;addBlock;textFloatingToolbar;quickMenu;tableContextToolbar;mediaInputter;inputLinkBoxWrapper;constructor(e,t,n,o,i,r,l,s,a,c,d){if(super({elementFactoryService:e,blockOperationsService:t,title:o,content:i,addBlock:r,floatingToolbar:l,quickMenu:s,tableToolbar:a,mediaInputter:c,inputLinkBoxWrapper:d}),$.instance)throw new Error("Use BlockOperationsService.getInstance() to get instance.");this.inputLinkBoxWrapper=d,this.elementFactoryService=e,this.memento=n,this.addBlock=r,this.textFloatingToolbar=l,this.quickMenu=s,this.tableContextToolbar=a,this.mediaInputter=c,this.attachEvents(),$.instance=this,this.memento.saveState()}init(){const e=document.getElementById($.editorId)||document.createElement("div");e.classList.add("johannes-editor");const t=document.createElement("div");return t.classList.add("content-wrapper"),window.editorConfig,t.appendChild(this.props.title.htmlElement),t.appendChild(this.props.content.htmlElement),e.appendChild(t),window.editorConfig,e.appendChild(this.props.addBlock.htmlElement),window.editorConfig,e.appendChild(this.props.floatingToolbar.htmlElement),window.editorConfig,e.appendChild(this.props.quickMenu.htmlElement),e.appendChild(this.props.tableToolbar.htmlElement),e.appendChild(this.props.mediaInputter.htmlElement),e.appendChild(this.props.inputLinkBoxWrapper.htmlElement),e}static getInstance(e,t,n,o,i,r,l){const s=I.Instance.resolve("IElementFactoryService"),a=I.Instance.resolve("IBlockOperationsService"),c=I.Instance.resolve("IMemento"),d=new Q;return $.instance||($.instance=new $(s,a,c,e,t,n,o,i,r,l,d)),$.instance}attachEvents(){const e=document.getElementById($.editorId);if(e?.addEventListener("mouseover",(e=>{const t=e.target;if(t instanceof Node){let e=t;if(e.nodeType===Node.TEXT_NODE&&(e=e.parentElement),e instanceof Element){const t=e.closest(".block");t&&this.appendDragHandler(t)}else console.error("Event target is not an HTMLElement and cannot handle HTMLElement specific methods:",e)}else console.error("Event target is not a Node:",t)})),"loading"===document.readyState)document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("#johannesEditor > .content .block p");e&&e.focus()}));else{const e=document.querySelector("#johannesEditor > .content .block p");e&&e.focus()}document.addEventListener("paste",(function(e){if("true"===e.target.getAttribute("contenteditable")){e.preventDefault();const t=e.clipboardData;if(t){const e=t.getData("text/plain");$.insertTextAtCursor(e)}}}),!0),this.attachDragHandler()}static insertTextAtCursor(e){const t=window.getSelection();if(t&&t.rangeCount>0){const n=t.getRangeAt(0);n.deleteContents();const o=document.createTextNode(e);n.insertNode(o),n.setStartAfter(o),n.setEndAfter(o),t.removeAllRanges(),t.addRange(n)}}appendDragHandler(e){if(e.nodeType===Node.TEXT_NODE&&(e=e.parentNode),!(e instanceof HTMLElement))return void console.error("Provided element is not an HTMLElement:",e);const t=e.closest(".block");let n=t?.querySelector(".drag-handler");!n&&t&&(n=this.elementFactoryService.create(k.ELEMENT_TYPES.DRAG_HANDLE_BUTTON),t.prepend(n))}removeDragHandler(e){if(e.nodeType===Node.TEXT_NODE&&(e=e.parentNode),!(e instanceof HTMLElement))return void console.error("Provided element is not an HTMLElement:",e);const t=e.closest(".block");if(t){const e=t.querySelector(".drag-handler");e?.remove()}}extractContent(){throw new Error("Not implemented Exception")}attachDragHandler(){let e=null,t=document.createElement("div");t.classList.add("drop-line"),t.style.height="2px",t.style.display="none",this.htmlElement.addEventListener("dragstart",(t=>{t.target?.classList?.contains("drag-handler")&&(e=t.target?.closest(".block"),e.setAttribute("draggable","true"),setTimeout((()=>{e.style.opacity="0.5"}),0))})),this.htmlElement.addEventListener("dragend",(()=>{setTimeout((()=>{e&&(e.style.opacity="",e.removeAttribute("draggable"),e=null),t.remove()}),0)})),this.htmlElement.addEventListener("dragover",(n=>{n.preventDefault();let o=n.target?.closest(".block");if(o&&o!==e){let e=o.getBoundingClientRect(),i=e.y+e.height/2;n.clientY>i?o.nextElementSibling!==t&&o.insertAdjacentElement("afterend",t):o.previousElementSibling!==t&&o.insertAdjacentElement("beforebegin",t)}t.style.display="block"})),this.htmlElement.addEventListener("drop",(n=>{n.preventDefault(),e&&t&&t.parentElement&&(t.parentElement.insertBefore(e,t),t.remove())}))}}class X extends y{blockOperationsService;icon;constructor(e,t){super({icon:t}),this.blockOperationsService=e,this.icon=t,this.attachEvents()}init(){const e=document.createElement("button");return e.title="Add a new block",e.classList.add("add-block","block-operation","pointer"),e.appendChild(this.props.icon.htmlElement),e}attachEvents(){this.htmlElement.addEventListener("click",(()=>{this.blockOperationsService.execCommand(q.createDefaultBlock,!1)}))}static create(e){const t=I.Instance.resolve("IBlockOperationsService");return new X(t,e)}}class J extends y{button;constructor(e){super({button:e}),this.button=e}init(){const e=document.createElement("div");return e.classList.add("add-block-wrapper"),e.appendChild(this.props.button.htmlElement),e}static create(e){return new J(e)}}class ee{static medium="1rem";static large="1.25rem"}class te extends y{useElement;constructor(e,t){super({iconId:e,size:t}),this.useElement=this.htmlElement.querySelector("use")}init(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.style.color="red !important";let t=document.createElementNS("http://www.w3.org/2000/svg","use");return t.setAttributeNS("http://www.w3.org/1999/xlink","href",`#${this.props.iconId}`),t.style.color="red !important",e.appendChild(t),e.setAttribute("width",this.props.size),e.setAttribute("height",this.props.size),e.setAttribute("fill","currentColor"),e}clone(){return new te(this.props.iconId,this.props.sizes)}setUseTo(e){this.useElement.setAttributeNS("http://www.w3.org/1999/xlink","href",`#${e}`)}static create(e,t){return new te(e,t)}}class ne{static build(){return J.create(X.create(te.create(i.Plus,ee.medium)))}}class oe extends y{id;dropdownButton;dropdownList;constructor(e,t,n){super({id:e}),this.id=e,this.dropdownButton=t,this.dropdownList=n,t.appendTo(this),n.appendTo(this)}init(){const e=document.createElement("div");return e.id=this.props.id,e.classList.add("select-wrapper"),e}get display(){return"block"}static create(e,t,n,o=[]){const i=new oe(e+w.generateUniqueId(),t,n);return i.addCssClass(...o),i}}class ie{head=null;tail=null;length=0;getFirst(){return this.head}getLast(){return this.tail}*[Symbol.iterator](){let e=this.head;if(e)do{yield e,e=e.nextNode}while(e&&e!==this.head)}forEach(e){let t=0;for(let n of this)e(n.value,t,this),t++}any(e){let t=this.head;for(;t;){if(e(t.value))return!0;if(t=t.nextNode,t===this.head)break}return!1}findFirst(e){if(!this.head)return null;let t=this.head;do{if(e(t.value))return t;t=t.nextNode}while(t&&t!==this.head);return null}findLast(e){if(!this.tail)return null;let t=this.tail;do{if(e(t.value))return t;t=t.previousNode}while(t&&t!==this.tail);return null}find(e){let t=this.head;for(;t;){if(t.value==e)return t;if(t=t.nextNode,t===this.head)break}return null}}class re{parentList;previousNode;nextNode;value;constructor(e,t){this.previousNode=null,this.nextNode=null,this.value=e,this.parentList=t}setNext(e){this.nextNode=e}setPrevious(e){this.previousNode=e}getNextSatisfying(e){let t=this.nextNode;const n=this;for(;t;){if(e(t.value))return t;if(t=t.nextNode,t===n)break}return null}getPreviousSatisfying(e){let t=this.previousNode;const n=this;for(;t&&t!==n;){if(e(t.value))return t;if(t=t.previousNode,t===this)break}return null}}class le extends ie{constructor(){super()}append(e){const t=new re(e,this);this.head&&this.tail?(t.setPrevious(this.tail),t.setNext(this.head),this.tail.setNext(t),this.head.setPrevious(t),this.tail=t):(this.head=t,this.tail=t,this.head.setNext(this.tail),this.head.setPrevious(this.tail)),this.length++}}class se extends y{id;command;value;activeIcon;leftIcon;title;onFocusFunctionList=[];onLoseFocusFunctionList=[];parentDropdownMenuList;constructor(e,t,n,o,i,r,l=null){const s=["list-item","option","option-hover","block-operation","no-list-style","no-selection"],a=new te("icon-material-small-check",ee.medium);a.htmlElement.style.visibility="hidden",o&&i&&(i.style.color=o),super({id:e,classList:s,leftIcon:i,title:r,icon:a,shortcut:l}),this.id=e,this.classList=s,this.leftIcon=i,this.command=n,this.value=o,this.title=r,this.parentDropdownMenuList=t,this.activeIcon=a,this.attachEvents()}addClass(e){this.classList.push(e),this.htmlElement.classList.add(e)}attachOnFocus(e,...t){this.onFocusFunctionList.push((()=>e(...t)))}attachOnLoseFocus(e,...t){this.onLoseFocusFunctionList.push((()=>e(...t)))}get display(){return"flex"}focus(){this.htmlElement.classList.add("option-focused"),this.onFocusFunctionList.forEach((e=>e()))}removeFocus(){this.htmlElement.classList.remove("option-focused"),this.onLoseFocusFunctionList.forEach((e=>e()))}init(){const e=document.createElement("li");e.id=this.props.id;const t=this.props.classList;e.classList.add("pointer",...t),e.tabIndex=2,e.style.color="#37352F";const n=document.createElement("div");n.classList.add("text-option"),this.props.leftIcon&&n.appendChild(this.props.leftIcon);const o=document.createElement("span");if(o.innerText=this.props.title,n.appendChild(o),e.appendChild(n),e.appendChild(this.props.icon.htmlElement),this.props.shortcut){const t=document.createElement("span");t.innerText=this.props.shortcut,t.style.color="rgba(55, 53, 47, 0.5)",e.appendChild(t)}return e}emitCommandEvent(e){const t=T.getParentTargetBySelector(e,".block")||T.getParentFromSelection(".block"),n=new CustomEvent(S.emittedCommand,{detail:{command:this.command,value:this.value,block:t}});document.dispatchEvent(n)}attachEvents(){this.attachUIEvent(),this.htmlElement.addEventListener(a.Mousedown,(e=>{e.preventDefault()})),this.htmlElement.addEventListener(a.Mousemove,(async()=>{const e=this.parentDropdownMenuList.dropdownItems.find(this);this.parentDropdownMenuList.switchVisualFocus(e)})),this.htmlElement.addEventListener(a.Click,(e=>{e.preventDefault(),e.stopImmediatePropagation(),this.emitCommandEvent(e)})),document.addEventListener(s.ChangeBlockToolbarLanguage,this.handleChangeBlockToolbarLanguageEvent.bind(this))}handleChangeBlockToolbarLanguageEvent(e){const t=e.detail;if(t.targetClass&&t.targetClass.includes("code-block-language-menu")){const e=t.action;this.htmlElement.closest(`#${e.blockId}`)&&(this.value==e.language?this.activeIcon?.changeVisibilityToVisible():this.activeIcon?.changeVisibilityToHidden())}}attachUIEvent(){document.addEventListener(s.ShowHideActiveButton,this.handleShowHideActiveButtonEvent.bind(this)),document.addEventListener(s.ResetActiveButtons,this.handleResetActiveButtonsEvent.bind(this))}handleShowHideActiveButtonEvent(e){const t=e.detail;if(this.classList?.includes(t.targetClass)){const e=t.action,n=e.value;this.value?.toLowerCase()==n.toLowerCase()&&"show"==e.intention&&this.activeIcon?.changeVisibilityToVisible()}}handleResetActiveButtonsEvent(e){const t=e.detail;this.classList?.includes(t.targetClass)&&this.activeIcon?.changeVisibilityToHidden()}}class ae extends y{parentDropdownParentButton;dropdownItems;currentFocusedMenuItem;filter="";constructor(e){super({id:e}),this.id=e,this.dropdownItems=new le,this.currentFocusedMenuItem=null,this.attachEvents()}get display(){return"flex"}init(){const e=document.createElement("ul");return e.id=this.props.id,e.setAttribute("name","block-type"),e.style.display="none",e.classList.add("soft-box-shadow","dependent-box","checkable-items"),e.style.position="absolute",e.style.maxHeight="25vmax",e.style.overflowY="auto",e.style.zIndex=L.ExtremelyImportant,e}append(e){this.dropdownItems.append(e),this.htmlElement.appendChild(e.htmlElement)}setParentDropdownMenuButton(e){this.parentDropdownParentButton=e}attachEvents(){document.addEventListener(a.Keydown,(e=>{this.isVisible&&this.currentFocusedMenuItem&&"Enter"===e.key&&(e.stopImmediatePropagation(),e.preventDefault(),this.currentFocusedMenuItem.value.emitCommandEvent(e))}),!0),document.addEventListener(a.Click,(e=>{this.clickedOutsideTheDropdownWhileDropdownIsVisible(e)&&this.hide()})),document.addEventListener(a.Keydown,(e=>{this.keyPressedOutsideTheDropdownWhileDropdownIsVisible(e)&&("ArrowDown"==e.key&&(e.preventDefault(),this.focusNextVisibleItem()),"ArrowUp"==e.key&&(e.preventDefault(),this.focusPreviousVisibleItem()),e.key!=H.Escape||this.htmlElement.closest(".floating-toolbar")||(e.stopImmediatePropagation(),e.preventDefault(),this.hide()))})),document.addEventListener(a.Keydown,this.handlerKeyDownEvent.bind(this)),document.addEventListener(S.blockCloned,(()=>{this.hide()})),this.attachUIEvent()}handlerKeyDownEvent(e){!this.isVisible||!/^[a-zA-Z]$/.test(e.key)||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey?this.isVisible&&e.key===H.Backspace&&(this.filter=this.filter.slice(0,-1),this.applyFilter()):(e.preventDefault(),this.filter+=e.key,this.applyFilter())}applyFilter(){this.dropdownItems.forEach((e=>{""==e.value||e.value?.toLocaleLowerCase().includes(this.filter.toLocaleLowerCase())||e.title?.toLocaleLowerCase().includes(this.filter.toLocaleLowerCase())?e.show():e.hide()}))}show(){this.filter="",this.htmlElement.style.left="0",this.htmlElement.style.right="auto",this.doesElementOverflowScreen&&(this.htmlElement.style.left="auto",this.htmlElement.style.right="0"),this.parentDropdownParentButton?.svgIcon?.setUseTo("icon-wordpress-chevron-up"),this.applyFilter(),super.show()}hide(){this.parentDropdownParentButton?.svgIcon?.setUseTo("icon-wordpress-chevron-down"),this.currentFocusedMenuItem?.value.removeFocus(),this.currentFocusedMenuItem=null,super.hide()}switchVisualFocus(e){this.currentFocusedMenuItem!=e&&(this.currentFocusedMenuItem&&this.currentFocusedMenuItem.value.removeFocus(),this.currentFocusedMenuItem=e,this.currentFocusedMenuItem.value.focus())}focusNextVisibleItem(){let e;e=this.currentFocusedMenuItem?this.currentFocusedMenuItem.getNextSatisfying((e=>e instanceof se&&e.isVisible)):this.dropdownItems.findFirst((e=>e instanceof se)),this.switchVisualFocus(e),e?.value.ensureVisible()}focusPreviousVisibleItem(){let e;e=this.currentFocusedMenuItem?this.currentFocusedMenuItem.getPreviousSatisfying((e=>e instanceof se&&e.isVisible)):this.dropdownItems.findFirst((e=>e instanceof se)),this.switchVisualFocus(e),e?.value.ensureVisible()}clickedOutsideTheDropdownWhileDropdownIsVisible(e){return this.canHide&&!e.target.closest(`#${this.htmlElement.id}`)&&!e.target.closest(`#${this.parentDropdownParentButton?.htmlElement.id}`)}keyPressedOutsideTheDropdownWhileDropdownIsVisible(e){return this.canHide&&!e.target.closest(`#${this.htmlElement.id}`)}static create(e,t=[]){const n=new ae(e+w.generateUniqueId());return n.addCssClass(...t),n}}class ce extends y{id;constructor(e){super({id:e}),this.id=e}init(){const e=document.createElement("div");return e.id=this.props.id,e.style.height="24px",e.style.width="1px",e.style.borderRight="1px solid #d0d0d0",e.style.margin="auto 6px",e}}class de extends y{constructor(){super({})}init(){const e=document.createElement("div");return e.classList.add("item"),e}}class ue extends y{command;showUI;icon;constructor(e,t,n){super({title:t,icon:n}),this.command=e,this.showUI=e==q.toggleLink,this.icon=n,this.attachEvents()}init(){const e=document.createElement("button");return e.classList.add("entry","button-reset","text-formatting-operation","option-hover"),e.title=this.props.title,e.tabIndex=1,e.appendChild(this.props.icon.htmlElement),e}attachEvents(){this.htmlElement.addEventListener(a.Click,(async e=>{const t=T.findClickedElementOrAncestorByClass(e,"block");document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:this.command,showUI:this.showUI,block:t}}))})),document.addEventListener(s.ColorChangeRequest,(e=>{const t=e.detail;this.id==t.targetId&&this.icon.changeColor(t.action.color)}))}static create(e,t,n){return new ue(e,t,n)}}class me extends y{constructor(e){super({color:e})}init(){const e=document.createElement("div");return e.style.width="1.25rem",e.style.height="1.25rem",e.style.borderRadius="50%",e.style.backgroundColor=this.props.color,e.style.border="1px solid #d0d0d0",e.style.boxSizing="border-box",e}}class he extends y{parentDropdownMenuList;constructor(e,t){super({title:t}),this.parentDropdownMenuList=e}title="";activeIcon;value="";changeActiveIconToVisible(){}getLeftIconBackgroundColor(){return null}resetActiveIcon(){}attachOnLoseFocus(e){throw new Error("Method not implemented.")}attachOnFocus(e){throw new Error("Method not implemented.")}emitCommandEvent(){throw new Error("Method not implemented.")}removeFocus(){throw new Error("Method not implemented.")}focus(){throw new Error("Method not implemented.")}init(){const e=document.createElement("li");e.classList.add("no-list-style");const t=document.createElement("h3");return t.innerText=this.props.title,t.classList.add("no-selection"),e.appendChild(t),e}}!function(e){e.BackgroundOptionRed="BackgroundOptionRed",e.BackgroundOptionGreen="BackgroundOptionRed",e.BackgroundOptionBlue="BackgroundOptionRed",e.BackgroundOptionYellow="BackgroundOptionRed",e.BackgroundOptionGrey="BackgroundOptionRed",e.BackgroundOptionNone="BackgroundOptionRed"}(R||(R={}));class Ae{static alignTool(){const e=new de;return ue.create(q.JustifyLeft,"Left",te.create(i.JustifyStart,ee.large)).appendTo(e),ue.create(q.JustifyCenter,"Center",te.create(i.JustifyCenter,ee.large)).appendTo(e),ue.create(q.JustifyRight,"Right",te.create(i.JustifyEnd,ee.large)).appendTo(e),e}static colorTool(){const e=new ae("colorInteractiveOptionSelect"+w.generateUniqueId()),t=new Ce("colorInteractiveButton"+w.generateUniqueId(),new me("white").htmlElement,e);t.addCssClass("color-interactive-button");const n=new oe("colorInteractionOptionsMenu"+w.generateUniqueId(),t,e);e.append(new he(e,"Background"));const o=new se(R.BackgroundOptionRed+w.generateUniqueId(),e,q.changeCalloutBackgroundColor,N.CalloutBackgroundRed,new me(M.HiliteColorRed).htmlElement,"Red");o.addClass("block-toolbox-color");const i=new se(R.BackgroundOptionGreen+w.generateUniqueId(),e,q.changeCalloutBackgroundColor,N.CalloutBackgroundGreen,new me(M.HiliteColorGreen).htmlElement,"Green");i.addClass("block-toolbox-color");const r=new se(R.BackgroundOptionBlue+w.generateUniqueId(),e,q.changeCalloutBackgroundColor,N.CalloutBackgroundBlue,new me(M.HiliteColorBlue).htmlElement,"Blue");r.addClass("block-toolbox-color");const l=new se(R.BackgroundOptionYellow+w.generateUniqueId(),e,q.changeCalloutBackgroundColor,N.CalloutBackgroundYellow,new me(M.HiliteColorYellow).htmlElement,"Yellow");l.addClass("block-toolbox-color");const s=new se(R.BackgroundOptionGrey+w.generateUniqueId(),e,q.changeCalloutBackgroundColor,N.CalloutBackgroundGrey,new me(M.HiliteColorGrey).htmlElement,"Grey");s.addClass("block-toolbox-color");const a=new se(R.BackgroundOptionNone+w.generateUniqueId(),e,q.changeCalloutBackgroundColor,N.CalloutBackgroundNone,new me(M.HiliteColorNone).htmlElement,"None");return a.addClass("block-toolbox-color"),e.append(o),e.append(i),e.append(r),e.append(l),e.append(s),e.append(a),n}static languageSelectionTool(){const e=ae.create("languageSelectionInteractiveOptionSelect"),t=Ce.create("languageSelectionInteractiveButton","Plain Text",e,!0,["code-block-language-menu","color-interactive-button"]),n=oe.create("languageSelectionInteractionOptionsMenu",t,e);return e.append(new he(e,"Language")),Object.entries(pe.languageMap).sort(((e,t)=>e[1].localeCompare(t[1]))).forEach((([t,n])=>{const o=new se("languageSelectionItem-"+w.generateUniqueId(),e,q.changeCodeBlockLanguage,t,null,n);"plaintext"==o.value&&o.activeIcon?.changeVisibilityToVisible(),e.append(o)})),n}static extraOptions(){const e=new te("icon-material-more",ee.large),t=ae.create("moreInteractiveOptionSelect",["media-more-option-select"]),n=Ce.create("moreInteractiveOptionButton",e.htmlElement,t,!1,["moreMediaOptionsButton"]),o=oe.create("moreInteractiveOptionsMenu",n,t);t.append(new he(t,"More options")),t.append(new se("duplicateOption"+w.generateUniqueId(),t,q.duplicateBlock,null,te.create(i.Duplicate,ee.large).htmlElement,"Clone","Ctrl+D"));const r=new se("deleteOption"+w.generateUniqueId(),t,q.deleteBlock,null,te.create(i.Trash,ee.large).htmlElement,"Delete","Shift+Del");return r.addCssClass("danger-option"),t.append(r),o}}!function(e){e.TD="td",e.TABLE="table"}(D||(D={}));class pe{static instance;static languageMap={ada:"Ada",apache:"Apache Config",applescript:"AppleScript",arduino:"Arduino",asciidoc:"AsciiDoc",bash:"Bash",basic:"BASIC",c:"C",csharp:"C#",cpp:"C++",css:"CSS",coffeescript:"CoffeeScript",dart:"Dart",go:"Go",html:"HTML",java:"Java",javascript:"JavaScript",json:"JSON",markdown:"Markdown",perl:"Perl",php:"PHP",plaintext:"Plain Text",python:"Python",ruby:"Ruby",scss:"SCSS",shell:"Shell",sql:"SQL",typescript:"TypeScript",xml:"XML",yaml:"YAML"};constructor(){if(pe.instance)throw new Error("Use BlockToolbox.getInstance() to get instance.");this.attachEvents()}static getInstance(){return pe.instance||(pe.instance=new pe),pe.instance}listen(){console.log("Listening block toolboxes...")}attachEvents(){document.addEventListener(a.Mouseover,this.insertToolboxIntoBlockOnce.bind(this)),document.addEventListener(a.Focusin,this.handleTableBehaviorFocusIn.bind(this)),document.addEventListener(a.Focusout,this.handleTableBehaviorFocusOut.bind(this)),document.addEventListener(a.Click,this.handleClickEvent.bind(this))}handleClickEvent(e){const t=e.target;t.closest(D.TABLE)&&this.toolboxVisibilityController(t,!1)}handleTableBehaviorFocusIn(e){const t=e.target;t.closest(D.TABLE)&&this.toolboxVisibilityController(t,!0)}handleTableBehaviorFocusOut(e){const t=e.target;t.closest(D.TABLE)&&this.toolboxVisibilityController(t,!1)}toolboxVisibilityController(e,t){const n=e.closest(".block");if(n){const e=n.querySelector(".block-toolbar");e&&(t?e.classList.add("hidden"):e.classList.remove("hidden"))}}insertToolboxIntoBlockOnce(e){const t=e.target.closest(`.${r.IncludeBlockToolbarClass}`);if(!t)return;const n=t.closest(".block");if(n&&null===n.querySelector(".block-toolbar-wrapper")){const e=t.classList.contains(r.LanguageSelectionToolClass),o=t.classList.contains(r.AlignToolClass),i=t.classList.contains(r.ColorToolClass),l=t.classList.contains(r.ExtraOptionsClass),s=pe.createToolbox(e,o,i,l);n&&(n.appendChild(s),n.addEventListener(a.Mouseenter,(e=>this.resetToolbox(e,n))),n.addEventListener(a.Mousemove,(e=>{const t=s.firstChild?.id,o=document.getElementById(t);o&&(n.contains(e.target)?o.style.display="flex":this.hideBlockToolbox(s))})),n.addEventListener(a.Mouseleave,(()=>this.hideBlockToolbox(s))),document.addEventListener(a.Click,(e=>{T.isTargetDescendantOfSelector(e,`#${n.id}`)||this.hideBlockToolbox(s)})),n.querySelectorAll("iframe").forEach((e=>{e.addEventListener(a.Mouseenter,(()=>{const e=s.firstChild?.id,t=document.getElementById(e);t&&(t.style.display="flex",this.changeToolbarColor(n))})),e.addEventListener(a.Mouseleave,(()=>this.hideBlockToolbox(s)))})))}}changeToolbarColor(e){const t=e.querySelector(".color-interactive-button div"),n=e.querySelector(".callout-wrapper");if(t&&n){var o=window.getComputedStyle(n);t.style.backgroundColor=o.backgroundColor,t.style.borderColor=o.borderColor,t.style.borderColor="#ccc"}}hideBlockToolbox(e){const t=e.firstChild?.id,n=document.getElementById(t);n&&(pe.isAnyDependentBoxVisible(n)||(n.style.display="none"))}static isAnyDependentBoxVisible(e){const t=e.querySelectorAll(".dependent-box");for(const e of t){const t=window.getComputedStyle(e);if("none"!==t.display&&"hidden"!==t.visibility)return!0}return!1}resetToolbox(e,t){const n=t.querySelector(".block-toolbar");if(!n)return void console.log("block-toolbar not found");const o=n.querySelector(".media-more-option-select");o&&(o.style.display="none");const i=n.querySelector(".color-interactive-select");i&&(i.style.display="none"),this.changeToolbarColor(t)}static createToolbox(e=!1,t=!1,n=!1,o=!1){const i=document.createElement("div");i.classList.add("block-toolbar-wrapper","exclude-from-clone",l.EditorOnly),i.style.position="relative";const r=document.createElement("div");return r.classList.add("block-toolbar","soft-box-shadow"),r.id=`btb-${w.generateUniqueId()}`,i.appendChild(r),e&&r.appendChild(Ae.languageSelectionTool().htmlElement),t&&r.appendChild(Ae.alignTool().htmlElement),n&&r.appendChild(Ae.colorTool().htmlElement),o&&r.appendChild(Ae.extraOptions().htmlElement),i}}class Ce extends y{dropdownList;svgIcon;constructor(e,t,n,o=!0){const i=new te("icon-wordpress-chevron-down",ee.medium);super({id:e,title:t,dropdownList:n,svgIcon:o?i:null}),this.dropdownList=n,this.svgIcon=i,this.attachEvents(),n.setParentDropdownMenuButton(this)}init(){const e=document.createElement("button");if(e.id=this.props.id,e.role="button",e.classList.add("button-reset","text-formatting-select-button","text-formatting-operation","option-hover","pointer"),e.tabIndex=1,e.style.position="relative",e.setAttribute("aria-controls",this.props.dropdownList.htmlElement.id),"string"==typeof this.props.title){const t=document.createElement("span");t.classList.add("no-selection"),t.textContent=this.props.title,e.appendChild(t)}else e.appendChild(this.props.title);return this.props.svgIcon&&e.appendChild(this.props.svgIcon.htmlElement),e}attachEvents(){this.htmlElement.addEventListener("click",(()=>{this.dropdownList.isVisible?this.dropdownList.hide():this.dropdownList.show()})),document.addEventListener(s.ChangeBlockToolbarLanguage,this.handleChangeBlockToolbarLanguageEvent.bind(this))}handleChangeBlockToolbarLanguageEvent(e){const t=e.detail;if(t.targetClass&&this.classList.includes(t.targetClass)){const e=t.action;this.htmlElement.closest(`#${e.blockId}`)&&(this.changeTitle(pe.languageMap[e.language]),this.dropdownList.hide())}}get display(){return"block"}changeTitle(e){const t=this.htmlElement.querySelector("span");t&&(t.textContent=e)}static create(e,t,n,o,i=[]){const r=new Ce(e+w.generateUniqueId(),t,n,o);return r.addCssClass(...i),r}}!function(e){e.ColorTextOptionSelect="colorTextOptionSelect"}(P||(P={})),function(e){e.ColorTextOptionsMenu="colorTextOptionsMenu"}(F||(F={}));class ge{static build(){const e=K.getInstance();return e.appendDropdown(ge.turnIntoDropdown()),e.appendSeparator(ge.separator("turnIntoSeparator")),e.appendButtonGroup(ge.buttonGroup()),e.appendDropdown(ge.colorDropdown()),e.appendSeparator(ge.separator("textOperationsSeparator")),e.appendDropdown(ge.moreOptionsDropdown()),e}static turnIntoDropdown(){const e=new ae("turnIntoSelect"),t=new Ce("turnIntoButton","Text",e),n=new oe("turnIntoMenu",t,e);return e.append(new he(e,"Turn into")),e.append(new se("turnIntoOptionText",e,q.transformBlock,k.ELEMENT_TYPES.PARAGRAPH,be.paragraph.htmlElement,"Text","Ctrl+Shift+Enter")),e.append(new se("turnIntoOptionTodoList",e,q.transformBlock,k.ELEMENT_TYPES.CHECK_LIST,be.todo_list.htmlElement,"Todo list","Ctrl+1")),e.append(new se("turnIntoOptionBulletedList",e,q.transformBlock,k.ELEMENT_TYPES.BULLETED_LIST,be.b_list.htmlElement,"Bulleted list","Ctrl+.")),e.append(new se("turnIntoOptionNumberedList",e,q.transformBlock,k.ELEMENT_TYPES.NUMBERED_LIST,be.n_list.htmlElement,"Numbered list","Ctrl+/")),e.append(new se("turnIntoOptionBlockCode",e,q.transformBlock,k.ELEMENT_TYPES.CODE,be.code.htmlElement,"Block code")),e.append(new se("turnIntoOptionQuote",e,q.transformBlock,k.ELEMENT_TYPES.QUOTE,be.quote.htmlElement,"Quote")),e.append(new se("turnIntoOptionHeading2",e,q.transformBlock,k.ELEMENT_TYPES.HEADER_2,be.head2.htmlElement,"Heading 2","Ctrl+Alt+2")),e.append(new se("turnIntoOptionHeading3",e,q.transformBlock,k.ELEMENT_TYPES.HEADER_3,be.head3.htmlElement,"Heading 3","Ctrl+Alt+3")),e.append(new se("turnIntoOptionHeading4",e,q.transformBlock,k.ELEMENT_TYPES.HEADER_4,be.head4.htmlElement,"Heading 4","Ctrl+Alt+4")),n}static separator(e){return new ce(e)}static buttonGroup(){const e=new de,t=ue.create(q.toggleLink,"Link",te.create(i.Link,ee.large));t.setId(O.Link),t.appendTo(e);const n=ue.create(q.toggleBold,"Bold",te.create(i.Bold,ee.large));n.setId(O.Bold),n.appendTo(e);const o=ue.create(q.toggleItalic,"Italic",te.create(i.Italic,ee.large));o.setId(O.Italic),o.appendTo(e);const r=ue.create(q.toggleUnderline,"Underline",te.create(i.Underline,ee.large));r.setId(O.Underline),r.appendTo(e);const l=ue.create(q.toggleInlineCode,"Code",te.create(i.InlineCode,ee.large));l.setId(O.InlineCode),l.appendTo(e);const s=ue.create(q.toggleStrikeThrough,"Strike-through",te.create(i.StrikeThrough,ee.large));return s.setId(O.Strikethrough),s.appendTo(e),e}static colorDropdown(){const e=new ae(P.ColorTextOptionSelect),t=new Ce("colorTextButton",new me("white").htmlElement,e),n=new oe(F.ColorTextOptionsMenu,t,e);e.append(new he(e,"Highlight"));const o=new se(R.BackgroundOptionRed,e,q.toggleHiliteColor,M.HiliteColorRed,new me(M.HiliteColorRed).htmlElement,"Red");o.addClass("hiliteColor");const i=new se(R.BackgroundOptionGreen,e,q.toggleHiliteColor,M.HiliteColorGreen,new me(M.HiliteColorGreen).htmlElement,"Green");i.addClass("hiliteColor");const r=new se(R.BackgroundOptionBlue,e,q.toggleHiliteColor,M.HiliteColorBlue,new me(M.HiliteColorBlue).htmlElement,"Blue");r.addClass("hiliteColor");const l=new se(R.BackgroundOptionYellow,e,q.toggleHiliteColor,M.HiliteColorYellow,new me(M.HiliteColorYellow).htmlElement,"Yellow");l.addClass("hiliteColor");const s=new se(R.BackgroundOptionGrey,e,q.toggleHiliteColor,M.HiliteColorGrey,new me(M.HiliteColorGrey).htmlElement,"Grey");s.addClass("hiliteColor");const a=new se(R.BackgroundOptionNone,e,q.toggleHiliteColor,M.HiliteColorNone,new me(M.HiliteColorNone).htmlElement,"None");a.addClass("hiliteColor"),e.append(o),e.append(i),e.append(r),e.append(l),e.append(s),e.append(a),e.append(new he(e,"Text"));const c=new se("colorOptionRed",e,q.toggleForeColor,M.ForeColorRed,new te("icon-material-format",ee.large).htmlElement,"Red");c.addClass("foreColor");const d=new se("colorOptionGreen",e,q.toggleForeColor,M.ForeColorGreen,new te("icon-material-format",ee.large).htmlElement,"Green");d.addClass("foreColor");const u=new se("colorOptionBlue",e,q.toggleForeColor,M.ForeColorBlue,new te("icon-material-format",ee.large).htmlElement,"Blue");u.addClass("foreColor");const m=new se("colorOptionYellow",e,q.toggleForeColor,M.ForeColorYellow,new te("icon-material-format",ee.large).htmlElement,"Yellow");m.addClass("foreColor");const h=new se("colorOptionGrey",e,q.toggleForeColor,M.ForeColorGrey,new te("icon-material-format",ee.large).htmlElement,"Grey");h.addClass("foreColor");const A=new se("colorOptionNone",e,q.toggleForeColor,M.ForeColorInitial,new te("icon-material-format",ee.large).htmlElement,"None");return A.addClass("foreColor"),e.append(c),e.append(d),e.append(u),e.append(m),e.append(h),e.append(A),n}static moreOptionsDropdown(){const e=new te("icon-material-more",ee.large),t=new ae("moreTextOptionSelect"),n=new Ce("moreTextOptionButton",e.htmlElement,t,!1),o=new oe("moreTextOptionsMenu",n,t);t.append(new he(t,"More options")),t.append(new se("copyOption",t,q.copySelected,null,be.copy.htmlElement,"Copy","Ctrl+C")),t.append(new se("cutOption",t,q.cutSelected,null,be.cut.htmlElement,"Cut","Ctrl+X")),t.append(new se("pasteOption",t,q.past,null,be.paste.htmlElement,"Replace","Ctrl+V")),t.append(new se("duplicateOption",t,q.duplicateBlock,null,be.duplicate.htmlElement,"Clone","Ctrl+D")),t.append(new se("resetOption",t,q.removeFormat,null,be.eraser.htmlElement,"Reset Style","Ctrl+\\"));const i=new se("deleteOption",t,q.deleteBlock,null,be.delete.htmlElement,"Delete","Shift+Del");return i.addCssClass("danger-option"),t.append(i),o}}const be={paragraph:new te("icon-material-format","1.25rem"),todo_list:new te("icon-material-check-list-2",ee.large),b_list:new te("icon-wordpress-bulleted-list",ee.large),n_list:new te("icon-wordpress-numbered-list",ee.large),code:new te("icon-wordpress-code-mark",ee.large),quote:new te("icon-wordpress-quote",ee.large),head1:new te("icon-julia-head-1",ee.large),head2:new te("icon-julia-head-2",ee.large),head3:new te("icon-julia-head-3",ee.large),head4:new te("icon-julia-head-4",ee.large),head5:new te("icon-julia-head-5",ee.large),head6:new te("icon-julia-head-6",ee.large),duplicate:new te("icon-material-duplicate",ee.large),delete:new te("icon-material-trash",ee.large),eraser:new te("icon-material-clear",ee.large),copy:new te("icon-material-copy",ee.large),cut:new te("icon-material-cut",ee.large),paste:new te("icon-material-paste",ee.large)};class Ee extends y{constructor(){super({})}init(){const e=document.createElement("span");return e.innerText="No matching block types found.",e.classList.add("empty-block-options"),e.style.padding="10px",e.style.color="rgba(55, 53, 47, 0.65)",e.style.display="none",e}}class fe extends y{static id="quickMenu";currentFocusedMenuItem;menuSections;quickMenuEmpty;filterInput;focusStack;static instance;constructor(e){const t=new Ee;super({quickMenuEmpty:t}),this.currentFocusedMenuItem=null,this.menuSections=new le,this.quickMenuEmpty=t,this.focusStack=e,this.attachEvents(),this.filterInput=""}init(){const e=document.createElement("div");e.id=fe.id,e.style.zIndex=L.SlightlyImportant,e.classList.add("block-options-wrapper","soft-box-shadow"),e.style.display="none";const t=document.createElement("div");return t.classList.add("block-options"),t.style.position="relative",t.appendChild(this.props.quickMenuEmpty.htmlElement),e.appendChild(t),e}append(e){this.menuSections.append(e),this.htmlElement.querySelector(".block-options").appendChild(e.htmlElement)}static getInstance(){const e=I.Instance.resolve("IFocusStack");return fe.instance||(fe.instance=new fe(e)),fe.instance}switchVisualFocus(e){this.currentFocusedMenuItem!=e&&(this.currentFocusedMenuItem&&this.currentFocusedMenuItem.value.removeFocus(),this.currentFocusedMenuItem=e,this.currentFocusedMenuItem.value.focus(),this.focusStack.peek()?.focus())}focusOnTheFirstVisibleItem(){const e=this.menuSections.getFirst();let t=e;for(;t;){const n=t.value.menuItems.findFirst((e=>e.isVisible));if(n)return void this.switchVisualFocus(n);if(t=t.nextNode,t==e)return}}focusPreviousVisibleItem(){let e;if(this.currentFocusedMenuItem){if(e=this.currentFocusedMenuItem.getPreviousSatisfying((e=>e.isVisible)),!e){let t=this.menuSections.find(this.currentFocusedMenuItem.value.immediateParent).getPreviousSatisfying((e=>e.isVisible));if(!t)return;e=t.value.menuItems.findLast((e=>e.isVisible))}}else{let t=this.menuSections.findLast((e=>e.isVisible));if(!t)return;e=t.value.menuItems.findLast((e=>e.isVisible))}this.switchVisualFocus(e)}focusNextVisibleItem(){let e;if(this.currentFocusedMenuItem){if(e=this.currentFocusedMenuItem.getNextSatisfying((e=>e.isVisible)),!e){let t=this.menuSections.find(this.currentFocusedMenuItem.value.immediateParent).getNextSatisfying((e=>e.isVisible));if(!t)return;e=t.value.menuItems.findFirst((e=>e.isVisible))}}else{let t=this.menuSections.findFirst((e=>e.isVisible));if(!t)return;e=t.value.menuItems.findFirst((e=>e.isVisible))}this.switchVisualFocus(e)}filterItems(){this.menuSections.forEach((e=>{e.filterSection(this.filterInput)})),this.menuSections.any((e=>e.isVisible))?this.quickMenuEmpty.hide():this.quickMenuEmpty.show(),this.focusOnTheFirstVisibleItem()}show(){setTimeout((()=>{const e=document.activeElement;if(!e)return void console.error("Failed to display the quickMenu: no active element found.");this.focusStack.push(e);const t=window.getSelection();if(!t||0===t.rangeCount)throw new Error("No selection found.");const n=t.getRangeAt(0).getBoundingClientRect();this.htmlElement.style.display="flex";const o=this.htmlElement.offsetWidth;let i=n.left+window.scrollX;i+o>window.innerWidth&&(i=window.innerWidth-o-20),this.htmlElement.offsetHeight;let r=n.bottom+window.scrollY+10;this.htmlElement.style.left=`${i}px`,this.htmlElement.style.top=`${r}px`,super.show(),this.focusOnTheFirstVisibleItem(),this.focusStack.peek()?.focus()}),10)}restore(){this.filterInput="",this.menuSections.forEach((e=>{e.restore()}))}hide(){this.restore(),this.focusStack.peek()?.focus(),super.hide()}attachEvents(){document.addEventListener(S.emittedCommand,(e=>{const{command:t}=e.detail;t==q.transformBlock&&this.hide()})),document.addEventListener("keydown",(e=>{const t=T.findClosestAncestorOfActiveElementByClass("block");if(this.isVisible||"/"!==e.key||e.ctrlKey||e.shiftKey||e.altKey||!t)(!this.isVisible||"ArrowLeft"!==e.key||e.ctrlKey||e.shiftKey||e.altKey)&&(!this.isVisible||"ArrowRight"!==e.key||e.ctrlKey||e.shiftKey||e.altKey)?!this.isVisible||"ArrowDown"!==e.key||e.ctrlKey||e.shiftKey||e.altKey?!this.isVisible||"ArrowUp"!==e.key||e.ctrlKey||e.shiftKey||e.altKey?!this.isVisible||!/^[a-z0-9 ]$/i.test(e.key)||e.ctrlKey||e.shiftKey||e.altKey?this.isVisible&&"Backspace"===e.key?""==this.filterInput?this.hide():(this.removeLastFilterInputCharacter(),this.filterItems()):!this.isVisible||"Escape"!==e.key||e.ctrlKey||e.shiftKey||e.altKey||this.hide():(this.concatFilterInput(e.key),this.filterItems()):(e.preventDefault(),this.focusPreviousVisibleItem()):(e.preventDefault(),this.focusNextVisibleItem()):(e.preventDefault(),e.stopPropagation());else{if(e.target.closest(".ignore-quick-menu"))return;this.show()}})),document.addEventListener("click",(e=>{this.isVisible&&!e.target.closest(`#${this.htmlElement.id}`)&&this.hide()})),document.addEventListener("keydown",(e=>{if(this.isVisible&&"Enter"===e.key&&!e.ctrlKey&&!e.shiftKey&&!e.altKey){e.preventDefault(),e.stopPropagation();const t=this.currentFocusedMenuItem?.value.blockType;t&&this.transformHtmlFocusedElementBeforeOpenQuickMenu(t)}})),document.addEventListener(S.blockTypeChanged,(e=>{this.hide()}))}emitCommandEvent(e){const t=new CustomEvent(S.emittedCommand,{detail:{command:q.transformBlock,value:e}});document.dispatchEvent(t)}transformHtmlFocusedElementBeforeOpenQuickMenu(e){e&&this.emitCommandEvent(e)}concatFilterInput(e){this.filterInput+=e.toLowerCase()}removeLastFilterInputCharacter(){this.filterInput.length>0&&(this.filterInput=this.filterInput.slice(0,-1))}}class Be extends ie{constructor(){super()}append(e){const t=new re(e,this);this.head&&this.tail?(this.tail.setNext(t),t.setPrevious(this.tail),this.tail=t):(this.head=t,this.tail=t),this.length++}}class ve extends y{immediateParent;menuItems=new Be;constructor(e){super({title:e.title,classList:e.classList}),this.immediateParent=e.quickMenuInstance}init(){const e=document.createElement("section");e.classList.add(this.props.classList);const t=document.createElement("h2");return t.textContent=this.props.title,t.classList.add("no-selection"),e.appendChild(t),e}appendQuickMenuItems(e){e.forEach((e=>{this.appendQuickMenuItem(e)}))}appendQuickMenuItem(e){this.menuItems.append(e),this.htmlElement.appendChild(e.htmlElement)}filterSection(e){this.restore(),""!==e&&(this.menuItems.forEach((t=>{t.filterValue.toLocaleLowerCase().includes(e)||t.hide()})),this.menuItems.any((t=>t.filterValue.toLocaleLowerCase().includes(e)))||this.hide())}restore(){this.show(),this.menuItems.forEach((e=>{e.show()}))}}class we extends y{_blockType;_filterValue;_immediateParent;constructor(e,t,n,o,i,r){super({title:t,description:n,iconId:o}),this._blockType=i,this._filterValue=r,this._immediateParent=e,this.attachEvents()}init(){const e=document.createElement("div");e.classList.add("option","option-hover","block-operation","pointer","no-selection"),e.setAttribute("data-block-operation","apply-selected-block-type"),e.setAttribute("tabindex","0"),e.setAttribute("role","option");const t=document.createElement("div");t.classList.add("option-image");const n=new te(this.props.iconId,"100%");t.appendChild(n.htmlElement),e.appendChild(t);const o=document.createElement("div");o.classList.add("option-text");const i=document.createElement("p");i.classList.add("block-title"),i.innerText=this.props.title,o.appendChild(i);const r=document.createElement("p");return r.classList.add("block-description"),r.innerText=this.props.description,o.appendChild(r),e.appendChild(o),e}get display(){return"flex"}get filterValue(){return this._filterValue}get immediateParent(){return this._immediateParent}get blockType(){return this._blockType}focus(){this.htmlElement.classList.add("option-focused"),this.htmlElement.focus()}removeFocus(){this.htmlElement.classList.remove("option-focused")}emitCommandEvent(){const e=new CustomEvent(S.emittedCommand,{detail:{command:q.transformBlock,value:this.blockType}});document.dispatchEvent(e)}attachEvents(){this.htmlElement.addEventListener("mousemove",(()=>{const e=this._immediateParent.menuItems.find(this);this._immediateParent.immediateParent.switchVisualFocus(e)})),this.htmlElement.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),this.emitCommandEvent()}))}}class ke{static build(){const e=fe.getInstance(),t=new ve({quickMenuInstance:e,title:"Basic",classList:"basic-section"});t.appendQuickMenuItems([new we(t,"Text","Start writing in plain text.","icon-material-format",k.ELEMENT_TYPES.PARAGRAPH,"paragraph text p"),new we(t,"Bulleted list","Organize items with bullet points.","icon-wordpress-bulleted-list",k.ELEMENT_TYPES.BULLETED_LIST,"bulleted list unordered list ul"),new we(t,"Numbered list","List items in a numbered format.","icon-wordpress-numbered-list",k.ELEMENT_TYPES.NUMBERED_LIST,"numbered list number list sequential list ol enumerated list ordered list"),new we(t,"Table","Organize data in rows and columns.","icon-material-table",k.ELEMENT_TYPES.TABLE,"table tr th"),new we(t,"Callout","Emphasize key points with a callout box.",i.Callout,k.ELEMENT_TYPES.CALLOUT,"callout note spotlight"),new we(t,"Code","Include a code snippet.","icon-wordpress-code-mark",k.ELEMENT_TYPES.CODE,"code script source markup"),new we(t,"Quote","Highlight text as a quote.","icon-wordpress-quote",k.ELEMENT_TYPES.QUOTE,"quote blockquote citation quotation cite"),new we(t,"Heading 2","Medium header for sections.","icon-julia-head-2",k.ELEMENT_TYPES.HEADER_2,"header 2 heading 2 h2"),new we(t,"Heading 3","Small header for subsections.","icon-julia-head-2",k.ELEMENT_TYPES.HEADER_3,"header 3 heading 3 h3"),new we(t,"Separator","Visually divide blocks.","icon-wordpress-separator",k.ELEMENT_TYPES.SEPARATOR,"separator divider rule line hr")]),e.append(t);const n=new ve({quickMenuInstance:e,title:"Media",classList:"media-section"});n.appendQuickMenuItems([new we(n,"Image","Upload or embed an image.",i.Image2,k.ELEMENT_TYPES.IMAGE,"image figure photo illustration picture media upload"),new we(n,"YouTube","Embed a YouTube video.",i.YouTube,"video","video embed youtube clip film movie tape")]),e.append(n);const o=new ve({quickMenuInstance:e,title:"Heading",classList:"heading-section"});o.appendQuickMenuItems([new we(o,"Heading 1","Large header for main topics.","icon-julia-head-1",k.ELEMENT_TYPES.HEADER_1,"header 1 heading 1 h1"),new we(o,"Heading 2","Medium header for sections.","icon-julia-head-2",k.ELEMENT_TYPES.HEADER_2,"header 2 heading 2 h2"),new we(o,"Heading 3","Small header for subsections.","icon-julia-head-3",k.ELEMENT_TYPES.HEADER_3,"header 3 heading 3 h3"),new we(o,"Heading 4","Detailed header for subtopics.","icon-julia-head-4",k.ELEMENT_TYPES.HEADER_4,"header 4 heading 4 h4"),new we(o,"Heading 5","Minor header for specifics.","icon-julia-head-5",k.ELEMENT_TYPES.HEADER_5,"header 5 heading 5 h5"),new we(o,"Heading 6","Smallest header for fine details.","icon-julia-head-6",k.ELEMENT_TYPES.HEADER_6,"header 6 heading 6 h6")]),e.append(o);const r=new ve({quickMenuInstance:e,title:"List",classList:"list-section"});r.appendQuickMenuItems([new we(r,"Todo list","Track tasks with checkboxes.","icon-material-check-list-2",k.ELEMENT_TYPES.CHECK_LIST,"todo list task list checklist"),new we(r,"Bulleted list","Organize items with bullet points.","icon-wordpress-bulleted-list",k.ELEMENT_TYPES.BULLETED_LIST,"bulleted list unordered list ul"),new we(r,"Numbered list","List items in a numbered format.","icon-wordpress-numbered-list",k.ELEMENT_TYPES.NUMBERED_LIST,"numbered list number list sequential list ol enumerated list ordered list")]),e.append(r);const l=new ve({quickMenuInstance:e,title:"Embed",classList:"embed-section"});return l.appendQuickMenuItems([new we(l,"GitHub Gist","Embed a GitHub Gist.",i.GitHub,"github-gist","code gist github snippet git"),new we(l,"CodePen","Embed a CodePen web demo.",i.CodePen,"codepen","code codepen"),new we(l,"Spotify","Embed a Spotify audio track.",i.Spotify,"spotify","mp3 sound audio music spotify track")]),e.append(l),e}}class ye extends y{constructor(e){super({value:e})}init(){const e=document.createElement("div");e.classList.add("title");const t=document.createElement("h1");return t.setAttribute("contentEditable","true"),t.setAttribute("data-placeholder","Untitled"),this.props.value&&(t.textContent=this.props.value),e.appendChild(t),e}static create(e){return new ye(e)}}class Ie{static build(){return ye.create(window.editorConfig?.title)}}var xe,Te,Se,Le,Me,Ne;!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight"}(xe||(xe={})),function(e){e.Column="Column",e.Row="Row",e.Cell="Cell",e.SelectedCells="SelectedCells"}(Te||(Te={}));class qe{static addRow(e,t=null){const n=null!==t&&t>=0&&t<=e.rows.length?t:e.rows.length,o=e.insertRow(n),i=Array.from(e.rows).reduce(((e,t)=>Math.max(e,t.cells.length)),0);let r=[];for(let e=0;e<i;e++){const e=o.insertCell();e.contentEditable="true",e.setAttribute("data-placeholder","Enter text"),e.classList.add("editable"),r.push(e)}setTimeout((()=>{r.forEach((e=>e.classList.remove("temporary-shadow")))}),700)}static addColumn(e,t=null){const n=null!==t?t:void 0;let o=[];for(let t=0;t<e.rows.length;t++){const i=e.rows[t].insertCell(n);i.contentEditable="true",i.setAttribute("data-placeholder","cell"),i.classList.add("editable"),o.push(i)}setTimeout((()=>{o.forEach((e=>e.classList.remove("temporary-shadow")))}),700)}static isLastColumn(e,t){if(!e.contains(t))return!1;const n=t.parentElement;return t===n.cells[n.cells.length-1]}static isLastRow(e,t){return!!e.contains(t)&&t.parentElement===e.rows[e.rows.length-1]}static removeColumnByCell(e){if("td"!==e.tagName.toLowerCase()&&"th"!==e.tagName.toLowerCase())throw new Error("The provided element is not a table cell.");const t=e.parentElement.parentElement,n=e.cellIndex;for(let e=0;e<t.rows.length;e++)n<t.rows[e].cells.length&&t.rows[e].deleteCell(n)}static removeRowByCell(e){if("td"!==e.tagName.toLowerCase()&&"th"!==e.tagName.toLowerCase())throw new Error("The provided element is not a table cell.");const t=e.parentElement;t.parentElement.deleteRow(t.rowIndex)}static getActiveTableCell(){const e=document.activeElement;return"td"===e?.tagName.toLowerCase()?e:e?.closest("td")||null}static getLastTableCell(e){for(let t=e.rows.length-1;t>=0;t--){const n=e.rows[t];for(let e=n.cells.length-1;e>=0;e--){const t=n.cells[e];if(t.isContentEditable)return t}}return null}static getFirstTableCell(e){for(let t=0;t<e.rows.length;t++){const n=e.rows[t];for(let e=0;e<n.cells.length;e++){const t=n.cells[e];if(t.isContentEditable)return t}}return null}static getNeighborCell(e,t,n){if(!t.parentElement)return null;const o=t.parentElement.rowIndex,i=t.cellIndex;switch(n){case xe.ArrowRight:return t.parentElement.cells[i+1]??null;case xe.ArrowLeft:return t.parentElement.cells[i-1]??null;case xe.ArrowUp:return e.rows[o-1]?.cells[i]??null;case xe.ArrowDown:return e.rows[o+1]?.cells[i]??null}return null}static changeCellBorderColor(e,t,n){let o=null;switch(t){case Te.Column:const t=e.querySelector("td.selected")?.cellIndex;void 0!==t&&(o=e.querySelectorAll(`td:nth-child(${t+1})`));break;case Te.Row:const n=e.querySelector("td.selected");n&&(o=n.parentElement.cells);break;case Te.Cell:case Te.SelectedCells:o=e.querySelectorAll("td.selected");break;default:throw new Error("Invalid scope.")}o&&Array.from(o).forEach((e=>{e.style.border=`1px double ${n}`}))}static moveFocusToBelowCell(e,t){const n=t.parentElement?.nextElementSibling;if(!n)return!1;const o=t.cellIndex,i=n.cells[o];return!(!i||!i.isContentEditable||(i.focus(),0))}}class Oe extends y{constructor(){super({}),this.attachEvent()}init(){const e=document.createElement("div");return e.classList.add("content"),e.style.marginTop="1.3rem",window.editorConfig,e.append(k.blockParagraph()),e}clearSelectionOnDrag(){document.addEventListener(a.Mousedown,(e=>{const t=e.target;let n;t&&(n=t.nodeType==Node.TEXT_NODE?t.parentElement:t,n&&n.closest(".drag-handler")&&window.getSelection()?.removeAllRanges())}))}attachEvent(){this.clearSelectionOnDrag(),this.reRenderPlaceholder(),document.addEventListener(a.Click,(e=>{document.querySelectorAll(".separator-selected").forEach((e=>{e.classList.remove("separator-selected"),e.removeAttribute("tabindex")}));let t=e.target;if(t&&t.closest(".separator-wrapper")){e.stopImmediatePropagation(),e.preventDefault();let n=t.closest(".separator-wrapper");n&&(n.classList.add("separator-selected"),n.setAttribute("tabindex","-1"),setTimeout((()=>{n.focus()}),50))}})),document.addEventListener(a.Blur,(e=>{const t=e.target;if(t instanceof HTMLElement&&t.closest(".separator-selected")){e.stopImmediatePropagation();const n=t.closest(".separator-selected");n.classList.remove("separator-selected"),n.removeAttribute("tabindex")}}),!0),document.addEventListener("copiedText",(()=>{const e=document.querySelector("#copyOption .text-option span");e&&(e.textContent="Copied!",setTimeout((()=>{e.textContent="Copy"}),1500))})),window.addEventListener("load",(()=>{const e=document.querySelector(".johannes-editor");if(e){let t=e.querySelectorAll(".block");if(1==t.length){const e=t[0].querySelector(".johannes-content-element");""==e.innerText&&e.focus()}}})),document.addEventListener(a.Keydown,(e=>{"Enter"===e.key&&!e.shiftKey&&T.isEventTargetDescendantOf(e,"#johannesEditor .content-wrapper .title")&&(e.preventDefault(),document.dispatchEvent(new CustomEvent(S.pressedEnterOnTitle,{})))}),!0),document.addEventListener(a.Keydown,(async e=>{if(T.isEventTargetDescendantOf(e,".ignore-events")&&"Tab"!==e.key)return;const t=I.Instance.resolve("IQuickMenu"),n=I.Instance.resolve("ITableContextFloatingToolbar");if(!(e.ctrlKey||e.shiftKey||e.altKey))if(e.key!==H.Enter||e.shiftKey||t.isVisible||n.isVisible){if(e.key===H.Backspace){const t=e.target;if(t.classList.contains("separator-wrapper"))e.stopImmediatePropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.deleteBlockAndFocusOnPrevious}}));else if(t.closest(".johannes-content-element")&&""===t.textContent?.trim())e.stopImmediatePropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.deleteBlockAndFocusOnPrevious}}));else if(t.closest(".johannes-content-element")&&""!==t.textContent?.trim()){const{atStart:n,atEnd:o}=T.getSelectionTextInfo(t),i=document.getSelection()?.toString();n&&0==i?.length&&(e.preventDefault(),e.stopImmediatePropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.mergeWithPreviousBlock}})))}}else if(e.key===H.Delete){const t=e.target;if(t.classList.contains("separator-wrapper"))e.stopImmediatePropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.deleteBlockAndFocusOnNext}}));else if(t.classList.contains("johannes-content-element")&&""===t.textContent?.trim())e.stopImmediatePropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.deleteBlockAndFocusOnNext}}));else if(t.closest(".johannes-content-element")&&""!==t.textContent?.trim()){const{atStart:n,atEnd:o}=T.getSelectionTextInfo(t),i=document.getSelection()?.toString();o&&0==i?.length&&(e.preventDefault(),e.stopImmediatePropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.mergeWithNextBlock}})))}}else if("ArrowRight"===e.key&&Oe.isCursorAtEnd(e.target));else if("ArrowLeft"===e.key&&Oe.isCursorAtStart(e.target));else if("ArrowDown"===e.key&&Oe.isCursorOnLastLine());else if("ArrowUp"===e.key&&Oe.isCursorOnFirstLine());else if("Tab"===e.key&&T.isEventTargetDescendantOf(e,".johannes-code")){e.preventDefault();const t="    ";document.execCommand("insertText",!1,t)}}else{e.preventDefault();const t=e.target.closest(".table-controller");if(t){const n=e.target.closest("td, th"),o=t.querySelector("table");return void(n&&(qe.moveFocusToBelowCell(o,n)||document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.focusOnNextBlock}}))))}if(e.target.closest(".johannes-code"))return;e.preventDefault(),e.stopImmediatePropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.insertNew}}))}})),document.addEventListener(a.Blur,(e=>this.sanitizeElementEventHandler(e)),!0)}sanitizeElementEventHandler(e){const t=e.target;t instanceof HTMLElement&&"true"===t.contentEditable&&T.sanitizeContentEditable(t)}reRenderPlaceholder(){document.addEventListener(a.Input,(function(e){if(e.target instanceof HTMLElement){const t=e.target;if(t.isContentEditable&&t.hasAttribute("data-placeholder")){const e=t.getAttribute("data-placeholder");""===t.textContent?.trim()&&(t.setAttribute("data-placeholder",e||""),t.textContent="")}}}))}static isCursorAtEnd(e){const t=e.closest(".focusable");if(!t)return!1;const n=window.getSelection();if(!n.rangeCount)return!1;const o=n.getRangeAt(0);let i=o.endContainer;return i.nodeType===Node.TEXT_NODE&&(i=i.parentNode),o.collapsed&&i===t&&o.endOffset===(o.endContainer.textContent||"").length}static isCursorAtStart(e){const t=e.closest(".focusable");if(!t)return!1;const n=window.getSelection();if(!n.rangeCount)return!1;const o=n.getRangeAt(0);let i=o.startContainer;return i.nodeType===Node.TEXT_NODE&&(i=i.parentNode),o.collapsed&&i===t&&0===o.startOffset}static isAtFirstVisibleLine(e){const t=window.getSelection();if(!t.rangeCount)return!1;const n=t.getRangeAt(0).cloneRange();return n.collapse(!0),n.setStart(e,0),n.getBoundingClientRect().top===e.getBoundingClientRect().top}static isAtLastVisibleLine(e){const t=window.getSelection();if(!t.rangeCount)return!1;const n=t.getRangeAt(0).cloneRange();return n.collapse(!1),n.setEnd(e,e.childNodes.length),n.getBoundingClientRect().bottom===e.getBoundingClientRect().bottom}static didCursorMove(e){const t=window.getSelection();if(!t.rangeCount)return Promise.resolve(!1);const n=t.getRangeAt(0).cloneRange().getBoundingClientRect();return new Promise((o=>{setTimeout((()=>{const i=t.getRangeAt(0).cloneRange().getBoundingClientRect(),r=!(n.top===i.top&&n.left===i.left);r||e.preventDefault(),o(r)}),0)}))}static isCursorOnFirstLine(){const e=window.getSelection();if(!e||!e.rangeCount)return!1;const t=e.getRangeAt(0);return 0===t.startOffset&&t.startContainer===t.commonAncestorContainer}static isCursorOnLastLine(){const e=window.getSelection();if(!e||!e.rangeCount)return!1;const t=e.getRangeAt(0);return t.endOffset===t.endContainer.textContent?.length&&t.endContainer===t.commonAncestorContainer}static getInstance(){return I.Instance.resolve("IShortcutListeners"),I.Instance.resolve("ITableListeners"),new Oe}}class He{static build(){return Oe.getInstance()}}!function(e){e.Text="Text",e.Cell="Cell",e.Block="Block"}(Se||(Se={}));class Re extends _{static id="tableFloatingToolbar";static instance;focusStack;selectedCells=[];actualFocusedCell=null;tableOperationsService;controller;selectionMode=Se.Text;selectionFlag=!1;selectedText="";constructor(e,t){if(Re.instance)throw new Error("Use TableContextFloatingToolbar.getInstance() to get instance.");super(Re.id),this.clearAndHide=this.clearAndHide.bind(this),this.htmlElement.style.zIndex=L.ModeratelyImportant,this.controller=new AbortController,this.focusStack=e,this.tableOperationsService=t,this.attachEvents()}attachEvents(){document.addEventListener(a.Mousedown,this.handleMouseDown.bind(this)),document.addEventListener(a.Mousemove,this.handleMouseMove.bind(this)),document.addEventListener(a.Mouseup,this.handleMouseUp.bind(this)),document.addEventListener(a.Keydown,this.handleStartSelectionInCellKeyDown.bind(this)),document.addEventListener(a.Keydown,this.handleCellSelectionContinuationOnKeyDown.bind(this)),document.addEventListener(a.Keydown,this.handleKeyDown.bind(this)),document.addEventListener(a.Keyup,this.handleKeyUp.bind(this)),this.attachUIEvent(),super.attachEvents()}handleMouseDown(e){const t=e.target.closest(D.TD);t&&!t.matches(".figure-embed-container td")&&(console.log("MouseDown event on: ",e.target),e.stopImmediatePropagation(),this.controller.abort(),t!=this.actualFocusedCell&&this.hide(),this.clearAll(),this.addSelectedCell(t),this.selectionFlag=!0,this.selectionMode=Se.Text)}handleMouseMove(e){if(this.selectionFlag){const t=e.target.closest(D.TD);t&&(this.updateSelectionModeByMouseEvent(e),this.selectionMode==Se.Cell&&(e.stopImmediatePropagation(),e.preventDefault(),this.canHide&&this.hide(),this.addSelectedCell(t),document.getSelection()?.removeAllRanges()))}}handleMouseUp(e){this.selectedCells.length>0&&this.selectionFlag&&(this.resetSelectionState(),this.show())}handleKeyDown(e){const t=e.target.closest(D.TD);t&&!t.matches(".gist td")&&(e.key!=H.Enter||e.shiftKey||e.ctrlKey||e.metaKey||e.altKey?e.key==H.Escape&&this.canHide&&!K.getInstance().isVisible&&setTimeout((()=>{this.canHide&&(e.stopImmediatePropagation(),this.clearAll(),this.hide())}),10):e.stopImmediatePropagation())}handleStartSelectionInCellKeyDown(e){const t=e.target.closest(D.TD);t&&!t.matches(".gist td")&&(e.repeat||e.key!==H.Shift||(e.stopImmediatePropagation(),this.controller.abort(),this.selectionFlag=!0,this.selectionMode=Se.Text,this.addSelectedCell(t)))}handleCellSelectionContinuationOnKeyDown(e){if(this.selectionFlag){const t=e.target.closest(D.TD);if(t&&!t.matches(".gist td")&&this.selectionMode==Se.Cell&&e.shiftKey&&e.key.startsWith("Arrow")&&!e.repeat){e.stopImmediatePropagation(),e.preventDefault();const n=t.closest(D.TABLE),o=qe.getNeighborCell(n,t,e.key);this.addSelectedCell(t),o&&this.addSelectedCell(o)}}}normalizeText(e){return e.replace(/\s+/g," ").trim()}updateTheSelectionModeByCurrentSelectionState(e){if(this.selectionFlag){const t=document.getSelection();if(t){const n=this.normalizeText(t.toString().trim()),o=e.target.closest(D.TD);if(o.matches(".gist td"))return;const i=this.normalizeText((o.textContent||"").trim()),{atStart:r,atEnd:l}=T.getSelectionTextInfo(o);""===i||n===this.selectedText.trim()&&(r||l)?(this.selectionMode=Se.Cell,this.selectedText="",this.canHide&&this.hide()):n&&(this.selectedText=n)}}}updateSelectionModeByMouseEvent(e){if(this.selectionFlag&&this.actualFocusedCell){const t=this.actualFocusedCell.getBoundingClientRect(),n=e.clientX,o=e.clientY;n>=t.left&&n<=t.right&&o>=t.top&&o<=t.bottom||(this.selectionMode=Se.Cell,this.canHide&&this.hide())}}handleKeyUp(e){e.target.closest(D.TD)&&(e.stopImmediatePropagation(),this.updateTheSelectionModeByCurrentSelectionState(e),e.key===H.Shift&&(this.resetSelectionState(),this.selectedCells.length>0&&this.show()))}addSelectedCell(e){if(0===this.selectedCells.length)return this.selectedCells.push(e),e.classList.add("selected"),this.actualFocusedCell=e,void e.focus();this.selectedCells[this.selectedCells.length-1].closest("table")===e.closest("table")&&(-1===this.selectedCells.indexOf(e)?(this.selectedCells.push(e),e.classList.add("selected"),this.actualFocusedCell=e,e.focus()):(this.actualFocusedCell=e,e.focus()))}attachUIEvent(){document.addEventListener(s.CloseElement,this.handleCloseElementEvent.bind(this))}handleCloseElementEvent(e){const t=e.detail;Re.id==t.targetId&&this.clearAndHide()}show(){if(!this.actualFocusedCell)return void console.error("No focused cell found");this.resetAbortController(),this.focusStack.push(this.actualFocusedCell),this.changeToolbarPositionToBeClosedTo(this.actualFocusedCell),this.processSelectionChangeEffects();const e=this.actualFocusedCell.closest(".block");let t=null;e&&(t=e.querySelector(".block-toolbar"),t.classList.add("d-none")),super.show(),this.actualFocusedCell.addEventListener(a.Blur,(()=>this.clearAndHide(t)),{signal:this.controller.signal})}processSelectionChangeEffects(){Z.emitResetActiveButtonsElementEvent("backgroundColor");const e={};e[M.BackgroundColorRed]=this.tableOperationsService.queryAllStateCellBackgroundColor(this.selectedCells,M.BackgroundColorRed),e[M.BackgroundColorGreen]=this.tableOperationsService.queryAllStateCellBackgroundColor(this.selectedCells,M.BackgroundColorGreen),e[M.BackgroundColorBlue]=this.tableOperationsService.queryAllStateCellBackgroundColor(this.selectedCells,M.BackgroundColorBlue),e[M.BackgroundColorYellow]=this.tableOperationsService.queryAllStateCellBackgroundColor(this.selectedCells,M.BackgroundColorYellow),e[M.BackgroundColorGrey]=this.tableOperationsService.queryAllStateCellBackgroundColor(this.selectedCells,M.BackgroundColorGrey),Object.entries(e).forEach((([e,t])=>{t&&Z.emitShowHideActiveElementEvent("backgroundColor",e,"show")}))}changeToolbarPositionToBeClosedTo(e){const t=e.getBoundingClientRect();this.htmlElement.style.display="flex";const n=this.htmlElement.offsetWidth;let o=t.left+window.scrollX+0;o+n>window.innerWidth&&(o=window.innerWidth-n-20);const i=this.htmlElement.offsetHeight;let r=t.top+window.scrollY-i-10;r<0&&(r=t.bottom+window.scrollY+10),this.htmlElement.style.left=`${o}px`,this.htmlElement.style.top=`${r}px`}resetSelectionState(){this.selectionMode=Se.Text,this.selectionFlag=!1,this.selectedText=""}clearAll(){this.actualFocusedCell=null,document.querySelectorAll("td").forEach((e=>e.classList.remove("selected"))),this.selectedCells=[]}hide(){this.canHide&&super.hide()}clearAndHide(e=null){e&&e.classList.remove("d-none"),this.clearAll(),this.hide()}resetAbortController(){this.controller=new AbortController}static getInstance(){const e=I.Instance.resolve("IFocusStack"),t=I.Instance.resolve("ITableOperationsService");return new Re(e,t)}}class De{static build(){const e=I.Instance.resolve("ITableOperationsService"),t=Re.getInstance();return t.appendDropdown(De.tableOptions(e)),t.appendSeparator(De.separator("tableOperationsSeparator")),t.appendDropdown(De.tableColorDropdown()),t}static tableOptions(e){const t=new ae("tableOptionsSelect"),n=new Ce("tableOptions","Options",t),o=new oe("tableOptionsMenu",n,t);t.append(new he(t,"Insert Column")),t.append(new se("turnIntoOptionText",t,q.insertTableColumnLeft,k.ELEMENT_TYPES.PARAGRAPH,te.create(i.ColumnLeft,ee.medium).htmlElement,"Left")),t.append(new se("turnIntoOptionText",t,q.insertTableColumnRight,k.ELEMENT_TYPES.PARAGRAPH,te.create(i.ColumnRight,ee.medium).htmlElement,"Right")),t.append(new he(t,"Insert Row")),t.append(new se("turnIntoOptionTodoList",t,q.insertTableRowAbove,k.ELEMENT_TYPES.CHECK_LIST,te.create(i.RowAbove,ee.medium).htmlElement,"Above")),t.append(new se("turnIntoOptionTodoList",t,q.insertTableRowBelow,k.ELEMENT_TYPES.CHECK_LIST,te.create(i.RowBelow,ee.medium).htmlElement,"Below")),t.append(new he(t,"Remove"));const r=new se("turnIntoOptionText",t,q.removeColumn,k.ELEMENT_TYPES.PARAGRAPH,te.create(i.deleteSweep,ee.medium).htmlElement,"Column");r.addCssClass("danger-option"),t.append(r);const l=new se("turnIntoOptionTodoList",t,q.removeRow,k.ELEMENT_TYPES.CHECK_LIST,te.create(i.deleteSweep,ee.medium).htmlElement,"Row");return l.addCssClass("danger-option"),t.append(l),o}static tableColorDropdown(){const e=new ae("colorTableOptionSelect"),t=new Ce("colorTableButton",new me("white").htmlElement,e),n=new oe("tableColorOptionsMenu",t,e);e.append(new he(e,"Background"));const o=new se("backgroundOptionRed",e,q.toggleCellHiliteColor,M.BackgroundColorCellRed,new me(M.HiliteColorRed).htmlElement,"Red");o.addClass("backgroundColor");const i=new se("backgroundOptionGreen",e,q.toggleCellHiliteColor,M.BackgroundColorCellGreen,new me(M.HiliteColorGreen).htmlElement,"Green");i.addClass("backgroundColor");const r=new se("backgroundOptionBlue",e,q.toggleCellHiliteColor,M.BackgroundColorCellBlue,new me(M.HiliteColorBlue).htmlElement,"Blue");r.addClass("backgroundColor");const l=new se("backgroundOptionYellow",e,q.toggleCellHiliteColor,M.BackgroundColorCellYellow,new me(M.HiliteColorYellow).htmlElement,"Yellow");l.addClass("backgroundColor");const s=new se("backgroundOptionGrey",e,q.toggleCellHiliteColor,M.BackgroundColorCellGrey,new me(M.HiliteColorGrey).htmlElement,"Grey");s.addClass("backgroundColor");const a=new se("backgroundOptionNone",e,q.toggleCellHiliteColor,M.HiliteColorNone,new me(M.HiliteColorNone).htmlElement,"None");return a.addClass("backgroundColor"),e.append(o),e.append(i),e.append(r),e.append(l),e.append(s),e.append(a),n}static separator(e){return new ce(e)}}class Pe{static async embedImage(e,t){const n=new URL(e);if(!await Pe.validateImage(n.toString()))throw new Error("invalid image");const o=this.createEmbedContainer();o.style.maxWidth="100%",o.style.width="fit-content",o.style.height="auto";const i=document.createElement("img");i.src=n.toString(),i.alt="",i.style.maxWidth="100%",i.style.width="100%",i.style.height="auto",o.prepend(i),o.classList.add(r.AlignToolClass),Pe.finalizeEmbed(o,[r.AlignToolClass,"fit-content"],t)}static validateImage(e){return new Promise(((t,n)=>{const o=new Image;o.onload=()=>{t(!0)},o.onerror=()=>{t(!1)},o.src=e}))}static embedGoogleSheet(e,t){const n=e.pathname.split("/")[3],o=Pe.createEmbedContainer(["embed-container"]),i=document.createElement("iframe"),r=encodeURIComponent(n);i.src=`https://docs.google.com/spreadsheets/d/e/${r}/pubhtml?widget=true&amp;headers=false`,i.style.width="100%",i.style.height="450px",i.frameBorder="0",i.allowFullscreen=!0,o.appendChild(i),Pe.finalizeEmbed(o,["x-resizable"],t)}static embedYouTubeVideoAsIframe(e,t){const n=e.searchParams.get("v");if(n){const e=this.createEmbedContainer(["embed-container"]),o=document.createElement("iframe"),i=encodeURIComponent(n);o.src=`https://www.youtube.com/embed/${i}`,o.frameBorder="0",o.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",o.allowFullscreen=!0,e.appendChild(o),e.classList.add(r.AlignToolClass),this.finalizeEmbed(e,["x-resizable",r.AlignToolClass],t)}else console.error("Invalid YouTube video URL")}static embedYouTubeShortAsIframe(e,t){const n=e.pathname.split("/"),o=n[n.length-1];if(o){const e=Pe.createEmbedContainer(["embed-container"]),n=document.createElement("iframe"),i=encodeURIComponent(o);n.src=`https://www.youtube.com/embed/${i}`,n.frameBorder="0",n.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",n.allowFullscreen=!0,e.appendChild(n),Pe.finalizeEmbed(e,["x-resizable",r.AlignToolClass],t)}else console.error("Invalid YouTube Shorts URL")}static embedYouTubePlaylistAsIframe(e,t){const n=e.searchParams.get("list");if(n){const e=Pe.createEmbedContainer(["embed-container"]),o=encodeURIComponent(n),i=document.createElement("iframe");i.src=`https://www.youtube.com/embed/videoseries?list=${o}`,i.setAttribute("allowfullscreen","true"),e.appendChild(i),Pe.finalizeEmbed(e,["x-resizable",r.AlignToolClass],t)}else console.error("Invalid YouTube playlist URL")}static embedSpotifyContent(e,t,n){const o=e.pathname.split("/").pop(),i=this.createEmbedContainer(["embed-container"]);if(i.classList.add("spotify-embed",r.AlignToolClass),!o)return void console.error("contentId is empty");const l=encodeURIComponent(o),s=document.createElement("iframe");switch(s.classList.add("spotify-embed"),s.src=`https://open.spotify.com/embed/${n}/${l}`,s.frameBorder="0",s.setAttribute("scrolling","no"),n){case Le.SpotifyTrack:s.style.height="80px";break;case Le.SpotifyPlaylist:case Le.SpotifyShow:case Le.SpotifyEpisode:case Le.SpotifyArtist:s.style.height="380px";break;default:s.style.height="300px"}i.appendChild(s),this.finalizeEmbed(i,["x-resizable",r.AlignToolClass],t)}static async embedGistAsScript(e,t){const n=e.pathname.split("/").pop();if(!n)return void console.error("Invalid Gist ID");const o=document.createElement("div");o.classList.add("shadow-element");const i=Pe.createEmbedContainer(["gist-embed-container","figure-embed-container","ignore-text-floating-toolbar"]);i.style.minHeight="100px",i.style.width="100%",t.appendChild(i),i.appendChild(o);const r=o.attachShadow({mode:"open"}),l=`https://gist.github.com/${encodeURIComponent(n)}.js`,s=document.createElement("script");s.type="text/javascript",s.src=l,s.async=!0;const a=document.write;let c="";document.write=e=>{c+=e},s.onload=()=>{document.write=a;const e=document.createElement("div");e.innerHTML=c,Array.from(e.childNodes).forEach((e=>{r.appendChild(e)})),console.log("Gist loaded successfully")},s.onerror=()=>{document.write=a,console.error("Failed to load the Gist")},r.appendChild(s),Pe.finalizeEmbed(i,[],t)}static embedCodepenAsIframe(e,t){const n=e.pathname.split("/");if(n.length<4||""===n[1]||""===n[3])return void console.error("Invalid URL: Expected format /user/{username}/pen/{penId}");const o=n[1],i=n[3],r=encodeURIComponent(o),l=encodeURIComponent(i),s=Pe.createEmbedContainer(["embed-container"]),a=document.createElement("iframe");a.src=`https://codepen.io/${r}/embed/${l}?height=265&theme-id=light&default-tab=js,result`,a.style.border="none",a.style.height="100%",a.style.width="100%",a.style.overflow="visible",a.setAttribute("sandbox","allow-scripts allow-same-origin"),s.appendChild(a),Pe.finalizeEmbed(s,["y-resizable"],t);const c=new ResizeObserver((e=>{for(let t of e){const{height:e}=t.contentRect;a.style.height=`${e}px`}})),d=s.closest(".johannes-content-element");d&&(d.classList.add("overflow-hidden"),c.observe(d))}static createEmbedContainer(e=[]){const t=document.createElement("figure");t.classList.add(...e);const n=document.createElement("figcaption");return n.setAttribute("data-placeholder","Type a caption for this image"),n.setAttribute("contenteditable","true"),n.classList.add("editable","hide-turninto","hide-moreoptions","hide-inlineCode"),t.appendChild(n),t}static finalizeEmbed(e,t=[],n){const o=n.closest(`.${l.ContentElement}`);if(o){for(o.classList.add(...t);o.firstChild;)o.removeChild(o.firstChild);o.appendChild(e);const n=o.closest(".block"),i=n?.querySelector(".block-toolbar-wrapper");i?.remove()}}static determineEmbedType(e){const t=new URL(e),n=t.hostname.toLowerCase(),o=t.pathname.toLowerCase();if(/^(?:.*\.)?spotify\.com$/.test(n)){if(o.includes("/track"))return Le.SpotifyTrack;if(o.includes("/playlist"))return Le.SpotifyPlaylist;if(o.includes("/artist"))return Le.SpotifyArtist;if(o.includes("/episode"))return Le.SpotifyEpisode;if(o.includes("/show"))return Le.SpotifyShow}else if(/^(?:.*\.)?(youtube\.com|youtu\.be)$/.test(n)){if(o.includes("/watch"))return t.searchParams.has("list")?Le.YouTubePlaylist:Le.YouTubeVideo;if(o.includes("/playlist"))return Le.YouTubePlaylist;if(o.includes("/shorts"))return Le.YouTubeShort}else{if("vimeo.com"===n)return Le.VimeoVideo;if("docs.google.com"===n&&o.includes("/spreadsheets"))return Le.GoogleSheet;if("twitter.com"===n)return Le.Tweet;if("google.com"===n&&o.includes("/maps"))return Le.GoogleMap;if("gist.github.com"===n)return Le.GitHubGist;if("gitlab.com"===n&&o.includes("/snippets"))return Le.GitLabSnippet;if("codepen.io"===n)return Le.CodePen}return null}}!function(e){e.SpotifyTrack="track",e.SpotifyPlaylist="playlist",e.SpotifyArtist="artist",e.SpotifyEpisode="episode",e.SpotifyShow="show",e.YouTubeVideo="video",e.YouTubePlaylist="playlist",e.YouTubeShort="short",e.VimeoVideo="video",e.GoogleSheet="sheet",e.Tweet="tweet",e.GoogleMap="map",e.GitHubGist="gist",e.GitLabSnippet="snippet",e.CodePen="pen"}(Le||(Le={}));class Fe extends y{id;focusStack;constructor(){const e="mediaInputter";super({id:e}),this.id=e,this.focusStack=I.Instance.resolve("IFocusStack"),this.attachEvents()}init(){const e=document.createElement("div");e.id=this.props.id,e.classList.add("tab-container","soft-box-shadow"),e.style.display="none",e.style.zIndex=L.ExtremelyImportant;const t=document.createElement("ul");t.classList.add("nav","nav-underline");const n=this.createNavItem("uploadTab","Upload",!0),o=this.createNavItem("embedTab","Embed");t.appendChild(n),t.appendChild(o);const i=document.createElement("div");i.classList.add("tab-content");const r=this.createUploadContent(),l=this.createEmbedContent();return i.appendChild(r),i.appendChild(l),e.appendChild(t),e.appendChild(i),e}createNavItem(e,t,n=!1){const o=document.createElement("li");o.classList.add("nav-item"),o.id=e;const i=document.createElement("a");return i.classList.add("nav-link"),i.innerText=t,o.appendChild(i),o}createUploadContent(){const e=document.createElement("div");e.id="uploadContent",e.classList.add("upload-content","content-data");const t=document.createElement("input");t.type="file",t.accept="image/*",t.id="fileInput",t.style.display="block";const n=document.createElement("label");n.classList.add("blue-button"),n.htmlFor=t.id,n.innerText="Upload file",n.addEventListener("click",(()=>{t.click()}));const o=document.createElement("div");return o.classList.add("text-information"),o.innerText="Maximum file size: 5MB",e.appendChild(t),e.appendChild(o),t.addEventListener("change",(e=>this.uploadImage(e))),e}async uploadImage(e){const t=e.target;if(t.files&&t.files[0]){const e=t.files[0];if(!e.type.startsWith("image/"))return void alert("Please select an image file.");const n=new FileReader;n.onload=async e=>{const t=e.target.result,n=this.focusStack.peek();n&&(await Pe.embedImage(t,n),this.hide())},n.readAsDataURL(e)}}createEmbedContent(){const e=document.createElement("div");e.id="embedContent",e.classList.add("content-data","embed-content");const t=document.createElement("input");t.type="text";const n=document.createElement("button");return n.classList.add("blue-button"),n.innerText="Embed",e.appendChild(t),e.appendChild(n),n.addEventListener(a.Click,(()=>this.embedGeneric(t))),t.addEventListener(a.Keydown,(e=>{e.key==H.Enter&&(e.preventDefault(),e.stopImmediatePropagation(),this.embedGeneric(t))})),t.addEventListener(a.Focusin,(()=>this.resetInputBgColor(t))),e}resetInputBgColor(e){e.style.backgroundColor=""}async embedGeneric(e){const t=e.value,n=this.focusStack.peek(),i=n?.closest(`.${l.ContentElement}`)?.getAttribute("data-content-type");try{const e=new URL(t);if(!w.isValidUrl(e.toString()))throw new Error("Invalid URL");if(!n)return void console.error("not element found");if(i==o.Image)await Pe.embedImage(t,n);else if(i==o.Iframe){const o=Pe.determineEmbedType(t);switch(o){case Le.YouTubeVideo:Pe.embedYouTubeVideoAsIframe(e,n);break;case Le.YouTubePlaylist:Pe.embedYouTubePlaylistAsIframe(e,n);break;case Le.YouTubeShort:Pe.embedYouTubeShortAsIframe(e,n);break;case Le.SpotifyTrack:case Le.SpotifyPlaylist:case Le.SpotifyArtist:case Le.SpotifyEpisode:case Le.SpotifyShow:case Le.SpotifyPlaylist:Pe.embedSpotifyContent(e,n,o);break;case Le.GitHubGist:Pe.embedGistAsScript(e,n);break;case Le.CodePen:Pe.embedCodepenAsIframe(e,n);break;default:throw new Error("Unsupported")}}const r=new CustomEvent(S.emittedCommand,{detail:{command:q.createDefaultBlock}});document.dispatchEvent(r),this.hide()}catch(e){const t=document.querySelector("#embedContent input");t&&(t.style.backgroundColor="rgb(253, 222, 222)",t.classList.add("shake-animation"),setTimeout((()=>{t.classList.remove("shake-animation")}),1e3))}}set inputValue(e){const t=this.htmlElement.querySelector("input");t&&(t.value=e)}get display(){return"flex"}attachEvents(){const e=this.htmlElement.querySelector("#uploadTab");e?.addEventListener("click",(()=>{this.setActiveTab("uploadTab","uploadContent")}));const t=this.htmlElement.querySelector("#embedTab");t?.addEventListener("click",(()=>{this.setActiveTab("embedTab","embedContent")})),document.addEventListener(a.Keydown,this.handlerKeydownEvents.bind(this)),document.addEventListener(a.Click,this.handlerClickEvents.bind(this)),super.attachUIEvent()}handlerKeydownEvents(e){e.key==H.Escape&&this.canHide&&this.hide()}handlerClickEvents(e){this.hideMediaInputterOnExternalClick(e),this.showMediaInputterOnMediaInputterElementClick(e)}hideMediaInputterOnExternalClick(e){const t=T.findClickedElementOrAncestorById(e,this.id),n=T.findClickedElementOrAncestorByClass(e,l.ShowMediaInputOnClick);if(!t&&!n&&this.isVisible)return e.stopImmediatePropagation(),void this.hide()}showMediaInputterOnMediaInputterElementClick(e){const t=T.findClickedElementOrAncestorByClass(e,l.ShowMediaInputOnClick);if(t)return e.stopImmediatePropagation(),e.preventDefault(),this.focusStack.push(t),void(this.isVisible?this.hide():this.show())}findClassWithSuffix(e,t){const n=new RegExp(`.*${t}$`);for(let t of e.classList)if(n.test(t))return t;return null}getTab(e){return document.getElementById(e)}getContent(e){return document.getElementById(e)}setActiveTab(e,t){document.querySelectorAll(".nav-item").forEach((e=>{e.classList.remove("active")})),document.querySelectorAll(".content-data").forEach((e=>{e.classList.remove("active")})),this.getTab(e)?.classList.add("active");const n=this.getContent(t);if(n){n.classList.add("active");const e=n.querySelector("input");e&&(e.style.backgroundColor="white",setTimeout((()=>{e.focus()}),100))}}show(){const e=this.focusStack.peek(),t=e?.querySelector(`.${l.ShowMediaInputOnClick}`)||e?.closest(`.${l.ShowMediaInputOnClick}`);if(t){const e=this.findClassWithSuffix(t,"-embed-placeholder-text");e&&this.setInputPlaceholder(e)}if(e){const t=e.querySelector(`.${l.ShowMediaInputUpload}`)||e.closest(`.${l.ShowMediaInputUpload}`),n=this.htmlElement.querySelector("#uploadTab"),o=this.htmlElement.querySelector("#embedTab"),i=this.htmlElement.querySelector("#uploadContent"),r=this.htmlElement.querySelector("#embedContent");t&&n&&i?(n.style.display="inline",n.classList.add("active"),i.classList.add("active"),r.classList.remove("active"),o.classList.remove("active")):(n.style.display="none",n.classList.remove("active"),i.classList.remove("active"),r.classList.add("active"),o.classList.add("active"))}this.htmlElement.style.visibility="visible",e&&this.changeToolbarPositionToBeClosedTo(e),super.show();const n=document.querySelector("#embedContent input");n&&this.isElementVisible(n)&&(n.style.backgroundColor="white",setTimeout((()=>{n.focus()}),100))}setInputPlaceholder(e){const t=document.querySelector("#embedContent input");"image-embed-placeholder-text"!=e?"youtube-embed-placeholder-text"!=e?"spotify-embed-placeholder-text"!=e?"github-gist-embed-placeholder-text"!=e?"codepen-embed-placeholder-text"!=e?t.setAttribute("placeholder","Paste URL here..."):t.setAttribute("placeholder","https://codepen.io/..."):t.setAttribute("placeholder","https://gist.github.com/..."):t.setAttribute("placeholder","https://open.spotify.com/..."):t.setAttribute("placeholder","https://www.youtube.com/..."):t.setAttribute("placeholder","https://example.com/image.jpg")}isElementVisible(e){if(null===e.offsetParent)return!1;const t=e.getBoundingClientRect();return t.width>0&&t.height>0}hide(){this.inputValue="",super.hide()}changeToolbarPositionToBeClosedTo(e){const t=e.getBoundingClientRect();this.htmlElement.style.display="flex";let n=t.left+window.scrollX+t.width/2-this.htmlElement.offsetWidth/2,o=t.bottom+window.scrollY+10;this.htmlElement.style.left=`${n}px`,this.htmlElement.style.top=`${o}px`}}class _e{static build(){return new Fe}}class Ve{static build(){return $.getInstance(Ie.build(),He.build(),ne.build(),ge.build(),ke.build(),De.build(),_e.build())}}class je{static instance;editor;constructor(e){if(je.instance)throw new Error;this.editor=e,je.instance=this}static build(){return je.instance?je.instance:new je(Ve.build())}start(){return this.insertIcons(),this.editor}insertIcons(){if(!document.querySelector(".svg-icons-container")){const e=document.createElement("div");e.innerHTML='<svg shape-rendering="geometricPrecision">\r\n\r\n    <symbol id="icon-plus" viewBox="0 0 24 24" aria-hidden="true">\r\n        <path d="M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-drag" viewBox="0 -960 960 960" aria-hidden="true">\r\n        <path d="M360-160q-33 0-56.5-23.5T280-240q0-33 23.5-56.5T360-320q33 0 56.5 23.5T440-240q0 33-23.5 56.5T360-160Zm240 0q-33 0-56.5-23.5T520-240q0-33 23.5-56.5T600-320q33 0 56.5 23.5T680-240q0 33-23.5 56.5T600-160ZM360-400q-33 0-56.5-23.5T280-480q0-33 23.5-56.5T360-560q33 0 56.5 23.5T440-480q0 33-23.5 56.5T360-400Zm240 0q-33 0-56.5-23.5T520-480q0-33 23.5-56.5T600-560q33 0 56.5 23.5T680-480q0 33-23.5 56.5T600-400ZM360-640q-33 0-56.5-23.5T280-720q0-33 23.5-56.5T360-800q33 0 56.5 23.5T440-720q0 33-23.5 56.5T360-640Zm240 0q-33 0-56.5-23.5T520-720q0-33 23.5-56.5T600-800q33 0 56.5 23.5T680-720q0 33-23.5 56.5T600-640Z" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-paragraph" viewBox="0 -960 960 960" aria-hidden="true">\r\n        <path d="M360-160v-240q-83 0-141.5-58.5T160-600q0-83 58.5-141.5T360-800h360v80h-80v560h-80v-560H440v560h-80Z" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-wordpress-paragraph" viewBox="0 0 24 24">\r\n        <path d="m9.99609 14v-.2251l.00391.0001v6.225h1.5v-14.5h2.5v14.5h1.5v-14.5h3v-1.5h-8.50391c-2.76142 0-5 2.23858-5 5 0 2.7614 2.23858 5 5 5z" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-wordpress-list" viewBox="0 0 24 24">\r\n        <path d="M4 4v1.5h16V4H4zm8 8.5h8V11h-8v1.5zM4 20h16v-1.5H4V20zm4-8c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2z" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-wordpress-numbered-list" viewBox="0 -960 960 960">\r\n        <path d="M163.85-100q-10.34 0-17.09-6.75-6.76-6.75-6.76-17.08 0-10.32 6.76-17.09 6.75-6.77 17.09-6.77H240V-190h-36.15q-10.34 0-17.09-6.75-6.76-6.75-6.76-17.08 0-10.32 6.76-17.09 6.75-6.77 17.09-6.77H240V-280h-76.15q-10.34 0-17.09-6.75-6.76-6.75-6.76-17.08 0-10.32 6.76-17.09 6.75-6.77 17.09-6.77h90q14.38 0 24.11 9.73 9.73 9.73 9.73 24.11v47.7q0 14.38-9.73 24.11-9.73 9.73-24.11 9.73 14.38 0 24.11 9.73 9.73 9.73 9.73 24.12v44.61q0 14.39-9.73 24.12T253.85-100h-90Zm3.46-266.15q-11.46 0-19.39-7.93Q140-382 140-393.46V-470q0-14.38 9.73-24.12 9.73-9.73 24.12-9.73H240v-42.3h-76.15q-10.34 0-17.09-6.76-6.76-6.75-6.76-17.07 0-10.33 6.76-17.1 6.75-6.77 17.09-6.77h90q14.38 0 24.11 9.73 9.73 9.74 9.73 24.12v70q0 14.38-9.73 24.12-9.73 9.73-24.11 9.73h-66.16v42.3h76.16q10.33 0 17.09 6.76 6.75 6.75 6.75 17.07 0 10.33-6.75 17.1-6.76 6.77-17.09 6.77h-96.54Zm56.56-266.16q-10.33 0-17.1-6.75-6.77-6.76-6.77-17.09v-156.16h-36.15q-10.34 0-17.09-6.75-6.76-6.75-6.76-17.07 0-10.33 6.76-17.1 6.75-6.77 17.09-6.77h56.92q11.46 0 19.19 7.73t7.73 19.19v176.93q0 10.33-6.75 17.09-6.75 6.75-17.07 6.75ZM402.31-210q-12.75 0-21.38-8.63-8.62-8.63-8.62-21.38 0-12.76 8.62-21.37 8.63-8.62 21.38-8.62H790q12.75 0 21.37 8.63 8.63 8.63 8.63 21.38 0 12.76-8.63 21.37Q802.75-210 790-210H402.31Zm0-240q-12.75 0-21.38-8.63-8.62-8.63-8.62-21.38 0-12.76 8.62-21.37 8.63-8.62 21.38-8.62H790q12.75 0 21.37 8.63 8.63 8.63 8.63 21.38 0 12.76-8.63 21.37Q802.75-450 790-450H402.31Zm0-240q-12.75 0-21.38-8.63-8.62-8.63-8.62-21.38 0-12.76 8.62-21.37 8.63-8.62 21.38-8.62H790q12.75 0 21.37 8.63 8.63 8.63 8.63 21.38 0 12.76-8.63 21.37Q802.75-690 790-690H402.31Z" />\r\n\r\n    </symbol>\r\n\r\n    <symbol id="icon-wordpress-bulleted-list" viewBox="0 0 512 512">\r\n        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 144h288M160 256h288M160 368h288" />\r\n        <circle cx="80" cy="144" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />\r\n        <circle cx="80" cy="256" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />\r\n        <circle cx="80" cy="368" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-wordpress-separator" viewBox="0 0 24 24">\r\n        <path d="M4.5 12.5v4H3V7h1.5v3.987h15V7H21v9.5h-1.5v-4h-15Z" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-wordpress-quote" viewBox="0 0 24 24">\r\n        <path d="M13 6v6h5.2v4c0 .8-.2 1.4-.5 1.7-.6.6-1.6.6-2.5.5h-.3v1.5h.5c1 0 2.3-.1 3.3-1 .6-.6 1-1.6 1-2.8V6H13zm-9 6h5.2v4c0 .8-.2 1.4-.5 1.7-.6.6-1.6.6-2.5.5h-.3v1.5h.5c1 0 2.3-.1 3.3-1 .6-.6 1-1.6 1-2.8V6H4v6z" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-wordpress-twitter" viewBox="0 0 24 24">\r\n        <path d="M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-julia-head-1" viewBox="0 0 1080 1080">\r\n        <path d="M507.001 527.171V546H332.471V527.171L372.301 522.826C380.026 521.86 384.613 519.929 386.061 517.032C387.509 514.136 388.233 504.238 388.233 487.341V309.19H169.528V487.341C169.528 504.238 170.252 514.136 171.701 517.032C173.149 519.929 177.736 521.86 185.46 522.826L225.291 527.171V546H50.7611V527.171L90.5915 522.826C98.3162 521.86 102.903 519.929 104.351 517.032C105.8 514.136 106.524 504.238 106.524 487.341V112.21C106.524 95.3127 105.8 85.4154 104.351 82.5186C102.903 79.6219 98.3162 77.6907 90.5915 76.7252L50.7611 73.1042V53.5511H225.291V73.1042L185.46 76.7252C177.736 77.6907 173.149 79.6219 171.701 82.5186C170.252 85.4154 169.528 95.3127 169.528 112.21V286.016H388.233V112.21C388.233 95.3127 387.509 85.4154 386.061 82.5186C384.613 79.6219 380.026 77.6907 372.301 76.7252L332.471 73.1042V53.5511H507.001V73.1042L467.17 76.7252C459.445 77.6907 454.859 79.6219 453.411 82.5186C451.962 85.4154 451.238 95.3127 451.238 112.21V487.341C451.238 504.238 451.962 514.136 453.411 517.032C454.859 519.929 459.445 521.86 467.17 522.826L507.001 527.171ZM563.187 113.659L658.781 53.5511H710.198V487.341C710.198 504.238 710.922 514.136 712.371 517.032C713.819 519.929 718.405 521.86 726.13 522.826L765.961 527.171V546H576.947V527.171L631.261 522.826C638.986 522.343 643.573 520.653 645.021 517.757C646.469 514.377 647.193 504.238 647.193 487.341V88.3122L575.499 133.212L563.187 113.659Z" fill="#343434" />\r\n        <line x1="49.7258" y1="721.29" x2="1035" y2="721.29" stroke="#7E7B7B" stroke-width="54.2021" />\r\n        <line x1="49.7258" y1="865.829" x2="737.402" y2="865.829" stroke="#7E7B7B" stroke-width="54.2021" />\r\n        <line x1="49.7258" y1="1010.37" x2="980.46" y2="1010.37" stroke="#7E7B7B" stroke-width="54.2021" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-julia-head-2" viewBox="0 0 1080 1080">\r\n        <path d="M507.001 527.171V546H332.471V527.171L372.301 522.826C380.026 521.86 384.613 519.929 386.061 517.032C387.509 514.136 388.233 504.238 388.233 487.341V309.19H169.528V487.341C169.528 504.238 170.252 514.136 171.701 517.032C173.149 519.929 177.736 521.86 185.46 522.826L225.291 527.171V546H50.7611V527.171L90.5915 522.826C98.3162 521.86 102.903 519.929 104.351 517.032C105.8 514.136 106.524 504.238 106.524 487.341V112.21C106.524 95.3127 105.8 85.4154 104.351 82.5186C102.903 79.6219 98.3162 77.6907 90.5915 76.7252L50.7611 73.1042V53.5511H225.291V73.1042L185.46 76.7252C177.736 77.6907 173.149 79.6219 171.701 82.5186C170.252 85.4154 169.528 95.3127 169.528 112.21V286.016H388.233V112.21C388.233 95.3127 387.509 85.4154 386.061 82.5186C384.613 79.6219 380.026 77.6907 372.301 76.7252L332.471 73.1042V53.5511H507.001V73.1042L467.17 76.7252C459.445 77.6907 454.859 79.6219 453.411 82.5186C451.962 85.4154 451.238 95.3127 451.238 112.21V487.341C451.238 504.238 451.962 514.136 453.411 517.032C454.859 519.929 459.445 521.86 467.17 522.826L507.001 527.171ZM857.208 402.61H876.037V546H585.637V507.618C585.637 474.305 591.189 446.545 602.294 424.336C613.398 402.128 627.64 383.299 645.021 367.849C662.884 351.917 681.955 337.433 702.232 324.398C719.612 312.811 736.51 300.983 752.925 288.913C769.34 276.843 782.858 262.118 793.48 244.737C804.584 226.874 810.136 204.665 810.136 178.112C810.136 141.419 802.894 114.142 788.41 96.2782C774.409 78.4149 754.615 69.4832 729.027 69.4832C695.714 69.4832 672.54 81.5531 659.505 105.693C646.952 129.35 643.09 163.386 647.918 207.803L584.913 196.216C580.085 170.146 582.016 145.765 590.707 123.073C599.88 100.382 616.053 82.0359 639.227 68.0349C662.401 53.5511 692.576 46.3092 729.751 46.3092C765.478 46.3092 794.445 52.5855 816.654 65.1381C838.862 77.6907 855.036 94.1057 865.175 114.383C875.313 134.66 880.383 156.386 880.383 179.56C880.383 206.114 875.313 228.322 865.175 246.185C855.036 264.049 841.759 278.774 825.344 290.361C808.929 301.948 791.066 312.328 771.754 321.501C752.442 330.191 733.613 339.365 715.267 349.02C697.404 358.193 680.989 369.056 666.022 381.609C651.539 394.162 639.469 409.37 629.813 427.233C620.64 444.613 615.088 466.098 613.157 491.686H799.997C816.895 491.686 827.034 490.72 830.413 488.789C834.276 486.375 837.173 481.064 839.104 472.857L857.208 402.61Z" fill="#343434" />\r\n        <line x1="49.7258" y1="721.29" x2="1035" y2="721.29" stroke="#7E7B7B" stroke-width="54.2021" />\r\n        <line x1="49.7258" y1="865.829" x2="737.402" y2="865.829" stroke="#7E7B7B" stroke-width="54.2021" />\r\n        <line x1="49.7258" y1="1010.37" x2="980.46" y2="1010.37" stroke="#7E7B7B" stroke-width="54.2021" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-julia-head-3" viewBox="0 0 1080 1080">\r\n        <path d="M507.001 527.171V546H332.471V527.171L372.301 522.826C380.026 521.86 384.613 519.929 386.061 517.032C387.509 514.136 388.233 504.238 388.233 487.341V309.19H169.528V487.341C169.528 504.238 170.252 514.136 171.701 517.032C173.149 519.929 177.736 521.86 185.46 522.826L225.291 527.171V546H50.7611V527.171L90.5915 522.826C98.3162 521.86 102.903 519.929 104.351 517.032C105.8 514.136 106.524 504.238 106.524 487.341V112.21C106.524 95.3127 105.8 85.4154 104.351 82.5186C102.903 79.6219 98.3162 77.6907 90.5915 76.7252L50.7611 73.1042V53.5511H225.291V73.1042L185.46 76.7252C177.736 77.6907 173.149 79.6219 171.701 82.5186C170.252 85.4154 169.528 95.3127 169.528 112.21V286.016H388.233V112.21C388.233 95.3127 387.509 85.4154 386.061 82.5186C384.613 79.6219 380.026 77.6907 372.301 76.7252L332.471 73.1042V53.5511H507.001V73.1042L467.17 76.7252C459.445 77.6907 454.859 79.6219 453.411 82.5186C451.962 85.4154 451.238 95.3127 451.238 112.21V487.341C451.238 504.238 451.962 514.136 453.411 517.032C454.859 519.929 459.445 521.86 467.17 522.826L507.001 527.171ZM693.542 304.121H673.988V280.947H693.542C733.613 280.947 761.615 270.808 777.548 250.531C793.963 230.253 802.17 204.183 802.17 172.318C802.17 138.523 795.17 112.935 781.169 95.5541C767.168 78.1735 747.373 69.4832 721.785 69.4832C688.472 69.4832 665.298 81.5531 652.263 105.693C639.71 129.35 635.848 163.386 640.676 207.803L577.671 196.216C573.326 170.146 575.499 145.765 584.189 123.073C593.362 100.382 609.294 82.0359 631.985 68.0349C655.16 53.5511 685.334 46.3092 722.509 46.3092C758.236 46.3092 786.962 52.3441 808.688 64.4139C830.896 76.0009 847.07 91.4503 857.208 110.762C867.347 129.591 872.416 150.11 872.416 172.318C872.416 206.114 862.036 232.909 841.276 252.703C820.999 272.498 791.549 285.775 752.925 292.534C793.963 298.81 825.344 312.811 847.07 334.537C869.278 356.262 880.383 385.713 880.383 422.888C880.383 446.545 874.589 468.27 863.002 488.065C851.898 507.859 834.517 523.792 810.86 535.861C787.686 547.448 757.512 553.242 720.337 553.242C685.093 553.242 654.194 545.034 627.64 528.619C601.57 512.204 582.982 482.754 571.878 440.268L617.502 427.233C621.364 453.787 628.123 474.547 637.779 489.513C647.918 504.48 659.746 515.101 673.264 521.378C687.265 527.171 701.99 530.068 717.44 530.068C779.237 530.068 810.136 494.341 810.136 422.888C810.136 388.127 801.446 359.642 784.065 337.433C766.685 315.225 736.51 304.121 693.542 304.121Z" fill="#343434" />\r\n        <line x1="49.7257" y1="721.29" x2="1035" y2="721.29" stroke="#7E7B7B" stroke-width="54.2021" />\r\n        <line x1="49.7257" y1="865.829" x2="737.402" y2="865.829" stroke="#7E7B7B" stroke-width="54.2021" />\r\n        <line x1="49.7257" y1="1010.37" x2="980.46" y2="1010.37" stroke="#7E7B7B" stroke-width="54.2021" />\r\n\r\n    </symbol>\r\n\r\n    <symbol id="icon-julia-head-4" viewBox="0 0 1080 1080">\r\n        <path d="M507.001 527.171V546H332.471V527.171L372.301 522.826C380.026 521.86 384.613 519.929 386.061 517.032C387.509 514.136 388.233 504.238 388.233 487.341V309.19H169.528V487.341C169.528 504.238 170.252 514.136 171.701 517.032C173.149 519.929 177.736 521.86 185.46 522.826L225.291 527.171V546H50.7611V527.171L90.5915 522.826C98.3162 521.86 102.903 519.929 104.351 517.032C105.8 514.136 106.524 504.238 106.524 487.341V112.21C106.524 95.3127 105.8 85.4154 104.351 82.5186C102.903 79.6219 98.3162 77.6907 90.5915 76.7252L50.7611 73.1042V53.5511H225.291V73.1042L185.46 76.7252C177.736 77.6907 173.149 79.6219 171.701 82.5186C170.252 85.4154 169.528 95.3127 169.528 112.21V286.016H388.233V112.21C388.233 95.3127 387.509 85.4154 386.061 82.5186C384.613 79.6219 380.026 77.6907 372.301 76.7252L332.471 73.1042V53.5511H507.001V73.1042L467.17 76.7252C459.445 77.6907 454.859 79.6219 453.411 82.5186C451.962 85.4154 451.238 95.3127 451.238 112.21V487.341C451.238 504.238 451.962 514.136 453.411 517.032C454.859 519.929 459.445 521.86 467.17 522.826L507.001 527.171ZM762.34 487.341V418.543H553.049V395.369C577.671 369.298 598.914 343.951 616.778 319.329C634.641 294.223 650.09 268.394 663.126 241.84C676.161 215.287 687.507 186.802 697.163 156.386C707.301 125.487 716.474 91.2089 724.682 53.5511H801.446C782.134 121.625 753.891 182.698 716.716 236.771C679.541 290.844 635.124 343.71 583.465 395.369H762.34V281.671L825.344 271.532V395.369H881.107V418.543H825.344V487.341C825.344 504.238 826.068 514.136 827.517 517.032C828.965 519.929 833.552 521.86 841.276 522.826L881.107 527.171V546H692.093V527.171L746.407 522.826C754.132 522.343 758.719 520.653 760.167 517.757C761.615 514.377 762.34 504.238 762.34 487.341Z" fill="#343434" />\r\n        <line x1="49.7258" y1="721.29" x2="1035" y2="721.29" stroke="#7E7B7B" stroke-width="54.2021" />\r\n        <line x1="49.7258" y1="865.829" x2="737.402" y2="865.829" stroke="#7E7B7B" stroke-width="54.2021" />\r\n        <line x1="49.7258" y1="1010.37" x2="980.46" y2="1010.37" stroke="#7E7B7B" stroke-width="54.2021" />\r\n\r\n    </symbol>\r\n\r\n    <symbol id="icon-julia-head-5" viewBox="0 0 1080 1080">\r\n        <path d="M507.001 527.171V546H332.471V527.171L372.301 522.826C380.026 521.86 384.613 519.929 386.061 517.032C387.509 514.136 388.233 504.238 388.233 487.341V309.19H169.528V487.341C169.528 504.238 170.252 514.136 171.701 517.032C173.149 519.929 177.736 521.86 185.46 522.826L225.291 527.171V546H50.7611V527.171L90.5915 522.826C98.3162 521.86 102.903 519.929 104.351 517.032C105.8 514.136 106.524 504.238 106.524 487.341V112.21C106.524 95.3127 105.8 85.4154 104.351 82.5186C102.903 79.6219 98.3162 77.6907 90.5915 76.7252L50.7611 73.1042V53.5511H225.291V73.1042L185.46 76.7252C177.736 77.6907 173.149 79.6219 171.701 82.5186C170.252 85.4154 169.528 95.3127 169.528 112.21V286.016H388.233V112.21C388.233 95.3127 387.509 85.4154 386.061 82.5186C384.613 79.6219 380.026 77.6907 372.301 76.7252L332.471 73.1042V53.5511H507.001V73.1042L467.17 76.7252C459.445 77.6907 454.859 79.6219 453.411 82.5186C451.962 85.4154 451.238 95.3127 451.238 112.21V487.341C451.238 504.238 451.962 514.136 453.411 517.032C454.859 519.929 459.445 521.86 467.17 522.826L507.001 527.171ZM834.759 -5.83247H853.588V109.314H630.537L621.847 264.29C635.848 254.634 651.056 247.392 667.471 242.565C684.369 237.737 701.749 235.323 719.612 235.323C767.409 235.323 805.308 250.048 833.31 279.498C861.312 308.466 875.313 347.331 875.313 396.093C875.313 423.612 870.002 449.441 859.381 473.581C848.76 497.238 831.62 516.55 807.964 531.516C784.79 546 754.374 553.242 716.716 553.242C683.403 553.242 654.435 545.034 629.813 528.619C605.19 511.722 587.327 482.271 576.223 440.268L621.847 427.233C627.64 466.822 638.986 493.858 655.884 508.342C672.782 522.826 691.852 530.068 713.095 530.068C743.028 530.068 765.719 519.205 781.169 497.479C797.101 475.271 805.067 441.475 805.067 396.093C805.067 356.021 798.066 323.432 784.065 298.327C770.547 272.739 746.407 259.945 711.646 259.945C695.231 259.945 678.334 263.083 660.953 269.36C643.573 275.153 626.433 285.533 609.536 300.5L595.052 293.982L608.811 53.5511H788.41C805.791 53.5511 816.171 52.8269 819.551 51.3785C823.413 49.4473 826.068 43.8952 827.517 34.7221L834.759 -5.83247Z" fill="#343434" />\r\n        <line x1="49.7256" y1="721.29" x2="1035" y2="721.29" stroke="#7E7B7B" stroke-width="54.2021" />\r\n        <line x1="49.7256" y1="865.829" x2="737.402" y2="865.829" stroke="#7E7B7B" stroke-width="54.2021" />\r\n        <line x1="49.7256" y1="1010.37" x2="980.46" y2="1010.37" stroke="#7E7B7B" stroke-width="54.2021" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-julia-head-6" viewBox="0 0 1080 1080">\r\n        <path d="M507.001 527.171V546H332.471V527.171L372.301 522.826C380.026 521.86 384.613 519.929 386.061 517.032C387.509 514.136 388.233 504.238 388.233 487.341V309.19H169.528V487.341C169.528 504.238 170.252 514.136 171.701 517.032C173.149 519.929 177.736 521.86 185.46 522.826L225.291 527.171V546H50.7611V527.171L90.5915 522.826C98.3162 521.86 102.903 519.929 104.351 517.032C105.8 514.136 106.524 504.238 106.524 487.341V112.21C106.524 95.3127 105.8 85.4154 104.351 82.5186C102.903 79.6219 98.3162 77.6907 90.5915 76.7252L50.7611 73.1042V53.5511H225.291V73.1042L185.46 76.7252C177.736 77.6907 173.149 79.6219 171.701 82.5186C170.252 85.4154 169.528 95.3127 169.528 112.21V286.016H388.233V112.21C388.233 95.3127 387.509 85.4154 386.061 82.5186C384.613 79.6219 380.026 77.6907 372.301 76.7252L332.471 73.1042V53.5511H507.001V73.1042L467.17 76.7252C459.445 77.6907 454.859 79.6219 453.411 82.5186C451.962 85.4154 451.238 95.3127 451.238 112.21V487.341C451.238 504.238 451.962 514.136 453.411 517.032C454.859 519.929 459.445 521.86 467.17 522.826L507.001 527.171ZM915.868 407.68C915.868 437.13 909.35 462.96 896.315 485.168C883.279 506.894 865.175 523.792 842 535.861C818.826 547.448 791.79 553.242 760.891 553.242C708.267 553.242 667.471 533.93 638.503 495.307C610.018 456.683 595.776 399.955 595.776 325.122V279.498C595.776 199.837 610.501 141.178 639.952 103.52C669.402 65.3795 708.991 46.3092 758.719 46.3092C791.066 46.3092 818.585 52.8269 841.276 65.8623C864.45 78.8977 881.59 96.0369 892.694 117.28C904.281 138.523 908.626 161.697 905.729 186.802L843.449 197.665C847.311 156.145 842 124.522 827.517 102.796C813.033 80.5875 789.859 69.4832 757.994 69.4832C740.614 69.4832 724.682 74.0698 710.198 83.2428C696.197 91.9331 685.093 108.348 676.885 132.488C668.678 156.627 664.574 191.388 664.574 236.771V307.017C678.575 289.154 694.749 276.36 713.095 268.635C731.924 260.428 751.96 256.324 773.202 256.324C816.171 256.324 850.691 269.36 876.762 295.43C902.832 321.501 915.868 356.504 915.868 400.438V407.68ZM664.574 367.849C664.574 408.887 668.195 441.234 675.437 464.891C683.162 488.548 694.266 505.445 708.75 515.584C723.716 525.24 741.58 530.068 762.34 530.068C788.41 530.068 809.171 521.136 824.62 503.273C840.552 484.927 848.518 453.545 848.518 409.128V401.886C848.518 364.711 841.518 335.744 827.517 314.984C813.516 293.741 791.79 283.119 762.34 283.119C744.959 283.119 727.337 287.706 709.474 296.879C692.093 306.052 677.127 321.501 664.574 343.227V367.849Z" fill="#343434" />\r\n        <line x1="49.7256" y1="721.29" x2="1035" y2="721.29" stroke="#7E7B7B" stroke-width="54.2021" />\r\n        <line x1="49.7256" y1="865.829" x2="737.402" y2="865.829" stroke="#7E7B7B" stroke-width="54.2021" />\r\n        <line x1="49.7256" y1="1010.37" x2="980.46" y2="1010.37" stroke="#7E7B7B" stroke-width="54.2021" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-check-list" viewBox="0 0 512 512">\r\n        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M352 176L217.6 336 160 272" />\r\n        <rect x="64" y="64" width="384" height="384" rx="48" ry="48" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" />\r\n    </symbol>\r\n\r\n\r\n    \x3c!-- tags --\x3e\r\n\r\n    <symbol id="icon-wordpress-bold" viewBox="0 0 24 24">\r\n        <path d="M14.7 11.3c1-.6 1.5-1.6 1.5-3 0-2.3-1.3-3.4-4-3.4H7v14h5.8c1.4 0 2.5-.3 3.3-1 .8-.7 1.2-1.7 1.2-2.9.1-1.9-.8-3.1-2.6-3.7zm-5.1-4h2.3c.6 0 1.1.1 1.4.4.3.3.5.7.5 1.2s-.2 1-.5 1.2c-.3.3-.8.4-1.4.4H9.6V7.3zm4.6 9c-.4.3-1 .4-1.7.4H9.6v-3.9h2.9c.7 0 1.3.2 1.7.5.4.3.6.8.6 1.5s-.2 1.2-.6 1.5z">\r\n        </path>\r\n    </symbol>\r\n    <symbol id="icon-wordpress-italic" viewBox="0 0 24 24">\r\n        <path d="M12.5 5L10 19h1.9l2.5-14z"></path>\r\n    </symbol>\r\n    <symbol id="icon-wordpress-anchor" viewBox="0 0 24 24">\r\n        <path d="M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z">\r\n        </path>\r\n    </symbol>\r\n\r\n    <symbol id="icon-wordpress-underline" viewBox="0 0 24 24">\r\n\r\n    </symbol>\r\n\r\n\r\n    <symbol id="icon-wordpress-strike-through" viewBox="0 0 24 24">\r\n        <path d="M9.1 9v-.5c0-.6.2-1.1.7-1.4.5-.3 1.2-.5 2-.5.7 0 1.4.1 2.1.3.7.2 1.4.5 2.1.9l.2-1.9c-.6-.3-1.2-.5-1.9-.7-.8-.1-1.6-.2-2.4-.2-1.5 0-2.7.3-3.6 1-.8.7-1.2 1.5-1.2 2.6V9h2zM20 12H4v1h8.3c.3.1.6.2.8.3.5.2.9.5 1.1.8.3.3.4.7.4 1.2 0 .7-.2 1.1-.8 1.5-.5.3-1.2.5-2.1.5-.8 0-1.6-.1-2.4-.3-.8-.2-1.5-.5-2.2-.8L7 18.1c.5.2 1.2.4 2 .6.8.2 1.6.3 2.4.3 1.7 0 3-.3 3.9-1 .9-.7 1.3-1.6 1.3-2.8 0-.9-.2-1.7-.7-2.2H20v-1z">\r\n        </path>\r\n    </symbol>\r\n\r\n    <symbol id="icon-wordpress-code-mark" viewBox="0 0 512 512">\r\n        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 368L32 256l128-112M352 368l128-112-128-112M304 96l-96 320" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-wordpress-equation-mark" viewBox="0 0 24 24">\r\n        <path d="M16.9 10.3l.8-1.3c.4-.6.7-1.2.9-1.6.2-.4.3-.8.3-1.2 0-.3-.1-.7-.2-1-.2-.2-.4-.4-.7-.6-.3-.2-.6-.3-1-.3s-.8.1-1.1.2c-.3.1-.7.3-1 .6l.1 1.3c.3-.3.5-.5.8-.6s.6-.2.9-.2c.3 0 .5.1.7.2.2.2.2.4.2.7 0 .3-.1.5-.2.8-.1.3-.4.7-.8 1.3l-1.8 2.8h4.3v-1.2h-2.2zm-2.8-3.1h-2L9.5 11 6.9 7.2h-2l3.6 5.3L4.7 18h2l2.7-4 2.7 4h2l-3.8-5.5 3.8-5.3z">\r\n        </path>\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-underline" viewBox="0 -960 960 960">\r\n        <path d="M243.85-155q-12.75 0-21.38-8.63-8.62-8.63-8.62-21.39 0-12.75 8.62-21.37 8.63-8.61 21.38-8.61h472.3q12.75 0 21.38 8.63 8.62 8.63 8.62 21.38 0 12.76-8.62 21.37-8.63 8.62-21.38 8.62h-472.3ZM480-298.85q-93.31 0-145.65-56.65Q282-412.15 282-507.31v-279.38q0-15.14 11.17-25.96 11.17-10.81 26.31-10.81 15.13 0 25.9 10.81 10.77 10.82 10.77 25.96v283.07q0 60.62 32.23 97.16T480-369.92q59.39 0 91.62-36.54 32.23-36.54 32.23-97.16v-283.07q0-15.14 11.17-25.96 11.17-10.81 26.31-10.81 15.13 0 25.9 10.81Q678-801.83 678-786.69v279.38q0 95.16-52.35 151.81-52.34 56.65-145.65 56.65Z" />\r\n    </symbol>\r\n\r\n\r\n    \x3c!-- <symbol id="icon-material-link" viewBox="0 0 512 512">\r\n        <path d="M208 352h-64a96 96 0 010-192h64M304 160h64a96 96 0 010 192h-64M163.29 256h187.42" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="36" />\r\n    </symbol> --\x3e\r\n\r\n\r\n    \r\n\r\n    <symbol id="icon-material-link" viewBox="0 -960 960 960">\r\n        <path d="M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-italic" viewBox="0 -960 960 960">\r\n        <path d="M215.77-215v-72.31h152.69l129.62-385.38H345.39V-745h366.15v72.31H571.15L441.54-287.31h140.38V-215H215.77Z" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-wordpress-chevron-down" viewBox="0 0 24 24">\r\n        <path d="M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"></path>\r\n    </symbol>\r\n\r\n    <symbol id="icon-wordpress-chevron-up" viewBox="0 0 24 24">\r\n        <path d="M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"></path>\r\n    </symbol>\r\n\r\n\r\n    <symbol id="icon-material-trash" viewBox="0 0 512 512">\r\n\r\n        <path d="M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />\r\n        <path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M80 112h352" />\r\n        <path d="M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-copy" viewBox="0 0 512 512">\r\n\r\n        <rect x="128" y="128" width="336" height="336" rx="57" ry="57" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" />\r\n        <path d="M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-clear" viewBox="0 0 512 512">\r\n        <path d="M320 146s24.36-12-64-12a160 160 0 10160 160" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" />\r\n        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 58l80 80-80 80" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-small-check" viewBox="0 -960 960 960">\r\n        <path d="M400-304 240-464l56-56 104 104 264-264 56 56-320 320Z" />\r\n    </symbol>\r\n\r\n\r\n    <symbol id="icon-material-more" viewBox="0 -960 960 960">\r\n        <path d="M480-189.23q-24.75 0-42.37-17.63Q420-224.48 420-249.23q0-24.75 17.63-42.38 17.62-17.62 42.37-17.62 24.75 0 42.37 17.62Q540-273.98 540-249.23q0 24.75-17.63 42.37-17.62 17.63-42.37 17.63ZM480-420q-24.75 0-42.37-17.63Q420-455.25 420-480q0-24.75 17.63-42.37Q455.25-540 480-540q24.75 0 42.37 17.63Q540-504.75 540-480q0 24.75-17.63 42.37Q504.75-420 480-420Zm0-230.77q-24.75 0-42.37-17.62Q420-686.02 420-710.77q0-24.75 17.63-42.37 17.62-17.63 42.37-17.63 24.75 0 42.37 17.63Q540-735.52 540-710.77q0 24.75-17.63 42.38-17.62 17.62-42.37 17.62Z" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-letter" viewBox="0 -960 960 960">\r\n        <path d="M276-280h76l40-112h176l40 112h76L520-720h-80L276-280Zm138-176 64-182h4l64 182H414Zm66 376q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q133 0 226.5-93.5T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160Z" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-format" viewBox="0 0 512 512">\r\n        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M32 415.5l120-320 120 320M230 303.5H74M326 239.5c12.19-28.69 41-48 74-48h0c46 0 80 32 80 80v144" />\r\n        <path d="M320 358.5c0 36 26.86 58 60 58 54 0 100-27 100-106v-15c-20 0-58 1-92 5-32.77 3.86-68 19-68 58z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-eraser" viewBox="0 -960 960 960">\r\n        <path d="M690-240h190v80H610l80-80Zm-500 80-85-85q-23-23-23.5-57t22.5-58l440-456q23-24 56.5-24t56.5 23l199 199q23 23 23 57t-23 57L520-160H190Zm296-80 314-322-198-198-442 456 64 64h262Zm-6-240Z" />\r\n    </symbol>\r\n\r\n\r\n    <symbol id="icon-material-cut" viewBox="0 0 512 512">\r\n        <circle cx="104" cy="152" r="56" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />\r\n        <circle cx="104" cy="360" r="56" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />\r\n        <path d="M157 175l-11 15 37 15s3.46-6.42 7-10z" fill="none" stroke="currentColor" stroke-linecap="square" stroke-miterlimit="10" stroke-width="32" />\r\n        <path d="M154.17 334.43L460 162c-2.5-6.7-28-12-64-4-29.12 6.47-121.16 29.05-159.16 56.05C205.85 236.06 227 272 192 298c-25.61 19-44.43 22.82-44.43 22.82zM344.47 278.24L295 306.67c14.23 6.74 65.54 33.27 117 36.33 14.92.89 30 .39 39-6z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" />\r\n        <circle cx="256" cy="240" r="32" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-paste" viewBox="0 0 512 512">\r\n        <path d="M336 64h32a48 48 0 0148 48v320a48 48 0 01-48 48H144a48 48 0 01-48-48V112a48 48 0 0148-48h32" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" />\r\n        <rect x="176" y="32" width="160" height="64" rx="26.13" ry="26.13" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-duplicate" viewBox="0 0 512 512">\r\n        <path d="M434.8 137.65l-149.36-68.1c-16.19-7.4-42.69-7.4-58.88 0L77.3 137.65c-17.6 8-17.6 21.09 0 29.09l148 67.5c16.89 7.7 44.69 7.7 61.58 0l148-67.5c17.52-8 17.52-21.1-.08-29.09zM160 308.52l-82.7 37.11c-17.6 8-17.6 21.1 0 29.1l148 67.5c16.89 7.69 44.69 7.69 61.58 0l148-67.5c17.6-8 17.6-21.1 0-29.1l-79.94-38.47" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />\r\n        <path d="M160 204.48l-82.8 37.16c-17.6 8-17.6 21.1 0 29.1l148 67.49c16.89 7.7 44.69 7.7 61.58 0l148-67.49c17.7-8 17.7-21.1.1-29.1L352 204.48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />\r\n    </symbol>\r\n\r\n\r\n    <symbol id="icon-material-code-block" viewBox="0 0 512 512">\r\n        <rect x="96" y="48" width="320" height="416" rx="48" ry="48" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" />\r\n        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M176 128h160M176 208h160M176 288h80" />\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-code-block-2" viewBox="0 -960 960 960">\r\n        <path d="m327.54-480 71.2-71.21q7.44-7.41 7.63-18.02.19-10.62-7.63-18.44-7.56-7.56-17.95-7.56-10.38 0-18.46 7.56l-85.48 85.75q-5.21 4.95-7.31 10.35-2.1 5.41-2.1 11.69 0 6.29 2.1 11.57t7.31 10.23l86.54 86.54q7.4 7.44 17.97 7.63 10.58.19 18.43-7.63 7.57-7.8 7.57-18.22 0-10.42-7.57-17.98L327.54-480Zm304.92 0-72.25 72.26q-7.44 7.18-7.5 17.78-.07 10.6 7.62 18.42 7.7 7.82 18.1 7.82 10.4 0 18.18-7.82l86.87-86.62q4.88-4.87 6.98-10.27 2.1-5.41 2.1-11.69 0-6.29-2.1-11.57t-6.98-10.15l-86.87-86.62q-3.38-3.8-8.21-5.62-4.84-1.82-9.67-1.82t-9.63 1.7q-4.81 1.69-8.67 5.61-7.79 8.19-7.79 18.48 0 10.29 7.57 17.85L632.46-480ZM202.57-140q-25.79 0-44.18-18.39T140-202.57v-554.86q0-25.79 18.39-44.18T202.57-820h554.86q25.79 0 44.18 18.39T820-757.43v554.86q0 25.79-18.39 44.18T757.43-140H202.57Zm0-50.26h554.86q4.62 0 8.47-3.84 3.84-3.85 3.84-8.47v-554.86q0-4.62-3.84-8.47-3.85-3.84-8.47-3.84H202.57q-4.62 0-8.47 3.84-3.84 3.85-3.84 8.47v554.86q0 4.62 3.84 8.47 3.85 3.84 8.47 3.84Zm-12.31-579.48v579.48-579.48Z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-aperture" viewBox="0 0 512 512">\r\n        <path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/>\r\n        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M360 94.59V296M443.13 212.87L296 360M417.41 360H216M299.13 443.13l-144-144M152 416V216M68.87 299.13l144-144M94.59 152H288M212.87 68.87L360 216"/>\r\n    </symbol>\r\n\r\n\r\n    <symbol id="icon-material-check-list-2" viewBox="0 -960 960 960">\r\n        <path d="m227.18-299.69 156.77-156.77q7.48-7.18 17.71-7.07 10.24.12 17.93 7.68 6.97 7.63 6.97 17.79t-7.23 17.6L249.69-250.62q-9.4 9.36-21.94 9.36-12.54 0-21.9-9.36l-88.54-88.53q-7.23-7.24-7.04-17.5.19-10.27 7.42-17.5 7.23-7.23 17.57-7.03 10.33.21 17.43 7.03l74.49 74.46Zm0-304.62 156.77-156.77q7.48-7.18 17.71-7.06 10.24.12 17.93 7.68 6.97 7.62 6.97 17.78 0 10.17-7.23 17.6L249.69-555.23q-9.4 9.36-21.94 9.36-12.54 0-21.9-9.36l-88.54-88.54q-7.23-7.23-7.04-17.5.19-10.27 7.42-17.5 7.23-7.23 17.57-7.02 10.33.2 17.43 7.02l74.49 74.46Zm318.33 301.74q-10.68 0-17.9-7.26-7.23-7.26-7.23-18 0-10.73 7.23-17.86 7.22-7.13 17.9-7.13h289.75q10.67 0 17.9 7.26 7.22 7.27 7.22 18 0 10.74-7.22 17.87-7.23 7.12-17.9 7.12H545.51Zm0-304.61q-10.68 0-17.9-7.26-7.23-7.27-7.23-18 0-10.74 7.23-17.87 7.22-7.12 17.9-7.12h289.75q10.67 0 17.9 7.26 7.22 7.26 7.22 18 0 10.73-7.22 17.86-7.23 7.13-17.9 7.13H545.51Z"/>\r\n    </symbol>\r\n\r\n\r\n    <symbol id="icon-material-code-inline" viewBox="0 0 512 512">\r\n        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 368L32 256l128-112M352 368l128-112-128-112"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-table" viewBox="0 -960 960 960">\r\n        <path d="M212.31-140Q182-140 161-161q-21-21-21-51.31v-535.38Q140-778 161-799q21-21 51.31-21h535.38Q778-820 799-799q21 21 21 51.31v535.38Q820-182 799-161q-21 21-51.31 21H212.31Zm0-60h134.15v-146.46H200v134.15q0 5.39 3.46 8.85t8.85 3.46Zm194.15 0h147.08v-146.46H406.46V-200Zm207.08 0h134.15q5.39 0 8.85-3.46t3.46-8.85v-134.15H613.54V-200ZM200-406.46h146.46v-147.08H200v147.08Zm206.46 0h147.08v-147.08H406.46v147.08Zm207.08 0H760v-147.08H613.54v147.08ZM200-613.54h146.46V-760H212.31q-5.39 0-8.85 3.46t-3.46 8.85v134.15Zm206.46 0h147.08V-760H406.46v146.46Zm207.08 0H760v-134.15q0-5.39-3.46-8.85t-8.85-3.46H613.54v146.46Z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-column-right" viewBox="0 -960 960 960">\r\n        <path d="M600-140q-30.31 0-51.31-21-21-21-21-51.31v-535.38q0-30.31 21-51.31 21-21 51.31-21h135.38q30.31 0 51.31 21 21 21 21 51.31v535.38q0 30.31-21 51.31-21 21-51.31 21H600Zm-375.38 0q-30.31 0-51.31-21-21-21-21-51.31v-535.38q0-30.31 21-51.31 21-21 51.31-21H360q30.31 0 51.31 21 21 21 21 51.31v535.38q0 30.31-21 51.31-21 21-51.31 21H224.62Zm-12.31-607.69v535.38q0 4.62 3.85 8.46Q220-200 224.62-200H360q4.62 0 8.46-3.85 3.85-3.84 3.85-8.46v-535.38q0-4.62-3.85-8.46Q364.62-760 360-760H224.62q-4.62 0-8.46 3.85-3.85 3.84-3.85 8.46Z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-column-left" viewBox="0 -960 960 960">\r\n        <path d="M224.62-140q-30.31 0-51.31-21-21-21-21-51.31v-535.38q0-30.31 21-51.31 21-21 51.31-21H360q30.31 0 51.31 21 21 21 21 51.31v535.38q0 30.31-21 51.31-21 21-51.31 21H224.62ZM600-140q-30.31 0-51.31-21-21-21-21-51.31v-535.38q0-30.31 21-51.31 21-21 51.31-21h135.38q30.31 0 51.31 21 21 21 21 51.31v535.38q0 30.31-21 51.31-21 21-51.31 21H600Zm147.69-607.69q0-4.62-3.85-8.46Q740-760 735.38-760H600q-4.62 0-8.46 3.85-3.85 3.84-3.85 8.46v535.38q0 4.62 3.85 8.46Q595.38-200 600-200h135.38q4.62 0 8.46-3.85 3.85-3.84 3.85-8.46v-535.38Z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-row-below" viewBox="0 -960 960 960">\r\n        <path d="M212.31-152.31q-30.31 0-51.31-21-21-21-21-51.31V-360q0-30.31 21-51.31 21-21 51.31-21h535.38q30.31 0 51.31 21 21 21 21 51.31v135.38q0 30.31-21 51.31-21 21-51.31 21H212.31Zm0-375.38q-30.31 0-51.31-21-21-21-21-51.31v-135.38q0-30.31 21-51.31 21-21 51.31-21h535.38q30.31 0 51.31 21 21 21 21 51.31V-600q0 30.31-21 51.31-21 21-51.31 21H212.31Zm535.38-220H212.31q-4.62 0-8.46 3.85Q200-740 200-735.38V-600q0 4.62 3.85 8.46 3.84 3.85 8.46 3.85h535.38q4.62 0 8.46-3.85Q760-595.38 760-600v-135.38q0-4.62-3.85-8.46-3.84-3.85-8.46-3.85Z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-row-above" viewBox="0 -960 960 960">\r\n        <path d="M212.31-527.69q-30.31 0-51.31-21-21-21-21-51.31v-135.38q0-30.31 21-51.31 21-21 51.31-21h535.38q30.31 0 51.31 21 21 21 21 51.31V-600q0 30.31-21 51.31-21 21-51.31 21H212.31Zm0 375.38q-30.31 0-51.31-21-21-21-21-51.31V-360q0-30.31 21-51.31 21-21 51.31-21h535.38q30.31 0 51.31 21 21 21 21 51.31v135.38q0 30.31-21 51.31-21 21-51.31 21H212.31Zm0-60h535.38q4.62 0 8.46-3.85Q760-220 760-224.62V-360q0-4.62-3.85-8.46-3.84-3.85-8.46-3.85H212.31q-4.62 0-8.46 3.85Q200-364.62 200-360v135.38q0 4.62 3.85 8.46 3.84 3.85 8.46 3.85Z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-delete-sweep" viewBox="0 -960 960 960">\r\n        <path d="M597.69-250v-60h140v60h-140Zm0-320v-60h260v60h-260Zm0 160v-60h220v60h-220ZM142.31-640h-40v-60h154.61v-47.69h130.77V-700h154.62v60h-40v347.69q0 30.31-21 51.31-21 21-51.31 21H214.62q-30.31 0-51.31-21-21-21-21-51.31V-640Zm60 0v347.69q0 4.62 3.84 8.46Q210-280 214.62-280H430q4.61 0 8.46-3.85 3.85-3.84 3.85-8.46V-640h-240Zm0 0v360-360Z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-ionic-close-circle" viewBox="0 0 512 512">\r\n        <path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/>\r\n        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M320 320L192 192M192 320l128-128"/>\r\n\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-callout" viewBox="0 -960 960 960">\r\n        <path d="M140-184.62v-60h680v60H140Zm0-530.76v-60h680v60H140ZM212.31-340Q182-340 161-361q-21-21-21-51.31v-135.38Q140-578 161-599q21-21 51.31-21h535.38Q778-620 799-599q21 21 21 51.31v135.38Q820-382 799-361q-21 21-51.31 21H212.31Zm0-60h535.38q4.62 0 8.46-3.85 3.85-3.84 3.85-8.46v-135.38q0-4.62-3.85-8.46-3.84-3.85-8.46-3.85H212.31q-4.62 0-8.46 3.85-3.85 3.84-3.85 8.46v135.38q0 4.62 3.85 8.46 3.84 3.85 8.46 3.85ZM200-560v160-160Z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-image" viewBox="0 -960 960 960">\r\n        <path d="M162.57-180q-25.79 0-44.18-18.39T100-242.57v-474.86q0-25.79 18.39-44.18T162.57-780h634.86q25.79 0 44.18 18.39T860-717.43v474.86q0 25.79-18.39 44.18T797.43-180H162.57Zm0-50.26h634.86q4.62 0 8.47-3.84 3.84-3.85 3.84-8.47v-474.86q0-4.62-3.84-8.47-3.85-3.84-8.47-3.84H162.57q-4.62 0-8.47 3.84-3.84 3.85-3.84 8.47v474.86q0 4.62 3.84 8.47 3.85 3.84 8.47 3.84Zm284.76-111.79-68.51-90.1q-4.95-6.03-12.37-6.23-7.42-.21-12.37 5.95l-66.46 87.3q-6.16 8.16-1.67 16.64 4.49 8.49 13.85 8.49h363.89q9.03 0 13.6-8.49 4.58-8.48-1.04-16.64l-98.76-133.46q-4.95-6.41-12.57-6.41-7.61 0-12.56 6.41L447.33-342.05ZM150.26-230.26v-499.48 499.48Z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-video" viewBox="0 -960 960 960">\r\n        <path d="M390-318.46 641.54-480 390-641.54v323.08ZM172.31-180Q142-180 121-201q-21-21-21-51.31v-455.38Q100-738 121-759q21-21 51.31-21h615.38Q818-780 839-759q21 21 21 51.31v455.38Q860-222 839-201q-21 21-51.31 21H172.31Zm0-60h615.38q4.62 0 8.46-3.85 3.85-3.84 3.85-8.46v-455.38q0-4.62-3.85-8.46-3.84-3.85-8.46-3.85H172.31q-4.62 0-8.46 3.85-3.85 3.84-3.85 8.46v455.38q0 4.62 3.85 8.46 3.84 3.85 8.46 3.85ZM160-240v-480 480Z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-justify-center" viewBox="0 -960 960 960">\r\n        <path d="M450-100v-760h60v760h-60Zm144.61-190v-380h100v380h-100Zm-329.22 0v-380h100v380h-100Z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-justify-start" viewBox="0 -960 960 960">\r\n        <path d="M100-100v-760h60v760h-60Zm430-190v-380h100v380H530Zm-240 0v-380h100v380H290Z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-material-justify-end" viewBox="0 -960 960 960">\r\n        <path d="M800-100v-760h60v760h-60ZM570-290v-380h100v380H570Zm-240 0v-380h100v380H330Z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-bootstrap-spotify" viewBox="0 0 16 16">\r\n        <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0m3.669 11.538a.5.5 0 0 1-.686.165c-1.879-1.147-4.243-1.407-7.028-.77a.499.499 0 0 1-.222-.973c3.048-.696 5.662-.397 7.77.892a.5.5 0 0 1 .166.686m.979-2.178a.624.624 0 0 1-.858.205c-2.15-1.321-5.428-1.704-7.972-.932a.625.625 0 0 1-.362-1.194c2.905-.881 6.517-.454 8.986 1.063a.624.624 0 0 1 .206.858m.084-2.268C10.154 5.56 5.9 5.419 3.438 6.166a.748.748 0 1 1-.434-1.432c2.825-.857 7.523-.692 10.492 1.07a.747.747 0 1 1-.764 1.288"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-bootstrap-github" viewBox="0 0 16 16">\r\n        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-bootstrap-gitlab" viewBox="0 0 16 16">\r\n        <path d="m15.734 6.1-.022-.058L13.534.358a.57.57 0 0 0-.563-.356.6.6 0 0 0-.328.122.6.6 0 0 0-.193.294l-1.47 4.499H5.025l-1.47-4.5A.572.572 0 0 0 2.47.358L.289 6.04l-.022.057A4.044 4.044 0 0 0 1.61 10.77l.007.006.02.014 3.318 2.485 1.64 1.242 1 .755a.67.67 0 0 0 .814 0l1-.755 1.64-1.242 3.338-2.5.009-.007a4.05 4.05 0 0 0 1.34-4.668Z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-codepen" viewBox="0 0 1024 1024">\r\n        <path d="M938.666667 642.005333a36.096 36.096 0 0 1-0.341334 4.778667l-0.256 1.578667-0.682666 3.072c-0.128 0.64-0.341333 1.194667-0.554667 1.792l-0.938667 2.688-0.853333 1.792c-0.341333 0.853333-0.768 1.621333-1.194667 2.432l-1.066666 1.706666a32.810667 32.810667 0 0 1-4.608 5.76l-1.493334 1.450667a34.645333 34.645333 0 0 1-2.090666 1.706667l-1.621334 1.28c-0.213333 0.128-0.426667 0.341333-0.64 0.426666l-389.973333 260.053334a36.608 36.608 0 0 1-40.704 0l-389.973333-260.010667-0.597334-0.426667a34.432 34.432 0 0 1-3.754666-3.029333c-0.512-0.426667-0.981333-0.938667-1.450667-1.450667-0.64-0.64-1.28-1.28-1.834667-1.962666a30.165333 30.165333 0 0 1-2.816-3.84 44.288 44.288 0 0 1-2.304-4.096l-0.810666-1.792a37.034667 37.034667 0 0 1-0.938667-2.688c-0.213333-0.597333-0.426667-1.152-0.554667-1.792-0.298667-0.981333-0.426667-2.048-0.64-3.072l-0.298666-1.578667A36.138667 36.138667 0 0 1 85.333333 642.005333V381.994667c0-1.621333 0.128-3.2 0.341334-4.778667l0.298666-1.578667c0.170667-1.024 0.341333-2.090667 0.64-3.072a33.024 33.024 0 0 1 6.186667-12.586666 41.728 41.728 0 0 1 1.237333-1.621334l1.834667-1.962666 1.450667-1.450667a35.584 35.584 0 0 1 3.754666-2.986667c0.213333-0.128 0.384-0.341333 0.597334-0.426666l389.973333-260.053334a36.693333 36.693333 0 0 1 40.704 0l389.973333 260.010667c0.213333 0.128 0.426667 0.341333 0.64 0.426667l1.621334 1.28a35.797333 35.797333 0 0 1 2.133333 1.749333l1.450667 1.450667a31.36 31.36 0 0 1 4.608 5.802666l1.066666 1.706667 1.237334 2.389333 0.810666 1.792 0.938667 2.688c0.213333 0.597333 0.426667 1.152 0.554667 1.792 0.298667 0.981333 0.469333 2.048 0.682666 3.072l0.256 1.578667a35.584 35.584 0 0 1 0.341334 4.778667v260.010666zM158.677333 450.645333v122.709334L250.410667 512l-91.733334-61.354667z m316.672-89.088V190.506667l-287.317333 191.573333 128.341333 85.802667 158.976-106.325334z m360.618667 20.48L548.693333 190.506667v171.050666l158.976 106.325334 128.298667-85.845334zM188.032 641.962667l287.317333 191.530666v-171.050666l-158.976-106.325334-128.341333 85.845334z m360.661333 20.48v171.050666l287.274667-191.573333-128.298667-85.76-158.976 106.282667zM512 425.216L382.293333 512 512 598.741333 641.706667 512 512 425.258667z m353.322667 148.138667v-122.709334L773.589333 512l91.733334 61.354667z" />\r\n    </symbol>\r\n\r\n\r\n    <symbol id="icon-bootstrap-image" viewBox="0 0 16 16">\r\n        <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>\r\n        <path d="M1.5 2A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2zm13 1a.5.5 0 0 1 .5.5v6l-3.775-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12v.54L1 12.5v-9a.5.5 0 0 1 .5-.5z"/>\r\n    </symbol>\r\n\r\n    <symbol id="icon-bootstrap-youtube" viewBox="0 0 16 16">\r\n        <path d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.01 2.01 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.01 2.01 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31 31 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.01 2.01 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A100 100 0 0 1 7.858 2zM6.4 5.209v4.818l4.157-2.408z"/>\r\n    </symbol>\r\n</svg>',e.className="svg-icons-container",document.body.appendChild(e)}}}class Ye{static instance=null;blockOperationsService;tableOperationsService;textOperationsService;constructor(e,t,n){if(Ye.instance)throw new Error("Attempt to instantiate singleton `CommandDispatcher` more than once.");this.blockOperationsService=e,this.textOperationsService=t,this.tableOperationsService=n}static getInstance(){const e=I.Instance.resolve("IBlockOperationsService"),t=I.Instance.resolve("ITextOperationsService"),n=I.Instance.resolve("ITableOperationsService");return Ye.instance||(Ye.instance=new Ye(e,t,n)),Ye.instance}listen(){document.addEventListener(S.emittedCommand,this.handleCommandEvent),document.addEventListener(S.pressedEnterOnTitle,(()=>this.blockOperationsService.createANewParagraphFromTitle()))}handleCommandEvent=e=>{const{command:t,showUI:n,value:o,targetBlockType:i,block:r,scope:l}=e.detail;switch(t){case q.linkReadyToInsert:if(!o)throw new Error(`${q.linkReadyToInsert} requires value`);this.textOperationsService.execInsertLink(o);break;case q.toggleLink:this.textOperationsService.execToggleLink();break;case q.toggleBold:this.textOperationsService.execBold();break;case q.toggleInlineCode:this.textOperationsService.execInlineCode();break;case q.toggleItalic:this.textOperationsService.execItalic();break;case q.toggleUnderline:this.textOperationsService.execUnderline();break;case q.toggleStrikeThrough:this.textOperationsService.execStrikeThrough();break;case q.toggleHiliteColor:if(!o)throw new Error(`${q.toggleHiliteColor} requires a color value`);this.textOperationsService.execHiliteColor(o);break;case q.toggleForeColor:if(!o)throw new Error(`${q.toggleForeColor} requires a color value`);this.textOperationsService.execForeColor(o);break;case q.transformBlock:if(!o)throw new Error(`${q.transformBlock} requires a value that represents the target element type.`);this.blockOperationsService.transformBlock(o,r);break;case q.duplicateBlock:this.blockOperationsService.execDuplicateBlock(r);break;case q.deleteBlock:this.blockOperationsService.execDeleteBlock(r);break;case q.deleteBlockAndFocusOnPrevious:this.blockOperationsService.execDeleteFocusOnPrevious();break;case q.deleteBlockAndFocusOnNext:this.blockOperationsService.execDeleteAndFocusOnNext();break;case q.focusOnNextBlock:this.blockOperationsService.execFocusOnNext();break;case q.removeFormat:this.execRemoveFormat(t);break;case q.JustifyLeft:if(!r)throw new Error(`${q.JustifyLeft} requires a block to justify.`);this.blockOperationsService.justifyLeft(r);break;case q.JustifyCenter:if(!r)throw new Error(`${q.JustifyCenter} requires a block to justify.`);this.blockOperationsService.justifyCenter(r);break;case q.JustifyRight:if(!r)throw new Error(`${q.JustifyRight} requires a block to justify.`);this.blockOperationsService.justifyRight(r);break;case q.changeCodeBlockLanguage:if(!r)throw new Error(`${q.changeCodeBlockLanguage} requires a block to change a code block language.`);if(!o)throw new Error(`${q.changeCodeBlockLanguage} requires a value to change a code block language.`);this.blockOperationsService.changeCodeBlockLanguage(r,o);break;case q.createDefaultBlock:this.execCreateDefaultBlock(t);break;case q.insertNew:this.execInsertNew(t);break;case q.focusOnPreviousBlock:this.execFocusOnPreviousBlock(t);break;case q.mergeWithNextBlock:this.blockOperationsService.execMergeWithNextBlock();break;case q.mergeWithPreviousBlock:this.blockOperationsService.execMergeWithPreviousBlock();break;case q.insertTableColumnLeft:this.tableOperationsService.insertColumnLeft();break;case q.insertTableColumnRight:this.tableOperationsService.insertColumnRight(r||null);break;case q.insertTableRowAbove:this.tableOperationsService.insertRowAbove();break;case q.insertTableRowBelow:this.tableOperationsService.insertRowBelow(r||null);break;case q.toggleCellHiliteColor:if(!o)throw new Error(`${q.toggleCellHiliteColor} requires a value that represents the cell background color.`);this.tableOperationsService.execCellBackgroundColor(o);break;case q.changeCalloutBackgroundColor:if(!r)throw new Error(`${q.changeCalloutBackgroundColor} requires a block.`);if(!o)throw new Error(`${q.changeCalloutBackgroundColor} requires a value that represents the background color.`);this.blockOperationsService.execChangeCalloutBackground(r,o);break;case q.removeColumn:this.tableOperationsService.removeColumn();break;case q.removeRow:case q.removeRow:this.tableOperationsService.removeRow();break;case q.changeTableBorderColor:this.tableOperationsService.changeTableBorderColor(l,o);break;default:console.error(`No action defined for command: ${t}`)}};execRemoveFormat(e){const t=this.blockOperationsService.execCommand(e,!1),n=T.getActiveContentEditable();return n&&n.normalize(),t}execCreateDefaultBlock(e){return this.blockOperationsService.execCommand(e,!1)}execInsertNew(e){return this.blockOperationsService.createNewElementAndSplitContent()}execFocusOnPreviousBlock(e){return this.blockOperationsService.execCommand(e,!1)}}class ze{static instance=null;constructor(){if(ze.instance)throw new Error("Use ShortcutListeners.getInstance() to get instance.");this.listen()}startListen(){console.log("listening keyboard shortcuts")}static getInstance(){return ze.instance?ze.instance:new ze}listen(){document.addEventListener("keydown",(e=>{const t=e.code.startsWith("Numpad"),n=e.getModifierState("NumLock");(e.ctrlKey||e.metaKey)&&e.shiftKey&&"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.transformBlock,targetBlockType:k.ELEMENT_TYPES.PARAGRAPH}}))):!e.ctrlKey&&!e.metaKey||e.altKey||"Digit1"!==e.code&&"Numpad1"!==e.code?!e.ctrlKey&&!e.metaKey||e.shiftKey||"."!==e.key?!e.ctrlKey&&!e.metaKey||e.shiftKey||"/"!==e.key?e.ctrlKey&&e.altKey&&("Digit1"===e.code||t&&n&&"Numpad1"===e.code)?(e.preventDefault(),e.stopPropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.transformBlock,targetBlockType:k.ELEMENT_TYPES.HEADER_1}}))):e.ctrlKey&&e.altKey&&("Digit2"===e.code||t&&n&&"Numpad2"===e.code)?(e.preventDefault(),e.stopPropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.transformBlock,targetBlockType:k.ELEMENT_TYPES.HEADER_2}}))):e.ctrlKey&&e.altKey&&("Digit3"===e.code||t&&n&&"Numpad3"===e.code)?(e.preventDefault(),e.stopPropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.transformBlock,targetBlockType:k.ELEMENT_TYPES.HEADER_3}}))):e.ctrlKey&&e.altKey&&("Digit4"===e.code||t&&n&&"Numpad4"===e.code)?(e.preventDefault(),e.stopPropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.transformBlock,targetBlockType:k.ELEMENT_TYPES.HEADER_4}}))):e.ctrlKey&&e.altKey&&("Digit5"===e.code||t&&n&&"Numpad5"===e.code)?(e.preventDefault(),e.stopPropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.transformBlock,targetBlockType:k.ELEMENT_TYPES.HEADER_5}}))):e.ctrlKey&&e.altKey&&("Digit6"===e.code||t&&n&&"Numpad6"===e.code)?(e.preventDefault(),e.stopPropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.transformBlock,targetBlockType:k.ELEMENT_TYPES.HEADER_6}}))):"D"!==e.key&&"d"!==e.key||!e.ctrlKey?"Delete"!==e.key&&"Backspace"!==e.key||!e.shiftKey?"\\"===e.key&&(e.ctrlKey||e.metaKey)?document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.removeFormat}})):e.ctrlKey&&e.altKey&&"Digit1"===e.code&&e.preventDefault():(e.preventDefault(),e.stopPropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.deleteBlock}}))):(e.preventDefault(),e.stopPropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.duplicateBlock}}))):(e.preventDefault(),e.stopPropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.transformBlock,targetBlockType:k.ELEMENT_TYPES.NUMBERED_LIST}}))):(e.preventDefault(),e.stopPropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.transformBlock,targetBlockType:k.ELEMENT_TYPES.BULLETED_LIST}}))):(e.preventDefault(),e.stopPropagation(),document.dispatchEvent(new CustomEvent(S.emittedCommand,{detail:{command:q.transformBlock,targetBlockType:k.ELEMENT_TYPES.CHECK_LIST}})))}))}}class Ue{static instance=null;focusStack;shownElements=new Map;constructor(e){if(Ue.instance)throw new Error("Use TableEventListeners.getInstance() to get instance.");this.focusStack=e,this.listen()}startListen(){console.log("listening table clicks")}static getInstance(){const e=I.Instance.resolve("IFocusStack");return Ue.instance?Ue.instance:new Ue(e)}listen(){document.addEventListener("click",(e=>{let t=null;if(t=e.target.nodeType==Node.TEXT_NODE?e.target.parentElement:e.target,t?.closest(".add-table-column")){const e=new CustomEvent(S.emittedCommand,{detail:{command:q.insertTableColumnRight,block:t.closest(".block")}});document.dispatchEvent(e)}if(t?.closest(".add-table-row")){const e=new CustomEvent(S.emittedCommand,{detail:{command:q.insertTableRowBelow,block:t.closest(".block")}});document.dispatchEvent(e)}}))}}class Ge{static instance;stack;capacity=10;constructor(){this.stack=[]}static getInstance(){return Ge.instance||(Ge.instance=new Ge),Ge.instance}push(e){this.stack.length>=this.capacity&&this.stack.shift(),this.stack.push(e)}peek(){return this.stack[this.stack.length-1]}clear(){this.stack=[]}}class Ze{static instance;elementFactoryService;memento;focusStack;constructor(e,t,n){if(Ze.instance)throw new Error("Use BlockOperationsService.getInstance() to get instance.");this.elementFactoryService=e,this.focusStack=t,this.memento=n,Ze.instance=this}execCommand(e,t,n=null){if(e==q.copySelected){if(document.getSelection&&navigator.clipboard&&navigator.clipboard.writeText){const e=document.getSelection();if(e&&e.toString().length>0){const t=e.toString();navigator.clipboard.writeText(t).then((()=>{const e=new CustomEvent("copiedText",{bubbles:!0,cancelable:!0});return document.dispatchEvent(e),!0})).catch((e=>{console.error("Error when copy text",e)}))}}return!1}if(e==q.cutSelected){if(document.getSelection&&navigator.clipboard&&navigator.clipboard.writeText){const e=document.getSelection();if(e&&e.toString().length>0){const t=e.toString();e.deleteFromDocument(),navigator.clipboard.writeText(t).then((()=>!0)).catch((e=>{console.error("Error when cut text: ",e)}))}}return!1}if(e==q.past)return navigator.clipboard&&navigator.clipboard.readText&&navigator.clipboard.readText().then((e=>{const t=document.getSelection();if(t&&t.rangeCount>0){const n=t.getRangeAt(0);n.deleteContents(),n.insertNode(document.createTextNode(e));const o=new CustomEvent("requestUpdateFloatingToolbar",{bubbles:!0,cancelable:!0});return document.dispatchEvent(o),!0}console.error("No text selected or clipboard empty.")})).catch((e=>{console.error("Error when pasting text: ",e)})),!1;if(e==q.transformBlock&&this.getCurrentSelectedBlock()&&n&&this.transformBlock(n),e==q.removeFormat)return document.execCommand(q.removeFormat,!1);if(e==q.createDefaultBlock){const e=document.activeElement||null;return this.createDefaultBlock(e),!0}if(e==q.focusOnFirstBlock){const e=document.querySelector(".focusable");return!!e&&(e.focus(),!0)}if(e==q.deleteBlockAndFocusOnPrevious)throw new Error("Remove all reference to this code");if(e==q.deleteBlockAndFocusOnNext)throw new Error("Remove all reference to this code");return!0}queryCommandState(){throw new Error("Method not implemented.")}static getInstance(){const e=I.Instance.resolve("IElementFactoryService"),t=I.Instance.resolve("IFocusStack"),n=I.Instance.resolve("IMemento");return this.instance||(this.instance=new Ze(e,t,n)),this.instance}static getDraggableElementFromSelection(){const e=window.getSelection();if(e&&e.rangeCount>0){let t=e.getRangeAt(0).commonAncestorContainer;for(t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);t&&!(t instanceof HTMLElement);)t=t.parentNode;if(t)return t.closest(".block")}throw new Error}execMergeWithPreviousBlock(){this.memento.saveState();const e=T.getActiveContentEditable();if(!e)return;const t=T.getPreviousContentEditable(e);t&&(T.sanitizeContentEditable(e),T.sanitizeContentEditable(t),setTimeout((()=>{T.placeCursorAtEndOfEditableElement(t),setTimeout((()=>{const n=T.saveCaretPosition2d(t);if(t.innerHTML=t.innerHTML+e.innerHTML,e.closest("li")){const t=e.closest("li");t&&t.remove()}else{const t=e.closest(".block");t&&t.remove()}const o={charIndex:n.charIndex+t.textContent.length,horizontalPos:n.horizontalPos};T.restoreCaretPosition2d(t,o)}),10)})))}execMergeWithNextBlock(){this.memento.saveState();const e=T.getActiveContentEditable();if(!e)return;const t=T.getNextContentEditable(e);t&&(T.sanitizeContentEditable(e),T.sanitizeContentEditable(t),setTimeout((()=>{T.placeCursorAtEndOfEditableElement(e),setTimeout((()=>{const n=T.saveCaretPosition2d(e);if(e.innerHTML=e.innerHTML+t.innerHTML,e.closest("li")){const e=t.closest("li");e&&e.remove()}else{const e=t.closest(".block");e&&e.remove()}T.restoreCaretPosition2d(e,n)}),10)})))}execDuplicateBlock(e){e||(e=this.getCurrentSelectedBlock()||T.getCurrentActiveBlock());const t=e.cloneNode(!0);t.querySelectorAll(".exclude-from-clone").forEach((e=>e.remove()));const n=e.nextSibling;e.parentNode?.insertBefore(t,n),t.id=`b-${w.generateUniqueId()}`;const o=new CustomEvent(S.blockCloned,{bubbles:!0,cancelable:!0});return document.dispatchEvent(o),!0}execDeleteBlock(e){e||(e=this.getCurrentSelectedBlock()||T.getCurrentActiveBlock()),this.focusOnNext(e),this.deleteTheCurrentElementAndTheDraggableBlockIfEmpty(e);const t=new CustomEvent(S.blockDeleted,{bubbles:!0,cancelable:!0});return document.dispatchEvent(t),!0}transformBlock(e,t){let n;n=t?t.closest(".block"):this.focusStack.peek()?.closest(".block")||null,t||(t=T.findClosestAncestorOfActiveElementByClass(".block"));let o=n.querySelector(".swittable");this.focusStack.peek()?.focus(),T.removeFilterText(),this.memento.saveState();let i,r=o?.innerText,l=null;switch(e){case k.ELEMENT_TYPES.PARAGRAPH:{i=this.elementFactoryService.create(k.ELEMENT_TYPES.PARAGRAPH);const e=T.querySelectorIncludingSelf(o,'[contenteditable="true"]');e&&(i.innerHTML=e.innerHTML);break}case k.ELEMENT_TYPES.HEADER_1:i=this.elementFactoryService.create(k.ELEMENT_TYPES.HEADER_1),i.innerText=r;break;case k.ELEMENT_TYPES.HEADER_2:i=this.elementFactoryService.create(k.ELEMENT_TYPES.HEADER_2),i.innerText=r;break;case k.ELEMENT_TYPES.HEADER_3:i=this.elementFactoryService.create(k.ELEMENT_TYPES.HEADER_3),i.innerText=r;break;case k.ELEMENT_TYPES.HEADER_4:i=this.elementFactoryService.create(k.ELEMENT_TYPES.HEADER_4),i.innerText=r;break;case k.ELEMENT_TYPES.HEADER_5:i=this.elementFactoryService.create(k.ELEMENT_TYPES.HEADER_5),i.innerText=r;break;case k.ELEMENT_TYPES.HEADER_6:i=this.elementFactoryService.create(k.ELEMENT_TYPES.HEADER_6),i.innerText=r;break;case k.ELEMENT_TYPES.CODE:i=this.elementFactoryService.create(k.ELEMENT_TYPES.CODE);break;case k.ELEMENT_TYPES.QUOTE:i=this.elementFactoryService.create(k.ELEMENT_TYPES.QUOTE);break;case k.ELEMENT_TYPES.BULLETED_LIST:i=this.elementFactoryService.create(k.ELEMENT_TYPES.BULLETED_LIST,r);break;case k.ELEMENT_TYPES.NUMBERED_LIST:i=this.elementFactoryService.create(k.ELEMENT_TYPES.NUMBERED_LIST,r);break;case k.ELEMENT_TYPES.CHECK_LIST:i=this.elementFactoryService.create(k.ELEMENT_TYPES.CHECK_LIST,r);break;case k.ELEMENT_TYPES.SEPARATOR:i=this.elementFactoryService.create(k.ELEMENT_TYPES.SEPARATOR);break;case k.ELEMENT_TYPES.TABLE:i=this.elementFactoryService.create(k.ELEMENT_TYPES.TABLE,",,");break;case k.ELEMENT_TYPES.IMAGE:i=this.elementFactoryService.create(k.ELEMENT_TYPES.IMAGE,r),l=i;break;case k.ELEMENT_TYPES.VIDEO:i=this.elementFactoryService.create(k.ELEMENT_TYPES.VIDEO,r),l=i;break;case k.ELEMENT_TYPES.SPOTIFY:i=this.elementFactoryService.create(k.ELEMENT_TYPES.SPOTIFY,r),l=i;break;case k.ELEMENT_TYPES.GITHUB_GIST:i=this.elementFactoryService.create(k.ELEMENT_TYPES.GITHUB_GIST,r),l=i;break;case k.ELEMENT_TYPES.GITLAB_SNIPPET:i=this.elementFactoryService.create(k.ELEMENT_TYPES.GITLAB_SNIPPET,r),l=i;break;case k.ELEMENT_TYPES.CODEPEN:i=this.elementFactoryService.create(k.ELEMENT_TYPES.CODEPEN,r),l=i;break;case k.ELEMENT_TYPES.CALLOUT:{i=this.elementFactoryService.create(k.ELEMENT_TYPES.CALLOUT);const e=i.querySelector(".callout-text"),t=T.querySelectorIncludingSelf(o,'[contenteditable="true"]');e&&t&&(e.innerHTML=t.innerHTML);break}default:return void console.error("Unsupported type")}if(!i)return;n.replaceChild(i,o);const s=i.closest(".focusable")||n.querySelector(".focusable");if(s&&(s.focus(),T.placeCursorAtEndOfEditableElement(s)),l&&this.focusStack.push(l),"image"==e||"video"==e||"spotify"==e||"github-gist"==e||"gitlab-snippet"==e||"codepen"==e){const e=l?.querySelector(".content-placeholder");e&&this.focusStack.push(e),Z.emitShowElementEvent("mediaInputter")}const a=n?.querySelector(".block-toolbar-wrapper");if(a&&a.remove(),e==k.ELEMENT_TYPES.SEPARATOR){const e=new CustomEvent(S.emittedCommand,{detail:{command:q.createDefaultBlock}});document.dispatchEvent(e)}}createNewElement(e){this.memento.saveState();const t=e.target.closest(".johannes-content-element");t&&t.classList.contains("list")?this.createListItem(t):this.createDefaultBlock(t)}createListItem(e){this.memento.saveState();let t=null,n=(document.activeElement,e.closest(".johannes-content-element"));n.classList.contains("checkbox-list")?t=this.elementFactoryService.create("checkboxItem",""):n.classList.contains("list")&&(t=this.elementFactoryService.create("listItem",""))}createNewElementAndSplitContent(){this.memento.saveState();const e=T.getContentTypeFromActiveElement();if(e==o.Image){const e=T.findClosestAncestorOfActiveElementByClass("block");return this.createDefaultBlock(e),!1}if(e==o.Table)return!1;if(e==o.CheckList||e==o.BulletedList||e==o.NumberedList){const e=T.findClosestAncestorOfActiveElementByClass("list-item");if(e&&T.hasTextContent(e)){const t=T.cloneAndInsertAfter(e);if(t){const n=e.querySelector(".focusable"),o=t.querySelector(".focusable");T.rearrangeContentAfterSplit(n,o)}}else if(e){const t=e.closest(".block");if(t){const n=t.querySelectorAll(".list-item").length,o=k.blockParagraph();T.insertAfter(o,t),e.remove(),1==n&&t.remove();const i=o.querySelector("p");T.placeCursorAtStartOfEditableElement(i)}}}else{const e=T.findClosestAncestorOfActiveElementByClass("block");if(e){const t=T.cloneAndInsertAfter(e);if(t){const n=e.querySelector(".focusable"),i=t.querySelector(".focusable");T.rearrangeContentAfterSplit(n,i),this.transformBlock(o.Paragraph,t)}const n=t.querySelector(".focusable");T.placeCursorAtStartOfEditableElement(n)}}return!0}createANewParagraphFromTitle(){this.memento.saveState();const e=document.querySelector("#johannesEditor .title h1"),t=T.cloneAndInsertAfter(e);t&&T.rearrangeContentAfterSplit(e,t);const n=this.elementFactoryService.create(k.ELEMENT_TYPES.BLOCK_PARAGRAPH,""),o=n.querySelector(`.${l.ContentElement}`);o&&(o.innerHTML=t?.innerHTML||"");const i=document.querySelector("#johannesEditor .content");if(i){i.prepend(n);const e=n.querySelector(".focusable");T.placeCursorAtStartOfEditableElement(e)}t?.remove()}createDefaultBlock(e){this.memento.saveState();const t=this.elementFactoryService.create(k.ELEMENT_TYPES.BLOCK_PARAGRAPH,"");return e&&e.closest(".block")?e.closest(".block").insertAdjacentElement("afterend",t):document.querySelector("#johannesEditor .content").appendChild(t),t.querySelector(".johannes-content-element").focus(),this.focusStack.push(t),t}execFocusOnNext(){let e=this.getCurrentSelectedBlock()||T.getCurrentActiveBlock();return!!e&&(this.focusOnNext(e),!0)}execDeleteFocusOnPrevious(){this.memento.saveState();const e=document.activeElement;return this.focusOnPrevious(e),this.deleteTheCurrentElementAndTheDraggableBlockIfEmpty(e),!0}execDeleteAndFocusOnNext(){this.memento.saveState();let e=this.getCurrentSelectedBlock()||T.getCurrentActiveBlock();return!!e&&(this.focusOnNext(e),this.deleteTheCurrentElementAndTheDraggableBlockIfEmpty(e),!0)}focusOnPrevious(e,t=null){let n=null;if("LI"===e.tagName.toUpperCase()){let o=e.previousElementSibling;if(!o)return;if(o&&o.classList.contains("focusable"))return n=o,void(t?this.applyCursorXEndPosition(n,t):T.placeCursorAtEndOfEditableElement(n))}if("LI"===e.parentNode.tagName.toUpperCase()){let o=e.closest("li")?.previousElementSibling?.querySelector(".focusable");if(o&&o.classList.contains("focusable"))return n=o,void(t?this.applyCursorXEndPosition(n,t):T.placeCursorAtEndOfEditableElement(n))}let o=e.closest(".block");if(!o)return;let i=o.previousElementSibling;for(;i;){let e=i.querySelectorAll(".focusable");if(e.length>0)return n=e[e.length-1],void(t?this.applyCursorXEndPosition(n,t):T.placeCursorAtEndOfEditableElement(n));i=i.previousElementSibling}}getPreviousFocusableElement(e){let t=null;if("LI"===e.tagName.toUpperCase()){let n=e.previousElementSibling;if(!n)return null;if(n&&n.classList.contains("focusable"))return t=n,t}if("LI"===e.parentNode.tagName.toUpperCase()){let n=e.closest("li")?.previousElementSibling?.querySelector(".focusable");if(n&&n.classList.contains("focusable"))return t=n,t}let n=e.closest(".block");if(!n)return null;let o=n.previousElementSibling;for(;o;){let e=o.querySelectorAll(".focusable");if(e.length>0)return t=e[e.length-1],t;o=o.previousElementSibling}return t}focusOnNext(e,t=null){let n=null;if("LI"===e.tagName.toUpperCase()){let o=e.nextElementSibling;if(o&&o.classList.contains("focusable"))return n=o,t?this.applyCursorXStartPosition(n,t):T.placeCursorAtStartOfEditableElement(n),n}if("LI"===e.parentNode.tagName.toUpperCase()){let o=e.closest("li")?.nextElementSibling?.querySelector(".focusable");if(o&&o.classList.contains("focusable"))return n=o,t?this.applyCursorXStartPosition(n,t):T.placeCursorAtStartOfEditableElement(n),n}let o=e.closest(".block");if(!o)return;let i=o.nextElementSibling;for(;i;){let e=i.querySelectorAll(".focusable");if(e.length>0)return n=e[0],t?this.applyCursorXStartPosition(n,t):T.placeCursorAtStartOfEditableElement(n),n;i=i.nextElementSibling}return n}getNextFocusableElement(e){let t=null;if("LI"===e.tagName.toUpperCase()){let n=e.nextElementSibling;if(n&&n.classList.contains("focusable"))return t=n,t}if("LI"===e.parentNode.tagName.toUpperCase()){let n=e.closest("li")?.nextElementSibling?.querySelector(".focusable");if(n&&n.classList.contains("focusable"))return t=n,t}let n=e.closest(".block");if(!n)return null;let o=n.nextElementSibling;for(;o;){let e=o.querySelectorAll(".focusable");if(e.length>0)return t=e[0],t;o=o.nextElementSibling}return t}deleteTheCurrentElementAndTheDraggableBlockIfEmpty(e){const t=e.closest(".block"),n=e.closest(".deletable");n?.remove(),t&&0==t.querySelectorAll(".editable").length&&t.remove()}applyCursorXEndPosition(e,t){const n=window.getSelection(),o=document.createRange();let i=e.lastChild,r=null;for(;i;){if(i.nodeType===Node.TEXT_NODE){r=this.adjustCursorOffset(i,t);break}i=(i.nodeName.toUpperCase(),i.previousSibling)}r&&r.closestNode?(o.setStart(r.closestNode,r.closestOffset),o.collapse(!0),n.removeAllRanges(),n.addRange(o),e.focus()):(o.selectNodeContents(e),o.collapse(!1),n.removeAllRanges(),n.addRange(o),e.focus())}applyCursorXStartPosition(e,t){const n=window.getSelection(),o=document.createRange();let i=e.firstChild,r=null;for(;i;){if(i.nodeType===Node.TEXT_NODE){r=this.adjustCursorOffset(i,t);break}i=i.nextSibling}r&&r.closestNode?(o.setStart(r.closestNode,r.closestOffset),o.collapse(!0),n.removeAllRanges(),n.addRange(o),e.focus()):(o.selectNodeContents(e),o.collapse(!0),n.removeAllRanges(),n.addRange(o),e.focus())}adjustCursorOffset(e,t){let n=document.createRange(),o=e,i=0,r=1/0;for(let o=0;o<e.textContent.length;o++){n.setStart(e,o),n.setEnd(e,o+1);const l=n.getBoundingClientRect(),s=Math.abs(l.left-t),a=Math.abs(l.right-t);(s<r||a<r)&&(r=Math.min(s,a),i=o+(a<s?1:0))}return t>n.getBoundingClientRect().right&&(i=e.textContent.length),{closestNode:o,closestOffset:i}}getCurrentSelectedFocusable(){const e=window.getSelection();if(!e||0===e.rangeCount)return null;let t=e.getRangeAt(0).commonAncestorContainer;return t.nodeType===Node.TEXT_NODE&&(t=t.parentNode),t.closest(".focusable")}getCurrentSelectedBlock(){const e=window.getSelection();if(!e||0===e.rangeCount)return null;let t=e.getRangeAt(0).commonAncestorContainer;return t.nodeType===Node.TEXT_NODE&&(t=t.parentNode),t.closest(".block")}justifyLeft(e){this.memento.saveState(),this.removeJustify(e),e.classList.add("justify-left")}justifyCenter(e){this.memento.saveState(),this.removeJustify(e),e.classList.add("justify-center")}justifyRight(e){this.memento.saveState(),this.removeJustify(e),e.classList.add("justify-right")}changeCodeBlockLanguage(e,t){this.memento.saveState();const n=e.querySelector("code");n&&(T.removeClassesWithPrefix(n,"language-"),n.classList.add(`language-${t}`),n.removeAttribute("data-highlighted"),hljs.highlightElement(n),Z.emitCodeBlockLanguageChangedEvent("code-block-language-menu",e.id,t))}removeJustify(e){const t=e.classList;for(let e=0;e<t.length;e++){const n=t[e];n.startsWith("justify-")&&t.remove(n)}}execChangeCalloutBackground(e,t){const n=e.querySelector(".callout > div");n&&(T.removeClassesWithPrefix(n,"callout-background-"),n.classList.add(t))}}class Ke{static instance;memento;textOperationService;constructor(e){if(Ke.instance)throw new Error("Use TextOperationService.getInstance() to get instance.");this.memento=e}static getInstance(){const e=I.Instance.resolve("IMemento");return this.instance||(this.instance=new Ke(e)),this.instance}execInsertLink(e){this.memento.saveState(),document.execCommand("createLink",!1,e),setTimeout((()=>{Z.emitChangeComponentColorEvent(O.Link,M.IconActiveBlue),this.normalizeAnchors()}),50)}normalizeAnchors(){document.querySelectorAll("#johannesEditor .content a").forEach((e=>{e.hasAttribute("title")||e.setAttribute("title",e.href),e.normalize()}))}execToggleLink(){this.queryAnchorCommandState()?(document.execCommand("unlink",!1),Z.emitChangeComponentColorEvent("linkButton",M.IconDefaultBlack)):Z.emitShowElementEvent("linkBox")}execBold(){this.memento.saveState(),document.execCommand("bold")&&(document.queryCommandState("bold")?Z.emitChangeComponentColorEvent(O.Bold,M.IconActiveBlue):Z.emitChangeComponentColorEvent(O.Bold,M.IconDefaultBlack))}execInlineCode(){this.memento.saveState(),this.toggleInlineCode()&&(this.queryInlineCodeCommandState()?Z.emitChangeComponentColorEvent(O.InlineCode,M.IconActiveBlue):Z.emitChangeComponentColorEvent(O.InlineCode,M.IconDefaultBlack))}toggleInlineCode(){const e=window.getSelection();if(!e||0===e.rangeCount)return!1;const t=e.getRangeAt(0);let n=t.extractContents(),o=!1;const i=document.createElement("span");i.appendChild(n.cloneNode(!0)),i.querySelector("code")&&(o=!0,i.querySelectorAll("code").forEach((e=>{const t=document.createTextNode(e.textContent||"");e.parentNode?.replaceChild(t,e)})),n=i);let r=e.anchorNode;for(;r&&"CODE"!==r.nodeName&&"BODY"!==r.nodeName;)r=r.parentNode;if(r&&"CODE"===r.nodeName){o=!0;const e=document.createTextNode(r.textContent||"");r.parentNode?.replaceChild(e,r)}if(o)t.insertNode(i);else{const e=document.createElement("code");e.appendChild(n),t.insertNode(e)}e.removeAllRanges(),e.addRange(t);const l=T.getActiveContentEditable();return l&&(l.normalize(),T.mergeInlineElements(l)),!0}execItalic(){this.memento.saveState(),document.execCommand("italic")&&(document.queryCommandState("italic")?Z.emitChangeComponentColorEvent(O.Italic,M.IconActiveBlue):Z.emitChangeComponentColorEvent(O.Italic,M.IconDefaultBlack))}execStrikeThrough(){this.memento.saveState(),document.execCommand("strikeThrough")&&(document.queryCommandState("strikeThrough")?Z.emitChangeComponentColorEvent(O.Strikethrough,M.IconActiveBlue):Z.emitChangeComponentColorEvent(O.Strikethrough,M.IconDefaultBlack))}execUnderline(){this.memento.saveState(),document.execCommand("underline")&&setTimeout((()=>{document.queryCommandState("underline")?Z.emitChangeComponentColorEvent(O.Underline,M.IconActiveBlue):Z.emitChangeComponentColorEvent(O.Underline,M.IconDefaultBlack)}),10)}execHiliteColor(e){this.memento.saveState(),Z.emitResetActiveButtonsElementEvent("hiliteColor"),document.execCommand("hiliteColor",!1,e)&&Z.emitShowHideActiveElementEvent("hiliteColor",e,"show")}execForeColor(e){this.memento.saveState(),Z.emitResetActiveButtonsElementEvent("foreColor"),document.execCommand("foreColor",!1,e)&&Z.emitShowHideActiveElementEvent("foreColor",e,"show")}queryCommandState(e,t){return e===q.toggleLink?this.queryAnchorCommandState():e===q.toggleUnderline?this.queryUnderlineCommandState():e===q.toggleHiliteColor?this.queryHiliteColor(t):e===q.toggleForeColor?this.queryForeColor(t):e===q.toggleInlineCode?this.queryInlineCodeCommandState():document.queryCommandState(e)}queryAnchorCommandState(){const e=window.getSelection();if(!e||!e.rangeCount)return!1;const t=e.getRangeAt(0),n=t.startContainer,o=t.endContainer,i=e=>{for(;e&&e!==document.body;){if(e.nodeType===Node.ELEMENT_NODE&&"a"===e.tagName.toLowerCase())return!0;e=e.parentNode}return!1};return!(!i(n)&&!i(o))||t.cloneContents().querySelectorAll("a").length>0}queryInlineCodeCommandState(){const e=window.getSelection();if(!e||!e.rangeCount)return!1;let t=e.getRangeAt(0).commonAncestorContainer;for(t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);t&&null!==t;){if(t.nodeType==Node.ELEMENT_NODE&&t.closest("code"))return!0;t=t.parentNode}return!1}queryUnderlineCommandState(){const e=window.getSelection();if(!e||!e.rangeCount)return!1;let t=e.getRangeAt(0).commonAncestorContainer;for(t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);t&&null!==t;){if(t.nodeType==Node.ELEMENT_NODE&&t.closest("u"))return!0;t=t.parentNode}return!1}queryForeColor(e){const t=window.getSelection();if(!t)return!1;if(!t.rangeCount)return!1;let n=t.getRangeAt(0).commonAncestorContainer;if(n.nodeType===Node.TEXT_NODE&&(n=n.parentNode),!(n instanceof Element))return!1;const o=n.closest("font[color]");if(!o)return!1;const i=window.getComputedStyle(o).color;return w.rgbToHex(i).toUpperCase()===e.toUpperCase()}queryHiliteColor(e){const t=window.getSelection();if(!t)return!1;if(!t.rangeCount)return!1;let n=t.getRangeAt(0).commonAncestorContainer;if(n.nodeType===Node.TEXT_NODE&&(n=n.parentNode),!(n instanceof Element))return!1;const o=n.closest("span[style*='background-color']")||n.closest("font[style*='background-color']");if(!o)return!1;const i=window.getComputedStyle(o).backgroundColor;return w.rgbToHex(i).toUpperCase()===e.toUpperCase()}getTargetElementMap(e){switch(e){case"strong":case"bold":case"b":return"strong";case"italic":case"i":case"em":return"em";case"underline":case"u":return"u";case"strikethrough":case"s":return"s";case"background":case"color":return"span";default:throw new Error}}static getSelectedHTMLElement(){const e=window.getSelection();if(e&&e.rangeCount>0){let t=e.getRangeAt(0).commonAncestorContainer;for(t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);t&&!(t instanceof HTMLElement);)t=t.parentNode;if(t)return t}return null}getSelectedTextNodes(){const e=window.getSelection();if(!e||0===e.rangeCount)return[];const t=[];for(let n=0;n<e.rangeCount;++n){const o=e.getRangeAt(n),i=document.createNodeIterator(o.commonAncestorContainer,NodeFilter.SHOW_TEXT,{acceptNode:e=>o.intersectsNode(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT});let r;for(;r=i.nextNode();)if(r.nodeType===Node.TEXT_NODE){const e=document.createRange();e.selectNodeContents(r),-1===o.compareBoundaryPoints(Range.END_TO_START,e)&&1===o.compareBoundaryPoints(Range.START_TO_END,e)&&t.push(r)}}return t}findClosestMatchingParent(e,t){for(e&&e.nodeType===Node.TEXT_NODE&&(e=e.parentElement);e&&e!==document.body;){if(e.nodeType===Node.ELEMENT_NODE){const n=e;if(n.tagName.toLowerCase()===t.nodeType.toLowerCase()&&(!t.classes||t.classes.every((e=>n.classList.contains(e)))))return n}e=e.parentElement}return null}extractSelectedText(e){const t=window.getSelection();if(!t||0===t.rangeCount)return"";const n=t.getRangeAt(0);if(e.nodeType!==Node.TEXT_NODE)return"";const o=e.textContent||"";let i=0,r=o.length;return n.intersectsNode(e)?(n.startContainer===e?i=n.startOffset:n.startContainer.contains(e)&&(i=0),n.endContainer===e?r=n.endOffset:n.endContainer.contains(e)&&(r=o.length),i<r?o.substring(i,r):""):""}}!function(e){e.TableToolbar="tableFloatingToolbar",e.TextToolbar="textFloatingToolbar"}(Me||(Me={}));class We{static instance;focusStack;memento;constructor(e,t){if(We.instance)throw new Error("Use TableOperationsService.getInstance() to get instance.");this.focusStack=e,this.memento=t}isActiveCellBackgroundColor(e){throw new Error("Method not implemented.")}removeColumn(){this.memento.saveState();const e=this.focusStack.peek();e&&qe.removeColumnByCell(e),Z.emitCloseElementEvent(Me.TableToolbar)}removeRow(){this.memento.saveState();const e=this.focusStack.peek();e&&qe.removeRowByCell(e),Z.emitCloseElementEvent(Me.TableToolbar)}execCellBackgroundColor(e){this.memento.saveState(),Z.emitResetActiveButtonsElementEvent("backgroundColor");const t=qe.getActiveTableCell();t?(t.closest("table").querySelectorAll("td.selected").forEach((t=>{t.style.backgroundColor=e})),Z.emitShowHideActiveElementEvent("backgroundColor",e,"show")):console.error("cell not found")}static isCellBackgroundColor(e,t){if(!e||"TD"!==e.tagName||!e.hasAttribute("data-placeholder"))return!1;const n=window.getComputedStyle(e).getPropertyValue("background-color");return w.rgbToHex(n).toUpperCase()===t.toUpperCase()}queryStateCellBackgroundColor(e){const t=qe.getActiveTableCell();if(t){const n=window.getComputedStyle(t).getPropertyValue("background-color");return w.rgbToHex(n).toUpperCase()===e.toUpperCase()}return!1}queryAllStateCellBackgroundColor(e,t){let n=!0;return t!=M.BackgroundColorNone&&(e.forEach((e=>{const o=window.getComputedStyle(e).backgroundColor;w.rgbToHex(o).toLocaleLowerCase()!==t.toLocaleLowerCase()&&(n=!1)})),n)}static getInstance(){const e=I.Instance.resolve("IFocusStack"),t=I.Instance.resolve("IMemento");return this.instance||(this.instance=new We(e,t)),this.instance}insertRowAbove(){this.memento.saveState();const e=this.focusStack.peek();if(!e)return void console.error("No cell is focused");const t=e.parentElement;if(!t)return void console.error("No row is focused");const n=t.closest("table");if(!n)return void console.error("Table does not exist");const o=n.querySelector("tbody")||n,i=Array.from(o.children).indexOf(t);i<0?console.error("Row index not found"):(qe.addRow(n,i),Z.emitCloseElementEvent(Me.TableToolbar))}insertRowBelow(e){if(this.memento.saveState(),e){const t=e.querySelector("table");if(!t)return void console.error("Table does not exist");{const e=t.querySelector("tr:last-child");if(!e)return void console.error("No rows in the table");{const n=Array.from(t.children[0].children).indexOf(e)+1;qe.addRow(t,n)}}}else{const e=this.focusStack.peek();if(!e)return void console.error("No focused element available");const t=e.closest("td");if(!t)return void console.error("No cell is focused");const n=t.parentElement,o=t.closest("table");if(!o)return void console.error("Table does not exist");if(n){const e=Array.from(o.children[0].children).indexOf(n)+1;qe.addRow(o,e),Z.emitCloseElementEvent(Me.TableToolbar)}}}insertColumnLeft(){this.memento.saveState();const e=this.focusStack.peek();if(!e)return void console.error("No focused element available");const t=e.closest("td");if(!t)return void console.error("No cell is focused");const n=t.closest("table");if(!n)return void console.error("Table does not exist");const o=Array.from(t.parentElement.children).indexOf(t);qe.addColumn(n,o),Z.emitCloseElementEvent(Me.TableToolbar)}insertColumnRight(e){if(this.memento.saveState(),e){const t=e.querySelector("table");t&&qe.addColumn(t)}else{const e=this.focusStack.peek();if(!e)return void console.error("No focused element available");const t=e.closest("td");if(!t)return void console.error("No cell is focused");const n=t.closest("table");if(!n)return void console.error("Table does not exist");const o=Array.from(t.parentElement.children).indexOf(t);qe.addColumn(n,o+1),Z.emitCloseElementEvent(Me.TableToolbar)}}showInsertLineElement(e){e.querySelector(".add-table-row").style.visibility="visible"}showInsertColumnElement(e){e.querySelector(".add-table-column").style.visibility="visible"}hideInsertRowElement(e){e.querySelector(".add-table-row").style.visibility="hidden"}hideInsertColumnElement(e){e.querySelector(".add-table-column").style.visibility="hidden"}changeTableBorderColor(e,t){const n=this.focusStack.peek()?.closest(D.TABLE);n&&qe.changeCellBorderColor(n,e,t)}}class Qe{static query="#johannesEditor .content-wrapper";static instance;undoStack=[];redoStack=[];get content(){return document.querySelector(Qe.query)}constructor(){if(Qe.instance)throw new Error("Use Memento.getInstance() to get instance.");this.attachEvents(),this.saveState()}saveState(){if(this.content){const e=this.captureState();this.undoStack.push(e),this.redoStack=[]}}undo(){if(this.undoStack.length>1){const e=this.captureState();this.redoStack.push(e);const t=this.undoStack.pop();t&&(this.content.innerHTML=t.html,T.restoreCaretFromMarker(this.content))}}redo(){if(this.redoStack.length>0){const e=this.captureState();this.undoStack.push(e);const t=this.redoStack.pop();t&&(this.content.innerHTML=t.html,T.restoreCaretFromMarker(this.content))}}attachEvents(){document.addEventListener("keydown",(e=>{e.ctrlKey&&"z"===e.key?(this.undo(),e.preventDefault()):e.ctrlKey&&"y"===e.key&&(this.redo(),e.preventDefault())})),document.addEventListener(a.Keyup,(e=>{e.key==H.Space&&this.saveState()}))}static getInstance(){return Qe.instance||(Qe.instance=new Qe),Qe.instance}captureState(){T.insertCaretMarker(this.content);const e=this.content.cloneNode(!0);return e.querySelectorAll(`.${l.EditorOnly}`).forEach((e=>e.remove())),T.removeCaretMarker(this.content),{html:e.innerHTML}}}!function(e){e.First="First",e.Last="Last"}(Ne||(Ne={}));class $e{static instance;quickMenu;constructor(e){document.addEventListener("keydown",this.handleArrowKeys.bind(this)),this.quickMenu=e}listen(){console.log("EditableNavigation is now listening for key events.")}static getInstance(){if(!$e.instance){const e=I.Instance.resolve("IQuickMenu");$e.instance=new $e(e)}return $e.instance}handleArrowKeys(e){if(!this.quickMenu.isVisible&&e.key.startsWith("Arrow")&&!e.altKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey){const t=document.activeElement;if(t&&t.isContentEditable&&this.shouldSwitchEditable(t,e.key)){const n=this.findNextEditable(t,e.key);n&&(e.preventDefault(),e.stopImmediatePropagation(),e.key!=xe.ArrowUp&&e.key!=xe.ArrowDown||this.placeCaretInSimilarPosition(t,n),e.key==xe.ArrowLeft&&T.placeCursorAtEndOfEditableElement(n),e.key==xe.ArrowRight&&T.placeCursorAtStartOfEditableElement(n),n.focus())}}}shouldSwitchEditable(e,t){const n=window.getSelection();if(n&&n.rangeCount>0){let e=n.getRangeAt(0);if(e.endOffset!=e.startOffset)return!1}if(n&&n.rangeCount>0){const{atStart:n,atEnd:o}=T.getSelectionTextInfo(e),i=this.isAtLineBoundary(e,Ne.First),r=this.isAtLineBoundary(e,Ne.Last);return!!(t===xe.ArrowLeft&&n||t===xe.ArrowRight&&o||t===xe.ArrowUp&&(n||i)||t===xe.ArrowDown&&(o||r))}return!1}isAtLineBoundary(e,t){if(""===e.textContent?.trim())return!0;const n=window.getSelection();if(!n||0===n.rangeCount)return!1;const o=n.getRangeAt(0).getClientRects()[0];if(!o)return!0;const i=e.getBoundingClientRect();return t===Ne.First?Math.abs(o.top-i.top)<11:t===Ne.Last&&Math.abs(o.bottom-i.bottom)<11}findNextEditable(e,t){const n=Array.from(document.querySelectorAll('[contenteditable="true"]')),o=n.indexOf(e);if(e.closest("td")){const n=e.closest("table"),o=e.closest("td");if(n&&o){const e=qe.getNeighborCell(n,o,t);if(e)return e}}let i=-1;return i=t===xe.ArrowLeft||t===xe.ArrowRight?t===xe.ArrowLeft?o-1:o+1:this.findVerticalEditableIndex(e,n,t),i<0||i>=n.length?null:n[i]||null}findVerticalEditableIndex(e,t,n){let o=t.indexOf(e);return n===xe.ArrowUp?o--:n===xe.ArrowDown&&o++,o>=0&&o<t.length?o:-1}placeCaretInSimilarPosition(e,t){const n=window.getSelection();if(n&&n.rangeCount>0){const e=n.getRangeAt(0).getBoundingClientRect();n.removeAllRanges();const o=document.createRange(),i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);let r=i.nextNode(),l=r,s=0,a=1/0;if(l){do{if(r&&r.nodeValue){o.setStart(r,0),o.setEnd(r,r.nodeValue.length);for(let t=0;t<r.nodeValue.length;t++){o.setStart(r,t),o.collapse(!0);const n=o.getBoundingClientRect(),i=Math.abs(n.left-e.left);i<a&&(a=i,l=r,s=t)}}}while(r=i.nextNode());o.setStart(l,s),o.collapse(!0),n.addRange(o)}else o.selectNodeContents(t),o.collapse(!0),n.addRange(o)}}}document.addEventListener("DOMContentLoaded",(function(){I.Instance.register("IMemento",(()=>Qe.getInstance())),I.Instance.register("IShortcutListeners",(()=>ze.getInstance())),I.Instance.register("ITableListeners",(()=>Ue.getInstance())),I.Instance.register("IFocusStack",(()=>Ge.getInstance())),I.Instance.register("IElementFactoryService",(()=>k.getInstance())),I.Instance.register("ITextOperationsService",(()=>Ke.getInstance())),I.Instance.register("ITableOperationsService",(()=>We.getInstance())),I.Instance.register("IBlockOperationsService",(()=>Ze.getInstance())),I.Instance.register("IQuickMenu",(()=>fe.getInstance())),I.Instance.register("ITableContextFloatingToolbar",(()=>Re.getInstance())),I.Instance.register("IEditableNavigation",(()=>$e.getInstance())),je.build().start(),Ye.getInstance().listen(),$e.getInstance().listen(),pe.getInstance().listen(),document.dispatchEvent(new Event("TextEditorLoaded"))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UzVLLFNBQVMsMEJBQTBCLElBQU1veEMsR0FBc0IxdkMsZ0JBQzVGZ0osRUFBb0JFLFNBQVM1SyxTQUFTLDJCQUEyQixJQUFNb3pDLEdBQXVCMXhDLGdCQUM5RmdKLEVBQW9CRSxTQUFTNUssU0FBUywyQkFBMkIsSUFBTStzQyxHQUF1QnJyQyxnQkFHOUZnSixFQUFvQkUsU0FBUzVLLFNBQVMsY0FBYyxJQUFNMHpCLEdBQVVoeUIsZ0JBQ3BFZ0osRUFBb0JFLFNBQVM1SyxTQUFTLGdDQUFnQyxJQUFNczhCLEdBQTRCNTZCLGdCQUN4R2dKLEVBQW9CRSxTQUFTNUssU0FBUyx1QkFBdUIsSUFBTTgwQyxHQUFtQnB6QyxnQkFFdEYrbkMsR0FBVWpsQixRQUFRa2xCLFFBRWxCRyxHQUFrQm5vQyxjQUFjNnJCLFNBQ2hDdW5CLEdBQW1CcHpDLGNBQWM2ckIsU0FDakNiLEdBQWFockIsY0FBYzZyQixTQUUzQmwwQixTQUFTaWdCLGNBQWMsSUFBSTI4QixNQUFNLG9CQUVyQyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvYXNzZXRzL2Nzcy9tYWluLmNzcyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL2pvaGFubmVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2pvaGFubmVzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2pvaGFubmVzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9qb2hhbm5lcy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2pvaGFubmVzL3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb21tb24vQ29udGVudFR5cGVzLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbW1vbi9JY29ucy50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb21wb25lbnRzL2Jsb2NrLXRvb2xib3gvVG9vbGJveE9wdGlvbnMudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tbW9uL0NvbW1vbkNsYXNzZXMudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tbW9uL0N1c3RvbVVJRXZlbnRzLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbW1vbi9EZWZhdWx0SlNFdmVudHMudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvYXNzZXRzL2Nzcy9tYWluLmNzcz8xZmJhIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL3V0aWxpdGllcy9VdGlscy50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9zZXJ2aWNlcy9lbGVtZW50LWZhY3RvcnkvRWxlbWVudEZhY3RvcnlTZXJ2aWNlLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbXBvbmVudHMvY29tbW9uL0Jhc2VVSUNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb3JlL0RlcGVuZGVuY3lDb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvdXRpbGl0aWVzL0RPTVV0aWxzLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbW1vbi9DdXN0b21FdmVudHMudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tbW9uL1pJbmRleC50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb21tb24vQ29sb3JzLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbW1hbmRzL0NvbW1hbmRzLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvcmUvQnV0dG9uSURzLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbW1vbi9LZXlib2FyZEtleXMudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29yZS9Ecm9wZG93bkl0ZW1JRHMudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tbW9uL0RPTUVsZW1lbnRzLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvcmUvRHJvcGRvd25MaXN0SURzLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvcmUvRHJvcGRvd25NZW51SURzLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9GbG9hdGluZ1Rvb2xiYXIudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tbWFuZHMvVUlBY3Rpb25zL0NoYW5nZUNvbG9yLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbW1hbmRzL1VJQWN0aW9ucy9TaG93SGlkZUFjdGl2ZUJ1dHRvbi50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb21tYW5kcy9VSUFjdGlvbnMvUmVzZXRBY3RpdmVCdXR0b25zLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbW1hbmRzL1VJQWN0aW9ucy9DbG9zZUVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tbWFuZHMvVUlBY3Rpb25zL1Nob3dFbGVtZW50LnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbW1hbmRzL1VJQWN0aW9ucy9DaGFuZ2VCbG9ja1Rvb2xiYXJMYW5ndWFnZS50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb21tYW5kcy9FdmVudEVtaXR0ZXIudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tcG9uZW50cy9mbG9hdGluZy10b29sYmFyL1RleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9saW5rLWJveC9JbnB1dExpbmtCb3gudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tcG9uZW50cy9mbG9hdGluZy10b29sYmFyL2xpbmstYm94L0lucHV0TGlua0JveFdyYXBwZXIudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tcG9uZW50cy9lZGl0b3IvRWRpdG9yLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbXBvbmVudHMvYWRkLWJsb2NrL0FkZEJsb2NrQnV0dG9uLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbXBvbmVudHMvYWRkLWJsb2NrL0FkZEJsb2NrV3JhcHBlci50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb21tb24vU2l6ZXMudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tcG9uZW50cy9jb21tb24vU1ZHSWNvbi50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9idWlsZGVycy9BZGRCbG9ja0J1aWxkZXIudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tcG9uZW50cy9mbG9hdGluZy10b29sYmFyL2Ryb3Bkb3duLXRvb2wvRHJvcGRvd25NZW51LnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbW1vbi9CYXNlRG91Ymx5TGlua2VkTGlzdC50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb21tb24vSk5vZGUudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tbW9uL0NpcmN1bGFyRG91Ymx5TGlua2VkTGlzdC50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb21wb25lbnRzL2Zsb2F0aW5nLXRvb2xiYXIvZHJvcGRvd24tdG9vbC9Ecm9wZG93bk1lbnVMaXN0SXRlbS50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb21wb25lbnRzL2Zsb2F0aW5nLXRvb2xiYXIvZHJvcGRvd24tdG9vbC9Ecm9wZG93bk1lbnVMaXN0LnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9zZXBhcmF0b3IvRmxvYXRpbmdUb29sYmFyU2VwYXJhdG9yLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9idXR0b24tZ3JvdXAvQnV0dG9uR3JvdXAudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tcG9uZW50cy9mbG9hdGluZy10b29sYmFyL2J1dHRvbi1ncm91cC9CdXR0b25Hcm91cEl0ZW0udHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tcG9uZW50cy9mbG9hdGluZy10b29sYmFyL2Ryb3Bkb3duLXRvb2wvQ29sb3JJY29uLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9kcm9wZG93bi10b29sL0Ryb3Bkb3duTWVudUxpc3RJdGVtVGl0bGUudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvYnVpbGRlcnMvQmxvY2tUb29sYm94QnVpbGRlci50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb21wb25lbnRzL2Jsb2NrLXRvb2xib3gvQmxvY2tUb29sYm94LnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9kcm9wZG93bi10b29sL0Ryb3Bkb3duTWVudUJ1dHRvbi50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9idWlsZGVycy9UZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhckJ1aWxkZXIudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tcG9uZW50cy9xdWljay1tZW51L1F1aWNrTWVudUVtcHR5LnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbXBvbmVudHMvcXVpY2stbWVudS9RdWlja01lbnUudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tbW9uL0RvdWJseUxpbmtlZExpc3QudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tcG9uZW50cy9xdWljay1tZW51L1F1aWNrTWVudVNlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tcG9uZW50cy9xdWljay1tZW51L1F1aWNrTWVudUl0ZW0udHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvYnVpbGRlcnMvUXVpY2tNZW51QnVpbGRlci50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb21wb25lbnRzL3RpdGxlL1RpdGxlLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2J1aWxkZXJzL1RpdGxlQnVpbGRlci50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb21tb24vRGlyZWN0aW9ucy50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9zZXJ2aWNlcy90YWJsZS1vcGVyYXRpb25zL1RhYmxlU2NvcGVzLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9TZWxlY3Rpb25Nb2RlLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvcmUvRW1iZWRUb29sLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvcmUvVG9vbGJhcklEcy50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb21tb24vQm91bmRhcmllcy50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy91dGlsaXRpZXMvVGFibGVVdGlscy50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb21wb25lbnRzL2NvbnRlbnQvQ29udGVudC50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9idWlsZGVycy9Db250ZW50QnVpbGRlci50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb21wb25lbnRzL2Zsb2F0aW5nLXRvb2xiYXIvVGFibGVDb250ZXh0RmxvYXRpbmdUb29sYmFyLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2J1aWxkZXJzL1RhYmxlQ29udGV4dEZsb2F0aW5nVG9vbGJhckJ1aWxkZXIudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29tcG9uZW50cy9tZWRpYS1pbnB1dHRlci9NZWRpYUlucHV0dGVyLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2J1aWxkZXJzL01lZGlhSW5wdXR0ZXJCdWlsZGVyLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2J1aWxkZXJzL0VkaXRvckJ1aWxkZXIudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvYnVpbGRlcnMvVUlCdWlsZGVyLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvbW1hbmRzL0NvbW1hbmREaXNwYXRjaGVyLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL2NvcmUvU2hvcnRjdXRMaXN0ZW5lcnMudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29yZS9saXN0ZW5lcnMvVGFibGVMaXN0ZW5lcnMudHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29yZS9Gb2N1c1N0YWNrLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL3NlcnZpY2VzL2Jsb2NrLW9wZXJhdGlvbnMvQmxvY2tPcGVyYXRpb25zU2VydmljZS50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9zZXJ2aWNlcy90ZXh0LW9wZXJhdGlvbnMvVGV4dE9wZXJhdGlvbnNTZXJ2aWNlLnRzIiwid2VicGFjazovL2pvaGFubmVzLy4vc3JjL3NlcnZpY2VzL3RhYmxlLW9wZXJhdGlvbnMvVGFibGVPcGVyYXRpb25zU2VydmljZS50cyIsIndlYnBhY2s6Ly9qb2hhbm5lcy8uL3NyYy9jb3JlL01lbWVudG8udHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvY29yZS9FZGl0YWJsZU5hdmlnYXRpb24udHMiLCJ3ZWJwYWNrOi8vam9oYW5uZXMvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC8qKiBjdXJzb3Igc3R5bGUgKi9cbltjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdIHtcbiAgICBjdXJzb3I6IHRleHQgIWltcG9ydGFudDtcbiAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXAgIWltcG9ydGFudDtcbn1cblxuXG5maWd1cmUgZmlnY2FwdGlvbltkYXRhLXBsYWNlaG9sZGVyXTplbXB0eTpiZWZvcmUge1xuICAgIGNvbnRlbnQ6IGF0dHIoZGF0YS1wbGFjZWhvbGRlcikgIWltcG9ydGFudDtcbiAgICBjb2xvcjogIzg0ODg4ZCAhaW1wb3J0YW50O1xuICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG59XG5cblxuZmlndXJlIGZpZ2NhcHRpb257XG4gICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgIHdpZHRoOiBmaXQtY29udGVudDtcbiAgICBtYXJnaW46ICAwIGF1dG87XG4gICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbn1cblxuLyoqIENTUyByZXNldCAqL1xuLmJ1dHRvbi1yZXNldCB7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgIGZvbnQ6IGluaGVyaXQ7XG4gICAgbGluZS1oZWlnaHQ6IG5vcm1hbDtcbn1cblxuLyoqIGFkZCBibG9jayAqL1xuLmFkZC1ibG9jayB7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIG1hcmdpbi1sZWZ0OiAxLjNyZW07XG59XG5cbi5hZGQtYmxvY2std3JhcHBlciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAzLjEyNXJlbTtcbn1cblxuLmFkZC1ibG9jay13cmFwcGVyOmhvdmVyIC5hZGQtYmxvY2sge1xuICAgIGRpc3BsYXk6IGZsZXg7XG59XG5cbi8qKiBhbmQgYWRkIGJsb2NrICovXG5cblxuXG4vKiogTGlzdCAgKiovXG4ubGlzdCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGdhcDogMTBweDtcblxufVxuXG4ubGlzdC1pdGVtLWNoZWNrYWJsZSBpbnB1dCB7XG4gICAgbWFyZ2luLXRvcDogMC41cmVtO1xufVxuXG4ubGlzdCBsaSBkaXYge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xuICAgIG1pbi13aWR0aDogMTAwcHg7XG4gICAgbGluZS1oZWlnaHQ6IDE7XG59XG5cbm9sLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCxcbnVsLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCB7XG4gICAgcGFkZGluZy1sZWZ0OiAxcmVtICFpbXBvcnRhbnQ7XG59XG5cbi5qb2hhbm5lcy1jb250ZW50LWVsZW1lbnQgbGk+YnV0dG9uIHtcbiAgICAvKiBkaXNwbGF5OiBub25lOyAqL1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIHRvcDogMDtcblxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgYWxpZ24taXRlbXM6IHN0YXJ0O1xuICAgIGp1c3RpZnktY29udGVudDogc3RhcnQ7XG5cbn1cblxuLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCBsaSB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuXG59XG5cbi5qb2hhbm5lcy1jb250ZW50LWVsZW1lbnQgbGk6OmJlZm9yZSB7XG4gICAgbWFyZ2luLWxlZnQ6IDAuMzEyNXJlbTtcbn1cblxuLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCBsaTpob3Zlcj5idXR0b24ge1xuICAgIC8qIGRpc3BsYXk6IGlubGluZS1ibG9jazsgKi9cbiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcblxufVxuXG5wLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGxpbmUtaGVpZ2h0OiAxO1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xufVxuXG4uam9oYW5uZXMtY29udGVudC1lbGVtZW50IC5jaGVja2JveC1saXN0IHtcbiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG4gICAgcGFkZGluZy1sZWZ0OiAwICFpbXBvcnRhbnQ7XG59XG5cblxuLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCAuY2hlY2tib3gtbGlzdCBsaSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGp1c3RpZnktY29udGVudDogbGVmdDtcbn1cblxuXG4uam9oYW5uZXMtY29udGVudC1lbGVtZW50IHVsLmNoZWNrYm94LWxpc3QgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOmNoZWNrZWQrc3BhbiB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XG59XG5cbi8qKiBBZGQgbGluZSB0aHJvdWdoIHRleHQgZGVjb3JhdGlvbiB0byBjaGVja2VkIGNoZWNrYm94ZXMgdGV4dCBkaXYgKi9cbi5ibG9jayBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06Y2hlY2tlZCtkaXYge1xuICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xufVxuXG4vKiogUmVtb3ZlIHRoZSBkZWZhdWx0IGxpc3Qgc3R5bGUgYW5kIHJlcGxhY2UgYnkgYW5vdGhlciB0aGF0IHdvcmtzIHdpdGggZGlzcGxheSBmbGV4ICovXG4uYmxvY2sgb2wsXG4uYmxvY2sgdWwge1xuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG59XG5cbi5ibG9jayB1bCAubGlzdC1pdGVtLFxuLmJsb2NrIG9sIC5saXN0LWl0ZW0ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcblxufVxuXG4uYmxvY2sgb2wgbGkge1xuICAgIGNvdW50ZXItaW5jcmVtZW50OiBpdGVtO1xufVxuXG4uYmxvY2sgb2wgbGk6OmJlZm9yZSB7XG4gICAgY29udGVudDogY291bnRlcihpdGVtKSBcIi5cIjtcbiAgICBtYXJnaW4tcmlnaHQ6IDAuMzEyNXJlbTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIC8qIHdpZHRoOiAxOHB4OyAqL1xuICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbn1cblxuLmJsb2NrIHVsIGxpOm5vdCgubm8tbGlzdC1zdHlsZSk6OmJlZm9yZSB7XG4gICAgY29udGVudDogXCLigKJcIjtcbiAgICBtYXJnaW4tcmlnaHQ6IDAuMzEyNXJlbTtcbiAgICBkaXNwbGF5OiBmbGV4O1xufVxuXG4ubGlzdC1pdGVtLWNoZWNrYWJsZSBpbnB1dCB7XG4gICAgbWFyZ2luLXJpZ2h0OiAwLjMxMjVyZW07XG59XG5cblxuLyoqIGFuZCBsaXN0ICoqL1xuXG5cbi5kcmFnLWhhbmRsZXIge1xuICAgIGNvbG9yOiAjODQ4ODhkO1xuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICBjdXJzb3I6IGdyYWI7XG4gICAgYWxpZ24tc2VsZjogc3RhcnQ7XG4gICAgcGFkZGluZy10b3A6IDAuMzNyZW07XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xufVxuXG4uZHJhZy1oYW5kbGVyLXdyYXBwZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBoZWlnaHQ6IDA7XG4gICAgd2lkdGg6IDA7XG59XG5cbi5kcmFnLWhhbmRsZXI6YWN0aXZlIHtcbiAgICBjdXJzb3I6IGdyYWJiaW5nO1xufVxuXG4uYmxvY2sge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG59XG5cbi5ibG9jaz4qOm5vdCguZWRpdG9yLW9ubHkpIHtcbiAgICBwYWRkaW5nLWxlZnQ6IDEuMjVyZW0gIWltcG9ydGFudDtcbn1cblxuLmJsb2NrOmhvdmVyIC5kcmFnLWhhbmRsZXIge1xuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHN0YXJ0O1xuICAgIHRyYW5zaXRpb246IHZpc2liaWxpdHkgMC4ycztcbn1cblxuLmRyb3AtbGluZSB7XG4gICAgaGVpZ2h0OiAxcmVtO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM4NDg4OGQ7XG4gICAgd2lkdGg6IDEwMCU7XG59XG5cblxuLnRpdGxlIGgxIHtcbiAgICBtYXJnaW4tbGVmdDogMS4zcmVtO1xuICAgIGxpbmUtaGVpZ2h0OiAzcmVtO1xufVxuXG5cbiNqb2hhbm5lc0VkaXRvciBbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXTplbXB0eTpmb2N1cyB7XG4gICAgY29udGVudDogYXR0cihkYXRhLXBsYWNlaG9sZGVyKTtcbiAgICBjb2xvcjogIzg0ODg4ZDtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuI2pvaGFubmVzRWRpdG9yIGgxW2RhdGEtcGxhY2Vob2xkZXJdOmVtcHR5OmJlZm9yZSB7XG4gICAgY29udGVudDogYXR0cihkYXRhLXBsYWNlaG9sZGVyKTtcbiAgICBjb2xvcjogIzg0ODg4ZCAhaW1wb3J0YW50O1xuICAgIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4jam9oYW5uZXNFZGl0b3IgaDFbZGF0YS1wbGFjZWhvbGRlcl06Zm9jdXM6YmVmb3JlIHt9XG5cblxuI2pvaGFubmVzRWRpdG9yICpbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXTpub3QoaDEpOmVtcHR5OmJlZm9yZSB7XG4gICAgY29udGVudDogYXR0cihkYXRhLXBsYWNlaG9sZGVyKTtcbiAgICBjb2xvcjogIzg0ODg4YWNkO1xuICAgIGRpc3BsYXk6IG5vbmU7XG59XG5cbiNqb2hhbm5lc0VkaXRvciAqW2NvbnRlbnRlZGl0YWJsZT1cInRydWVcIl06bm90KGgxKTplbXB0eTpob3ZlcjpiZWZvcmUge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4jam9oYW5uZXNFZGl0b3IgY2l0ZVtjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdOmVtcHR5OmJlZm9yZSB7XG4gICAgZGlzcGxheTogYmxvY2s7XG59XG5cbiNqb2hhbm5lc0VkaXRvciAqW2NvbnRlbnRlZGl0YWJsZT1cInRydWVcIl06bm90KGgxKVtkYXRhLXBsYWNlaG9sZGVyXTplbXB0eTpmb2N1czpiZWZvcmUge1xuICAgIGNvbnRlbnQ6IGF0dHIoZGF0YS1wbGFjZWhvbGRlcik7XG4gICAgY29sb3I6ICM4NDg4OGFjZCAhaW1wb3J0YW50O1xuICAgIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4jam9oYW5uZXNFZGl0b3IgbGkuZGl2W2NvbnRlbnRlZGl0YWJsZT1cInRydWVcIl06ZW1wdHk6aG92ZXI6YmVmb3JlIHtcbiAgICBjb250ZW50OiBhdHRyKGRhdGEtcGxhY2Vob2xkZXIpO1xuICAgIGNvbG9yOiAjODQ4ODhhY2Q7XG4gICAgZGlzcGxheTogYmxvY2s7XG59XG5cblxuXG5oMSB7XG4gICAgZm9udC1zaXplOiAyLjVyZW07XG4gICAgZm9udC13ZWlnaHQ6IGJvbGRlciAhaW1wb3J0YW50O1xufVxuXG4uY29udGVudCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuLmNvbnRlbnQgLmJsb2NrIC50YWJsZS13cmFwcGVyIHtcbiAgICBvdmVyZmxvdy14OiBhdXRvO1xuICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcbn1cblxuXG5bY29udGVudGVkaXRhYmxlXSB7XG4gICAgb3V0bGluZTogbm9uZTtcbn1cblxuYm9keSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgXCJTZWdvZSBVSVwiLCBSb2JvdG8sIFwiSGVsdmV0aWNhIE5ldWVcIiwgXCJOb3RvIFNhbnNcIiwgXCJMaWJlcmF0aW9uIFNhbnNcIiwgQXJpYWwsIHNhbnMtc2VyaWYsIFwiQXBwbGUgQ29sb3IgRW1vamlcIiwgXCJTZWdvZSBVSSBFbW9qaVwiLCBcIlNlZ29lIFVJIFN5bWJvbFwiLCBcIk5vdG8gQ29sb3IgRW1vamlcIjtcbiAgICBtYXJnaW4tYm90dG9tOiAyMDBweDtcbn1cblxuXG4uZWRpdG9yIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG1hcmdpbi10b3A6IDgwcHg7XG59XG5cbnAge1xuICAgIGNvbG9yOiAjMjQyNDI0O1xufVxuXG4uYmxvY2ssXG4uYmxvY2sgKiB7XG4gICAgdXNlci1zZWxlY3Q6IHRleHQ7XG59XG5cblxuLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogMDtcbiAgICBtYXJnaW46IDA7XG59XG5cblxuI2pvaGFubmVzRWRpdG9yIHtcbiAgICAvKiB3aWR0aDogNjAlOyAqL1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbn1cblxuLmpvaGFubmVzLWVkaXRvciBociB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAycHg7XG4gICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoNTUsIDUzLCA0NywgMC4xNik7XG59XG5cblxuXG4uam9oYW5uZXMtZWRpdG9yIGJsb2NrcXVvdGUge1xuICAgIG1hcmdpbjogMC41cmVtIDA7XG4gICAgcGFkZGluZy1sZWZ0OiAyMHB4O1xuICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgcmdiKDU1LCA1MywgNDcpO1xuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgICBkaXNwbGF5OiBibG9jaztcbn1cblxuLmpvaGFubmVzLWVkaXRvciBjaXRlIHtcbiAgICBwYWRkaW5nLXRvcDogMXJlbSAhaW1wb3J0YW50O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuXG4uam9oYW5uZXMtZWRpdG9yIGNpdGU6OmJlZm9yZSB7XG4gICAgY29udGVudDogJ+KAlCAnO1xufVxuXG5cbiNsaW5rQm94IHtcbiAgICB6LWluZGV4OiA5OTk5OTk7XG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xufVxuXG4jbGlua0JveCAuaGVhZGVyIHtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSg1NSwgNTMsIDQ3LCAwLjE2KTtcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gICAgZm9udC1zaXplOiAwLjg2cmVtO1xuICAgIGNvbG9yOiAjMzczNTJmZDk7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuI2xpbmtCb3ggLmxpbmstYm94LXNoZWxsIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZ2FwOiAxcmVtO1xuICAgIHBhZGRpbmc6IDIwcHg7XG59XG5cblxuI2xpbmtCb3ggLmxpbmstYm94LXNoZWxsIGlucHV0IHtcbiAgICB3aWR0aDogMjByZW07XG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1NSwgNTMsIDQ3LCAwLjE2KTtcbiAgICBoZWlnaHQ6IDEuNXJlbTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xufVxuXG5cbi5jdHJsLWFjdGl2ZSAuam9oYW5uZXMtY29udGVudC1lbGVtZW50IGEge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuXG4vKiogc29mdC1ib3gtc2hhZG93IGNsYXNzICovXG4uc29mdC1ib3gtc2hhZG93IHtcbiAgICBtYXJnaW46IDA7XG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgIGJveC1zaGFkb3c6XG4gICAgICAgIDAgNHB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSksXG4gICAgICAgIDAgLTJweCA0cHggcmdiYSgyMTYsIDE5NiwgMTk2LCAwLjAyKSxcbiAgICAgICAgLTJweCAwIDRweCByZ2JhKDAsIDAsIDAsIDAuMDIpLFxuICAgICAgICAycHggMCA0cHggcmdiYSgwLCAwLCAwLCAwLjAyKTtcblxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkMGQwZDA7XG59XG5cbi8qKiBhbmQgc29mdC1ib3gtc2hhZG93ICovXG5cblxuLyoqIHNlbGVjdGlvbi13cmFwcGVyIGNsYXNzICovXG4uc2VsZWN0LXdyYXBwZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBjb2xvcjogcmdiKDEyMCwgMTE5LCAxMTYpO1xufVxuXG4uc2VsZWN0LXdyYXBwZXIgdWwge1xuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xuICAgIHBhZGRpbmctYm90dG9tOiAwLjVyZW07XG4gICAgcGFkZGluZy1sZWZ0OiA1cHg7XG4gICAgdG9wOiAyLjJyZW07XG4gICAgY29sb3I6IHJnYig1NSwgNTMsIDQ3KTtcbiAgICBwYWRkaW5nLXJpZ2h0OiAwLjMxMjVyZW07XG59XG5cbi5zZWxlY3Qtd3JhcHBlciB1bCBsaSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZ2FwOiAwLjYyNXJlbTtcbiAgICBwYWRkaW5nOiAwLjE4NzVyZW0gMC4zMTI1cmVtO1xuICAgIGJvcmRlci1yYWRpdXM6IDAuMTg3NXJlbTtcbiAgICB1c2VyLXNlbGVjdDogbm9uZSAhaW1wb3J0YW50O1xuICAgIGZvbnQtc2l6ZTogc21hbGwgIWltcG9ydGFudDtcbiAgICBmb250LXdlaWdodDogNTAwO1xufVxuXG4uc2VsZWN0LXdyYXBwZXIgdWwgbGkgc3Bhbixcbi5zZWxlY3Qtd3JhcHBlciBidXR0b24gc3BhbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHdpZHRoOiBtYXgtY29udGVudDtcbiAgICBsaW5lLWhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xufVxuXG4uc2VsZWN0LXdyYXBwZXIgdWwgbGkgLm9wdGlvbi1pbWFnZSB7XG4gICAgd2lkdGg6IDEuMzc1cmVtO1xuICAgIGhlaWdodDogMS4zNzVyZW07XG4gICAgY29sb3I6ICMyNDI0MjQ7XG4gICAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xuICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xufVxuXG4uc2VsZWN0LXdyYXBwZXIgdWwgbGkgLm9wdGlvbi1pbWFnZSBzdmcge1xuICAgIGNvbG9yOiAjNGY0ZjRmO1xuICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbiAgICBtYXJnaW46IDAgIWltcG9ydGFudDtcbn1cblxuLnNlbGVjdC13cmFwcGVyPmJ1dHRvbiB7XG4gICAgY29sb3I6ICMzNzM1MmZkOTtcbn1cblxuLnNlbGVjdC13cmFwcGVyIHVsIGxpPmgzIHtcbiAgICBtYXJnaW46IDA7XG4gICAgZm9udC1zaXplOiBzbWFsbCAhaW1wb3J0YW50O1xuICAgIGNvbG9yOiAjMzczNTJmYTY7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgZm9udC13ZWlnaHQ6IDYwMCAhaW1wb3J0YW50O1xuICAgIG1hcmdpbi10b3A6IDAuMzEyNXJlbTtcbiAgICBtYXJnaW4tYm90dG9tOiAwLjMxMjVyZW07XG59XG5cbi8qKiBlbmQgc2VsZWN0aW9uIHdyYXBwZXIgKiovXG5cblxuXG4vKiogVGV4dCBmb3JtYXR0aW5nIEJhciAqKi9cblxuXG5cbi5mbG9hdGluZy10b29sYmFyIHtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcbn1cblxuXG4uZmxvYXRpbmctdG9vbGJhciAuaXRlbSB7XG4gICAgY29sb3I6IHJnYigxMjAsIDExOSwgMTE2KTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZ2FwOiAxMHB4O1xufVxuXG4uaXRlbT5idXR0b24sXG4uZmxvYXRpbmctdG9vbGJhciAuaXRlbT5idXR0b24ge1xuXG4gICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cblxuLmZsb2F0aW5nLXRvb2xiYXIgc2VsZWN0IHtcbiAgICBjb2xvcjogcmdiKDEyMCwgMTE5LCAxMTYpO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBmb250LXNpemU6IDAuODVyZW07XG4gICAgLyogYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDsgKi9cbn1cblxuLnRleHQtZm9ybWF0dGluZy1zZWxlY3QtYnV0dG9uIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuI3R1cm5JbnRvQnV0dG9uIHNwYW4ge1xuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDAuOXJlbTtcbiAgICBmb250LXdlaWdodDogNjAwO1xuXG59XG5cbiN0dXJuSW50b0J1dHRvbiBzdmcgdXNlIHtcbiAgICBtYXJnaW46IGF1dG87XG59XG5cblxuLnRleHQtZm9ybWF0dGluZy1idXR0b24tYWN0aXZlIHtcbiAgICBjb2xvcjogIzIzODJlMjtcbn1cblxuLnRleHQtZm9ybWF0dGluZy1jaXJjbGUtYWN0aXZlIHtcbiAgICBib3JkZXItY29sb3I6ICMyMzgyZTIgIWltcG9ydGFudDtcbn1cblxuXG5cbiNtb3JlVGV4dE9wdGlvblNlbGVjdCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xufVxuXG4ubW9yZVRleHRPcHRpb25XcmFwcGVyIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cblxuLmJnYy1yZWQge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNGRERFREU7XG59XG5cbi5iZ2MtZ3JlZW4ge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNEN0Y3REM7XG59XG5cbi5iZ2MtYmx1ZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0Q5RURGNjtcbn1cblxuLmJnYy15ZWxsb3cge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNGQUY0RDE7XG59XG5cbi5iZ2MtZ3JleSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0UxRTBFMDtcbn1cblxucCxcbm1hcmsge1xuICAgIGxpbmUtaGVpZ2h0OiAxO1xufVxuXG5cbi5ib3JkZXItbGVzcy1pbWFnZSB7XG4gICAgd2lkdGg6IDI0cHg7XG4gICAgaGVpZ2h0OiAyNHB4O1xufVxuXG5cblxuLyoqIEJsb2NrIE9wdGlvbnMgKiovXG5cbi5ibG9jay1vcHRpb25zLXdyYXBwZXIge1xuICAgIHotaW5kZXg6IDk5OTk5OTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgZGlzcGxheTogbm9uZTtcbn1cblxuLmJsb2NrLW9wdGlvbnMge1xuICAgIHdpZHRoOiBmaXQtY29udGVudDtcbiAgICBtYXgtaGVpZ2h0OiAxOXJlbTtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xufVxuXG4uYmxvY2stb3B0aW9ucyB7XG4gICAgcGFkZGluZzogMCAwLjYyNXJlbTtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbn1cblxuLmJsb2NrLW9wdGlvbnMgc2VjdGlvbiBoMiB7XG4gICAgZm9udC1zaXplOiBzbWFsbCAhaW1wb3J0YW50O1xuICAgIGNvbG9yOiAjMzczNTJmYTY7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgZm9udC13ZWlnaHQ6IDYwMCAhaW1wb3J0YW50O1xuICAgIG1hcmdpbi10b3A6IDAuMzEyNXJlbTtcbiAgICBtYXJnaW4tYm90dG9tOiAwLjMxMjVyZW07XG4gICAgcGFkZGluZy1sZWZ0OiAwLjMxMjVyZW07XG59XG5cbi5ibG9jay1vcHRpb25zIC5vcHRpb24ge1xuICAgIHBhZGRpbmc6IDAuMzEyNXJlbSAwLjYyNXJlbTtcbiAgICBtYXJnaW46IDAuMzEyNXJlbSAwO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGxlZnQ7XG4gICAgZ2FwOiAwLjZyZW07XG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xufVxuXG4uYmxvY2stb3B0aW9ucyAub3B0aW9uOmZvY3VzIHtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlOWU5ZTk7XG4gICAgYm9yZGVyOiBpbmhlcml0O1xufVxuXG4ub3B0aW9uLWZvY3VzZWQge1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZTllOTtcbiAgICBib3JkZXI6IG5vbmU7XG59XG5cbi5kYW5nZXItb3B0aW9uLm9wdGlvbi1mb2N1c2VkLFxuLmRhbmdlci1vcHRpb24ub3B0aW9uLWZvY3VzZWQgc3ZnIHtcbiAgICBjb2xvcjogI0VCNTc1NyAhaW1wb3J0YW50O1xufVxuXG5cblxuLmJsb2NrLW9wdGlvbnMgLm9wdGlvbjpmb2N1cy12aXNpYmxlIHtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlOWU5ZTk7XG4gICAgYm9yZGVyOiBpbmhlcml0O1xufVxuXG5cblxuI2NvbG9yVGV4dEJ1dHRvbiB7XG4gICAgbWFyZ2luLWxlZnQ6IDAuNjI1cmVtO1xufVxuXG4jdHVybkludG9CdXR0b246bm90KFtkaXNhYmxlZF0pOmhvdmVyLFxuI2NvbG9yVGV4dEJ1dHRvbjpub3QoW2Rpc2FibGVkXSk6aG92ZXIsXG4jbW9yZVRleHRPcHRpb25CdXR0b246bm90KFtkaXNhYmxlZF0pOmhvdmVyLFxuLmZsb2F0aW5nLXRvb2xiYXIgLml0ZW0+YnV0dG9uOm5vdChbZGlzYWJsZWRdKTpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZTllOTtcbiAgICBib3gtc2hhZG93OiAwcHggMHB4IDBweCAycHggI2U5ZTllOTtcbiAgICBib3JkZXItcmFkaXVzOiAxcHg7XG4gICAgdHJhbnNpdGlvbjogMC4xcyBlYXNlO1xufVxuXG5cblxuLm9wdGlvbltmb2N1c2VkPVwidHJ1ZVwiXSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2JkZTRmZjtcbn1cblxuLm9wdGlvbi1pbWFnZSB7XG4gICAgd2lkdGg6IDIuODc1cmVtO1xuICAgIGhlaWdodDogMi44NzVyZW07XG4gICAgYm9yZGVyLXJhZGl1czogMC4xODc1cmVtO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gICAgY29sb3I6ICM0ZjRmNGY7XG5cbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbi5vcHRpb24taW1hZ2UgaW1nIHtcbiAgICBtYXgtd2lkdGg6IDIuODc1cmVtO1xuICAgIG1heC1oZWlnaHQ6IDIuODc1cmVtO1xufVxuXG4ub3B0aW9uLWltYWdlIHN2ZyB7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgcGFkZGluZzogMC42MjVyZW07XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcblxufVxuXG4ub3B0aW9uLXRleHQgKiB7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG5cbn1cblxuLm9wdGlvbi10ZXh0IC5ibG9jay10aXRsZSB7XG4gICAgZm9udC1zaXplOiBzbWFsbCAhaW1wb3J0YW50O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbi5vcHRpb24tdGV4dCAuYmxvY2stZGVzY3JpcHRpb24ge1xuICAgIGZvbnQtc2l6ZTogc21hbGwgIWltcG9ydGFudDtcbiAgICBjb2xvcjogcmdiYSg1NSwgNTMsIDQ3LCAwLjUpO1xufVxuXG4vKiogRW5kIEJsb2NrIE9wdGlvbnMgKiovXG5cblxuLmpvaGFubmVzLWVkaXRvciAqOjpzZWxlY3Rpb24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6IGhzbCgyMTAgNzUlIDUwJSAvIDEpO1xuICAgIGNvbG9yOiB3aGl0ZTtcbn1cblxuLmpvaGFubmVzLWVkaXRvciBtYXJrLFxuLmpvaGFubmVzLWVkaXRvciAqOm5vdChoMSkge1xuICAgIGxpbmUtaGVpZ2h0OiAxLjUgIWltcG9ydGFudDtcbn1cblxuLm9wdGlvbiB7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG4udGV4dC1vcHRpb24ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHN0YXJ0O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZ2FwOiAwLjYyNXJlbTtcbn1cblxuXG4vKiBQYXJhIHRlbGFzIGNvbSBkZW5zaWRhZGUgbcOpZGlhICovXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpLFxub25seSBzY3JlZW4gYW5kIChtaW4tLW1vei1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpLFxub25seSBzY3JlZW4gYW5kIChtaW4tcmVzb2x1dGlvbjogMTkyZHBpKSxcbm9ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IDJkcHB4KSB7XG4gICAgOnJvb3Qge1xuICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICAgIC8qIEF1bWVudGEgbyB0YW1hbmhvIGRhIGZvbnRlIHBhcmEgdGVsYXMgZGUgYWx0YSBkZW5zaWRhZGUgKi9cbiAgICB9XG59XG5cbi8qIFBhcmEgdGVsYXMgY29tIGFsdMOtc3NpbWEgZGVuc2lkYWRlICovXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDMpLFxub25seSBzY3JlZW4gYW5kIChtaW4tLW1vei1kZXZpY2UtcGl4ZWwtcmF0aW86IDMpLFxub25seSBzY3JlZW4gYW5kIChtaW4tcmVzb2x1dGlvbjogMjg4ZHBpKSxcbm9ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IDNkcHB4KSB7XG4gICAgOnJvb3Qge1xuICAgICAgICBmb250LXNpemU6IDIwcHg7XG4gICAgICAgIC8qIEFpbmRhIG1haW9yIHBhcmEgdGVsYXMgZGUgZGVuc2lkYWRlIG11aXRvIGFsdGEgKi9cbiAgICB9XG59XG5cblxuXG5cblxuXG5cblxuXG5cblxudGFibGUuam9oYW5uZXMtY29udGVudC1lbGVtZW50IHtcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICAgIG1heC13aWR0aDogaW5oZXJpdDtcbiAgICB3aWR0aDogYXV0bztcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDtcbn1cblxudGFibGUuam9oYW5uZXMtY29udGVudC1lbGVtZW50IHRoLFxudGFibGUuam9oYW5uZXMtY29udGVudC1lbGVtZW50IHRkIHtcbiAgICBtaW4taGVpZ2h0OiAyMHB4O1xufVxuXG50YWJsZS5qb2hhbm5lcy1jb250ZW50LWVsZW1lbnQgdGgsXG50YWJsZS5qb2hhbm5lcy1jb250ZW50LWVsZW1lbnQgdGQge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM4NDg4OGQ7XG4gICAgcGFkZGluZzogOHB4O1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgYWxpZ24taXRlbXM6IHN0YXJ0O1xuICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICAgIHdoaXRlLXNwYWNlOiBub3JtYWw7XG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICBtaW4td2lkdGg6IDEwMHB4O1xuICAgIG1heC13aWR0aDogMjAwcHg7XG5cbiAgICB0cmFuc2l0aW9uOiBib3JkZXIgMTAwbXMgZWFzZS1vdXQsIGJveC1zaGFkb3cgMTAwbXMgZWFzZS1vdXQ7XG5cbn1cblxudGFibGUuam9oYW5uZXMtY29udGVudC1lbGVtZW50IHRkLnNlbGVjdGVkLFxudGFibGUuam9oYW5uZXMtY29udGVudC1lbGVtZW50IHRkOmZvY3VzIHtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIGJveC1zaGFkb3c6IDAgMCAwIDFweCAjNzRiNmRiIGluc2V0O1xuICAgIGJvcmRlcjogMXB4IGRvdWJsZSAjNzRiNmRiO1xuXG59XG5cbnRkIHtcbiAgICBtaW4taGVpZ2h0OiAxcmVtICFpbXBvcnRhbnQ7XG4gICAgbGluZS1oZWlnaHQ6IDFyZW07XG59XG5cbnRkOjpwbGFjZWhvbGRlciB7XG4gICAgZGlzcGxheTogYmxvY2s7XG59XG5cbiNqb2hhbm5lc0VkaXRvciB0ZDplbXB0eTpiZWZvcmUge1xuICAgIGNvbnRlbnQ6IGF0dHIoZGF0YS1wbGFjZWhvbGRlcik7XG4gICAgY29sb3I6ICM4NDg4OGFjZDtcbiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuICAgIG9wYWNpdHk6IDA7XG59XG5cbi50YWJsZS13cmFwcGVyIHtcbiAgICB3aWR0aDogMTAwJTtcbn1cblxuLnRhYmxlLWNvbnRyb2xsZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG59XG5cbi5hZGQtdGFibGUtcm93IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDU1LCA1MywgNDcsIDAuMDYpO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWFyZ2luOiAwO1xuICAgIG1hcmdpbi10b3A6IDAuMzc1cmVtO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgaGVpZ2h0OiAxcmVtO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHVzZXItc2VsZWN0OiBub25lO1xufVxuXG4uYWRkLXRhYmxlLWNvbHVtbiB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAtMS4zMTI1cmVtO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNTUsIDUzLCA0NywgMC4wNik7XG4gICAgd2lkdGg6IDFyZW07XG4gICAgcGFkZGluZzogMDtcbiAgICBtYXJnaW46IDA7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgdG9wOiAwO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDFyZW0gLSA1cHgpO1xuICAgIG9wYWNpdHk6IDA7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG59XG5cbi5hZGQtdGFibGUtY29sdW1uOmhvdmVyIHtcbiAgICBvcGFjaXR5OiAxO1xufVxuXG4uYWRkLXRhYmxlLXJvdzpob3ZlciB7XG4gICAgb3BhY2l0eTogMTtcbn1cblxuLnRhYmxlLXNoZWxsIHtcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG59XG5cblxuXG4udGFibGUtb3B0aW9uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIHBhZGRpbmc6IDhweCAxNnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xuICAgIHotaW5kZXg6IDk5OTk5OTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgZGlzcGxheTogbm9uZTtcbn1cblxuXG4vKiogQ2FsbG91dCAqKi9cblxuLmNhbGxvdXQtd3JhcHBlciB7XG4gICAgcGFkZGluZzogMXJlbTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbn1cblxuLmNhbGxvdXQ6aG92ZXIgLm9wdGlvbnMtYnV0dG9uIHtcbiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xufVxuXG4uY2FsbG91dCBwIHtcbiAgICBtYXJnaW46IDA7XG59XG5cbi5jYWxsb3V0LWJhY2tncm91bmQtcmVkIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmVlYmViO1xuICAgIGJvcmRlci1jb2xvcjogI0ZEREVERTtcbn1cblxuLmNhbGxvdXQtYmFja2dyb3VuZC1ncmVlbiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ViZmJlZTtcbiAgICBib3JkZXItY29sb3I6ICNEN0Y3REM7XG59XG5cbi5jYWxsb3V0LWJhY2tncm91bmQtYmx1ZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U4ZjRmYTtcbiAgICBib3JkZXItY29sb3I6ICNEOUVERjY7XG59XG5cbi5jYWxsb3V0LWJhY2tncm91bmQteWVsbG93IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmNmN2RmO1xuICAgIGJvcmRlci1jb2xvcjogI0ZBRjREMTtcbn1cblxuLmNhbGxvdXQtYmFja2dyb3VuZC1ncmV5IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWRlY2VjO1xuICAgIGJvcmRlci1jb2xvcjogI0UxRTBFMDtcbn1cblxuLmNhbGxvdXQtYmFja2dyb3VuZC1ub25lIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItY29sb3I6ICNlN2U2ZTY7XG5cbn1cblxuLyoqIGVuZCBjYWxsb3V0ICovXG5cblxuLyoqIG1lZGlhSW5wdXR0ZXIgKiovXG4ubWVkaWFJbnB1dHRlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG5cbi8qKiBtZWRpYUlucHV0dGVyICoqL1xuXG5cbi5uby1zZWxlY3Rpb24ge1xuICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG59XG5cbi5wb2ludGVyIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cblxuLyoqIHVwbG9hZC9lbWJlZCAqKi9cblxuLnRhYi1jb250YWluZXIge1xuICAgIGZvbnQtc2l6ZTogMC44NnJlbTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgdHJhbnNpdGlvbjogMC4xcyBlYXNlO1xuXG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgIHVzZXItc2VsZWN0OiBub25lO1xuXG4gICAgdHJhbnNpdGlvbjogdmlzaWJpbGl0eSAwLjJzIGVhc2U7XG5cblxuICAgIHdpZHRoOiBmaXQtY29udGVudDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG5cbn1cblxuLm5hdi11bmRlcmxpbmUge1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDU1LCA1MywgNDcsIDAuMTYpO1xuICAgIHBhZGRpbmc6IDEwcHggMjBweDtcbn1cblxuLm5hdi11bmRlcmxpbmUgLm5hdi1pdGVtIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG1hcmdpbi1yaWdodDogMTVweDtcbn1cblxuLm5hdi11bmRlcmxpbmUgLm5hdi1saW5rIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIGNvbG9yOiByZ2IoNTUsIDUzLCA0Nyk7XG4gICAgY29sb3I6IHJnYmEoNTUsIDUzLCA0NywgMC41KTtcbiAgICB0cmFuc2l0aW9uOiAwLjFzIGVhc2U7XG59XG5cblxuLm5hdi1pdGVtLmFjdGl2ZSAubmF2LWxpbmsge1xuICAgIGNvbG9yOiAjMzczNTJmZDk7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLnRhYi1jb250ZW50IC5jb250ZW50LWRhdGEge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBib3JkZXItdG9wOiBub25lO1xuICAgIHRyYW5zaXRpb246IDAuMXMgZWFzZTtcbn1cblxuLnRhYi1jb250ZW50IC5jb250ZW50LWRhdGEuYWN0aXZlIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGdhcDogMXJlbTtcbn1cblxuLnRhYi1jb250ZW50IC50ZXh0LWluZm9ybWF0aW9uIHtcbiAgICBmb250LXNpemU6IDAuNzVyZW07XG4gICAgY29sb3I6IHJnYmEoNTUsIDUzLCA0NywgMC42KTtcbn1cblxuLm5hdi11bmRlcmxpbmUgLm5hdi1pdGVtIHtcbiAgICBkaXNwbGF5OiBpbmxpbmU7XG59XG5cbi5lbWJlZC1jb250ZW50IGlucHV0IHtcbiAgICB3aWR0aDogMjByZW07XG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1NSwgNTMsIDQ3LCAwLjE2KTtcbiAgICBoZWlnaHQ6IDEuNXJlbTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xufVxuXG4uZW1iZWQtY29udGVudCBidXR0b24ge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuXG4udXBsb2FkLWNvbnRlbnQgbGFiZWwge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTUsIDUzLCA0NywgMC4xNik7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIHdpZHRoOiAyMHJlbTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZzogNHB4O1xuICAgIGNvbG9yOiByZ2IoNTUsIDUzLCA0Nyk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbn1cblxuLnVwbG9hZC1jb250ZW50IGxhYmVsOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlO1xufVxuXG5cblxuXG5cblxuXG5cblxuXG4vKiBSZXNpemUgaGFuZGxlciAqL1xuLnJlc2l6ZS1oYW5kbGUge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aWR0aDogMTBweDtcbiAgICBoZWlnaHQ6IDEwcHg7XG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICAgIGN1cnNvcjogbndzZS1yZXNpemU7XG59XG5cbi5yZXNpemUtaGFuZGxlLnNlIHtcbiAgICBib3R0b206IDA7XG4gICAgcmlnaHQ6IDA7XG59XG5cbi8qKiBSZXNpemUgaGFuZGxlciAqKi9cblxuLnNwb3RpZnktZW1iZWQge1xuICAgIG1pbi1oZWlnaHQ6IDE1MnB4O1xuICAgIGhlaWdodDogYXV0byAhaW1wb3J0YW50O1xuICAgIHBhZGRpbmctYm90dG9tOiAwICFpbXBvcnRhbnQ7XG4gICAgYm9yZGVyLXJhZGl1czogLjc1cmVtICFpbXBvcnRhbnQ7XG59XG5cbi5naXN0LWVtYmVkIHtcbiAgICBwYWRkaW5nLWJvdHRvbTogMCAhaW1wb3J0YW50O1xuICAgIG1pbi1oZWlnaHQ6IDE1MHB4ICFpbXBvcnRhbnQ7XG4gICAgb3ZlcmZsb3cteTogYXV0bztcbn1cblxuLnNuaXBwZXQtZW1iZWQge1xuICAgIHBhZGRpbmctYm90dG9tOiAwICFpbXBvcnRhbnQ7XG4gICAgbWluLWhlaWdodDogMTUwcHggIWltcG9ydGFudDtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xufVxuXG4uZW1iZWQtY29udGFpbmVyIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZy1ib3R0b206IDU2LjI1JTtcbiAgICBoZWlnaHQ6IDA7XG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XG59XG5cbi5lbWJlZC1jb250YWluZXIgaWZyYW1lIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xufVxuXG5cbi5pZnJhbWUtd3JhcHBlciB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG5cblxuLnZpZGVvLWNvbnRhaW5lciB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBhZGRpbmctYm90dG9tOiA1Ni4yNSU7XG4gICAgaGVpZ2h0OiAwO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi52aWRlby1jb250YWluZXIgaWZyYW1lIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xufVxuXG4ueC1yZXNpemFibGUge1xuICAgIHJlc2l6ZTogaG9yaXpvbnRhbDtcbiAgICBvdmVyZmxvdzogYXV0bztcbiAgICBjdXJzb3I6IG5lc3ctcmVzaXplO1xuICAgIG1pbi13aWR0aDogMjUwcHg7XG59XG5cbi55LXJlc2l6YWJsZSB7XG4gICAgcmVzaXplOiB2ZXJ0aWNhbDtcbiAgICBvdmVyZmxvdzogYXV0bztcbiAgICBjdXJzb3I6IG5zLXJlc2l6ZTtcbiAgICBtaW4taGVpZ2h0OiAxNTBweDtcbn1cblxuLmJhY2tncm91bmQge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlN2U2ZTM7XG59XG5cblxuLmZpdC1jb250ZW50IHtcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XG4gICAgaGVpZ2h0OiBmaXQtY29udGVudDtcbn1cblxuXG4vKiogQmxvY2tUb29sYmFyIGNvbXBvbmVudCAqKi9cbi5ibG9jay10b29sYmFyLXdyYXBwZXIge1xuICAgIHdpZHRoOiAwO1xuICAgIGhlaWdodDogMDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgZGlzcGxheTogY29udGVudHM7XG4gICAgZGlzcGxheTogYmxvY2s7XG5cbn1cblxuLmJsb2NrLXRvb2xiYXIge1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogMDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcbiAgICBjb2xvcjogYmxhY2sgIWltcG9ydGFudDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWFyZ2luOiAwO1xuICAgIGdhcDogMTBweDtcbiAgICBwYWRkaW5nOiA1cHg7XG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG4gICAgdHJhbnNpdGlvbjogdmlzaWJpbGl0eSAwLjJzO1xuXG4gICAgdG9wOiA1cHg7XG4gICAgcmlnaHQ6IDVweDtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG59XG5cbi5ibG9jay10b29sYmFyIC5pdGVtIHtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLmJsb2NrLXRvb2xiYXIgLml0ZW0gYnV0dG9uIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xufVxuXG4uYmxvY2stdG9vbGJhciBidXR0b24ge1xuICAgIGNvbG9yOiBibGFjaztcbn1cblxuLmJsb2NrLXRvb2xiYXIgLmNvbG9yLWludGVyYWN0aXZlLWJ1dHRvbiB7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG59XG5cbi8qKiBFbmQgQmxvY2tUb29sYmFyIGNvbXBvbmVudCAqKi9cblxuXG5cbi5qdXN0aWZ5LWxlZnQge1xuICAgIGp1c3RpZnktY29udGVudDogbGVmdDtcbn1cblxuLmp1c3RpZnktY2VudGVyIHtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLmp1c3RpZnktcmlnaHQge1xuICAgIGp1c3RpZnktY29udGVudDogcmlnaHQ7XG59XG5cblxuLmhpZGRlbiB7XG4gICAgdmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7XG59XG5cblxuXG5cbmZpZ3VyZSB7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG59XG5cblxuLm92ZXJmbG93LWhpZGRlbiB7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLyoqIElubGluZSBDb2RlICoqL1xuLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCBjb2RlOm5vdChwcmUgY29kZSkge1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjY2NjN2E7XG4gICAgcGFkZGluZzogMCAzcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG59XG5cbi8qKiBDb250ZW50IHBsYWNlaG9sZGVyICovXG5cbi5jb250ZW50LXBsYWNlaG9sZGVyIHtcbiAgICBwYWRkaW5nOiAxcmVtO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlN2U2ZTM7XG4gICAgY29sb3I6IHJnYmEoNTUsIDUzLCA0NywgMC41KTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGdhcDogNXB4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmNvbnRlbnQtcGxhY2Vob2xkZXIgLmljb24td3JhcHBlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIG1hcmdpbi1yaWdodDogOHB4O1xufVxuXG5cbi8qIGVuZCBDb250ZW50IHBsYWNlaG9sZGVyICovXG5cblxuXG4vKiogQ29kZSAqKi9cblxucHJlIHtcbiAgICBtYXJnaW46IDA7XG59XG5cbnByZSBjb2RlIHtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG59XG5cbi5pZ25vcmUtZXZlbnRzIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5jb2RlLWJsb2NrIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5jb2RlLWJsb2NrIHNlbGVjdCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xufVxuXG4uY29kZS1ibG9jayBzZWxlY3Qge1xuICAgIGFwcGVhcmFuY2U6IG5vbmU7XG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICAgIC1tb3otYXBwZWFyYW5jZTogbm9uZTtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgcGFkZGluZzogNHB4IDhweDtcbiAgICBmb250OiBpbmhlcml0O1xuICAgIC8qIGNvbG9yOiBpbmhlcml0OyAqL1xuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogcmlnaHQgMTBweCBjZW50ZXI7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5jb2RlLWJsb2NrOmhvdmVyIHNlbGVjdCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG59XG5cblxuXG4uY29kZS1ibG9jayBjb2RlIHtcbiAgICBmb250LXNpemU6IDFyZW07XG5cbn1cblxuXG5cbkBrZXlmcmFtZXMgc2hha2Uge1xuXG4gICAgMCUsXG4gICAgMTAwJSB7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTtcbiAgICB9XG5cbiAgICAyNSUsXG4gICAgNzUlIHtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cHgpO1xuICAgIH1cblxuICAgIDUwJSB7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1cHgpO1xuICAgIH1cbn1cblxuLnNoYWtlLWFuaW1hdGlvbiB7XG4gICAgYW5pbWF0aW9uOiBzaGFrZSAwLjZzIGN1YmljLWJlemllciguMzYsIC4wNywgLjE5LCAuOTcpIGJvdGg7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcbiAgICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgcGVyc3BlY3RpdmU6IDEwMDBweDtcbn1cblxuLmJsdWUtYnV0dG9uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjM4M2UyO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgcGFkZGluZzogM3B4O1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xufVxuXG5cbi8qKiBzZXBhcmF0b3IgKiovXG5cbi5zZXBhcmF0b3Itd3JhcHBlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uc2VwYXJhdG9yIHtcbiAgICBmbGV4LWdyb3c6IDE7XG4gICAgcGFkZGluZzogMCAxMHB4O1xufVxuXG4uc2VwYXJhdG9yLXdyYXBwZXIgaHIge1xuICAgIG91dGxpbmU6IG5vbmUgIWltcG9ydGFudDtcbn1cblxuLnNlcGFyYXRvci13cmFwcGVyIGhyOmZvY3VzIHtcbiAgICBvdXRsaW5lOiBub25lICFpbXBvcnRhbnQ7XG59XG5cbi5zZXBhcmF0b3Itc2VsZWN0ZWQge1xuICAgIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1xuICAgIG91dGxpbmU6IG5vbmUgIWltcG9ydGFudDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMjEwIDc1JSA1MCUgLyAxKTtcbn1cblxuLnNlcGFyYXRvci1zZWxlY3RlZCBociB7XG4gICAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG4gICAgYm9yZGVyLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufVxuXG4vKiogZW5kIHNlcGFyYXRvciAqL1xuXG5cblxuXG4jbGlua0JveElucHV0e1xuXG59XG5cbi5jb250ZW50LWRhdGEgaW5wdXQ6Zm9jdXMsXG4jbGlua0JveElucHV0OmZvY3VzIHtcbiAgICBvdXRsaW5lOiAycHggc29saWQgIzRBOTBFMjtcbiAgICBib3gtc2hhZG93OiAwIDAgNXB4IHJnYmEoNzQsIDE0NCwgMjI2LCAwLjUpO1xufVxuXG5cbi5kLW5vbmV7XG4gICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2Fzc2V0cy9jc3MvbWFpbi5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUEsa0JBQWtCO0FBQ2xCO0lBQ0ksdUJBQXVCO0lBQ3ZCLGdDQUFnQztBQUNwQzs7O0FBR0E7SUFDSSwwQ0FBMEM7SUFDMUMseUJBQXlCO0lBQ3pCLHlCQUF5QjtBQUM3Qjs7O0FBR0E7SUFDSSxlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZix5QkFBeUI7QUFDN0I7O0FBRUEsZUFBZTtBQUNmO0lBQ0ksWUFBWTtJQUNaLFNBQVM7SUFDVCxVQUFVO0lBQ1YsV0FBVztJQUNYLGlCQUFpQjtJQUNqQix1QkFBdUI7SUFDdkIsYUFBYTtJQUNiLG1CQUFtQjtBQUN2Qjs7QUFFQSxlQUFlO0FBQ2Y7SUFDSSxTQUFTO0lBQ1QsVUFBVTtJQUNWLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLHNCQUFzQjtJQUN0Qix1QkFBdUI7SUFDdkIseUJBQXlCO0lBQ3pCLHNCQUFzQjtJQUN0QixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQSxtQkFBbUI7Ozs7QUFJbkIsWUFBWTtBQUNaO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixTQUFTOztBQUViOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZ0NBQWdDO0lBQ2hDLGdCQUFnQjtJQUNoQixjQUFjO0FBQ2xCOztBQUVBOztJQUVJLDZCQUE2QjtBQUNqQzs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixNQUFNOztJQUVOLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsc0JBQXNCOztBQUUxQjs7QUFFQTtJQUNJLGtCQUFrQjs7QUFFdEI7O0FBRUE7SUFDSSxzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSwyQkFBMkI7SUFDM0Isb0JBQW9COztBQUV4Qjs7QUFFQTtJQUNJLHFCQUFxQjtJQUNyQixjQUFjO0lBQ2QsU0FBUztJQUNULFVBQVU7QUFDZDs7QUFFQTtJQUNJLHFCQUFxQjtJQUNyQiwwQkFBMEI7QUFDOUI7OztBQUdBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixxQkFBcUI7QUFDekI7OztBQUdBO0lBQ0ksNkJBQTZCO0FBQ2pDOztBQUVBLHFFQUFxRTtBQUNyRTtJQUNJLDZCQUE2QjtBQUNqQzs7QUFFQSx1RkFBdUY7QUFDdkY7O0lBRUksZ0JBQWdCO0FBQ3BCOztBQUVBOztJQUVJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsdUJBQXVCOztBQUUzQjs7QUFFQTtJQUNJLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLDBCQUEwQjtJQUMxQix1QkFBdUI7SUFDdkIsYUFBYTtJQUNiLGlCQUFpQjtJQUNqQiwyQkFBMkI7QUFDL0I7O0FBRUE7SUFDSSxZQUFZO0lBQ1osdUJBQXVCO0lBQ3ZCLGFBQWE7QUFDakI7O0FBRUE7SUFDSSx1QkFBdUI7QUFDM0I7OztBQUdBLGVBQWU7OztBQUdmO0lBQ0ksY0FBYztJQUNkLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLG9CQUFvQjtJQUNwQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsU0FBUztJQUNULFFBQVE7QUFDWjs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixlQUFlO0FBQ25COztBQUVBO0lBQ0ksZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLG1CQUFtQjtJQUNuQixzQkFBc0I7SUFDdEIsMkJBQTJCO0FBQy9COztBQUVBO0lBQ0ksWUFBWTtJQUNaLHlCQUF5QjtJQUN6QixXQUFXO0FBQ2Y7OztBQUdBO0lBQ0ksbUJBQW1CO0lBQ25CLGlCQUFpQjtBQUNyQjs7O0FBR0E7SUFDSSwrQkFBK0I7SUFDL0IsY0FBYztJQUNkLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLCtCQUErQjtJQUMvQix5QkFBeUI7SUFDekIsY0FBYztBQUNsQjs7QUFFQSxtREFBbUQ7OztBQUduRDtJQUNJLCtCQUErQjtJQUMvQixnQkFBZ0I7SUFDaEIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksK0JBQStCO0lBQy9CLDJCQUEyQjtJQUMzQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksK0JBQStCO0lBQy9CLGdCQUFnQjtJQUNoQixjQUFjO0FBQ2xCOzs7O0FBSUE7SUFDSSxpQkFBaUI7SUFDakIsOEJBQThCO0FBQ2xDOztBQUVBO0lBQ0ksV0FBVztJQUNYLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixrQkFBa0I7QUFDdEI7OztBQUdBO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQTtJQUNJLHVCQUF1QjtJQUN2Qiw0TUFBNE07SUFDNU0sb0JBQW9CO0FBQ3hCOzs7QUFHQTtJQUNJLGFBQWE7SUFDYixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBOztJQUVJLGlCQUFpQjtBQUNyQjs7O0FBR0E7SUFDSSxXQUFXO0lBQ1gsVUFBVTtJQUNWLFNBQVM7QUFDYjs7O0FBR0E7SUFDSSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxXQUFXO0lBQ1gsbUJBQW1CO0lBQ25CLFlBQVk7SUFDWiwrQ0FBK0M7QUFDbkQ7Ozs7QUFJQTtJQUNJLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsc0NBQXNDO0lBQ3RDLGtCQUFrQjtJQUNsQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksNEJBQTRCO0lBQzVCLHFCQUFxQjtBQUN6Qjs7O0FBR0E7SUFDSSxhQUFhO0FBQ2pCOzs7QUFHQTtJQUNJLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksK0NBQStDO0lBQy9DLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsU0FBUztJQUNULGFBQWE7QUFDakI7OztBQUdBO0lBQ0ksWUFBWTtJQUNaLHdDQUF3QztJQUN4QyxjQUFjO0lBQ2Qsa0JBQWtCO0lBQ2xCLGtCQUFrQjtBQUN0Qjs7O0FBR0E7SUFDSSxlQUFlO0FBQ25COzs7QUFHQSwyQkFBMkI7QUFDM0I7SUFDSSxTQUFTO0lBQ1Qsa0JBQWtCO0lBQ2xCOzs7O3FDQUlpQzs7SUFFakMseUJBQXlCO0FBQzdCOztBQUVBLHlCQUF5Qjs7O0FBR3pCLDZCQUE2QjtBQUM3QjtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQix5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixzQkFBc0I7SUFDdEIsaUJBQWlCO0lBQ2pCLFdBQVc7SUFDWCxzQkFBc0I7SUFDdEIsd0JBQXdCO0FBQzVCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixtQkFBbUI7SUFDbkIsYUFBYTtJQUNiLDRCQUE0QjtJQUM1Qix3QkFBd0I7SUFDeEIsNEJBQTRCO0lBQzVCLDJCQUEyQjtJQUMzQixnQkFBZ0I7QUFDcEI7O0FBRUE7O0lBRUkscUJBQXFCO0lBQ3JCLGtCQUFrQjtJQUNsQiw0QkFBNEI7QUFDaEM7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLGNBQWM7SUFDZCxxQkFBcUI7SUFDckIsb0JBQW9CO0FBQ3hCOztBQUVBO0lBQ0ksY0FBYztJQUNkLHFCQUFxQjtJQUNyQixvQkFBb0I7QUFDeEI7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxTQUFTO0lBQ1QsMkJBQTJCO0lBQzNCLGdCQUFnQjtJQUNoQixTQUFTO0lBQ1QsVUFBVTtJQUNWLDJCQUEyQjtJQUMzQixxQkFBcUI7SUFDckIsd0JBQXdCO0FBQzVCOztBQUVBLDRCQUE0Qjs7OztBQUk1QiwwQkFBMEI7Ozs7QUFJMUI7SUFDSSw4QkFBOEI7SUFDOUIsaUJBQWlCO0lBQ2pCLHVCQUF1QjtJQUN2QixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLGlCQUFpQjtBQUNyQjs7O0FBR0E7SUFDSSx5QkFBeUI7SUFDekIsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixTQUFTO0FBQ2I7O0FBRUE7OztJQUdJLG9CQUFvQjtJQUNwQixtQkFBbUI7SUFDbkIsZUFBZTtBQUNuQjs7O0FBR0E7SUFDSSx5QkFBeUI7SUFDekIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQiwrQkFBK0I7QUFDbkM7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLG9CQUFvQjtJQUNwQixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixpQkFBaUI7SUFDakIsZ0JBQWdCOztBQUVwQjs7QUFFQTtJQUNJLFlBQVk7QUFDaEI7OztBQUdBO0lBQ0ksY0FBYztBQUNsQjs7QUFFQTtJQUNJLGdDQUFnQztBQUNwQzs7OztBQUlBO0lBQ0ksa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCOzs7QUFHQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTs7SUFFSSxjQUFjO0FBQ2xCOzs7QUFHQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0FBQ2hCOzs7O0FBSUEsb0JBQW9COztBQUVwQjtJQUNJLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLDJCQUEyQjtJQUMzQixnQkFBZ0I7SUFDaEIsU0FBUztJQUNULFVBQVU7SUFDViwyQkFBMkI7SUFDM0IscUJBQXFCO0lBQ3JCLHdCQUF3QjtJQUN4Qix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSwyQkFBMkI7SUFDM0IsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLG1CQUFtQjtJQUNuQixxQkFBcUI7SUFDckIsV0FBVztJQUNYLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYix5QkFBeUI7SUFDekIsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGFBQWE7SUFDYix5QkFBeUI7SUFDekIsWUFBWTtBQUNoQjs7QUFFQTs7SUFFSSx5QkFBeUI7QUFDN0I7Ozs7QUFJQTtJQUNJLGFBQWE7SUFDYix5QkFBeUI7SUFDekIsZUFBZTtBQUNuQjs7OztBQUlBO0lBQ0kscUJBQXFCO0FBQ3pCOztBQUVBOzs7O0lBSUkseUJBQXlCO0lBQ3pCLG1DQUFtQztJQUNuQyxrQkFBa0I7SUFDbEIscUJBQXFCO0FBQ3pCOzs7O0FBSUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLHdCQUF3QjtJQUN4QixzQkFBc0I7SUFDdEIsY0FBYzs7SUFFZCxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLHVCQUF1QjtJQUN2QixzQkFBc0I7SUFDdEIsbUJBQW1CO0lBQ25CLHVCQUF1QjtJQUN2QixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsb0JBQW9CO0FBQ3hCOztBQUVBO0lBQ0ksU0FBUztJQUNULFVBQVU7SUFDVixpQkFBaUI7SUFDakIsc0JBQXNCOztBQUUxQjs7QUFFQTtJQUNJLFNBQVM7SUFDVCxVQUFVOztBQUVkOztBQUVBO0lBQ0ksMkJBQTJCO0lBQzNCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLDJCQUEyQjtJQUMzQiw0QkFBNEI7QUFDaEM7O0FBRUEsd0JBQXdCOzs7QUFHeEI7SUFDSSxzQ0FBc0M7SUFDdEMsWUFBWTtBQUNoQjs7QUFFQTs7SUFFSSwyQkFBMkI7QUFDL0I7O0FBRUE7SUFDSSw4QkFBOEI7QUFDbEM7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsYUFBYTtBQUNqQjs7O0FBR0EsbUNBQW1DO0FBQ25DOzs7O0lBSUk7UUFDSSxlQUFlO1FBQ2YsNERBQTREO0lBQ2hFO0FBQ0o7O0FBRUEsdUNBQXVDO0FBQ3ZDOzs7O0lBSUk7UUFDSSxlQUFlO1FBQ2YsbURBQW1EO0lBQ3ZEO0FBQ0o7Ozs7Ozs7Ozs7OztBQVlBO0lBQ0kseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsYUFBYTtJQUNiLGlDQUFpQztBQUNyQzs7QUFFQTs7SUFFSSxnQkFBZ0I7QUFDcEI7O0FBRUE7O0lBRUkseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixxQkFBcUI7SUFDckIsbUJBQW1CO0lBQ25CLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsZ0JBQWdCOztJQUVoQiw0REFBNEQ7O0FBRWhFOztBQUVBOztJQUVJLGFBQWE7SUFDYixtQ0FBbUM7SUFDbkMsMEJBQTBCOztBQUU5Qjs7QUFFQTtJQUNJLDJCQUEyQjtJQUMzQixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksK0JBQStCO0lBQy9CLGdCQUFnQjtJQUNoQix5QkFBeUI7SUFDekIsVUFBVTtBQUNkOztBQUVBO0lBQ0ksV0FBVztBQUNmOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSx3Q0FBd0M7SUFDeEMsV0FBVztJQUNYLFVBQVU7SUFDVixTQUFTO0lBQ1Qsb0JBQW9CO0lBQ3BCLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osZUFBZTtJQUNmLFVBQVU7SUFDVixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLHdDQUF3QztJQUN4QyxXQUFXO0lBQ1gsVUFBVTtJQUNWLFNBQVM7SUFDVCxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLE1BQU07SUFDTixlQUFlO0lBQ2YsK0JBQStCO0lBQy9CLFVBQVU7SUFDVixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxlQUFlO0FBQ25COzs7O0FBSUE7SUFDSSx1QkFBdUI7SUFDdkIsa0JBQWtCO0lBQ2xCLDhCQUE4QjtJQUM5QixpQkFBaUI7SUFDakIseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixpQkFBaUI7SUFDakIsYUFBYTtBQUNqQjs7O0FBR0EsY0FBYzs7QUFFZDtJQUNJLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIsc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksU0FBUztBQUNiOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSw2QkFBNkI7SUFDN0IscUJBQXFCOztBQUV6Qjs7QUFFQSxpQkFBaUI7OztBQUdqQixvQkFBb0I7QUFDcEI7SUFDSSx1QkFBdUI7QUFDM0I7O0FBRUEsb0JBQW9COzs7QUFHcEI7SUFDSSxpQkFBaUI7SUFDakIseUJBQXlCO0lBQ3pCLHNCQUFzQjtJQUN0QixxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxlQUFlO0FBQ25COzs7QUFHQSxtQkFBbUI7O0FBRW5CO0lBQ0ksa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIscUJBQXFCOztJQUVyQix5QkFBeUI7SUFDekIsc0JBQXNCO0lBQ3RCLGlCQUFpQjs7SUFFakIsZ0NBQWdDOzs7SUFHaEMsa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQix1QkFBdUI7O0FBRTNCOztBQUVBO0lBQ0ksU0FBUztJQUNULFVBQVU7SUFDViwrQ0FBK0M7SUFDL0Msa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGVBQWU7SUFDZixxQkFBcUI7SUFDckIsc0JBQXNCO0lBQ3RCLDRCQUE0QjtJQUM1QixxQkFBcUI7QUFDekI7OztBQUdBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLFNBQVM7QUFDYjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQiw0QkFBNEI7QUFDaEM7O0FBRUE7SUFDSSxlQUFlO0FBQ25COztBQUVBO0lBQ0ksWUFBWTtJQUNaLHdDQUF3QztJQUN4QyxjQUFjO0lBQ2Qsa0JBQWtCO0lBQ2xCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGVBQWU7QUFDbkI7OztBQUdBO0lBQ0ksY0FBYztJQUNkLHdDQUF3QztJQUN4QyxrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osc0JBQXNCO0lBQ3RCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7Ozs7Ozs7Ozs7QUFXQSxtQkFBbUI7QUFDbkI7SUFDSSxrQkFBa0I7SUFDbEIsV0FBVztJQUNYLFlBQVk7SUFDWiw4QkFBOEI7SUFDOUIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksU0FBUztJQUNULFFBQVE7QUFDWjs7QUFFQSxxQkFBcUI7O0FBRXJCO0lBQ0ksaUJBQWlCO0lBQ2pCLHVCQUF1QjtJQUN2Qiw0QkFBNEI7SUFDNUIsZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksNEJBQTRCO0lBQzVCLDRCQUE0QjtJQUM1QixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSw0QkFBNEI7SUFDNUIsNEJBQTRCO0lBQzVCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsc0JBQXNCO0lBQ3RCLFNBQVM7SUFDVCxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLE9BQU87SUFDUCxXQUFXO0lBQ1gsWUFBWTtBQUNoQjs7O0FBR0E7SUFDSSxrQkFBa0I7QUFDdEI7Ozs7QUFJQTtJQUNJLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsc0JBQXNCO0lBQ3RCLFNBQVM7SUFDVCxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLE9BQU87SUFDUCxXQUFXO0lBQ1gsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2QsbUJBQW1CO0lBQ25CLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixjQUFjO0lBQ2QsaUJBQWlCO0lBQ2pCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7O0FBR0E7SUFDSSxrQkFBa0I7SUFDbEIsbUJBQW1CO0FBQ3ZCOzs7QUFHQSw2QkFBNkI7QUFDN0I7SUFDSSxRQUFRO0lBQ1IsU0FBUztJQUNULGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsU0FBUztJQUNULFVBQVU7SUFDVixpQkFBaUI7SUFDakIsY0FBYzs7QUFFbEI7O0FBRUE7SUFDSSxTQUFTO0lBQ1QsVUFBVTtJQUNWLGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQix5QkFBeUI7SUFDekIsdUJBQXVCO0lBQ3ZCLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsVUFBVTtJQUNWLFNBQVM7SUFDVCxTQUFTO0lBQ1QsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIsMkJBQTJCOztJQUUzQixRQUFRO0lBQ1IsVUFBVTtJQUNWLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksU0FBUztJQUNULFVBQVU7QUFDZDs7QUFFQSxpQ0FBaUM7Ozs7QUFJakM7SUFDSSxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSx1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxzQkFBc0I7QUFDMUI7OztBQUdBO0lBQ0ksNkJBQTZCO0FBQ2pDOzs7OztBQUtBO0lBQ0ksU0FBUztJQUNULFVBQVU7QUFDZDs7O0FBR0E7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUEsa0JBQWtCO0FBQ2xCO0lBQ0ksZUFBZTtJQUNmLDJCQUEyQjtJQUMzQixjQUFjO0lBQ2Qsa0JBQWtCO0lBQ2xCLHNCQUFzQjtBQUMxQjs7QUFFQSx5QkFBeUI7O0FBRXpCO0lBQ0ksYUFBYTtJQUNiLHlCQUF5QjtJQUN6Qiw0QkFBNEI7SUFDNUIsYUFBYTtJQUNiLFFBQVE7SUFDUixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLGlCQUFpQjtBQUNyQjs7O0FBR0EsNEJBQTRCOzs7O0FBSTVCLFdBQVc7O0FBRVg7SUFDSSxTQUFTO0FBQ2I7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsd0JBQXdCO0lBQ3hCLHFCQUFxQjtJQUNyQix1QkFBdUI7SUFDdkIsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixhQUFhO0lBQ2Isb0JBQW9CO0lBQ3BCLDRCQUE0QjtJQUM1QixzQ0FBc0M7SUFDdEMsWUFBWTtJQUNaLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOzs7O0FBSUE7SUFDSSxlQUFlOztBQUVuQjs7OztBQUlBOztJQUVJOztRQUVJLHdCQUF3QjtJQUM1Qjs7SUFFQTs7UUFFSSwyQkFBMkI7SUFDL0I7O0lBRUE7UUFDSSwwQkFBMEI7SUFDOUI7QUFDSjs7QUFFQTtJQUNJLDJEQUEyRDtJQUMzRCwrQkFBK0I7SUFDL0IsMkJBQTJCO0lBQzNCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osWUFBWTtJQUNaLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsZ0JBQWdCO0FBQ3BCOzs7QUFHQSxnQkFBZ0I7O0FBRWhCO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWixlQUFlO0FBQ25COztBQUVBO0lBQ0ksd0JBQXdCO0FBQzVCOztBQUVBO0lBQ0ksd0JBQXdCO0FBQzVCOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLHdCQUF3QjtJQUN4QixzQ0FBc0M7QUFDMUM7O0FBRUE7SUFDSSx1QkFBdUI7SUFDdkIsOEJBQThCO0FBQ2xDOztBQUVBLG1CQUFtQjs7Ozs7QUFLbkI7O0FBRUE7O0FBRUE7O0lBRUksMEJBQTBCO0lBQzFCLDJDQUEyQztBQUMvQzs7O0FBR0E7SUFDSSx3QkFBd0I7QUFDNUJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLyoqIGN1cnNvciBzdHlsZSAqL1xcbltjb250ZW50ZWRpdGFibGU9XFxcInRydWVcXFwiXSB7XFxuICAgIGN1cnNvcjogdGV4dCAhaW1wb3J0YW50O1xcbiAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXAgIWltcG9ydGFudDtcXG59XFxuXFxuXFxuZmlndXJlIGZpZ2NhcHRpb25bZGF0YS1wbGFjZWhvbGRlcl06ZW1wdHk6YmVmb3JlIHtcXG4gICAgY29udGVudDogYXR0cihkYXRhLXBsYWNlaG9sZGVyKSAhaW1wb3J0YW50O1xcbiAgICBjb2xvcjogIzg0ODg4ZCAhaW1wb3J0YW50O1xcbiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xcbn1cXG5cXG5cXG5maWd1cmUgZmlnY2FwdGlvbntcXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XFxuICAgIG1hcmdpbjogIDAgYXV0bztcXG4gICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcXG59XFxuXFxuLyoqIENTUyByZXNldCAqL1xcbi5idXR0b24tcmVzZXQge1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgcGFkZGluZzogMDtcXG4gICAgd2lkdGg6IGF1dG87XFxuICAgIG92ZXJmbG93OiB2aXNpYmxlO1xcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXG4gICAgZm9udDogaW5oZXJpdDtcXG4gICAgbGluZS1oZWlnaHQ6IG5vcm1hbDtcXG59XFxuXFxuLyoqIGFkZCBibG9jayAqL1xcbi5hZGQtYmxvY2sge1xcbiAgICBtYXJnaW46IDA7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjMDAwO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgbWFyZ2luLWxlZnQ6IDEuM3JlbTtcXG59XFxuXFxuLmFkZC1ibG9jay13cmFwcGVyIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMy4xMjVyZW07XFxufVxcblxcbi5hZGQtYmxvY2std3JhcHBlcjpob3ZlciAuYWRkLWJsb2NrIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG59XFxuXFxuLyoqIGFuZCBhZGQgYmxvY2sgKi9cXG5cXG5cXG5cXG4vKiogTGlzdCAgKiovXFxuLmxpc3Qge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBnYXA6IDEwcHg7XFxuXFxufVxcblxcbi5saXN0LWl0ZW0tY2hlY2thYmxlIGlucHV0IHtcXG4gICAgbWFyZ2luLXRvcDogMC41cmVtO1xcbn1cXG5cXG4ubGlzdCBsaSBkaXYge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcXG4gICAgbWluLXdpZHRoOiAxMDBweDtcXG4gICAgbGluZS1oZWlnaHQ6IDE7XFxufVxcblxcbm9sLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCxcXG51bC5qb2hhbm5lcy1jb250ZW50LWVsZW1lbnQge1xcbiAgICBwYWRkaW5nLWxlZnQ6IDFyZW0gIWltcG9ydGFudDtcXG59XFxuXFxuLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCBsaT5idXR0b24ge1xcbiAgICAvKiBkaXNwbGF5OiBub25lOyAqL1xcbiAgICBkaXNwbGF5OiBub25lO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xcbiAgICB0b3A6IDA7XFxuXFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgIGFsaWduLWl0ZW1zOiBzdGFydDtcXG4gICAganVzdGlmeS1jb250ZW50OiBzdGFydDtcXG5cXG59XFxuXFxuLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCBsaSB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXG59XFxuXFxuLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCBsaTo6YmVmb3JlIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDAuMzEyNXJlbTtcXG59XFxuXFxuLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCBsaTpob3Zlcj5idXR0b24ge1xcbiAgICAvKiBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICovXFxuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xcblxcbn1cXG5cXG5wLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCB7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgbGluZS1oZWlnaHQ6IDE7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgcGFkZGluZzogMDtcXG59XFxuXFxuLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCAuY2hlY2tib3gtbGlzdCB7XFxuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcXG4gICAgcGFkZGluZy1sZWZ0OiAwICFpbXBvcnRhbnQ7XFxufVxcblxcblxcbi5qb2hhbm5lcy1jb250ZW50LWVsZW1lbnQgLmNoZWNrYm94LWxpc3QgbGkge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGxlZnQ7XFxufVxcblxcblxcbi5qb2hhbm5lcy1jb250ZW50LWVsZW1lbnQgdWwuY2hlY2tib3gtbGlzdCBpbnB1dFt0eXBlPVxcXCJjaGVja2JveFxcXCJdOmNoZWNrZWQrc3BhbiB7XFxuICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xcbn1cXG5cXG4vKiogQWRkIGxpbmUgdGhyb3VnaCB0ZXh0IGRlY29yYXRpb24gdG8gY2hlY2tlZCBjaGVja2JveGVzIHRleHQgZGl2ICovXFxuLmJsb2NrIGlucHV0W3R5cGU9XFxcImNoZWNrYm94XFxcIl06Y2hlY2tlZCtkaXYge1xcbiAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcXG59XFxuXFxuLyoqIFJlbW92ZSB0aGUgZGVmYXVsdCBsaXN0IHN0eWxlIGFuZCByZXBsYWNlIGJ5IGFub3RoZXIgdGhhdCB3b3JrcyB3aXRoIGRpc3BsYXkgZmxleCAqL1xcbi5ibG9jayBvbCxcXG4uYmxvY2sgdWwge1xcbiAgICBsaXN0LXN0eWxlOiBub25lO1xcbn1cXG5cXG4uYmxvY2sgdWwgLmxpc3QtaXRlbSxcXG4uYmxvY2sgb2wgLmxpc3QtaXRlbSB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xcblxcbn1cXG5cXG4uYmxvY2sgb2wgbGkge1xcbiAgICBjb3VudGVyLWluY3JlbWVudDogaXRlbTtcXG59XFxuXFxuLmJsb2NrIG9sIGxpOjpiZWZvcmUge1xcbiAgICBjb250ZW50OiBjb3VudGVyKGl0ZW0pIFxcXCIuXFxcIjtcXG4gICAgbWFyZ2luLXJpZ2h0OiAwLjMxMjVyZW07XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIC8qIHdpZHRoOiAxOHB4OyAqL1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XFxufVxcblxcbi5ibG9jayB1bCBsaTpub3QoLm5vLWxpc3Qtc3R5bGUpOjpiZWZvcmUge1xcbiAgICBjb250ZW50OiBcXFwi4oCiXFxcIjtcXG4gICAgbWFyZ2luLXJpZ2h0OiAwLjMxMjVyZW07XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxufVxcblxcbi5saXN0LWl0ZW0tY2hlY2thYmxlIGlucHV0IHtcXG4gICAgbWFyZ2luLXJpZ2h0OiAwLjMxMjVyZW07XFxufVxcblxcblxcbi8qKiBhbmQgbGlzdCAqKi9cXG5cXG5cXG4uZHJhZy1oYW5kbGVyIHtcXG4gICAgY29sb3I6ICM4NDg4OGQ7XFxuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcXG4gICAgY3Vyc29yOiBncmFiO1xcbiAgICBhbGlnbi1zZWxmOiBzdGFydDtcXG4gICAgcGFkZGluZy10b3A6IDAuMzNyZW07XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuXFxuLmRyYWctaGFuZGxlci13cmFwcGVyIHtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICBoZWlnaHQ6IDA7XFxuICAgIHdpZHRoOiAwO1xcbn1cXG5cXG4uZHJhZy1oYW5kbGVyOmFjdGl2ZSB7XFxuICAgIGN1cnNvcjogZ3JhYmJpbmc7XFxufVxcblxcbi5ibG9jayB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgIG1hcmdpbi1ib3R0b206IDFyZW07XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xcbn1cXG5cXG4uYmxvY2s+Kjpub3QoLmVkaXRvci1vbmx5KSB7XFxuICAgIHBhZGRpbmctbGVmdDogMS4yNXJlbSAhaW1wb3J0YW50O1xcbn1cXG5cXG4uYmxvY2s6aG92ZXIgLmRyYWctaGFuZGxlciB7XFxuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XFxuICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XFxuICAgIGp1c3RpZnktY29udGVudDogc3RhcnQ7XFxuICAgIHRyYW5zaXRpb246IHZpc2liaWxpdHkgMC4ycztcXG59XFxuXFxuLmRyb3AtbGluZSB7XFxuICAgIGhlaWdodDogMXJlbTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzg0ODg4ZDtcXG4gICAgd2lkdGg6IDEwMCU7XFxufVxcblxcblxcbi50aXRsZSBoMSB7XFxuICAgIG1hcmdpbi1sZWZ0OiAxLjNyZW07XFxuICAgIGxpbmUtaGVpZ2h0OiAzcmVtO1xcbn1cXG5cXG5cXG4jam9oYW5uZXNFZGl0b3IgW2NvbnRlbnRlZGl0YWJsZT1cXFwidHJ1ZVxcXCJdOmVtcHR5OmZvY3VzIHtcXG4gICAgY29udGVudDogYXR0cihkYXRhLXBsYWNlaG9sZGVyKTtcXG4gICAgY29sb3I6ICM4NDg4OGQ7XFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG5cXG4jam9oYW5uZXNFZGl0b3IgaDFbZGF0YS1wbGFjZWhvbGRlcl06ZW1wdHk6YmVmb3JlIHtcXG4gICAgY29udGVudDogYXR0cihkYXRhLXBsYWNlaG9sZGVyKTtcXG4gICAgY29sb3I6ICM4NDg4OGQgIWltcG9ydGFudDtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbiNqb2hhbm5lc0VkaXRvciBoMVtkYXRhLXBsYWNlaG9sZGVyXTpmb2N1czpiZWZvcmUge31cXG5cXG5cXG4jam9oYW5uZXNFZGl0b3IgKltjb250ZW50ZWRpdGFibGU9XFxcInRydWVcXFwiXTpub3QoaDEpOmVtcHR5OmJlZm9yZSB7XFxuICAgIGNvbnRlbnQ6IGF0dHIoZGF0YS1wbGFjZWhvbGRlcik7XFxuICAgIGNvbG9yOiAjODQ4ODhhY2Q7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbiNqb2hhbm5lc0VkaXRvciAqW2NvbnRlbnRlZGl0YWJsZT1cXFwidHJ1ZVxcXCJdOm5vdChoMSk6ZW1wdHk6aG92ZXI6YmVmb3JlIHtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbiNqb2hhbm5lc0VkaXRvciBjaXRlW2NvbnRlbnRlZGl0YWJsZT1cXFwidHJ1ZVxcXCJdOmVtcHR5OmJlZm9yZSB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG4jam9oYW5uZXNFZGl0b3IgKltjb250ZW50ZWRpdGFibGU9XFxcInRydWVcXFwiXTpub3QoaDEpW2RhdGEtcGxhY2Vob2xkZXJdOmVtcHR5OmZvY3VzOmJlZm9yZSB7XFxuICAgIGNvbnRlbnQ6IGF0dHIoZGF0YS1wbGFjZWhvbGRlcik7XFxuICAgIGNvbG9yOiAjODQ4ODhhY2QgIWltcG9ydGFudDtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbiNqb2hhbm5lc0VkaXRvciBsaS5kaXZbY29udGVudGVkaXRhYmxlPVxcXCJ0cnVlXFxcIl06ZW1wdHk6aG92ZXI6YmVmb3JlIHtcXG4gICAgY29udGVudDogYXR0cihkYXRhLXBsYWNlaG9sZGVyKTtcXG4gICAgY29sb3I6ICM4NDg4OGFjZDtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcblxcblxcbmgxIHtcXG4gICAgZm9udC1zaXplOiAyLjVyZW07XFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkZXIgIWltcG9ydGFudDtcXG59XFxuXFxuLmNvbnRlbnQge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuLmNvbnRlbnQgLmJsb2NrIC50YWJsZS13cmFwcGVyIHtcXG4gICAgb3ZlcmZsb3cteDogYXV0bztcXG4gICAgb3ZlcmZsb3cteTogaGlkZGVuO1xcbn1cXG5cXG5cXG5bY29udGVudGVkaXRhYmxlXSB7XFxuICAgIG91dGxpbmU6IG5vbmU7XFxufVxcblxcbmJvZHkge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgXFxcIlNlZ29lIFVJXFxcIiwgUm9ib3RvLCBcXFwiSGVsdmV0aWNhIE5ldWVcXFwiLCBcXFwiTm90byBTYW5zXFxcIiwgXFxcIkxpYmVyYXRpb24gU2Fuc1xcXCIsIEFyaWFsLCBzYW5zLXNlcmlmLCBcXFwiQXBwbGUgQ29sb3IgRW1vamlcXFwiLCBcXFwiU2Vnb2UgVUkgRW1vamlcXFwiLCBcXFwiU2Vnb2UgVUkgU3ltYm9sXFxcIiwgXFxcIk5vdG8gQ29sb3IgRW1vamlcXFwiO1xcbiAgICBtYXJnaW4tYm90dG9tOiAyMDBweDtcXG59XFxuXFxuXFxuLmVkaXRvciB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIG1hcmdpbi10b3A6IDgwcHg7XFxufVxcblxcbnAge1xcbiAgICBjb2xvcjogIzI0MjQyNDtcXG59XFxuXFxuLmJsb2NrLFxcbi5ibG9jayAqIHtcXG4gICAgdXNlci1zZWxlY3Q6IHRleHQ7XFxufVxcblxcblxcbi5qb2hhbm5lcy1jb250ZW50LWVsZW1lbnQge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgcGFkZGluZzogMDtcXG4gICAgbWFyZ2luOiAwO1xcbn1cXG5cXG5cXG4jam9oYW5uZXNFZGl0b3Ige1xcbiAgICAvKiB3aWR0aDogNjAlOyAqL1xcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xcbn1cXG5cXG4uam9oYW5uZXMtZWRpdG9yIGhyIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMnB4O1xcbiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDU1LCA1MywgNDcsIDAuMTYpO1xcbn1cXG5cXG5cXG5cXG4uam9oYW5uZXMtZWRpdG9yIGJsb2NrcXVvdGUge1xcbiAgICBtYXJnaW46IDAuNXJlbSAwO1xcbiAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7XFxuICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgcmdiKDU1LCA1MywgNDcpO1xcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG4uam9oYW5uZXMtZWRpdG9yIGNpdGUge1xcbiAgICBwYWRkaW5nLXRvcDogMXJlbSAhaW1wb3J0YW50O1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxufVxcblxcblxcbi5qb2hhbm5lcy1lZGl0b3IgY2l0ZTo6YmVmb3JlIHtcXG4gICAgY29udGVudDogJ+KAlCAnO1xcbn1cXG5cXG5cXG4jbGlua0JveCB7XFxuICAgIHotaW5kZXg6IDk5OTk5OTtcXG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuI2xpbmtCb3ggLmhlYWRlciB7XFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDU1LCA1MywgNDcsIDAuMTYpO1xcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XFxuICAgIGZvbnQtc2l6ZTogMC44NnJlbTtcXG4gICAgY29sb3I6ICMzNzM1MmZkOTtcXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcXG59XFxuXFxuI2xpbmtCb3ggLmxpbmstYm94LXNoZWxsIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgZ2FwOiAxcmVtO1xcbiAgICBwYWRkaW5nOiAyMHB4O1xcbn1cXG5cXG5cXG4jbGlua0JveCAubGluay1ib3gtc2hlbGwgaW5wdXQge1xcbiAgICB3aWR0aDogMjByZW07XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTUsIDUzLCA0NywgMC4xNik7XFxuICAgIGhlaWdodDogMS41cmVtO1xcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICAgIHBhZGRpbmctbGVmdDogMTBweDtcXG59XFxuXFxuXFxuLmN0cmwtYWN0aXZlIC5qb2hhbm5lcy1jb250ZW50LWVsZW1lbnQgYSB7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuXFxuLyoqIHNvZnQtYm94LXNoYWRvdyBjbGFzcyAqL1xcbi5zb2Z0LWJveC1zaGFkb3cge1xcbiAgICBtYXJnaW46IDA7XFxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gICAgYm94LXNoYWRvdzpcXG4gICAgICAgIDAgNHB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSksXFxuICAgICAgICAwIC0ycHggNHB4IHJnYmEoMjE2LCAxOTYsIDE5NiwgMC4wMiksXFxuICAgICAgICAtMnB4IDAgNHB4IHJnYmEoMCwgMCwgMCwgMC4wMiksXFxuICAgICAgICAycHggMCA0cHggcmdiYSgwLCAwLCAwLCAwLjAyKTtcXG5cXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2QwZDBkMDtcXG59XFxuXFxuLyoqIGFuZCBzb2Z0LWJveC1zaGFkb3cgKi9cXG5cXG5cXG4vKiogc2VsZWN0aW9uLXdyYXBwZXIgY2xhc3MgKi9cXG4uc2VsZWN0LXdyYXBwZXIge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIGNvbG9yOiByZ2IoMTIwLCAxMTksIDExNik7XFxufVxcblxcbi5zZWxlY3Qtd3JhcHBlciB1bCB7XFxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XFxuICAgIHBhZGRpbmctYm90dG9tOiAwLjVyZW07XFxuICAgIHBhZGRpbmctbGVmdDogNXB4O1xcbiAgICB0b3A6IDIuMnJlbTtcXG4gICAgY29sb3I6IHJnYig1NSwgNTMsIDQ3KTtcXG4gICAgcGFkZGluZy1yaWdodDogMC4zMTI1cmVtO1xcbn1cXG5cXG4uc2VsZWN0LXdyYXBwZXIgdWwgbGkge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBnYXA6IDAuNjI1cmVtO1xcbiAgICBwYWRkaW5nOiAwLjE4NzVyZW0gMC4zMTI1cmVtO1xcbiAgICBib3JkZXItcmFkaXVzOiAwLjE4NzVyZW07XFxuICAgIHVzZXItc2VsZWN0OiBub25lICFpbXBvcnRhbnQ7XFxuICAgIGZvbnQtc2l6ZTogc21hbGwgIWltcG9ydGFudDtcXG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcXG59XFxuXFxuLnNlbGVjdC13cmFwcGVyIHVsIGxpIHNwYW4sXFxuLnNlbGVjdC13cmFwcGVyIGJ1dHRvbiBzcGFuIHtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICB3aWR0aDogbWF4LWNvbnRlbnQ7XFxuICAgIGxpbmUtaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7XFxufVxcblxcbi5zZWxlY3Qtd3JhcHBlciB1bCBsaSAub3B0aW9uLWltYWdlIHtcXG4gICAgd2lkdGg6IDEuMzc1cmVtO1xcbiAgICBoZWlnaHQ6IDEuMzc1cmVtO1xcbiAgICBjb2xvcjogIzI0MjQyNDtcXG4gICAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xcbiAgICBtYXJnaW46IDAgIWltcG9ydGFudDtcXG59XFxuXFxuLnNlbGVjdC13cmFwcGVyIHVsIGxpIC5vcHRpb24taW1hZ2Ugc3ZnIHtcXG4gICAgY29sb3I6ICM0ZjRmNGY7XFxuICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcXG4gICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XFxufVxcblxcbi5zZWxlY3Qtd3JhcHBlcj5idXR0b24ge1xcbiAgICBjb2xvcjogIzM3MzUyZmQ5O1xcbn1cXG5cXG4uc2VsZWN0LXdyYXBwZXIgdWwgbGk+aDMge1xcbiAgICBtYXJnaW46IDA7XFxuICAgIGZvbnQtc2l6ZTogc21hbGwgIWltcG9ydGFudDtcXG4gICAgY29sb3I6ICMzNzM1MmZhNjtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBmb250LXdlaWdodDogNjAwICFpbXBvcnRhbnQ7XFxuICAgIG1hcmdpbi10b3A6IDAuMzEyNXJlbTtcXG4gICAgbWFyZ2luLWJvdHRvbTogMC4zMTI1cmVtO1xcbn1cXG5cXG4vKiogZW5kIHNlbGVjdGlvbiB3cmFwcGVyICoqL1xcblxcblxcblxcbi8qKiBUZXh0IGZvcm1hdHRpbmcgQmFyICoqL1xcblxcblxcblxcbi5mbG9hdGluZy10b29sYmFyIHtcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgICBwYWRkaW5nOiA4cHggMTZweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgIHdpZHRoOiBmaXQtY29udGVudDtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuXFxuXFxuLmZsb2F0aW5nLXRvb2xiYXIgLml0ZW0ge1xcbiAgICBjb2xvcjogcmdiKDEyMCwgMTE5LCAxMTYpO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBnYXA6IDEwcHg7XFxufVxcblxcbi5pdGVtPmJ1dHRvbixcXG4uZmxvYXRpbmctdG9vbGJhciAuaXRlbT5idXR0b24ge1xcblxcbiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG5cXG4uZmxvYXRpbmctdG9vbGJhciBzZWxlY3Qge1xcbiAgICBjb2xvcjogcmdiKDEyMCwgMTE5LCAxMTYpO1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIGZvbnQtc2l6ZTogMC44NXJlbTtcXG4gICAgLyogYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDsgKi9cXG59XFxuXFxuLnRleHQtZm9ybWF0dGluZy1zZWxlY3QtYnV0dG9uIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuI3R1cm5JbnRvQnV0dG9uIHNwYW4ge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGZvbnQtc2l6ZTogMC45cmVtO1xcbiAgICBmb250LXdlaWdodDogNjAwO1xcblxcbn1cXG5cXG4jdHVybkludG9CdXR0b24gc3ZnIHVzZSB7XFxuICAgIG1hcmdpbjogYXV0bztcXG59XFxuXFxuXFxuLnRleHQtZm9ybWF0dGluZy1idXR0b24tYWN0aXZlIHtcXG4gICAgY29sb3I6ICMyMzgyZTI7XFxufVxcblxcbi50ZXh0LWZvcm1hdHRpbmctY2lyY2xlLWFjdGl2ZSB7XFxuICAgIGJvcmRlci1jb2xvcjogIzIzODJlMiAhaW1wb3J0YW50O1xcbn1cXG5cXG5cXG5cXG4jbW9yZVRleHRPcHRpb25TZWxlY3Qge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcblxcbi5tb3JlVGV4dE9wdGlvbldyYXBwZXIge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcblxcbi5iZ2MtcmVkIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0ZEREVERTtcXG59XFxuXFxuLmJnYy1ncmVlbiB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNEN0Y3REM7XFxufVxcblxcbi5iZ2MtYmx1ZSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNEOUVERjY7XFxufVxcblxcbi5iZ2MteWVsbG93IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0ZBRjREMTtcXG59XFxuXFxuLmJnYy1ncmV5IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0UxRTBFMDtcXG59XFxuXFxucCxcXG5tYXJrIHtcXG4gICAgbGluZS1oZWlnaHQ6IDE7XFxufVxcblxcblxcbi5ib3JkZXItbGVzcy1pbWFnZSB7XFxuICAgIHdpZHRoOiAyNHB4O1xcbiAgICBoZWlnaHQ6IDI0cHg7XFxufVxcblxcblxcblxcbi8qKiBCbG9jayBPcHRpb25zICoqL1xcblxcbi5ibG9jay1vcHRpb25zLXdyYXBwZXIge1xcbiAgICB6LWluZGV4OiA5OTk5OTk7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLmJsb2NrLW9wdGlvbnMge1xcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XFxuICAgIG1heC1oZWlnaHQ6IDE5cmVtO1xcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xcbn1cXG5cXG4uYmxvY2stb3B0aW9ucyB7XFxuICAgIHBhZGRpbmc6IDAgMC42MjVyZW07XFxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xcbn1cXG5cXG4uYmxvY2stb3B0aW9ucyBzZWN0aW9uIGgyIHtcXG4gICAgZm9udC1zaXplOiBzbWFsbCAhaW1wb3J0YW50O1xcbiAgICBjb2xvcjogIzM3MzUyZmE2O1xcbiAgICBtYXJnaW46IDA7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIGZvbnQtd2VpZ2h0OiA2MDAgIWltcG9ydGFudDtcXG4gICAgbWFyZ2luLXRvcDogMC4zMTI1cmVtO1xcbiAgICBtYXJnaW4tYm90dG9tOiAwLjMxMjVyZW07XFxuICAgIHBhZGRpbmctbGVmdDogMC4zMTI1cmVtO1xcbn1cXG5cXG4uYmxvY2stb3B0aW9ucyAub3B0aW9uIHtcXG4gICAgcGFkZGluZzogMC4zMTI1cmVtIDAuNjI1cmVtO1xcbiAgICBtYXJnaW46IDAuMzEyNXJlbSAwO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGp1c3RpZnktY29udGVudDogbGVmdDtcXG4gICAgZ2FwOiAwLjZyZW07XFxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcXG59XFxuXFxuLmJsb2NrLW9wdGlvbnMgLm9wdGlvbjpmb2N1cyB7XFxuICAgIG91dGxpbmU6IG5vbmU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlOWU5ZTk7XFxuICAgIGJvcmRlcjogaW5oZXJpdDtcXG59XFxuXFxuLm9wdGlvbi1mb2N1c2VkIHtcXG4gICAgb3V0bGluZTogbm9uZTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZTllOTtcXG4gICAgYm9yZGVyOiBub25lO1xcbn1cXG5cXG4uZGFuZ2VyLW9wdGlvbi5vcHRpb24tZm9jdXNlZCxcXG4uZGFuZ2VyLW9wdGlvbi5vcHRpb24tZm9jdXNlZCBzdmcge1xcbiAgICBjb2xvcjogI0VCNTc1NyAhaW1wb3J0YW50O1xcbn1cXG5cXG5cXG5cXG4uYmxvY2stb3B0aW9ucyAub3B0aW9uOmZvY3VzLXZpc2libGUge1xcbiAgICBvdXRsaW5lOiBub25lO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTllOWU5O1xcbiAgICBib3JkZXI6IGluaGVyaXQ7XFxufVxcblxcblxcblxcbiNjb2xvclRleHRCdXR0b24ge1xcbiAgICBtYXJnaW4tbGVmdDogMC42MjVyZW07XFxufVxcblxcbiN0dXJuSW50b0J1dHRvbjpub3QoW2Rpc2FibGVkXSk6aG92ZXIsXFxuI2NvbG9yVGV4dEJ1dHRvbjpub3QoW2Rpc2FibGVkXSk6aG92ZXIsXFxuI21vcmVUZXh0T3B0aW9uQnV0dG9uOm5vdChbZGlzYWJsZWRdKTpob3ZlcixcXG4uZmxvYXRpbmctdG9vbGJhciAuaXRlbT5idXR0b246bm90KFtkaXNhYmxlZF0pOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZTllOTtcXG4gICAgYm94LXNoYWRvdzogMHB4IDBweCAwcHggMnB4ICNlOWU5ZTk7XFxuICAgIGJvcmRlci1yYWRpdXM6IDFweDtcXG4gICAgdHJhbnNpdGlvbjogMC4xcyBlYXNlO1xcbn1cXG5cXG5cXG5cXG4ub3B0aW9uW2ZvY3VzZWQ9XFxcInRydWVcXFwiXSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNiZGU0ZmY7XFxufVxcblxcbi5vcHRpb24taW1hZ2Uge1xcbiAgICB3aWR0aDogMi44NzVyZW07XFxuICAgIGhlaWdodDogMi44NzVyZW07XFxuICAgIGJvcmRlci1yYWRpdXM6IDAuMTg3NXJlbTtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcXG4gICAgY29sb3I6ICM0ZjRmNGY7XFxuXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZjtcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuLm9wdGlvbi1pbWFnZSBpbWcge1xcbiAgICBtYXgtd2lkdGg6IDIuODc1cmVtO1xcbiAgICBtYXgtaGVpZ2h0OiAyLjg3NXJlbTtcXG59XFxuXFxuLm9wdGlvbi1pbWFnZSBzdmcge1xcbiAgICBtYXJnaW46IDA7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIHBhZGRpbmc6IDAuNjI1cmVtO1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcblxcbn1cXG5cXG4ub3B0aW9uLXRleHQgKiB7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgcGFkZGluZzogMDtcXG5cXG59XFxuXFxuLm9wdGlvbi10ZXh0IC5ibG9jay10aXRsZSB7XFxuICAgIGZvbnQtc2l6ZTogc21hbGwgIWltcG9ydGFudDtcXG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcXG59XFxuXFxuLm9wdGlvbi10ZXh0IC5ibG9jay1kZXNjcmlwdGlvbiB7XFxuICAgIGZvbnQtc2l6ZTogc21hbGwgIWltcG9ydGFudDtcXG4gICAgY29sb3I6IHJnYmEoNTUsIDUzLCA0NywgMC41KTtcXG59XFxuXFxuLyoqIEVuZCBCbG9jayBPcHRpb25zICoqL1xcblxcblxcbi5qb2hhbm5lcy1lZGl0b3IgKjo6c2VsZWN0aW9uIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogaHNsKDIxMCA3NSUgNTAlIC8gMSk7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuLmpvaGFubmVzLWVkaXRvciBtYXJrLFxcbi5qb2hhbm5lcy1lZGl0b3IgKjpub3QoaDEpIHtcXG4gICAgbGluZS1oZWlnaHQ6IDEuNSAhaW1wb3J0YW50O1xcbn1cXG5cXG4ub3B0aW9uIHtcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbn1cXG5cXG4udGV4dC1vcHRpb24ge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHN0YXJ0O1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBnYXA6IDAuNjI1cmVtO1xcbn1cXG5cXG5cXG4vKiBQYXJhIHRlbGFzIGNvbSBkZW5zaWRhZGUgbcOpZGlhICovXFxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAyKSxcXG5vbmx5IHNjcmVlbiBhbmQgKG1pbi0tbW96LWRldmljZS1waXhlbC1yYXRpbzogMiksXFxub25seSBzY3JlZW4gYW5kIChtaW4tcmVzb2x1dGlvbjogMTkyZHBpKSxcXG5vbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiAyZHBweCkge1xcbiAgICA6cm9vdCB7XFxuICAgICAgICBmb250LXNpemU6IDE4cHg7XFxuICAgICAgICAvKiBBdW1lbnRhIG8gdGFtYW5obyBkYSBmb250ZSBwYXJhIHRlbGFzIGRlIGFsdGEgZGVuc2lkYWRlICovXFxuICAgIH1cXG59XFxuXFxuLyogUGFyYSB0ZWxhcyBjb20gYWx0w61zc2ltYSBkZW5zaWRhZGUgKi9cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDMpLFxcbm9ubHkgc2NyZWVuIGFuZCAobWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOiAzKSxcXG5vbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiAyODhkcGkpLFxcbm9ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IDNkcHB4KSB7XFxuICAgIDpyb290IHtcXG4gICAgICAgIGZvbnQtc2l6ZTogMjBweDtcXG4gICAgICAgIC8qIEFpbmRhIG1haW9yIHBhcmEgdGVsYXMgZGUgZGVuc2lkYWRlIG11aXRvIGFsdGEgKi9cXG4gICAgfVxcbn1cXG5cXG5cXG5cXG5cXG5cXG5cXG5cXG5cXG5cXG5cXG5cXG50YWJsZS5qb2hhbm5lcy1jb250ZW50LWVsZW1lbnQge1xcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xcbiAgICBtYXgtd2lkdGg6IGluaGVyaXQ7XFxuICAgIHdpZHRoOiBhdXRvO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94ICFpbXBvcnRhbnQ7XFxufVxcblxcbnRhYmxlLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCB0aCxcXG50YWJsZS5qb2hhbm5lcy1jb250ZW50LWVsZW1lbnQgdGQge1xcbiAgICBtaW4taGVpZ2h0OiAyMHB4O1xcbn1cXG5cXG50YWJsZS5qb2hhbm5lcy1jb250ZW50LWVsZW1lbnQgdGgsXFxudGFibGUuam9oYW5uZXMtY29udGVudC1lbGVtZW50IHRkIHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzg0ODg4ZDtcXG4gICAgcGFkZGluZzogOHB4O1xcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgICBhbGlnbi1pdGVtczogc3RhcnQ7XFxuICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XFxuICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcXG4gICAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcXG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcXG4gICAgbWluLXdpZHRoOiAxMDBweDtcXG4gICAgbWF4LXdpZHRoOiAyMDBweDtcXG5cXG4gICAgdHJhbnNpdGlvbjogYm9yZGVyIDEwMG1zIGVhc2Utb3V0LCBib3gtc2hhZG93IDEwMG1zIGVhc2Utb3V0O1xcblxcbn1cXG5cXG50YWJsZS5qb2hhbm5lcy1jb250ZW50LWVsZW1lbnQgdGQuc2VsZWN0ZWQsXFxudGFibGUuam9oYW5uZXMtY29udGVudC1lbGVtZW50IHRkOmZvY3VzIHtcXG4gICAgb3V0bGluZTogbm9uZTtcXG4gICAgYm94LXNoYWRvdzogMCAwIDAgMXB4ICM3NGI2ZGIgaW5zZXQ7XFxuICAgIGJvcmRlcjogMXB4IGRvdWJsZSAjNzRiNmRiO1xcblxcbn1cXG5cXG50ZCB7XFxuICAgIG1pbi1oZWlnaHQ6IDFyZW0gIWltcG9ydGFudDtcXG4gICAgbGluZS1oZWlnaHQ6IDFyZW07XFxufVxcblxcbnRkOjpwbGFjZWhvbGRlciB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG4jam9oYW5uZXNFZGl0b3IgdGQ6ZW1wdHk6YmVmb3JlIHtcXG4gICAgY29udGVudDogYXR0cihkYXRhLXBsYWNlaG9sZGVyKTtcXG4gICAgY29sb3I6ICM4NDg4OGFjZDtcXG4gICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcXG4gICAgb3BhY2l0eTogMDtcXG59XFxuXFxuLnRhYmxlLXdyYXBwZXIge1xcbiAgICB3aWR0aDogMTAwJTtcXG59XFxuXFxuLnRhYmxlLWNvbnRyb2xsZXIge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIG1heC13aWR0aDogMTAwJTtcXG59XFxuXFxuLmFkZC10YWJsZS1yb3cge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDU1LCA1MywgNDcsIDAuMDYpO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgcGFkZGluZzogMDtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBtYXJnaW4tdG9wOiAwLjM3NXJlbTtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgaGVpZ2h0OiAxcmVtO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIG9wYWNpdHk6IDA7XFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcbn1cXG5cXG4uYWRkLXRhYmxlLWNvbHVtbiB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgcmlnaHQ6IC0xLjMxMjVyZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNTUsIDUzLCA0NywgMC4wNik7XFxuICAgIHdpZHRoOiAxcmVtO1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBtYXJnaW46IDA7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgdG9wOiAwO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIGhlaWdodDogY2FsYygxMDAlIC0gMXJlbSAtIDVweCk7XFxuICAgIG9wYWNpdHk6IDA7XFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcbn1cXG5cXG4uYWRkLXRhYmxlLWNvbHVtbjpob3ZlciB7XFxuICAgIG9wYWNpdHk6IDE7XFxufVxcblxcbi5hZGQtdGFibGUtcm93OmhvdmVyIHtcXG4gICAgb3BhY2l0eTogMTtcXG59XFxuXFxuLnRhYmxlLXNoZWxsIHtcXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xcbn1cXG5cXG5cXG5cXG4udGFibGUtb3B0aW9uIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgIHdpZHRoOiBmaXQtY29udGVudDtcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgICBwYWRkaW5nOiA4cHggMTZweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcXG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xcbiAgICB6LWluZGV4OiA5OTk5OTk7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIHBhZGRpbmc6IDhweCAxNnB4O1xcbiAgICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG5cXG4vKiogQ2FsbG91dCAqKi9cXG5cXG4uY2FsbG91dC13cmFwcGVyIHtcXG4gICAgcGFkZGluZzogMXJlbTtcXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xcbn1cXG5cXG4uY2FsbG91dDpob3ZlciAub3B0aW9ucy1idXR0b24ge1xcbiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xcbn1cXG5cXG4uY2FsbG91dCBwIHtcXG4gICAgbWFyZ2luOiAwO1xcbn1cXG5cXG4uY2FsbG91dC1iYWNrZ3JvdW5kLXJlZCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZWViZWI7XFxuICAgIGJvcmRlci1jb2xvcjogI0ZEREVERTtcXG59XFxuXFxuLmNhbGxvdXQtYmFja2dyb3VuZC1ncmVlbiB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlYmZiZWU7XFxuICAgIGJvcmRlci1jb2xvcjogI0Q3RjdEQztcXG59XFxuXFxuLmNhbGxvdXQtYmFja2dyb3VuZC1ibHVlIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U4ZjRmYTtcXG4gICAgYm9yZGVyLWNvbG9yOiAjRDlFREY2O1xcbn1cXG5cXG4uY2FsbG91dC1iYWNrZ3JvdW5kLXllbGxvdyB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmY2Y3ZGY7XFxuICAgIGJvcmRlci1jb2xvcjogI0ZBRjREMTtcXG59XFxuXFxuLmNhbGxvdXQtYmFja2dyb3VuZC1ncmV5IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VkZWNlYztcXG4gICAgYm9yZGVyLWNvbG9yOiAjRTFFMEUwO1xcbn1cXG5cXG4uY2FsbG91dC1iYWNrZ3JvdW5kLW5vbmUge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gICAgYm9yZGVyLWNvbG9yOiAjZTdlNmU2O1xcblxcbn1cXG5cXG4vKiogZW5kIGNhbGxvdXQgKi9cXG5cXG5cXG4vKiogbWVkaWFJbnB1dHRlciAqKi9cXG4ubWVkaWFJbnB1dHRlciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbn1cXG5cXG4vKiogbWVkaWFJbnB1dHRlciAqKi9cXG5cXG5cXG4ubm8tc2VsZWN0aW9uIHtcXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuXFxuLnBvaW50ZXIge1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcblxcbi8qKiB1cGxvYWQvZW1iZWQgKiovXFxuXFxuLnRhYi1jb250YWluZXIge1xcbiAgICBmb250LXNpemU6IDAuODZyZW07XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIHRyYW5zaXRpb246IDAuMXMgZWFzZTtcXG5cXG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuXFxuICAgIHRyYW5zaXRpb246IHZpc2liaWxpdHkgMC4ycyBlYXNlO1xcblxcblxcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuXFxufVxcblxcbi5uYXYtdW5kZXJsaW5lIHtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSg1NSwgNTMsIDQ3LCAwLjE2KTtcXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xcbn1cXG5cXG4ubmF2LXVuZGVybGluZSAubmF2LWl0ZW0ge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7XFxufVxcblxcbi5uYXYtdW5kZXJsaW5lIC5uYXYtbGluayB7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgICBjb2xvcjogcmdiKDU1LCA1MywgNDcpO1xcbiAgICBjb2xvcjogcmdiYSg1NSwgNTMsIDQ3LCAwLjUpO1xcbiAgICB0cmFuc2l0aW9uOiAwLjFzIGVhc2U7XFxufVxcblxcblxcbi5uYXYtaXRlbS5hY3RpdmUgLm5hdi1saW5rIHtcXG4gICAgY29sb3I6ICMzNzM1MmZkOTtcXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcXG59XFxuXFxuLnRhYi1jb250ZW50IC5jb250ZW50LWRhdGEge1xcbiAgICBkaXNwbGF5OiBub25lO1xcbiAgICBwYWRkaW5nOiAyMHB4O1xcbiAgICBib3JkZXItdG9wOiBub25lO1xcbiAgICB0cmFuc2l0aW9uOiAwLjFzIGVhc2U7XFxufVxcblxcbi50YWItY29udGVudCAuY29udGVudC1kYXRhLmFjdGl2ZSB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgZ2FwOiAxcmVtO1xcbn1cXG5cXG4udGFiLWNvbnRlbnQgLnRleHQtaW5mb3JtYXRpb24ge1xcbiAgICBmb250LXNpemU6IDAuNzVyZW07XFxuICAgIGNvbG9yOiByZ2JhKDU1LCA1MywgNDcsIDAuNik7XFxufVxcblxcbi5uYXYtdW5kZXJsaW5lIC5uYXYtaXRlbSB7XFxuICAgIGRpc3BsYXk6IGlubGluZTtcXG59XFxuXFxuLmVtYmVkLWNvbnRlbnQgaW5wdXQge1xcbiAgICB3aWR0aDogMjByZW07XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTUsIDUzLCA0NywgMC4xNik7XFxuICAgIGhlaWdodDogMS41cmVtO1xcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICAgIHBhZGRpbmctbGVmdDogMTBweDtcXG59XFxuXFxuLmVtYmVkLWNvbnRlbnQgYnV0dG9uIHtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG5cXG4udXBsb2FkLWNvbnRlbnQgbGFiZWwge1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1NSwgNTMsIDQ3LCAwLjE2KTtcXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgICB3aWR0aDogMjByZW07XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgcGFkZGluZzogNHB4O1xcbiAgICBjb2xvcjogcmdiKDU1LCA1MywgNDcpO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbn1cXG5cXG4udXBsb2FkLWNvbnRlbnQgbGFiZWw6aG92ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlO1xcbn1cXG5cXG5cXG5cXG5cXG5cXG5cXG5cXG5cXG5cXG5cXG4vKiBSZXNpemUgaGFuZGxlciAqL1xcbi5yZXNpemUtaGFuZGxlIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB3aWR0aDogMTBweDtcXG4gICAgaGVpZ2h0OiAxMHB4O1xcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNSk7XFxuICAgIGN1cnNvcjogbndzZS1yZXNpemU7XFxufVxcblxcbi5yZXNpemUtaGFuZGxlLnNlIHtcXG4gICAgYm90dG9tOiAwO1xcbiAgICByaWdodDogMDtcXG59XFxuXFxuLyoqIFJlc2l6ZSBoYW5kbGVyICoqL1xcblxcbi5zcG90aWZ5LWVtYmVkIHtcXG4gICAgbWluLWhlaWdodDogMTUycHg7XFxuICAgIGhlaWdodDogYXV0byAhaW1wb3J0YW50O1xcbiAgICBwYWRkaW5nLWJvdHRvbTogMCAhaW1wb3J0YW50O1xcbiAgICBib3JkZXItcmFkaXVzOiAuNzVyZW0gIWltcG9ydGFudDtcXG59XFxuXFxuLmdpc3QtZW1iZWQge1xcbiAgICBwYWRkaW5nLWJvdHRvbTogMCAhaW1wb3J0YW50O1xcbiAgICBtaW4taGVpZ2h0OiAxNTBweCAhaW1wb3J0YW50O1xcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xcbn1cXG5cXG4uc25pcHBldC1lbWJlZCB7XFxuICAgIHBhZGRpbmctYm90dG9tOiAwICFpbXBvcnRhbnQ7XFxuICAgIG1pbi1oZWlnaHQ6IDE1MHB4ICFpbXBvcnRhbnQ7XFxuICAgIG92ZXJmbG93LXk6IGF1dG87XFxufVxcblxcbi5lbWJlZC1jb250YWluZXIge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBwYWRkaW5nLWJvdHRvbTogNTYuMjUlO1xcbiAgICBoZWlnaHQ6IDA7XFxuICAgIG92ZXJmbG93OiB2aXNpYmxlO1xcbn1cXG5cXG4uZW1iZWQtY29udGFpbmVyIGlmcmFtZSB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG5cXG4uaWZyYW1lLXdyYXBwZXIge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcblxcblxcbi52aWRlby1jb250YWluZXIge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBwYWRkaW5nLWJvdHRvbTogNTYuMjUlO1xcbiAgICBoZWlnaHQ6IDA7XFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxufVxcblxcbi52aWRlby1jb250YWluZXIgaWZyYW1lIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IDA7XFxuICAgIGxlZnQ6IDA7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi54LXJlc2l6YWJsZSB7XFxuICAgIHJlc2l6ZTogaG9yaXpvbnRhbDtcXG4gICAgb3ZlcmZsb3c6IGF1dG87XFxuICAgIGN1cnNvcjogbmVzdy1yZXNpemU7XFxuICAgIG1pbi13aWR0aDogMjUwcHg7XFxufVxcblxcbi55LXJlc2l6YWJsZSB7XFxuICAgIHJlc2l6ZTogdmVydGljYWw7XFxuICAgIG92ZXJmbG93OiBhdXRvO1xcbiAgICBjdXJzb3I6IG5zLXJlc2l6ZTtcXG4gICAgbWluLWhlaWdodDogMTUwcHg7XFxufVxcblxcbi5iYWNrZ3JvdW5kIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U3ZTZlMztcXG59XFxuXFxuXFxuLmZpdC1jb250ZW50IHtcXG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xcbiAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xcbn1cXG5cXG5cXG4vKiogQmxvY2tUb29sYmFyIGNvbXBvbmVudCAqKi9cXG4uYmxvY2stdG9vbGJhci13cmFwcGVyIHtcXG4gICAgd2lkdGg6IDA7XFxuICAgIGhlaWdodDogMDtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICBvdmVyZmxvdzogdmlzaWJsZTtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBkaXNwbGF5OiBjb250ZW50cztcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuXFxufVxcblxcbi5ibG9jay10b29sYmFyIHtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHJpZ2h0OiAwO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xcbiAgICBjb2xvcjogYmxhY2sgIWltcG9ydGFudDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgZ2FwOiAxMHB4O1xcbiAgICBwYWRkaW5nOiA1cHg7XFxuICAgIHBhZGRpbmctbGVmdDogMTBweDtcXG4gICAgcGFkZGluZy1yaWdodDogMTBweDtcXG4gICAgdHJhbnNpdGlvbjogdmlzaWJpbGl0eSAwLjJzO1xcblxcbiAgICB0b3A6IDVweDtcXG4gICAgcmlnaHQ6IDVweDtcXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xcbn1cXG5cXG4uYmxvY2stdG9vbGJhciAuaXRlbSB7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbn1cXG5cXG4uYmxvY2stdG9vbGJhciAuaXRlbSBidXR0b24ge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbn1cXG5cXG4uYmxvY2stdG9vbGJhciBidXR0b24ge1xcbiAgICBjb2xvcjogYmxhY2s7XFxufVxcblxcbi5ibG9jay10b29sYmFyIC5jb2xvci1pbnRlcmFjdGl2ZS1idXR0b24ge1xcbiAgICBtYXJnaW46IDA7XFxuICAgIHBhZGRpbmc6IDA7XFxufVxcblxcbi8qKiBFbmQgQmxvY2tUb29sYmFyIGNvbXBvbmVudCAqKi9cXG5cXG5cXG5cXG4uanVzdGlmeS1sZWZ0IHtcXG4gICAganVzdGlmeS1jb250ZW50OiBsZWZ0O1xcbn1cXG5cXG4uanVzdGlmeS1jZW50ZXIge1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG59XFxuXFxuLmp1c3RpZnktcmlnaHQge1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHJpZ2h0O1xcbn1cXG5cXG5cXG4uaGlkZGVuIHtcXG4gICAgdmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7XFxufVxcblxcblxcblxcblxcbmZpZ3VyZSB7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgcGFkZGluZzogMDtcXG59XFxuXFxuXFxuLm92ZXJmbG93LWhpZGRlbiB7XFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxufVxcblxcbi8qKiBJbmxpbmUgQ29kZSAqKi9cXG4uam9oYW5uZXMtY29udGVudC1lbGVtZW50IGNvZGU6bm90KHByZSBjb2RlKSB7XFxuICAgIGZvbnQtc2l6ZTogMXJlbTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2NjY2NjYzdhO1xcbiAgICBwYWRkaW5nOiAwIDNweDtcXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xcbn1cXG5cXG4vKiogQ29udGVudCBwbGFjZWhvbGRlciAqL1xcblxcbi5jb250ZW50LXBsYWNlaG9sZGVyIHtcXG4gICAgcGFkZGluZzogMXJlbTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U3ZTZlMztcXG4gICAgY29sb3I6IHJnYmEoNTUsIDUzLCA0NywgMC41KTtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZ2FwOiA1cHg7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uY29udGVudC1wbGFjZWhvbGRlciAuaWNvbi13cmFwcGVyIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgbWFyZ2luLXJpZ2h0OiA4cHg7XFxufVxcblxcblxcbi8qIGVuZCBDb250ZW50IHBsYWNlaG9sZGVyICovXFxuXFxuXFxuXFxuLyoqIENvZGUgKiovXFxuXFxucHJlIHtcXG4gICAgbWFyZ2luOiAwO1xcbn1cXG5cXG5wcmUgY29kZSB7XFxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcXG59XFxuXFxuLmlnbm9yZS1ldmVudHMge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5jb2RlLWJsb2NrIHtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG4uY29kZS1ibG9jayBzZWxlY3Qge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcblxcbi5jb2RlLWJsb2NrIHNlbGVjdCB7XFxuICAgIGFwcGVhcmFuY2U6IG5vbmU7XFxuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gICAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXG4gICAgYm9yZGVyOiBub25lO1xcbiAgICBwYWRkaW5nOiA0cHggOHB4O1xcbiAgICBmb250OiBpbmhlcml0O1xcbiAgICAvKiBjb2xvcjogaW5oZXJpdDsgKi9cXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogcmlnaHQgMTBweCBjZW50ZXI7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG4gICAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLmNvZGUtYmxvY2s6aG92ZXIgc2VsZWN0IHtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcblxcblxcbi5jb2RlLWJsb2NrIGNvZGUge1xcbiAgICBmb250LXNpemU6IDFyZW07XFxuXFxufVxcblxcblxcblxcbkBrZXlmcmFtZXMgc2hha2Uge1xcblxcbiAgICAwJSxcXG4gICAgMTAwJSB7XFxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7XFxuICAgIH1cXG5cXG4gICAgMjUlLFxcbiAgICA3NSUge1xcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cHgpO1xcbiAgICB9XFxuXFxuICAgIDUwJSB7XFxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNXB4KTtcXG4gICAgfVxcbn1cXG5cXG4uc2hha2UtYW5pbWF0aW9uIHtcXG4gICAgYW5pbWF0aW9uOiBzaGFrZSAwLjZzIGN1YmljLWJlemllciguMzYsIC4wNywgLjE5LCAuOTcpIGJvdGg7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XFxuICAgIGJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcXG4gICAgcGVyc3BlY3RpdmU6IDEwMDBweDtcXG59XFxuXFxuLmJsdWUtYnV0dG9uIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzIzODNlMjtcXG4gICAgY29sb3I6IHdoaXRlO1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIHBhZGRpbmc6IDNweDtcXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgICBmb250LXdlaWdodDogNTAwO1xcbn1cXG5cXG5cXG4vKiogc2VwYXJhdG9yICoqL1xcblxcbi5zZXBhcmF0b3Itd3JhcHBlciB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5zZXBhcmF0b3Ige1xcbiAgICBmbGV4LWdyb3c6IDE7XFxuICAgIHBhZGRpbmc6IDAgMTBweDtcXG59XFxuXFxuLnNlcGFyYXRvci13cmFwcGVyIGhyIHtcXG4gICAgb3V0bGluZTogbm9uZSAhaW1wb3J0YW50O1xcbn1cXG5cXG4uc2VwYXJhdG9yLXdyYXBwZXIgaHI6Zm9jdXMge1xcbiAgICBvdXRsaW5lOiBub25lICFpbXBvcnRhbnQ7XFxufVxcblxcbi5zZXBhcmF0b3Itc2VsZWN0ZWQge1xcbiAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcXG4gICAgb3V0bGluZTogbm9uZSAhaW1wb3J0YW50O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMjEwIDc1JSA1MCUgLyAxKTtcXG59XFxuXFxuLnNlcGFyYXRvci1zZWxlY3RlZCBociB7XFxuICAgIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xcbiAgICBib3JkZXItY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XFxufVxcblxcbi8qKiBlbmQgc2VwYXJhdG9yICovXFxuXFxuXFxuXFxuXFxuI2xpbmtCb3hJbnB1dHtcXG5cXG59XFxuXFxuLmNvbnRlbnQtZGF0YSBpbnB1dDpmb2N1cyxcXG4jbGlua0JveElucHV0OmZvY3VzIHtcXG4gICAgb3V0bGluZTogMnB4IHNvbGlkICM0QTkwRTI7XFxuICAgIGJveC1zaGFkb3c6IDAgMCA1cHggcmdiYSg3NCwgMTQ0LCAyMjYsIDAuNSk7XFxufVxcblxcblxcbi5kLW5vbmV7XFxuICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsImV4cG9ydCBlbnVtIENvbnRlbnRUeXBlcyB7XHJcbiAgICBQYXJhZ3JhcGggPSBcInBcIixcclxuICAgIEhlYWRpbmdfMSA9IFwiaDFcIixcclxuICAgIEhlYWRpbmdfMiA9IFwiaDJcIixcclxuICAgIEhlYWRpbmdfMyA9IFwiaDNcIixcclxuICAgIEhlYWRpbmdfNCA9IFwiaDRcIixcclxuICAgIEhlYWRpbmdfNSA9IFwiaDVcIixcclxuICAgIEhlYWRpbmdfNiA9IFwiaDZcIixcclxuICAgIENoZWNrTGlzdCA9IFwiY2hlY2tMaXN0XCIsXHJcbiAgICBCdWxsZXRlZExpc3QgPSBcImJ1bGxldGVkTGlzdFwiLFxyXG4gICAgTnVtYmVyZWRMaXN0ID0gXCJudW1iZXJlZExpc3RcIixcclxuICAgIExpc3QgPSBcImxpc3RcIixcclxuICAgIFRhYmxlID0gXCJ0YWJsZVwiLFxyXG4gICAgSW1hZ2UgPSBcImltYWdlXCIsXHJcbiAgICBTY3JpcHQgPSBcInNjcmlwdFwiLFxyXG4gICAgSWZyYW1lID0gXCJpZnJhbWVcIlxyXG59IiwiZXhwb3J0IGVudW0gSWNvbnMge1xyXG4gICAgTGluayA9IFwiaWNvbi1tYXRlcmlhbC1saW5rXCIsXHJcbiAgICBCb2xkID0gXCJpY29uLXdvcmRwcmVzcy1ib2xkXCIsXHJcbiAgICBJdGFsaWMgPSBcImljb24tbWF0ZXJpYWwtaXRhbGljXCIsXHJcbiAgICBVbmRlcmxpbmUgPSBcImljb24tbWF0ZXJpYWwtdW5kZXJsaW5lXCIsXHJcbiAgICBJbmxpbmVDb2RlID0gXCJpY29uLW1hdGVyaWFsLWNvZGUtaW5saW5lXCIsXHJcbiAgICBTdHJpa2VUaHJvdWdoID0gXCJpY29uLXdvcmRwcmVzcy1zdHJpa2UtdGhyb3VnaFwiLFxyXG4gICAgUGx1cyA9IFwiaWNvbi1wbHVzXCIsXHJcbiAgICBDb2x1bW5SaWdodCA9IFwiaWNvbi1tYXRlcmlhbC1jb2x1bW4tcmlnaHRcIixcclxuICAgIENvbHVtbkxlZnQgPSBcImljb24tbWF0ZXJpYWwtY29sdW1uLWxlZnRcIixcclxuICAgIFJvd0Fib3ZlID0gXCJpY29uLW1hdGVyaWFsLXJvdy1hYm92ZVwiLFxyXG4gICAgUm93QmVsb3cgPSBcImljb24tbWF0ZXJpYWwtcm93LWJlbG93XCIsXHJcbiAgICBkZWxldGVTd2VlcCA9IFwiaWNvbi1tYXRlcmlhbC1kZWxldGUtc3dlZXBcIixcclxuICAgIFRyYXNoID0gXCJpY29uLW1hdGVyaWFsLXRyYXNoXCIsXHJcbiAgICBDbG9zZUNpcmNsZSA9IFwiaWNvbi1pb25pYy1jbG9zZS1jaXJjbGVcIixcclxuICAgIEVtcHR5ID0gXCJFbXB0eVwiLFxyXG4gICAgQ2FsbG91dCA9IFwiaWNvbi1tYXRlcmlhbC1jYWxsb3V0XCIsXHJcbiAgICBJbWFnZSA9IFwiaWNvbi1tYXRlcmlhbC1pbWFnZVwiLFxyXG4gICAgSW1hZ2UyID0gXCJpY29uLWJvb3RzdHJhcC1pbWFnZVwiLFxyXG4gICAgVmlkZW8gPSBcImljb24tbWF0ZXJpYWwtdmlkZW9cIixcclxuICAgIEp1c3RpZnlTdGFydCA9ICBcImljb24tbWF0ZXJpYWwtanVzdGlmeS1zdGFydFwiLFxyXG4gICAgSnVzdGlmeUNlbnRlciA9IFwiaWNvbi1tYXRlcmlhbC1qdXN0aWZ5LWNlbnRlclwiLFxyXG4gICAgSnVzdGlmeUVuZCA9IFwiaWNvbi1tYXRlcmlhbC1qdXN0aWZ5LWVuZFwiLFxyXG4gICAgRHVwbGljYXRlID0gXCJpY29uLW1hdGVyaWFsLWR1cGxpY2F0ZVwiLFxyXG4gICAgU3BvdGlmeSA9IFwiaWNvbi1ib290c3RyYXAtc3BvdGlmeVwiLFxyXG4gICAgR2l0SHViID0gXCJpY29uLWJvb3RzdHJhcC1naXRodWJcIixcclxuICAgIEdpdExhYiA9IFwiaWNvbi1ib290c3RyYXAtZ2l0bGFiXCIsXHJcbiAgICBDb2RlUGVuID0gXCJpY29uLWNvZGVwZW5cIixcclxuICAgIFlvdVR1YmUgPSBcImljb24tYm9vdHN0cmFwLXlvdXR1YmVcIlxyXG5cclxufSIsIi8qKlxyXG4gKiBFbnVtIGZvciBDU1MgY2xhc3MgbmFtZXMgdGhhdCBhY3RpdmF0ZSBzcGVjaWZpYyBmdW5jdGlvbmFsaXRpZXMgaW4gdGhlIEJsb2NrVG9vbGJveC5cclxuICogRWFjaCBvcHRpb24gY29ycmVzcG9uZHMgdG8gYSBjbGFzcyB0aGF0LCB3aGVuIGFwcGxpZWQsIGVuYWJsZXMgcGFydGljdWxhciBmZWF0dXJlcyBcclxuICogcmVsYXRlZCB0byBjb250ZW50IGVkaXRpbmcgYW5kIHN0eWxpbmcgd2l0aGluIGEgYmxvY2suXHJcbiAqXHJcbiAqIEBlbnVtIHtzdHJpbmd9XHJcbiAqL1xyXG5leHBvcnQgZW51bSBUb29sYm94T3B0aW9ucyB7XHJcbiAgICAvKipcclxuICAgICAqIENsYXNzIG5hbWUgdGhhdCBhY3RpdmF0ZXMgdGhlIGJsb2NrIHRvb2xiYXIgZm9yIGNvbnRlbnQgaW50ZXJhY3Rpb24uXHJcbiAgICAgKiBUaGlzIGNsYXNzIGluY2x1ZGVzIHRoZSB0b29sYmFyIGFuZCBlbmFibGVzIGJhc2ljIGludGVyYWN0aW9uIGNhcGFiaWxpdGllcy5cclxuICAgICAqL1xyXG4gICAgSW5jbHVkZUJsb2NrVG9vbGJhckNsYXNzID0gXCJpbmNsdWRlLWJsb2NrLXRvb2xiYXJcIiwgLy9ibG9jay10b29sYmFyLCBibG9jay10b29sYmFyLCBjb250ZW50LWludGVyYWN0aXZlXHJcbiAgICAvKipcclxuICAgICAqIENsYXNzIG5hbWUgdGhhdCBhY3RpdmF0ZXMgdGhlIGFsaWdubWVudCB0b29scyB3aXRoaW4gdGhlIHRvb2xib3guXHJcbiAgICAgKiBUaGlzIGNsYXNzIGVuYWJsZXMgZnVuY3Rpb25hbGl0aWVzIGZvciBhbGlnbmluZyB0aGUgY29udGVudCB3aXRoaW4gYSBibG9jay5cclxuICAgICAqL1xyXG4gICAgQWxpZ25Ub29sQ2xhc3MgPSBcImFsaWduLXRvb2xcIiwgLy9pbnRlcmFjdGl2ZS1hbGlnblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGFzcyBuYW1lIHRoYXQgZW5hYmxlcyBjb2xvciBlZGl0aW5nIHRvb2xzIHdpdGhpbiB0aGUgdG9vbGJveC5cclxuICAgICAqIFRoaXMgY2xhc3MgcHJvdmlkZXMgb3B0aW9ucyBmb3IgY2hhbmdpbmcgdGhlIGNvbG9yIG9mIHRleHQgYW5kIGJhY2tncm91bmQuXHJcbiAgICAgKi9cclxuICAgIENvbG9yVG9vbENsYXNzID0gXCJjb2xvci10b29sXCIsIC8vaW50ZXJhY3RpdmUtY29sb3JcclxuICAgIC8qKlxyXG4gICAgICogQ2xhc3MgbmFtZSB0aGF0IGFjdGl2YXRlcyBhZGRpdGlvbmFsIG9wdGlvbnMgd2l0aGluIHRoZSB0b29sYm94LlxyXG4gICAgICogVGhpcyBjbGFzcyBleHRlbmRzIHRoZSB0b29sYm94IHdpdGggbW9yZSBhZHZhbmNlZCBzZXR0aW5ncyBhbmQgZnVuY3Rpb25hbGl0aWVzLCBsaWtlIERlbGV0ZSBhbmQgRHVwbGljYXRlXHJcbiAgICAgKi9cclxuICAgIEV4dHJhT3B0aW9uc0NsYXNzID0gXCJleHRyYS1vcHRpb25zXCIsIC8vaW50ZXJhY3RpdmUtbW9yZVxyXG4gICAgTGFuZ3VhZ2VTZWxlY3Rpb25Ub29sQ2xhc3MgPSBcImxhbmd1YWdlLXNlbGVjdGlvbi10b29sXCIgLy9pbnRlcmFjdGl2ZS1tb3JlXHJcbn0iLCJleHBvcnQgZW51bSBDb21tb25DbGFzc2VzIHtcclxuICAgIC8qKiBcclxuICAgICAqIENsYXNzIG5hbWUgZm9yIHRoZSBtYWluIGNvbnRlbnQgZWxlbWVudHMgd2l0aGluIGJsb2Nrcy4gVGhpcyBjbGFzcyBpcyB1c2VkIHRvIGluZGljYXRlXHJcbiAgICAgKiB3aGljaCBlbGVtZW50cyBjb250YWluIHRoZSBhY3R1YWwgY29udGVudCB0aGF0IHNob3VsZCBiZSBjb25zaWRlcmVkIGZvciBvcGVyYXRpb25zIGxpa2VcclxuICAgICAqIHN0eWxpbmcgb3IgaW50ZXJhY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIENvbnRlbnRFbGVtZW50ID0gXCJqb2hhbm5lcy1jb250ZW50LWVsZW1lbnRcIixcclxuICAgICAvKipcclxuICAgICogQ2xhc3MgbmFtZSBmb3IgZWxlbWVudHMgdGhhdCBzaG91bGQgYmUgaWdub3JlZCBkdXJpbmcgc2F2ZSBvciBleHBvcnQgb3BlcmF0aW9ucy5cclxuICAgICogQXBwbGllZCBzcGVjaWZpY2FsbHkgdG8gZWRpdGluZyBVSSBjb21wb25lbnRzIHdpdGhpbiB0aGUgYC5jb250ZW50YCBlbGVtZW50IHRvIGVuc3VyZVxyXG4gICAgKiB0aGV5IGFyZSBub3QgcHJlc2VydmVkIGluIHRoZSBzYXZlZCBvciBleHBvcnRlZCBvdXRwdXQuIEVsZW1lbnRzIG91dHNpZGUgdGhlIGAuY29udGVudGBcclxuICAgICogc2hvdWxkIG5vdCByZWNlaXZlIHRoaXMgY2xhc3MgYXMgaXQgd291bGQgbGVhZCB0byB0aGUgbG9zcyBvZiBldmVudCBsaXN0ZW5lcnMgdXBvbiBhY3Rpb25zXHJcbiAgICAqIGxpa2UgdW5kbyBvciByZWRvLCB3aGljaCByZWx5IG9uIHRoZXNlIGVsZW1lbnRzIGJlaW5nIGNvbnNpc3RlbnRseSBhdmFpbGFibGUuXHJcbiAgICAqIEVsZW1lbnRzIG1hcmtlZCB3aXRoIGBFZGl0b3JPbmx5YCBpbnNpZGUgdGhlIGNvbnRlbnQgZG8gbm90IHJldGFpbiBwZXJzaXN0ZW50IGxpc3RlbmVycztcclxuICAgICogdGhleSBleGlzdCBvbmx5IHRyYW5zaWVudGx5IGR1cmluZyB0aGUgZWRpdCBzZXNzaW9uLCBzdWNoIGFzIHRoZSBgQmxvY2tUb29sYm94YCwgd2hpY2hcclxuICAgICogaXMgcmVjcmVhdGVkIHJhdGhlciB0aGFuIHNhdmVkLlxyXG4gICAgKi9cclxuICAgIEVkaXRvck9ubHkgPSBcImVkaXRvci1vbmx5XCIsXHJcbiAgICAvKipcclxuICAgICAqIENsYXNzIG5hbWUgdXNlZCB0byBkZWZpbmUgYSBjb250ZW50IGJsb2NrLiBCbG9ja3MgYXJlIGZ1bmRhbWVudGFsIHN0cnVjdHVyYWwgZWxlbWVudHNcclxuICAgICAqIGluIHRoZSBsYXlvdXQgdGhhdCBtYXkgY29udGFpbiB0ZXh0LCBpbWFnZXMsIG9yIG90aGVyIHR5cGVzIG9mIGNvbnRlbnQuIFRoaXMgY2xhc3NcclxuICAgICAqIGhlbHBzIGluIGFwcGx5aW5nIGNvbnNpc3RlbnQgc3R5bGluZyBhbmQgYmVoYXZpb3IgdG8gY29udGVudCBibG9ja3MuXHJcbiAgICAgKi9cclxuICAgIEJsb2NrID0gXCJibG9ja1wiLFxyXG4gICAgLyoqXHJcbiAgICAqIENsYXNzIG5hbWUgdXNlZCB0byB0cmlnZ2VyIHRoZSBkaXNwbGF5IG9mIHRoZSBNZWRpYUlucHV0dGVyIGNvbXBvbmVudCB1cG9uIGEgY2xpY2sgZXZlbnQuXHJcbiAgICAqIFdoZW4gYW4gZWxlbWVudCB3aXRoIHRoaXMgY2xhc3MgaXMgY2xpY2tlZCwgdGhlIE1lZGlhSW5wdXR0ZXIgbGlzdGVucyBmb3IgdGhlIGV2ZW50XHJcbiAgICAqIGFuZCBhY3RpdmF0ZXMsIHByb3ZpZGluZyBhIHVzZXIgaW50ZXJmYWNlIGZvciBlbnRlcmluZyBhIFVSTCBmb3IgYW4gZW1iZWQgb3IgdXBsb2FkaW5nIGEgZmlsZS5cclxuICAgICpcclxuICAgICogVGhpcyBjbGFzcyBmYWNpbGl0YXRlcyB1c2VyIGludGVyYWN0aW9uIGZvciBlbWJlZGRpbmcgbWVkaWEgY29udGVudCBkaXJlY3RseSBpbnRvIHRoZSBkb2N1bWVudCxcclxuICAgICogc3RyZWFtbGluaW5nIHRoZSBwcm9jZXNzIG9mIGFkZGluZyBtdWx0aW1lZGlhIGVsZW1lbnRzIGxpa2UgaW1hZ2VzLCB2aWRlb3MsIG9yIG90aGVyIGVtYmVkZGVkIGNvbnRlbnQuXHJcbiAgICAqL1xyXG4gICAgU2hvd01lZGlhSW5wdXRPbkNsaWNrID0gXCJzaG93LW1lZGlhLWlucHV0LW9uLWNsaWNrXCIsXHJcbiAgICBTaG93TWVkaWFJbnB1dFVwbG9hZCA9ICBcInNob3ctbWVkaWEtaW5wdXQtdXBsb2FkXCIsXHJcbiAgICBTaG93TWVkaWFJbnB1dEVtYmVkID0gIFwic2hvdy1tZWRpYS1pbnB1dC1lbWJlZFwiLFxyXG59IiwiZXhwb3J0IGVudW0gQ3VzdG9tVUlFdmVudHMge1xyXG4gICAgXHJcbiAgICBDb2xvckNoYW5nZVJlcXVlc3QgPSBcIkNvbG9yQ2hhbmdlUmVxdWVzdFwiLFxyXG4gICAgU2hvd0hpZGVBY3RpdmVCdXR0b24gPSBcIlNob3dIaWRlQWN0aXZlQnV0dG9uXCIsXHJcbiAgICBSZXNldEFjdGl2ZUJ1dHRvbnMgPSBcIlJlc2V0QWN0aXZlQnV0dG9uc1wiLFxyXG4gICAgQ2xvc2VFbGVtZW50ID0gXCJIaWRlQ29tcG9uZW50XCIsXHJcbiAgICBTaG93RWxlbWVudCA9IFwiU2hvd0VsZW1lbnRcIixcclxuICAgIENoYW5nZUJsb2NrVG9vbGJhckxhbmd1YWdlID0gXCJDaGFuZ2VCbG9ja1Rvb2xiYXJMYW5ndWFnZVwiXHJcbiAgICBcclxufSIsIi8qKlxyXG4gKiBFbnVtIHJlcHJlc2VudGluZyB0aGUgZGVmYXVsdCBKYXZhU2NyaXB0IGV2ZW50cyBmb3IgbW91c2UsIGtleWJvYXJkLCBhbmQgZm9jdXMgYWN0aW9ucy5cclxuICogVGhpcyBlbnVtZXJhdGlvbiBwcm92aWRlcyBzdGFuZGFyZGl6ZWQgc3RyaW5ncyBmb3IgYXR0YWNoaW5nIGV2ZW50IGxpc3RlbmVycyB0byBET00gZWxlbWVudHMuXHJcbiAqIFVzZSB0aGVzZSBlbnVtIHZhbHVlcyB0byBlbnN1cmUgY29uc2lzdGVuY3kgYW5kIGF2b2lkIHR5cG9zIGluIGV2ZW50IG5hbWVzIHRocm91Z2hvdXQgeW91ciBhcHBsaWNhdGlvbi5cclxuICovXHJcbmV4cG9ydCBlbnVtIERlZmF1bHRKU0V2ZW50cyB7XHJcbiAgICBMb2FkID0gIFwibG9hZFwiLFxyXG4gICAgTW91c2VlbnRlciA9IFwibW91c2VlbnRlclwiLFxyXG4gICAgTW91c2VsZWF2ZSA9IFwibW91c2VsZWF2ZVwiLFxyXG4gICAgLyoqIEV2ZW50IGZpcmVkIHdoZW4gdGhlIG1vdXNlIGJ1dHRvbiBpcyBwcmVzc2VkIGRvd24uICovXHJcbiAgICBNb3VzZWRvd24gPSBcIm1vdXNlZG93blwiLFxyXG4gICAgLyoqIEV2ZW50IGZpcmVkIHdoZW4gdGhlIG1vdXNlIGlzIG1vdmVkIG92ZXIgYW4gZWxlbWVudC4gKi9cclxuICAgIE1vdXNlbW92ZSA9IFwibW91c2Vtb3ZlXCIsXHJcbiAgICAvKiogRXZlbnQgZmlyZWQgd2hlbiB0aGUgbW91c2UgYnV0dG9uIGlzIHJlbGVhc2VkLiAqL1xyXG4gICAgTW91c2V1cCA9IFwibW91c2V1cFwiLFxyXG4gICAgTW91c2VvdmVyID0gXCJtb3VzZW92ZXJcIixcclxuICAgIC8qKiBFdmVudCBmaXJlZCB3aGVuIGEga2V5IGlzIHJlbGVhc2VkIG9uIHRoZSBrZXlib2FyZC4gKi9cclxuICAgIEtleXVwID0gXCJrZXl1cFwiLFxyXG4gICAgLyoqIEV2ZW50IGZpcmVkIHdoZW4gYSBrZXkgaXMgcHJlc3NlZCBkb3duIG9uIHRoZSBrZXlib2FyZC4gKi9cclxuICAgIEtleWRvd24gPSBcImtleWRvd25cIixcclxuICAgIC8qKiBFdmVudCBmaXJlZCB3aGVuIGFuIGVsZW1lbnQgbG9zZXMgZm9jdXMuICovXHJcbiAgICBCbHVyID0gXCJibHVyXCIsXHJcbiAgICBTZWxlY3RTdGFydCA9IFwic2VsZWN0c3RhcnRcIixcclxuICAgIFNlbGVjdGlvbkNoYW5nZSA9IFwic2VsZWN0aW9uY2hhbmdlXCIsXHJcbiAgICBDbGljayA9IFwiY2xpY2tcIixcclxuICAgIEZvY3VzaW4gPSBcImZvY3VzaW5cIixcclxuICAgIEZvY3Vzb3V0ID0gXCJmb2N1c291dFwiLFxyXG4gICAgRE9NQ29udGVudExvYWRlZCA9IFwiRE9NQ29udGVudExvYWRlZFwiLFxyXG4gICAgSW5wdXQgPSBcImlucHV0XCIsXHJcbiAgICBCYmxDbGljayA9IFwiZGJsY2xpY2tcIlxyXG59IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL21haW4uY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5vcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbi5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJleHBvcnQgY2xhc3MgVXRpbHMge1xuICAgIHN0YXRpYyBnZW5lcmF0ZVVuaXF1ZUlkKCkge1xuICAgICAgICBjb25zdCB0aW1lUGFydCA9IERhdGUubm93KCkudG9TdHJpbmcoMzYpO1xuICAgICAgICBjb25zdCByYW5kb21BcnJheSA9IG5ldyBVaW50MzJBcnJheSgxKTtcbiAgICAgICAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMocmFuZG9tQXJyYXkpO1xuICAgICAgICBjb25zdCByYW5kb21QYXJ0ID0gcmFuZG9tQXJyYXlbMF0udG9TdHJpbmcoMzYpO1xuICAgICAgICByZXR1cm4gdGltZVBhcnQgKyByYW5kb21QYXJ0O1xuICAgIH1cblxuICAgIHN0YXRpYyByZ2JUb0hleChyZ2I6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHJnYkFycmF5ID0gcmdiLm1hdGNoKC9cXGQrL2cpIS5tYXAoTnVtYmVyKTtcbiAgICAgICAgcmV0dXJuIFwiI1wiICsgcmdiQXJyYXkubWFwKHggPT4ge1xuICAgICAgICAgICAgY29uc3QgaGV4ID0geC50b1N0cmluZygxNik7XG4gICAgICAgICAgICByZXR1cm4gaGV4Lmxlbmd0aCA9PT0gMSA/IFwiMFwiICsgaGV4IDogaGV4O1xuICAgICAgICB9KS5qb2luKFwiXCIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc1ZhbGlkVXJsKHVybDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgJ14oaHR0cHM/OlxcXFwvXFxcXC8pJyArXG4gICAgICAgICAgICAnKD8hLSlbYS16QS1aXFxcXGQtXXsxLDYzfSg/PCEtKVxcXFwuJyArXG4gICAgICAgICAgICAnKFthLXpBLVpcXFxcZC1dK1xcXFwuKSpbYS16QS1aXXsyLH0nICtcbiAgICAgICAgICAgICcoXFxcXDpcXFxcZHsxLDV9KT8nICtcbiAgICAgICAgICAgICcoXFxcXC9bLWEtekEtWlxcXFxkJV8ufitdKikqJyArXG4gICAgICAgICAgICAnKFxcXFw/Wy1hLXpBLVpcXFxcZCVfLn4rPSZdKik/JyArXG4gICAgICAgICAgICAnKCNbLWEtekEtWlxcXFxkX10qKT8kJyxcbiAgICAgICAgICAgICdpJ1xuICAgICAgICApO1xuICAgIFxuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcuLi8nKSB8fCB1cmwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnJTJlJTJlJykgfHwgdXJsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJyUwMCcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh1cmwpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBDb250ZW50VHlwZXMgfSBmcm9tIFwiQC9jb21tb24vQ29udGVudFR5cGVzXCI7XG5pbXBvcnQgeyBJRWxlbWVudEZhY3RvcnlTZXJ2aWNlIH0gZnJvbSBcIi4vSUVsZW1lbnRGYWN0b3J5U2VydmljZVwiO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQC91dGlsaXRpZXMvVXRpbHNcIjtcbmltcG9ydCB7IEljb25zIH0gZnJvbSBcIkAvY29tbW9uL0ljb25zXCI7XG5pbXBvcnQgeyBUb29sYm94T3B0aW9ucyB9IGZyb20gXCJAL2NvbXBvbmVudHMvYmxvY2stdG9vbGJveC9Ub29sYm94T3B0aW9uc1wiO1xuaW1wb3J0IHsgQ29tbW9uQ2xhc3NlcyB9IGZyb20gXCJAL2NvbW1vbi9Db21tb25DbGFzc2VzXCI7XG5cbmludGVyZmFjZSBFbGVtZW50Q3JlYXRvciB7XG4gICAgKGNvbnRlbnQ6IHN0cmluZyB8IG51bGwpOiBIVE1MRWxlbWVudDtcbn1cblxuZXhwb3J0IGNsYXNzIEVsZW1lbnRGYWN0b3J5U2VydmljZSBpbXBsZW1lbnRzIElFbGVtZW50RmFjdG9yeVNlcnZpY2Uge1xuXG4gICAgcHJpdmF0ZSBjcmVhdG9yczogeyBbdHlwZTogc3RyaW5nXTogRWxlbWVudENyZWF0b3IgfTtcblxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogRWxlbWVudEZhY3RvcnlTZXJ2aWNlO1xuXG4gICAgc3RhdGljIEVMRU1FTlRfVFlQRVMgPSB7XG4gICAgICAgIEJMT0NLX1BBUkFHUkFQSDogXCJibG9jay1wXCIsXG4gICAgICAgIFBBUkFHUkFQSDogXCJwXCIsXG4gICAgICAgIENIRUNLQk9YX0lURU06IFwiY2hlY2tib3hJdGVtXCIsXG4gICAgICAgIExJU1RfSVRFTTogXCJsaXN0SXRlbVwiLFxuICAgICAgICBDT0RFOiBcImNvZGVcIixcbiAgICAgICAgUVVPVEU6IFwiYmxvY2txdW90ZVwiLFxuICAgICAgICBCVUxMRVRFRF9MSVNUOiBcInVsXCIsXG4gICAgICAgIE5VTUJFUkVEX0xJU1Q6IFwib2xcIixcbiAgICAgICAgQ0hFQ0tfTElTVDogXCJjaGVja0xpc3RzXCIsXG4gICAgICAgIEhFQURFUl8xOiBcImgxXCIsXG4gICAgICAgIEhFQURFUl8yOiBcImgyXCIsXG4gICAgICAgIEhFQURFUl8zOiBcImgzXCIsXG4gICAgICAgIEhFQURFUl80OiBcImg0XCIsXG4gICAgICAgIEhFQURFUl81OiBcImg1XCIsXG4gICAgICAgIEhFQURFUl82OiBcImg2XCIsXG4gICAgICAgIERSQUdfSEFORExFX0JVVFRPTjogXCJkcmFnLWhhbmRsZS1idXR0b25cIixcbiAgICAgICAgVEFCTEU6IFwidGFibGVcIixcbiAgICAgICAgSU1BR0U6IFwiaW1hZ2VcIixcbiAgICAgICAgVklERU86IFwidmlkZW9cIixcbiAgICAgICAgU1BPVElGWTogXCJzcG90aWZ5XCIsXG4gICAgICAgIEdJVEhVQl9HSVNUOiBcImdpdGh1Yi1naXN0XCIsXG4gICAgICAgIEdJVExBQl9TTklQUEVUOiBcImdpdGxhYi1zbmlwcGV0XCIsXG4gICAgICAgIENPREVQRU46IFwiY29kZXBlblwiLFxuICAgICAgICBDQUxMT1VUOiBcImNhbGxvdXRcIixcbiAgICAgICAgU0VQQVJBVE9SOiBcInNlcGFyYXRvclwiXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcblxuICAgICAgICBpZiAoRWxlbWVudEZhY3RvcnlTZXJ2aWNlLl9pbnN0YW5jZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVXNlIEVsZW1lbnRGYWN0b3J5U2VydmljZS5nZXRJbnN0YW5jZSgpIHRvIGdldCBpbnN0YW5jZS5cIik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNyZWF0b3JzID0ge307XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlcihFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5CTE9DS19QQVJBR1JBUEgsIEVsZW1lbnRGYWN0b3J5U2VydmljZS5ibG9ja1BhcmFncmFwaENyZWF0b3IoKSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXIoRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuUEFSQUdSQVBILCBFbGVtZW50RmFjdG9yeVNlcnZpY2UucGFyYWdyYXBoQ3JlYXRvcigpKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcihFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5DSEVDS0JPWF9JVEVNLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuY2hlY2tib3hJdGVtQ3JlYXRvcigpKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcihFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5MSVNUX0lURU0sIEVsZW1lbnRGYWN0b3J5U2VydmljZS5saXN0SXRlbUNyZWF0b3IoKSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXIoRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuQ09ERSwgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLmNvZGVDcmVhdG9yKCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLlFVT1RFLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UucXVvdGVDcmVhdG9yKCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkNIRUNLX0xJU1QsIEVsZW1lbnRGYWN0b3J5U2VydmljZS5jaGVja0xpc3RDcmVhdG9yKCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkJVTExFVEVEX0xJU1QsIEVsZW1lbnRGYWN0b3J5U2VydmljZS5idWxsZXRlZExpc3RDcmVhdG9yKCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLk5VTUJFUkVEX0xJU1QsIEVsZW1lbnRGYWN0b3J5U2VydmljZS5udW1iZXJlZExpc3RDcmVhdG9yKCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkhFQURFUl8xLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuaGVhZGluZ0NyZWF0b3IoMSkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkhFQURFUl8yLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuaGVhZGluZ0NyZWF0b3IoMikpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkhFQURFUl8zLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuaGVhZGluZ0NyZWF0b3IoMykpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkhFQURFUl80LCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuaGVhZGluZ0NyZWF0b3IoNCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkhFQURFUl81LCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuaGVhZGluZ0NyZWF0b3IoNSkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkhFQURFUl82LCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuaGVhZGluZ0NyZWF0b3IoNikpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkRSQUdfSEFORExFX0JVVFRPTiwgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLmRyYWdIYW5kbGVCdXR0b25DcmVhdG9yKCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLlRBQkxFLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UudGFibGVDcmVhdG9yKCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLklNQUdFLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UucGxhY2Vob2xkZXJDcmVhdG9yKENvbnRlbnRUeXBlcy5JbWFnZSwgSWNvbnMuSW1hZ2UyLCBcIlVwbG9hZCBvciBlbWJlZCBhbiBpbWFnZVwiLCBbQ29tbW9uQ2xhc3Nlcy5TaG93TWVkaWFJbnB1dFVwbG9hZCwgQ29tbW9uQ2xhc3Nlcy5TaG93TWVkaWFJbnB1dEVtYmVkLCBcImltYWdlLWVtYmVkLXBsYWNlaG9sZGVyLXRleHRcIl0pKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcihFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5WSURFTywgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLnBsYWNlaG9sZGVyQ3JlYXRvcihDb250ZW50VHlwZXMuSWZyYW1lLCBJY29ucy5Zb3VUdWJlLCBcIkVtYmVkIGEgWW91VHViZSB2aWRlb1wiLCBbQ29tbW9uQ2xhc3Nlcy5TaG93TWVkaWFJbnB1dEVtYmVkLCBcInlvdXR1YmUtZW1iZWQtcGxhY2Vob2xkZXItdGV4dFwiXSkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLlNQT1RJRlksIEVsZW1lbnRGYWN0b3J5U2VydmljZS5wbGFjZWhvbGRlckNyZWF0b3IoQ29udGVudFR5cGVzLklmcmFtZSwgSWNvbnMuU3BvdGlmeSwgXCJFbWJlZCBhIFNwb3RpZnkgYXVkaW8gdHJhY2tcIiwgW0NvbW1vbkNsYXNzZXMuU2hvd01lZGlhSW5wdXRFbWJlZCwgXCJzcG90aWZ5LWVtYmVkLXBsYWNlaG9sZGVyLXRleHRcIl0pKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcihFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5HSVRIVUJfR0lTVCwgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLnBsYWNlaG9sZGVyQ3JlYXRvcihDb250ZW50VHlwZXMuSWZyYW1lLCBJY29ucy5HaXRIdWIsIFwiRW1iZWQgYSBHaXRIdWIgR2lzdFwiLCBbQ29tbW9uQ2xhc3Nlcy5TaG93TWVkaWFJbnB1dEVtYmVkLCBcImdpdGh1Yi1naXN0LWVtYmVkLXBsYWNlaG9sZGVyLXRleHRcIl0pKTtcbiAgICAgICAgLy90aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkdJVExBQl9TTklQUEVULCBFbGVtZW50RmFjdG9yeVNlcnZpY2UucGxhY2Vob2xkZXJDcmVhdG9yKENvbnRlbnRUeXBlcy5TY3JpcHQsIEljb25zLkdpdExhYiwgXCJFbWJlZCBhIHNuaXBwZXRcIiwgW0NvbW1vbkNsYXNzZXMuU2hvd01lZGlhSW5wdXRFbWJlZF0pKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcihFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5DT0RFUEVOLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UucGxhY2Vob2xkZXJDcmVhdG9yKENvbnRlbnRUeXBlcy5JZnJhbWUsIEljb25zLkNvZGVQZW4sIFwiRW1iZWQgYSBDb2RlUGVuIHdlYiBkZW1vXCIsIFtDb21tb25DbGFzc2VzLlNob3dNZWRpYUlucHV0RW1iZWQsIFwiY29kZXBlbi1lbWJlZC1wbGFjZWhvbGRlci10ZXh0XCJdKSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXIoRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuQ0FMTE9VVCwgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLmNhbGxvdXRDcmVhdG9yKCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLlNFUEFSQVRPUiwgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLnNlcGFyYXRvckNyZWF0b3IoKSk7XG5cblxuICAgICAgICBFbGVtZW50RmFjdG9yeVNlcnZpY2UuX2luc3RhbmNlID0gdGhpcztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogRWxlbWVudEZhY3RvcnlTZXJ2aWNlIHtcblxuICAgICAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBFbGVtZW50RmFjdG9yeVNlcnZpY2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlZ2lzdGVyKHR5cGU6IHN0cmluZywgY3JlYXRvcjogRWxlbWVudENyZWF0b3IpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jcmVhdG9yc1t0eXBlXSA9IGNyZWF0b3I7XG4gICAgfVxuXG4gICAgY3JlYXRlKHR5cGU6IHN0cmluZywgY29udGVudD86IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgY3JlYXRvciA9IHRoaXMuY3JlYXRvcnNbdHlwZV07XG5cbiAgICAgICAgaWYgKCFjcmVhdG9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBjcmVhdG9yIHJlZ2lzdGVyZWQgZm9yIHR5cGU6ICR7dHlwZX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjcmVhdG9yKGNvbnRlbnQgfHwgXCJcIik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgYmxvY2tQYXJhZ3JhcGhDcmVhdG9yKCk6IEVsZW1lbnRDcmVhdG9yIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEVsZW1lbnRGYWN0b3J5U2VydmljZS5ibG9ja1BhcmFncmFwaChjb250ZW50KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBwYXJhZ3JhcGhDcmVhdG9yKCk6IEVsZW1lbnRDcmVhdG9yIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEVsZW1lbnRGYWN0b3J5U2VydmljZS5wYXJhZ3JhcGgoY29udGVudCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgaGVhZGluZ0NyZWF0b3IobGV2ZWw6IG51bWJlcik6IEVsZW1lbnRDcmVhdG9yIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEVsZW1lbnRGYWN0b3J5U2VydmljZS5oZWFkaW5nKGxldmVsLCBjb250ZW50KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBjaGVja2JveEl0ZW1DcmVhdG9yKCk6IEVsZW1lbnRDcmVhdG9yIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEVsZW1lbnRGYWN0b3J5U2VydmljZS5jaGVja2JveEl0ZW0oY29udGVudCB8fCBcIlwiKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBsaXN0SXRlbUNyZWF0b3IoKTogRWxlbWVudENyZWF0b3Ige1xuXG4gICAgICAgIHJldHVybiBjb250ZW50ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBFbGVtZW50RmFjdG9yeVNlcnZpY2UubGlzdEl0ZW1fMihjb250ZW50KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBkcmFnSGFuZGxlQnV0dG9uQ3JlYXRvcigpOiBFbGVtZW50Q3JlYXRvciB7XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBFbGVtZW50RmFjdG9yeVNlcnZpY2UuZHJhZ0hhbmRsZUJ1dHRvbigpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGNvZGVDcmVhdG9yKCk6IEVsZW1lbnRDcmVhdG9yIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZChcImpvaGFubmVzLWNvbnRlbnQtZWxlbWVudFwiLCBcImlnbm9yZS1ldmVudHNcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvZGVCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBjb2RlQmxvY2suY2xhc3NMaXN0LmFkZChcImNvZGUtYmxvY2tcIiwgXCJpZ25vcmUtcXVpY2stbWVudVwiLCBcImlnbm9yZS10ZXh0LWZsb2F0aW5nLXRvb2xiYXJcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IHByZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ByZScpO1xuICAgICAgICAgICAgcHJlLmNsYXNzTGlzdC5hZGQoVG9vbGJveE9wdGlvbnMuSW5jbHVkZUJsb2NrVG9vbGJhckNsYXNzLCBUb29sYm94T3B0aW9ucy5MYW5ndWFnZVNlbGVjdGlvblRvb2xDbGFzcywgVG9vbGJveE9wdGlvbnMuRXh0cmFPcHRpb25zQ2xhc3MpO1xuXG4gICAgICAgICAgICBjb25zdCBjb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY29kZScpO1xuICAgICAgICAgICAgY29kZS5jb250ZW50RWRpdGFibGUgPSBcInRydWVcIjtcbiAgICAgICAgICAgIGNvZGUuc2V0QXR0cmlidXRlKFwiZGF0YS1wbGFjZWhvbGRlclwiLCBcIi8qIENvZGUgc25pcHBldCAqL1wiKTtcbiAgICAgICAgICAgIGNvZGUudGV4dENvbnRlbnQgPSBjb250ZW50IHx8IFwiXCI7XG4gICAgICAgICAgICBjb2RlLmNsYXNzTGlzdC5hZGQoJ2pvaGFubmVzLWNvZGUnLCBcImZvY3VzYWJsZVwiLCBcImhsanNcIiwgXCJsYW5ndWFnZS1wbGFpbnRleHRcIiwgXCJlZGl0YWJsZVwiKTtcbiAgICAgICAgICAgIGNvZGUuc2V0QXR0cmlidXRlKFwic3BlbGxDaGVja1wiLCBcImZhbHNlXCIpO1xuXG4gICAgICAgICAgICBwcmUuYXBwZW5kQ2hpbGQoY29kZSk7XG5cbiAgICAgICAgICAgIGNvZGUuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvZGUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1oaWdobGlnaHRlZFwiKTtcbiAgICAgICAgICAgICAgICBobGpzLmhpZ2hsaWdodEVsZW1lbnQoY29kZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gY29kZUJsb2NrLmFwcGVuZENoaWxkKGxhbmd1YWdlU2VsZWN0b3IpO1xuICAgICAgICAgICAgY29kZUJsb2NrLmFwcGVuZENoaWxkKHByZSk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29kZUJsb2NrKTtcblxuICAgICAgICAgICAgaGxqcy5oaWdobGlnaHRFbGVtZW50KGNvZGUpO1xuXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIHF1b3RlQ3JlYXRvcigpOiBFbGVtZW50Q3JlYXRvciB7XG4gICAgICAgIHJldHVybiBjb250ZW50ID0+IHtcblxuICAgICAgICAgICAgY29uc3QgY29udGVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgY29udGVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImpvaGFubmVzLWNvbnRlbnQtZWxlbWVudFwiLCBcInN3aXR0YWJsZVwiKTtcblxuICAgICAgICAgICAgY29uc3QgYmxvY2txdW90ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJibG9ja3F1b3RlXCIpO1xuICAgICAgICAgICAgYmxvY2txdW90ZS5jbGFzc0xpc3QuYWRkKFwiZm9jdXNhYmxlXCIsIFwiZWRpdGFibGVcIik7XG4gICAgICAgICAgICBibG9ja3F1b3RlLnRleHRDb250ZW50ID0gY29udGVudCB8fCBcIlwiO1xuICAgICAgICAgICAgYmxvY2txdW90ZS5jb250ZW50RWRpdGFibGUgPSBcInRydWVcIjtcbiAgICAgICAgICAgIGJsb2NrcXVvdGUuc2V0QXR0cmlidXRlKFwiZGF0YS1wbGFjZWhvbGRlclwiLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuZ2V0UmFuZG9tUXVvdGUoKSk7XG5cbiAgICAgICAgICAgIGNvbnRlbnRFbGVtZW50LmFwcGVuZENoaWxkKGJsb2NrcXVvdGUpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gY29udGVudEVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFJhbmRvbVF1b3RlKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHF1b3RhdGlvbnMgPSBbXG4gICAgICAgICAgICBcIlRhbGsgaXMgY2hlYXAuIFNob3cgbWUgdGhlIGNvZGUuIC0gTGludXMgVG9ydmFsZHNcIixcbiAgICAgICAgICAgIFwiUHJlbWF0dXJlIG9wdGltaXphdGlvbiBpcyB0aGUgcm9vdCBvZiBhbGwgZXZpbC4gLSBEb25hbGQgS251dGhcIixcbiAgICAgICAgICAgIFwiVGhlIG1vc3QgZGFuZ2Vyb3VzIHBocmFzZSBpbiB0aGUgbGFuZ3VhZ2UgaXMsICdXZSd2ZSBhbHdheXMgZG9uZSBpdCB0aGlzIHdheS4nIC0gR3JhY2UgSG9wcGVyXCIsXG4gICAgICAgICAgICBcIlNpbXBsaWNpdHkgaXMgcHJlcmVxdWlzaXRlIGZvciByZWxpYWJpbGl0eS4gLSBFZHNnZXIgVy4gRGlqa3N0cmFcIixcbiAgICAgICAgICAgIFwiQW55IGZvb2wgY2FuIHdyaXRlIGNvZGUgdGhhdCBhIGNvbXB1dGVyIGNhbiB1bmRlcnN0YW5kLiBHb29kIHByb2dyYW1tZXJzIHdyaXRlIGNvZGUgdGhhdCBodW1hbnMgY2FuIHVuZGVyc3RhbmQuIC0gTWFydGluIEZvd2xlclwiLFxuICAgICAgICAgICAgXCJGaXJzdCwgc29sdmUgdGhlIHByb2JsZW0uIFRoZW4sIHdyaXRlIHRoZSBjb2RlLiAtIEpvaG4gSm9obnNvblwiLFxuICAgICAgICAgICAgXCJJbiBwcm9ncmFtbWluZywgdGhlIGhhcmQgcGFydCBpc24ndCBzb2x2aW5nIHByb2JsZW1zLCBidXQgZGVjaWRpbmcgd2hhdCBwcm9ibGVtcyB0byBzb2x2ZS4gLSBQYXVsIEdyYWhhbVwiLFxuICAgICAgICAgICAgXCJDb2RlIGlzIGxpa2UgaHVtb3IuIFdoZW4geW91IGhhdmUgdG8gZXhwbGFpbiBpdCwgaXQncyBiYWQuIC0gQ29yeSBIb3VzZVwiLFxuICAgICAgICAgICAgXCJNYWtlIGl0IHdvcmssIG1ha2UgaXQgcmlnaHQsIG1ha2UgaXQgZmFzdC4gLSBLZW50IEJlY2tcIixcbiAgICAgICAgICAgIFwiQmVmb3JlIHNvZnR3YXJlIGNhbiBiZSByZXVzYWJsZSBpdCBmaXJzdCBoYXMgdG8gYmUgdXNhYmxlLiAtIFJhbHBoIEpvaG5zb25cIlxuICAgICAgICBdO1xuICAgIFxuICAgICAgICBjb25zdCBpbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHF1b3RhdGlvbnMubGVuZ3RoKTsgICAgXG4gICAgICAgIHJldHVybiBxdW90YXRpb25zW2luZGV4XTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBjaGVja0xpc3RDcmVhdG9yKCk6IEVsZW1lbnRDcmVhdG9yIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgICAgICAgdWwuY2xhc3NMaXN0LmFkZChcImpvaGFubmVzLWNvbnRlbnQtZWxlbWVudFwiLCBcInN3aXR0YWJsZVwiLCBcImxpc3RcIiwgXCJjaGVja2JveC1saXN0XCIpO1xuICAgICAgICAgICAgdWwuc2V0QXR0cmlidXRlKFwiZGF0YS1jb250ZW50LXR5cGVcIiwgQ29udGVudFR5cGVzLkNoZWNrTGlzdCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxJdGVtID0gRWxlbWVudEZhY3RvcnlTZXJ2aWNlLmNoZWNrYm94SXRlbShjb250ZW50IHx8IFwiXCIpO1xuXG4gICAgICAgICAgICB1bC5hcHBlbmRDaGlsZChpbml0aWFsSXRlbSk7XG5cbiAgICAgICAgICAgIHJldHVybiB1bDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBidWxsZXRlZExpc3RDcmVhdG9yKCk6IEVsZW1lbnRDcmVhdG9yIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtY29udGVudC10eXBlXCIsIENvbnRlbnRUeXBlcy5CdWxsZXRlZExpc3QpO1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdqb2hhbm5lcy1jb250ZW50LWVsZW1lbnQnKTtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc3dpdHRhYmxlJyk7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2xpc3QnKTtcblxuICAgICAgICAgICAgY29uc3QgaW5pdGlhbEl0ZW0gPSBFbGVtZW50RmFjdG9yeVNlcnZpY2UubGlzdEl0ZW1fMihjb250ZW50IHx8IFwiXCIpO1xuXG4gICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGluaXRpYWxJdGVtKTtcblxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgbnVtYmVyZWRMaXN0Q3JlYXRvcigpOiBFbGVtZW50Q3JlYXRvciB7XG4gICAgICAgIHJldHVybiBjb250ZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvbCcpO1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbnRlbnQtdHlwZVwiLCBDb250ZW50VHlwZXMuTnVtYmVyZWRMaXN0KTtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnam9oYW5uZXMtY29udGVudC1lbGVtZW50Jyk7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3N3aXR0YWJsZScpO1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdsaXN0Jyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxJdGVtID0gRWxlbWVudEZhY3RvcnlTZXJ2aWNlLmxpc3RJdGVtXzIoY29udGVudCB8fCBcIlwiKTtcblxuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChpbml0aWFsSXRlbSk7XG5cbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgdGFibGVDcmVhdG9yKCk6IEVsZW1lbnRDcmVhdG9yIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQgPT4ge1xuXG4gICAgICAgICAgICBjb25zdCB0YWJsZVNoZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHRhYmxlU2hlbGwuY2xhc3NMaXN0LmFkZChcInRhYmxlLXNoZWxsXCIsIFwiaWdub3JlLXF1aWNrLW1lbnVcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IHRhYmxlQ29udHJvbGxlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0YWJsZUNvbnRyb2xsZXIuY2xhc3NMaXN0LmFkZChcInRhYmxlLWNvbnRyb2xsZXJcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IHRhYmxlV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0YWJsZVdyYXBwZXIuY2xhc3NMaXN0LmFkZChcInRhYmxlLXdyYXBwZXJcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgICAgICAgICAgIHRhYmxlLmNsYXNzTGlzdC5hZGQoXCJqb2hhbm5lcy1jb250ZW50LWVsZW1lbnRcIiwgXCJzd2l0dGFibGVcIiwgXCJ0YWJsZVwiLCBUb29sYm94T3B0aW9ucy5JbmNsdWRlQmxvY2tUb29sYmFyQ2xhc3MsIFRvb2xib3hPcHRpb25zLkFsaWduVG9vbENsYXNzLCBUb29sYm94T3B0aW9ucy5FeHRyYU9wdGlvbnNDbGFzcywgXCJoaWRlLXR1cm5pbnRvXCIsIFwiaGlkZS1tb3Jlb3B0aW9uc1wiKTtcbiAgICAgICAgICAgIHRhYmxlLnNldEF0dHJpYnV0ZShcImRhdGEtY29udGVudC10eXBlXCIsIENvbnRlbnRUeXBlcy5UYWJsZSk7XG5cbiAgICAgICAgICAgIHRhYmxlU2hlbGwuYXBwZW5kQ2hpbGQodGFibGVDb250cm9sbGVyKTtcbiAgICAgICAgICAgIHRhYmxlQ29udHJvbGxlci5hcHBlbmRDaGlsZCh0YWJsZVdyYXBwZXIpO1xuICAgICAgICAgICAgdGFibGVXcmFwcGVyLmFwcGVuZENoaWxkKHRhYmxlKTtcblxuICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Ym9keScpO1xuICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodGJvZHkpO1xuXG4gICAgICAgICAgICBjb25zdCByb3dEYXRhID0gY29udGVudCA/IGNvbnRlbnQuc3BsaXQoJywnKSA6IFtdO1xuICAgICAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgICAgIHJvd0RhdGEuZm9yRWFjaChjZWxsQ29udGVudCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwiZm9jdXNhYmxlXCIsIFwiZWRpdGFibGVcIik7XG4gICAgICAgICAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlaG9sZGVyXCIsIFwiY2VsbFwiKTtcbiAgICAgICAgICAgICAgICBjZWxsLnRleHRDb250ZW50ID0gY2VsbENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgY2VsbC5jb250ZW50RWRpdGFibGUgPSAndHJ1ZSc7XG4gICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHJvdyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGFkZFJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBhZGRSb3cuY2xhc3NMaXN0LmFkZChcImFkZC10YWJsZS1yb3dcIik7XG4gICAgICAgICAgICBhZGRSb3cuaW5uZXJIVE1MID0gYDxzdmcgd2lkdGg9XCIxcmVtXCIgaGVpZ2h0PVwiMXJlbVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj48dXNlIHhsaW5rOmhyZWY9XCIjaWNvbi1wbHVzXCI+PC91c2U+PC9zdmc+YDtcblxuICAgICAgICAgICAgY29uc3QgYWRkQ29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGFkZENvbHVtbi5jbGFzc0xpc3QuYWRkKFwiYWRkLXRhYmxlLWNvbHVtblwiKTtcbiAgICAgICAgICAgIGFkZENvbHVtbi5pbm5lckhUTUwgPSBgPHN2ZyB3aWR0aD1cIjFyZW1cIiBoZWlnaHQ9XCIxcmVtXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPjx1c2UgeGxpbms6aHJlZj1cIiNpY29uLXBsdXNcIj48L3VzZT48L3N2Zz5gO1xuXG4gICAgICAgICAgICB0YWJsZUNvbnRyb2xsZXIuYXBwZW5kQ2hpbGQoYWRkUm93KTtcbiAgICAgICAgICAgIHRhYmxlQ29udHJvbGxlci5hcHBlbmRDaGlsZChhZGRDb2x1bW4pO1xuXG4gICAgICAgICAgICByZXR1cm4gdGFibGVTaGVsbDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBwbGFjZWhvbGRlckNyZWF0b3IoY29udGVudFR5cGU6IENvbnRlbnRUeXBlcywgaWNvbjogSWNvbnMsIHRleHQ6IHN0cmluZywgY2xhc3Nlczogc3RyaW5nW10gPSBbXSk6IEVsZW1lbnRDcmVhdG9yIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQgPT4ge1xuXG4gICAgICAgICAgICBjb25zdCBjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgY29udGVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChDb21tb25DbGFzc2VzLkNvbnRlbnRFbGVtZW50LCBcInN3aXR0YWJsZVwiLCBcIm5vLXNlbGVjdGlvblwiLCBUb29sYm94T3B0aW9ucy5JbmNsdWRlQmxvY2tUb29sYmFyQ2xhc3MsIFRvb2xib3hPcHRpb25zLkV4dHJhT3B0aW9uc0NsYXNzKTtcbiAgICAgICAgICAgIGNvbnRlbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtY29udGVudC10eXBlXCIsIGNvbnRlbnRUeXBlKTtcblxuICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyLmNsYXNzTGlzdC5hZGQoXCJjb250ZW50LXBsYWNlaG9sZGVyXCIsIENvbW1vbkNsYXNzZXMuU2hvd01lZGlhSW5wdXRPbkNsaWNrLCAuLi5jbGFzc2VzKTtcblxuICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXJJY29uID0gdGhpcy5jcmVhdGVJY29uKGljb24pO1xuXG4gICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlclRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyVGV4dC5jbGFzc0xpc3QuYWRkKFwibm8tc2VsZWN0aW9uXCIpO1xuICAgICAgICAgICAgcGxhY2Vob2xkZXJUZXh0LmlubmVyVGV4dCA9IHRleHQ7XG5cbiAgICAgICAgICAgIGNvbnRlbnRFbGVtZW50LmFwcGVuZENoaWxkKHBsYWNlaG9sZGVyKTtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyLmFwcGVuZENoaWxkKHBsYWNlaG9sZGVySWNvbik7XG4gICAgICAgICAgICBwbGFjZWhvbGRlci5hcHBlbmRDaGlsZChwbGFjZWhvbGRlclRleHQpO1xuXG4gICAgICAgICAgICByZXR1cm4gY29udGVudEVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgY2FsbG91dENyZWF0b3IoKTogRWxlbWVudENyZWF0b3Ige1xuICAgICAgICByZXR1cm4gY29udGVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCBqb2hhbm5lc0NhbGxvdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGpvaGFubmVzQ2FsbG91dC5jbGFzc0xpc3QuYWRkKFwiaWdub3JlLXF1aWNrLW1lbnVcIiwgXCJjYWxsb3V0XCIsIFwiam9oYW5uZXMtY29udGVudC1lbGVtZW50XCIsIFwic3dpdHRhYmxlXCIsIFRvb2xib3hPcHRpb25zLkluY2x1ZGVCbG9ja1Rvb2xiYXJDbGFzcywgVG9vbGJveE9wdGlvbnMuQ29sb3JUb29sQ2xhc3MsIFRvb2xib3hPcHRpb25zLkV4dHJhT3B0aW9uc0NsYXNzKTtcblxuICAgICAgICAgICAgY29uc3QgY2FsbG91dFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgY2FsbG91dFdyYXBwZXIuY2xhc3NMaXN0LmFkZChcImNhbGxvdXQtYmFja2dyb3VuZC1ncmV5XCIsIFwiY2FsbG91dC13cmFwcGVyXCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgICAgIHRleHRBcmVhLnNldEF0dHJpYnV0ZShcImRhdGEtcGxhY2Vob2xkZXJcIiwgXCJUeXBlIHNvbWV0aGluZy4uLlwiKTtcbiAgICAgICAgICAgIHRleHRBcmVhLmNvbnRlbnRFZGl0YWJsZSA9IFwidHJ1ZVwiO1xuICAgICAgICAgICAgdGV4dEFyZWEuY2xhc3NMaXN0LmFkZChcImNhbGxvdXQtdGV4dFwiLCBcImVkaXRhYmxlXCIsIFwiZm9jdXNhYmxlXCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYWxsb3V0V3JhcHBlci5hcHBlbmRDaGlsZCh0ZXh0QXJlYSk7XG4gICAgICAgICAgICBqb2hhbm5lc0NhbGxvdXQuYXBwZW5kQ2hpbGQoY2FsbG91dFdyYXBwZXIpO1xuXG4gICAgICAgICAgICByZXR1cm4gam9oYW5uZXNDYWxsb3V0O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIHNlcGFyYXRvckNyZWF0b3IoKTogRWxlbWVudENyZWF0b3Ige1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5hZGQoXCJqb2hhbm5lcy1jb250ZW50LWVsZW1lbnRcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKFwic2VwYXJhdG9yLXdyYXBwZXJcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IHNlcGFyYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hyJyk7XG4gICAgICAgICAgICBzZXBhcmF0b3IuY2xhc3NMaXN0LmFkZCgnc2VwYXJhdG9yJyk7XG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHNlcGFyYXRvcik7XG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHdyYXBwZXIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyYWdyYXBoKGNvbnRlbnQ6IHN0cmluZyB8IG51bGwgPSBudWxsKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuXG4gICAgICAgIHAuaW5uZXJUZXh0ID0gY29udGVudCB8fCBcIlwiO1xuICAgICAgICBwLmNvbnRlbnRFZGl0YWJsZSA9IFwidHJ1ZVwiO1xuICAgICAgICBwLnNldEF0dHJpYnV0ZSgnZGF0YS1jb250ZW50LXR5cGUnLCBDb250ZW50VHlwZXMuUGFyYWdyYXBoKTtcbiAgICAgICAgcC5jbGFzc0xpc3QuYWRkKFwiam9oYW5uZXMtY29udGVudC1lbGVtZW50XCIsIFwic3dpdHRhYmxlXCIsIFwiZm9jdXNhYmxlXCIsIFwia2V5LXRyaWdnZXJcIiwgXCJlZGl0YWJsZVwiKTtcbiAgICAgICAgcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcGxhY2Vob2xkZXInLCAnV3JpdGUgc29tZXRoaW5nIG9yIHR5cGUgLyAoc2xhc2gpIHRvIGNob29zZSBhIGJsb2NrLi4uJyk7XG5cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgaGVhZGluZyhsZXZlbDogbnVtYmVyLCBjb250ZW50OiBzdHJpbmcgfCBudWxsID0gbnVsbCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYGgke2xldmVsfWApO1xuXG4gICAgICAgIGguaW5uZXJUZXh0ID0gY29udGVudCB8fCBcIlwiO1xuICAgICAgICBoLmNvbnRlbnRFZGl0YWJsZSA9IFwidHJ1ZVwiO1xuICAgICAgICBoLnNldEF0dHJpYnV0ZSgnZGF0YS1jb250ZW50LXR5cGUnLCBgaCR7bGV2ZWx9YCk7XG4gICAgICAgIGguY2xhc3NMaXN0LmFkZChcImpvaGFubmVzLWNvbnRlbnQtZWxlbWVudFwiLCBcInN3aXR0YWJsZVwiLCBcImZvY3VzYWJsZVwiLCBcImZvY3VzXCIsIFwia2V5LXRyaWdnZXJcIiwgXCJlZGl0YWJsZVwiKTtcbiAgICAgICAgaC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcGxhY2Vob2xkZXInLCBgSGVhZGluZyAke2xldmVsfWApO1xuXG4gICAgICAgIHJldHVybiBoO1xuICAgIH1cblxuICAgIHN0YXRpYyBjaGVja2JveEl0ZW0oY29udGVudDogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xuXG4gICAgICAgIGNvbnN0IGlkID0gVXRpbHMuZ2VuZXJhdGVVbmlxdWVJZCgpO1xuXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZGVsZXRhYmxlXCIsIFwibm8tbGlzdC1zdHlsZVwiLCBcImxpc3QtaXRlbVwiLCBcImxpc3QtaXRlbS1jaGVja2FibGVcIik7XG5cbiAgICAgICAgLy8gaW5pdGlhbEl0ZW0uY2xhc3NMaXN0LmFkZCgna2V5LXRyaWdnZXInKTtcblxuICAgICAgICBsZXQgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBjaGVja2JveC5pZCA9IGlkO1xuICAgICAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnY2hlY2tib3gnKTtcbiAgICAgICAgLy8gY2hlY2tib3guY29udGVudEVkaXRhYmxlID0gXCJ0cnVlXCI7XG5cbiAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKCdkYXRhLXBsYWNlaG9sZGVyJywgJ1RvLWRvJyk7XG4gICAgICAgIHNwYW4uY29udGVudEVkaXRhYmxlID0gXCJ0cnVlXCI7XG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKFwiZm9yXCIsIGlkKTtcblxuICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoXCJmb2N1c2FibGVcIiwgXCJlZGl0YWJsZVwiLCBcImZvY3VzXCIpO1xuXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHNwYW4pO1xuXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIC8vIHByaXZhdGUgc3RhdGljIGxpc3RJdGVtKHRleHQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcblxuICAgIC8vICAgICBsZXQgaW5pdGlhbEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuXG4gICAgLy8gICAgIGluaXRpYWxJdGVtLmNsYXNzTGlzdC5hZGQoJ2ZvY3VzYWJsZScpO1xuICAgIC8vICAgICBpbml0aWFsSXRlbS5jbGFzc0xpc3QuYWRkKCdkZWxldGFibGUnKTtcbiAgICAvLyAgICAgaW5pdGlhbEl0ZW0uY2xhc3NMaXN0LmFkZCgnZWRpdGFibGUnKTtcbiAgICAvLyAgICAgaW5pdGlhbEl0ZW0uY2xhc3NMaXN0LmFkZCgnZm9jdXMnKTtcbiAgICAvLyAgICAgaW5pdGlhbEl0ZW0uY2xhc3NMaXN0LmFkZCgna2V5LXRyaWdnZXInKTtcbiAgICAvLyAgICAgaW5pdGlhbEl0ZW0uY2xhc3NMaXN0LmFkZCgnbGlzdC1pdGVtJyk7XG5cbiAgICAvLyAgICAgaW5pdGlhbEl0ZW0uaW5uZXJUZXh0ID0gdGV4dDtcblxuICAgIC8vICAgICBpbml0aWFsSXRlbS5jb250ZW50RWRpdGFibGUgPSBcInRydWVcIjtcbiAgICAvLyAgICAgaW5pdGlhbEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLXBsYWNlaG9sZGVyJywgJ0l0ZW0nKTtcblxuICAgIC8vICAgICByZXR1cm4gaW5pdGlhbEl0ZW07XG5cbiAgICAvLyB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBsaXN0SXRlbV8yKGNvbnRlbnQ6IHN0cmluZyB8IG51bGwgPSBudWxsKTogSFRNTEVsZW1lbnQge1xuXG4gICAgICAgIGxldCBpbml0aWFsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG5cbiAgICAgICAgaW5pdGlhbEl0ZW0uY2xhc3NMaXN0LmFkZCgnZGVsZXRhYmxlJyk7XG4gICAgICAgIGluaXRpYWxJdGVtLmNsYXNzTGlzdC5hZGQoJ2xpc3QtaXRlbScpO1xuXG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoXCJmb2N1c2FibGVcIiwgXCJlZGl0YWJsZVwiLCBcImZvY3VzXCIsIFwia2V5LXRyaWdnZXJcIik7XG4gICAgICAgIGRpdi5jb250ZW50RWRpdGFibGUgPSBcInRydWVcIjtcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1wbGFjZWhvbGRlcicsICdJdGVtJyk7XG5cbiAgICAgICAgaW5pdGlhbEl0ZW0uYXBwZW5kQ2hpbGQoZGl2KTtcblxuXG4gICAgICAgIGRpdi5pbm5lclRleHQgPSBjb250ZW50IHx8IFwiXCI7XG5cbiAgICAgICAgcmV0dXJuIGluaXRpYWxJdGVtO1xuICAgIH1cblxuXG4gICAgc3RhdGljIGJsb2NrUGFyYWdyYXBoKGNvbnRlbnQ6IHN0cmluZyB8IG51bGwgPSBudWxsKSB7XG5cbiAgICAgICAgbGV0IG5ld0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBuZXdEaXYuaWQgPSBgYi0ke1V0aWxzLmdlbmVyYXRlVW5pcXVlSWQoKX1gO1xuICAgICAgICBsZXQgbmV3RWxlbWVudCA9IEVsZW1lbnRGYWN0b3J5U2VydmljZS5wYXJhZ3JhcGgoY29udGVudCk7XG5cbiAgICAgICAgLy8gbGV0IGRyYWdIYW5kbGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIC8vIGRyYWdIYW5kbGVyLmlubmVySFRNTCA9ICc8c3ZnIHdpZHRoPVwiMS4zNzVyZW1cIiBoZWlnaHQ9XCIxLjM3NXJlbVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj48dXNlIGhyZWY9XCIjaWNvbi1tYXRlcmlhbC1kcmFnXCI+PC91c2U+PC9zdmc+JztcblxuICAgICAgICAvLyBuZXdEaXYuYXBwZW5kQ2hpbGQobmV3QnV0dG9uKTtcbiAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKG5ld0VsZW1lbnQpO1xuXG4gICAgICAgIG5ld0Rpdi5jbGFzc0xpc3QuYWRkKCdibG9jaycpO1xuICAgICAgICBuZXdEaXYuY2xhc3NMaXN0LmFkZCgnZGVsZXRhYmxlJyk7XG4gICAgICAgIC8vIGRyYWdIYW5kbGVyLmNsYXNzTGlzdC5hZGQoJ2RyYWctaGFuZGxlcicpO1xuICAgICAgICAvLyBkcmFnSGFuZGxlci5jbGFzc0xpc3QuYWRkKCdidXR0b24tcmVzZXQnKTtcbiAgICAgICAgLy8gZHJhZ0hhbmRsZXIuZHJhZ2dhYmxlID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gbmV3RGl2O1xuICAgIH1cblxuICAgIHN0YXRpYyBkcmFnSGFuZGxlQnV0dG9uKCkge1xuXG4gICAgICAgIGNvbnN0IGRyYWdIYW5kbGVyV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGRyYWdIYW5kbGVyV3JhcHBlci5jbGFzc0xpc3QuYWRkKFwiZHJhZy1oYW5kbGVyLXdyYXBwZXJcIiwgQ29tbW9uQ2xhc3Nlcy5FZGl0b3JPbmx5KTtcblxuICAgICAgICBsZXQgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAnPHN2ZyB3aWR0aD1cIjEuMzc1cmVtXCIgaGVpZ2h0PVwiMS4zNzVyZW1cIiBmaWxsPVwiY3VycmVudENvbG9yXCI+PHVzZSBocmVmPVwiI2ljb24tbWF0ZXJpYWwtZHJhZ1wiPjwvdXNlPjwvc3ZnPic7XG5cbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoQ29tbW9uQ2xhc3Nlcy5FZGl0b3JPbmx5LCBcImRyYWctaGFuZGxlclwiLCBcImJ1dHRvbi1yZXNldFwiKTtcbiAgICAgICAgYnV0dG9uLmRyYWdnYWJsZSA9IHRydWU7XG5cblxuICAgICAgICBkcmFnSGFuZGxlcldyYXBwZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcblxuICAgICAgICByZXR1cm4gZHJhZ0hhbmRsZXJXcmFwcGVyO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGVJY29uKGljb25JZDogc3RyaW5nKSB7XG5cbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaWNvbi13cmFwcGVyXCIpO1xuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGA8c3ZnIHdpZHRoPVwiMS4zNzVyZW1cIiBoZWlnaHQ9XCIxLjM3NXJlbVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj48dXNlIGhyZWY9XCIjJHtpY29uSWR9XCI+PC91c2U+PC9zdmc+YDtcblxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBJVUlFdmVudERldGFpbCB9IGZyb20gXCJAL2NvbW1hbmRzL0lVSUV2ZW50RGV0YWlsXCI7XHJcbmltcG9ydCB7IEN1c3RvbVVJRXZlbnRzIH0gZnJvbSBcIkAvY29tbW9uL0N1c3RvbVVJRXZlbnRzXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZVVJQ29tcG9uZW50PFQgZXh0ZW5kcyBIVE1MRWxlbWVudCA9IEhUTUxFbGVtZW50PiB7XHJcblxyXG4gICAgaWQ/OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIF9jYW5IaWRlOiBib29sZWFuO1xyXG5cclxuICAgIGNsYXNzTGlzdDogc3RyaW5nW10gPSBbXTtcclxuICAgIHByb3BzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xyXG4gICAgaHRtbEVsZW1lbnQ6IFQ7XHJcbiAgICBwYXJlbnQ/OiBCYXNlVUlDb21wb25lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xyXG5cclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50ID0gdGhpcy5pbml0KCkgYXMgVDtcclxuICAgICAgICB0aGlzLl9jYW5IaWRlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogSW5pdGlhbGl6ZXMgYW5kIHJldHVybnMgYW4gSFRNTEVsZW1lbnQgdXNpbmcgdGhlIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgQVBJLlxyXG4gICAgKiBUaGlzIGFic3RyYWN0IG1ldGhvZCBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzZXMgdG8gc3BlY2lmeSB0aGUgdHlwZSBvZlxyXG4gICAgKiBIVE1MRWxlbWVudCB0byBiZSBjcmVhdGVkIGFuZCBwb3NzaWJseSBjb25maWd1cmUgaXRzIHByb3BlcnRpZXMgb3Igc3R5bGVzLlxyXG4gICAgKiBEZXBlbmRlbmNpZXMgbmVlZGVkIGJ5IHRoZSBzdWJjbGFzc2VzIGFyZSBwYXNzZWQgdGhyb3VnaCB0aGUgY29uc3RydWN0b3IgYW5kXHJcbiAgICAqIGFyZSB0eXBpY2FsbHkgbWFkZSBhdmFpbGFibGUgdmlhIHRoaXMucHJvcHMgZm9yIHVzZSB3aXRoaW4gdGhpcyBtZXRob2QuXHJcbiAgICAqXHJcbiAgICAqIEBhYnN0cmFjdFxyXG4gICAgKiBAZXhhbXBsZVxyXG4gICAgKiAvLyBFeGFtcGxlIHN1YmNsYXNzIHRoYXQgdXNlcyBhIGRlcGVuZGVuY3kgcGFzc2VkIHRocm91Z2ggdGhlIGNvbnN0cnVjdG9yLlxyXG4gICAgKiBjbGFzcyBUb29sYmFyIGV4dGVuZHMgQmFzZVVJQ29tcG9uZW50IHtcclxuICAgICogICAgIGNvbnN0cnVjdG9yKGRlcGVuZGVuY3kpIHtcclxuICAgICogICAgICAgICBzdXBlcih7ZGVwZW5kZW5jeTogZGVwZW5kZW5jeX0pO1xyXG4gICAgKiAgICAgICAgIHRoaXMuZGVwZW5kZW5jeSA9IGRlcGVuZGVuY3k7XHJcbiAgICAqICAgICB9XHJcbiAgICAqXHJcbiAgICAqICAgICBpbml0KCk6IEhUTUxFbGVtZW50IHtcclxuICAgICogICAgICAgICBjb25zdCB0b29sYmFyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgKiAgICAgICAgIHRvb2xiYXJFbGVtZW50LmNsYXNzTmFtZSA9ICd0b29sYmFyJztcclxuICAgICogICAgICAgICAvLyBVc2luZyB0aGUgZGVwZW5kZW5jeVxyXG4gICAgKiAgICAgICAgIHRvb2xiYXJFbGVtZW50LmF0dHJpYnV0ZShcImN1c3RvbURlcGVuZGVuY3lCYXNlZFwiLCB0aGlzLmRlcGVuZGVuY3kuZGF0YSk7XHJcbiAgICAqICAgXHJcbiAgICAqICAgICAgICAgcmV0dXJuIHRvb2xiYXJFbGVtZW50O1xyXG4gICAgKiAgICAgfVxyXG4gICAgKiB9XHJcbiAgICAqXHJcbiAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gVGhlIG5ld2x5IGNyZWF0ZWQgYW5kIGNvbmZpZ3VyZWQgSFRNTEVsZW1lbnQuXHJcbiAgICAqL1xyXG4gICAgYWJzdHJhY3QgaW5pdCgpOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgICBnZXQgZGlzcGxheSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnYmxvY2snO1xyXG4gICAgfVxyXG5cclxuICAgIHNldElkKGlkOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5pZCA9IGlkO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENzc0NsYXNzKC4uLnRva2Vuczogc3RyaW5nW10pIHtcclxuICAgICAgICB0aGlzLmNsYXNzTGlzdC5wdXNoKC4uLnRva2Vucyk7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLnRva2Vucyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEFwcGVuZHMgdGhpcyBjb21wb25lbnQncyBIVE1MIGVsZW1lbnQgdG8gdGhlIHNwZWNpZmllZCBwYXJlbnQgY29tcG9uZW50J3MgSFRNTCBlbGVtZW50LlxyXG4gICAgKiBUaGlzIG1ldGhvZCBlc3RhYmxpc2hlcyBhIHBhcmVudC1jaGlsZCByZWxhdGlvbnNoaXAgaW4gdGhlIERPTSBieSBhcHBlbmRpbmcgdGhpcyBpbnN0YW5jZSdzXHJcbiAgICAqIGVsZW1lbnQgYXMgYSBjaGlsZCBvZiB0aGUgZ2l2ZW4gcGFyZW50J3MgZWxlbWVudC4gSXQgYWxzbyB1cGRhdGVzIHRoZSBwYXJlbnQgcHJvcGVydHkgb2YgdGhpc1xyXG4gICAgKiBpbnN0YW5jZSB0byByZWZlciB0byB0aGUgcHJvdmlkZWQgcGFyZW50IGNvbXBvbmVudC5cclxuICAgICpcclxuICAgICogQHBhcmFtIHtCYXNlVUlDb21wb25lbnR9IHBhcmVudCBUaGUgcGFyZW50IGNvbXBvbmVudCB0byB3aGljaCB0aGlzIGNvbXBvbmVudCdzIGVsZW1lbnQgd2lsbCBiZSBhcHBlbmRlZC5cclxuICAgICogVGhpcyBzaG91bGQgYmUgYW4gaW5zdGFuY2Ugb2YgQmFzZVVJQ29tcG9uZW50IG9yIGFueSBvZiBpdHMgc3ViY2xhc3NlcywgZW5zdXJpbmcgdGhhdCBpdCBoYXMgYW4gaHRtbEVsZW1lbnQgcHJvcGVydHkuXHJcbiAgICAqL1xyXG4gICAgYXBwZW5kVG8ocGFyZW50OiBCYXNlVUlDb21wb25lbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcclxuICAgICAgICBwYXJlbnQuaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5odG1sRWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlzVmlzaWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgZWxlbWVudDogSFRNTEVsZW1lbnQgPSB0aGlzLmh0bWxFbGVtZW50O1xyXG5cclxuICAgICAgICBpZiAoZWxlbWVudC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgfHwgZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID09PSAnaGlkZGVuJyB8fCAhZG9jdW1lbnQuY29udGFpbnMoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2hpbGUgKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgfHwgc3R5bGUudmlzaWJpbGl0eSA9PT0gJ2hpZGRlbicpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93KCkge1xyXG4gICAgICAgIC8vIHRoaXMuX2NhbkhpZGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSB0aGlzLmRpc3BsYXk7XHJcblxyXG4gICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICB0aGlzLl9jYW5IaWRlID0gdHJ1ZTtcclxuICAgICAgICAvLyB9LCAxMDApO1xyXG5cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIC8vIGlmICghdGhpcy5fY2FuSGlkZSkge1xyXG5cclxuICAgICAgICAvLyAgICAgY29uc29sZS53YXJuKFwiQXR0ZW1wdGVkIHRvIGhpZGUgdGhlIGVsZW1lbnQgYmVmb3JlIDEwMCBtaWxsaXNlY29uZHMgaGF2ZSBwYXNzZWQgc2luY2UgdGhlIGxhc3QgZGlzcGxheS5cIik7XHJcbiAgICAgICAgLy8gICAgIC8vIHJldHVybjtcclxuICAgICAgICAvLyAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGhpZGUgdGhlIGVsZW1lbnQgYmVmb3JlIDEwMCBtaWxsaXNlY29uZHMgaGF2ZSBwYXNzZWQgc2luY2UgdGhlIGxhc3QgZGlzcGxheS5cIik7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcblxyXG4gICAgbG9ja0hpZGUoKSB7XHJcbiAgICAgICAgdGhpcy5fY2FuSGlkZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHVubG9ja0hpZGUoKSB7XHJcbiAgICAgICAgdGhpcy5fY2FuSGlkZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNhbkhpZGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbkhpZGUgJiYgdGhpcy5pc1Zpc2libGU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGNhbkhpZGUodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9jYW5IaWRlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZm9jdXMoKSB7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5mb2N1cygpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZUNvbG9yKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnN0eWxlLmNvbG9yID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlQ29sb3IoKSB7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS5jb2xvciA9IFwiaW5oZXJpdFwiO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZVZpc2liaWxpdHlUb1Zpc2libGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlVmlzaWJpbGl0eVRvSGlkZGVuKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGRvZXNFbGVtZW50T3ZlcmZsb3dTY3JlZW4oKTogYm9vbGVhbiB7XHJcblxyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsRGlzcGxheSA9IHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUuZGlzcGxheTtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbFZpc2liaWxpdHkgPSB0aGlzLmh0bWxFbGVtZW50LnN0eWxlLnZpc2liaWxpdHk7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxQb3NpdGlvbiA9IHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUucG9zaXRpb247XHJcblxyXG4gICAgICAgIGlmIChvcmlnaW5hbERpc3BsYXkgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgICAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBlbGVtZW50UmVjdCA9IHRoaXMuaHRtbEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3Qgc2NyZWVuV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuXHJcbiAgICAgICAgaWYgKG9yaWdpbmFsRGlzcGxheSA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IG9yaWdpbmFsRGlzcGxheTtcclxuICAgICAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gb3JpZ2luYWxWaXNpYmlsaXR5O1xyXG4gICAgICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gb3JpZ2luYWxQb3NpdGlvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRSaWdodEVkZ2UgPSBlbGVtZW50UmVjdC5yaWdodDtcclxuXHJcbiAgICAgICAgaWYgKGVsZW1lbnRSaWdodEVkZ2UgPiBzY3JlZW5XaWR0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChlbGVtZW50UmVjdC5sZWZ0IDwgMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBlbnN1cmVWaXNpYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHJlbGV2YW50Q29udGFpbmVyID0gdGhpcy5odG1sRWxlbWVudC5jbG9zZXN0KCdzZWxlY3QsIHVsJyk7XHJcblxyXG4gICAgICAgIGlmIChyZWxldmFudENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ25lYXJlc3QnLCBpbmxpbmU6ICdzdGFydCcgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdBdHRlbXB0ZWQgdG8gbWFrZSBhIG5vbi1yZWxldmFudCBpdGVtIHZpc2libGUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2xvc2VFbGVtZW50RXZlbnQoZXZlbnQ6IEV2ZW50KSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gZXZlbnQgYXMgQ3VzdG9tRXZlbnQ8SVVJRXZlbnREZXRhaWw+O1xyXG4gICAgICAgIGNvbnN0IGRldGFpbHMgPSBjdXN0b21FdmVudC5kZXRhaWw7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlkICYmIHRoaXMuaWQgPT0gZGV0YWlscy50YXJnZXRJZCEpIHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTaG93RWxlbWVudEV2ZW50KGV2ZW50OiBFdmVudCkge1xyXG5cclxuICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IGV2ZW50IGFzIEN1c3RvbUV2ZW50PElVSUV2ZW50RGV0YWlsPjtcclxuICAgICAgICBjb25zdCBkZXRhaWxzID0gY3VzdG9tRXZlbnQuZGV0YWlsO1xyXG5cclxuICAgICAgICBpZiAoZGV0YWlscy50YXJnZXRJZCA9PSB0aGlzLmlkKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9CYXNpYyBVSSBldmVudHNcclxuICAgIGF0dGFjaFVJRXZlbnQoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihDdXN0b21VSUV2ZW50cy5DbG9zZUVsZW1lbnQsIHRoaXMuaGFuZGxlQ2xvc2VFbGVtZW50RXZlbnQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihDdXN0b21VSUV2ZW50cy5TaG93RWxlbWVudCwgdGhpcy5oYW5kbGVTaG93RWxlbWVudEV2ZW50LmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIERlcGVuZGVuY3lDb250YWluZXIge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IERlcGVuZGVuY3lDb250YWluZXIgPSBuZXcgRGVwZW5kZW5jeUNvbnRhaW5lcigpO1xyXG4gICAgcHJpdmF0ZSBkZXBlbmRlbmNpZXM6IHsgW2tleTogc3RyaW5nXTogRnVuY3Rpb24gfSA9IHt9O1xyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7fVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEluc3RhbmNlKCk6IERlcGVuZGVuY3lDb250YWluZXIge1xyXG4gICAgICAgIHJldHVybiBEZXBlbmRlbmN5Q29udGFpbmVyLmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWdpc3RlcihrZXk6IHN0cmluZywgY29uc3RydWN0b3I6IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXNba2V5XSA9IGNvbnN0cnVjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNvbHZlPFQ+KGtleTogc3RyaW5nKTogVCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRlcGVuZGVuY2llc1trZXldKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGVwZW5kZW5jeSAke2tleX0gbm90IGZvdW5kLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5kZXBlbmRlbmNpZXNba2V5XSgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuXHJcbmNvbnN0IFNUQVJUX01BUktFUl9JRCA9ICdjYXJldC1zdGFydC1tYXJrZXInO1xyXG5jb25zdCBFTkRfTUFSS0VSX0lEID0gJ2NhcmV0LWVuZC1tYXJrZXInOyAvLyBJZiB5b3UgbmVlZCB0byBoYW5kbGUgc2VsZWN0aW9uc1xyXG5cclxuZXhwb3J0IGNsYXNzIERPTVV0aWxzIHtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgc3RhdGljIGlzU2VsZWN0aW9uSW5UYWJsZUNlbGwoKSB7XHJcbiAgICAgICAgbGV0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICBpZiAoIXNlbGVjdGlvbj8ucmFuZ2VDb3VudCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBsZXQgbm9kZSA9IHNlbGVjdGlvbi5hbmNob3JOb2RlO1xyXG4gICAgICAgIHdoaWxlIChub2RlKSB7XHJcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChub2RlIGFzIEVsZW1lbnQpLnRhZ05hbWUgPT09ICdURCcgfHwgKG5vZGUgYXMgRWxlbWVudCkudGFnTmFtZSA9PT0gJ1RIJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAgLy8gVGhlIHNlbGVjdGlvbiBzdGFydHMgaW5zaWRlIGEgdGFibGUgY2VsbFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7ICAvLyBNb3ZlIHVwIGluIHRoZSBET00gdHJlZVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7ICAvLyBTZWxlY3Rpb24gaXMgbm90IGluc2lkZSBhIHRhYmxlIGNlbGxcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpcyBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIGEgY29udGVudGVkaXRhYmxlIGVsZW1lbnQuXHJcbiAgICAqIFRoaXMgZnVuY3Rpb24gd2FzIGFkYXB0ZWQgZnJvbSBhIFN0YWNrT3ZlcmZsb3cgYW5zd2VyLlxyXG4gICAgKlxyXG4gICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCAtIFRoZSBjb250ZW50ZWRpdGFibGUgZWxlbWVudCB0byBjaGVjay5cclxuICAgICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdHdvIGJvb2xlYW4gcHJvcGVydGllczogYGF0U3RhcnRgIGFuZCBgYXRFbmRgLlxyXG4gICAgKlxyXG4gICAgKiBAc2VlIHtAbGluayBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83NDUxNDY4L2NvbnRlbnRlZGl0YWJsZS1kaXYtaG93LWNhbi1pLWRldGVybWluZS1pZi10aGUtY3Vyc29yLWlzLWF0LXRoZS1zdGFydC1vci1lbmQtbyNhbnN3ZXItNzQ3ODQyMHxTdGFja092ZXJmbG93IFJlc3BvbnNlfVxyXG4gICAgKiBAZXhhbXBsZVxyXG4gICAgKiAvLyBSZXR1cm5zIHsgYXRTdGFydDogdHJ1ZSwgYXRFbmQ6IGZhbHNlIH0gaWYgdGhlIGN1cnNvciBpcyBhdCB0aGUgc3RhcnQgb2YgdGhlIGVsZW1lbnQsIGJ1dCBub3QgYXQgdGhlIGVuZC5cclxuICAgICogY29uc3QgcmVzdWx0ID0gZ2V0U2VsZWN0aW9uVGV4dEluZm8oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRhYmxlJykpO1xyXG4gICAgKi9cclxuICAgIHN0YXRpYyBnZXRTZWxlY3Rpb25UZXh0SW5mbyhlbDogSFRNTEVsZW1lbnQpOiB7IGF0U3RhcnQ6IGJvb2xlYW47IGF0RW5kOiBib29sZWFuIH0ge1xyXG5cclxuICAgICAgICBsZXQgYXRTdGFydCA9IGZhbHNlLCBhdEVuZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAoZWwudGV4dENvbnRlbnQgPT0gXCJcIikge1xyXG4gICAgICAgICAgICBhdFN0YXJ0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXRFbmQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHsgYXRTdGFydCwgYXRFbmQgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHNlbFJhbmdlOiBSYW5nZSwgdGVzdFJhbmdlOiBSYW5nZTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgIGlmIChzZWwgJiYgc2VsLnJhbmdlQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIHNlbFJhbmdlID0gc2VsLmdldFJhbmdlQXQoMCk7XHJcbiAgICAgICAgICAgIHRlc3RSYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcblxyXG4gICAgICAgICAgICB0ZXN0UmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGVsKTtcclxuICAgICAgICAgICAgdGVzdFJhbmdlLnNldEVuZChzZWxSYW5nZS5zdGFydENvbnRhaW5lciwgc2VsUmFuZ2Uuc3RhcnRPZmZzZXQpO1xyXG4gICAgICAgICAgICBhdFN0YXJ0ID0gdGVzdFJhbmdlLnRvU3RyaW5nKCkgPT09IFwiXCI7XHJcblxyXG4gICAgICAgICAgICB0ZXN0UmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGVsKTtcclxuICAgICAgICAgICAgdGVzdFJhbmdlLnNldFN0YXJ0KHNlbFJhbmdlLmVuZENvbnRhaW5lciwgc2VsUmFuZ2UuZW5kT2Zmc2V0KTtcclxuICAgICAgICAgICAgYXRFbmQgPSB0ZXN0UmFuZ2UudG9TdHJpbmcoKSA9PT0gXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7IGF0U3RhcnQsIGF0RW5kIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEluc2VydHMgYSBuZXcgbm9kZSBpbnRvIHRoZSBET00gaW1tZWRpYXRlbHkgYWZ0ZXIgYSBzcGVjaWZpZWQgcmVmZXJlbmNlIG5vZGUuXHJcbiAgICAqIFRoaXMgZnVuY3Rpb24gaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3IgZHluYW1pY2FsbHkgbW9kaWZ5aW5nIHRoZSBkb2N1bWVudCBzdHJ1Y3R1cmUgYnkgYWRkaW5nIG5ldyBjb250ZW50XHJcbiAgICAqIG9yIGNvbXBvbmVudHMgaW4gcmVsYXRpb24gdG8gZXhpc3RpbmcgZWxlbWVudHMuXHJcbiAgICAqXHJcbiAgICAqIEBwYXJhbSB7Tm9kZX0gbmV3Tm9kZSAtIFRoZSBuZXcgbm9kZSB0byBiZSBpbnNlcnRlZCBpbnRvIHRoZSBET00uXHJcbiAgICAqIEBwYXJhbSB7Tm9kZX0gcmVmZXJlbmNlTm9kZSAtIFRoZSBub2RlIGFmdGVyIHdoaWNoIHRoZSBuZXcgbm9kZSBzaG91bGQgYmUgaW5zZXJ0ZWQuXHJcbiAgICAqIEByZXR1cm5zIHt2b2lkfSBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHJldHVybiBhIHZhbHVlOyBpdCBwZXJmb3JtcyBhIERPTSBtYW5pcHVsYXRpb24gb3BlcmF0aW9uLlxyXG4gICAgKlxyXG4gICAgKiBAZXhhbXBsZVxyXG4gICAgKiAvLyBTdXBwb3NlIHlvdSB3YW50IHRvIGluc2VydCBhIG5ldyBwYXJhZ3JhcGggYWZ0ZXIgYW4gZXhpc3RpbmcgZGl2IGVsZW1lbnQ6XHJcbiAgICAqIGNvbnN0IG5ld1BhcmFncmFwaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgICogbmV3UGFyYWdyYXBoLnRleHRDb250ZW50ID0gJ0hlbGxvLCB3b3JsZCEnO1xyXG4gICAgKiBjb25zdCByZWZlcmVuY2VEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlEaXYnKTtcclxuICAgICogaW5zZXJ0QWZ0ZXIobmV3UGFyYWdyYXBoLCByZWZlcmVuY2VEaXYpO1xyXG4gICAgKlxyXG4gICAgKiBAZGVzY3JpcHRpb25cclxuICAgICogVGhpcyBmdW5jdGlvbiBjaGVja3MgaWYgdGhlIHJlZmVyZW5jZU5vZGUgaGFzIGEgcGFyZW50IG5vZGUuIElmIGEgcGFyZW50IG5vZGUgZXhpc3RzLCBpdCB1c2VzXHJcbiAgICAqIGBwYXJlbnROb2RlLmluc2VydEJlZm9yZSgpYCB0byBpbnNlcnQgdGhlIG5ld05vZGUgaW50byB0aGUgRE9NIHJpZ2h0IGFmdGVyIHRoZSByZWZlcmVuY2VOb2RlLlxyXG4gICAgKiBUaGlzIGlzIGFjaGlldmVkIGJ5IHNwZWNpZnlpbmcgYHJlZmVyZW5jZU5vZGUubmV4dFNpYmxpbmdgIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyIHRvIGBpbnNlcnRCZWZvcmUoKWAsXHJcbiAgICAqIHdoaWNoIGVmZmVjdGl2ZWx5IHBsYWNlcyB0aGUgbmV3Tm9kZSBkaXJlY3RseSBhZnRlciB0aGUgcmVmZXJlbmNlTm9kZSBpbiB0aGUgZG9jdW1lbnQncyBzdHJ1Y3R1cmUuXHJcbiAgICAqIElmIHRoZSByZWZlcmVuY2VOb2RlIGhhcyBubyBwYXJlbnQsIHRoZSBmdW5jdGlvbiBkb2VzIG5vdGhpbmcsIGFzIGluc2VydGlvbiBpcyBub3QgcG9zc2libGUuXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGluc2VydEFmdGVyKG5ld05vZGU6IE5vZGUsIHJlZmVyZW5jZU5vZGU6IE5vZGUpIHtcclxuICAgICAgICBpZiAocmVmZXJlbmNlTm9kZS5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgIHJlZmVyZW5jZU5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmZXJlbmNlTm9kZS5uZXh0U2libGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDaGVja3MgaWYgYSBnaXZlbiBET00gTm9kZSBoYXMgYW55IHZpc2libGUgdGV4dCBjb250ZW50LiBUaGUgZnVuY3Rpb24gY29uc2lkZXJzIHRleHQgY29udGVudCBkaXJlY3RseSB3aXRoaW4gdGhlIG5vZGVcclxuICAgICogYXMgd2VsbCBhcyByZWN1cnNpdmVseSBjaGVja2luZyBhbGwgY2hpbGQgbm9kZXMuIFRoaXMgaXMgdXNlZnVsIGZvciBkZXRlcm1pbmluZyBpZiBhbiBlbGVtZW50IG9yIGFueSBwYXJ0IG9mIGEgc3VidHJlZVxyXG4gICAgKiBoYXMgdGV4dHVhbCBzaWduaWZpY2FuY2UsIHdoaWNoIG1pZ2h0IGFmZmVjdCBkaXNwbGF5IGxvZ2ljLCB2YWxpZGF0aW9uLCBvciBwcm9jZXNzaW5nLlxyXG4gICAgKlxyXG4gICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgLSBUaGUgRE9NIE5vZGUgdG8gY2hlY2sgZm9yIHRleHQgY29udGVudC5cclxuICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIG5vZGUgaXRzZWxmIG9yIGFueSBvZiBpdHMgY2hpbGRyZW4gaGFzIG5vbi1lbXB0eSB0ZXh0IGNvbnRlbnQsIG90aGVyd2lzZSBmYWxzZS5cclxuICAgICpcclxuICAgICogQGV4YW1wbGVcclxuICAgICogLy8gU3VwcG9zZSB5b3Ugd2FudCB0byBjaGVjayBpZiBhIHBhcmFncmFwaCBlbGVtZW50IGlzIGVtcHR5IG9yIG5vdDpcclxuICAgICogY29uc3QgcGFyYWdyYXBoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVQYXJhZ3JhcGgnKTtcclxuICAgICogY29uc3QgaGFzQ29udGVudCA9IGhhc1RleHRDb250ZW50KHBhcmFncmFwaCk7XHJcbiAgICAqIGNvbnNvbGUubG9nKCdEb2VzIHRoZSBwYXJhZ3JhcGggaGF2ZSBjb250ZW50PycsIGhhc0NvbnRlbnQpO1xyXG4gICAgKlxyXG4gICAgKiBAZGVzY3JpcHRpb25cclxuICAgICogVGhpcyBmdW5jdGlvbiBmaXJzdCBjaGVja3MgdGhlIHRleHQgY29udGVudCBvZiB0aGUgbm9kZSBpdHNlbGYuIElmIHRoZSBub2RlJ3MgdGV4dENvbnRlbnQsIHdoZW4gdHJpbW1lZCwgaXMgbm90IGFuIGVtcHR5IHN0cmluZyxcclxuICAgICogdGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSwgaW5kaWNhdGluZyB0aGUgcHJlc2VuY2Ugb2YgdmlzaWJsZSB0ZXh0LiBJZiB0aGUgaW5pdGlhbCBjaGVjayBmYWlscywgdGhlIGZ1bmN0aW9uIHRoZW4gcmVjdXJzaXZlbHlcclxuICAgICogY2hlY2tzIGVhY2ggY2hpbGQgbm9kZSB0byBkZXRlcm1pbmUgaWYgYW55IGNoaWxkIGNvbnRhaW5zIHZpc2libGUgdGV4dC4gVGhpcyByZWN1cnNpb24gZW5zdXJlcyB0aGF0IGV2ZW4gZGVlcGx5IG5lc3RlZCB0ZXh0IG5vZGVzXHJcbiAgICAqIHRoYXQgY29udHJpYnV0ZSB0byB0aGUgdmlzaWJsZSBjb250ZW50IGFyZSBhY2NvdW50ZWQgZm9yLiBUaGUgZnVuY3Rpb24gcmV0dXJucyB0cnVlIGF0IHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBmaW5kaW5nIHZpc2libGUgdGV4dCxcclxuICAgICogb3B0aW1pemluZyB0aGUgc2VhcmNoIHByb2Nlc3Mgd2l0aGluIHBvdGVudGlhbGx5IGxhcmdlIERPTSBzdHJ1Y3R1cmVzLlxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBoYXNUZXh0Q29udGVudChub2RlOiBOb2RlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUudGV4dENvbnRlbnQ/LnRyaW0oKSAhPT0gJycgfHxcclxuICAgICAgICAgICAgKG5vZGUuaGFzQ2hpbGROb2RlcygpICYmIEFycmF5LmZyb20obm9kZS5jaGlsZE5vZGVzKS5zb21lKGNoaWxkTm9kZSA9PiB0aGlzLmhhc1RleHRDb250ZW50KGNoaWxkTm9kZSkpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ2xvbmVzIGEgc3BlY2lmaWVkIEhUTUxFbGVtZW50IGFuZCBpbnNlcnRzIHRoZSBjbG9uZSBpbW1lZGlhdGVseSBhZnRlciB0aGUgb3JpZ2luYWwgZWxlbWVudCBpbiB0aGUgRE9NLlxyXG4gICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWZ1bCBmb3IgZHVwbGljYXRpbmcgaW50ZXJhY3RpdmUgY29tcG9uZW50cyBvciBjb250ZW50IGJsb2NrcyB3aXRoaW4gYSBkeW5hbWljIGludGVyZmFjZS5cclxuICAgICpcclxuICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIFRoZSBIVE1MRWxlbWVudCB0byBiZSBjbG9uZWQgYW5kIHJlaW5zZXJ0ZWQuXHJcbiAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudCB8IG51bGx9IFRoZSBjbG9uZWQgSFRNTEVsZW1lbnQgaWYgdGhlIG9wZXJhdGlvbiBpcyBzdWNjZXNzZnVsLCBvciBudWxsIGlmIHRoZSBvcmlnaW5hbCBlbGVtZW50IGRvZXMgbm90IGhhdmUgYSBwYXJlbnQuXHJcbiAgICAqXHJcbiAgICAqIEBleGFtcGxlXHJcbiAgICAqIC8vIEFzc3VtZSB5b3UgaGF2ZSBhIGxpc3QgaXRlbSB0aGF0IHlvdSB3YW50IHRvIGR1cGxpY2F0ZTpcclxuICAgICogY29uc3QgbGlzdEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsaS5teS1pdGVtJyk7XHJcbiAgICAqIGNvbnN0IG5ld0xpc3RJdGVtID0gY2xvbmVBbmRJbnNlcnRBZnRlcihsaXN0SXRlbSk7XHJcbiAgICAqIGlmIChuZXdMaXN0SXRlbSkge1xyXG4gICAgKiAgICAgY29uc29sZS5sb2coJ0l0ZW0gd2FzIGNsb25lZCBzdWNjZXNzZnVsbHkuJyk7XHJcbiAgICAqIH1cclxuICAgICpcclxuICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAqIFRoaXMgZnVuY3Rpb24gZmlyc3QgYXR0ZW1wdHMgdG8gY2xvbmUgdGhlIHByb3ZpZGVkIGBlbGVtZW50YCB1c2luZyBgY2xvbmVOb2RlKHRydWUpYCwgd2hpY2ggZW5zdXJlcyB0aGF0IGFsbCBjaGlsZCBub2RlcyBhbmQgYXR0cmlidXRlcyBhcmUgY29waWVkLlxyXG4gICAgKiBUaGUgZnVuY3Rpb24gdGhlbiBjaGVja3MgaWYgdGhlIG9yaWdpbmFsIGVsZW1lbnQgaGFzIGEgcGFyZW50IG5vZGUuIElmIGl0IGRvZXMgbm90LCB0aGUgZnVuY3Rpb24gcmV0dXJucyBudWxsIHNpbmNlIGluc2VydGlvbiBjYW5ub3QgcHJvY2VlZC5cclxuICAgICogSWYgYSBwYXJlbnQgbm9kZSBleGlzdHMsIHRoZSBjbG9uZWQgZWxlbWVudCBpcyBpbnNlcnRlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgb3JpZ2luYWwgZWxlbWVudCB1c2luZyBgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoKWAuXHJcbiAgICAqIFRoaXMgYWxsb3dzIHRoZSBmdW5jdGlvbiB0byBlZmZlY3RpdmVseSBkdXBsaWNhdGUgYW5kIHBsYWNlIHRoZSBuZXcgZWxlbWVudCBpbiB0aGUgY29ycmVjdCBwb3NpdGlvbiB3aXRoaW4gdGhlIERPTSB0cmVlLlxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBjbG9uZUFuZEluc2VydEFmdGVyKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnQgfCBudWxsIHtcclxuICAgICAgICBjb25zdCBjbG9uZWRFbGVtZW50ID0gZWxlbWVudC5jbG9uZU5vZGUodHJ1ZSkgYXMgSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhcmVudEVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcblxyXG4gICAgICAgIGlmICghcGFyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNsb25lZEVsZW1lbnQsIGVsZW1lbnQubmV4dFNpYmxpbmcpO1xyXG5cclxuICAgICAgICBpZiAoY2xvbmVkRWxlbWVudC5pZCkge1xyXG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IGNsb25lZEVsZW1lbnQuaWQubWF0Y2goL14oLis/KS0vKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJlZml4ID0gbWF0Y2hbMV07XHJcbiAgICAgICAgICAgICAgICBjbG9uZWRFbGVtZW50LmlkID0gcHJlZml4ICsgJy0nICsgVXRpbHMuZ2VuZXJhdGVVbmlxdWVJZCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2xvbmVkRWxlbWVudC5pZCA9IFV0aWxzLmdlbmVyYXRlVW5pcXVlSWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNsb25lZEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFxyXG4gICAgKiBTZWFyY2hlcyBmb3IgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgZWxlbWVudCBvZiB0aGUgY3VycmVudGx5IGFjdGl2ZSBlbGVtZW50IHRoYXQgaGFzIHRoZSBzcGVjaWZpZWQgQ1NTIGNsYXNzLlxyXG4gICAgKiBUaGlzIGZ1bmN0aW9uIHRyYXZlcnNlcyB1cCBmcm9tIHRoZSBhY3RpdmUgZWxlbWVudCBpbiB0aGUgRE9NIHRyZWUgYW5kIGNoZWNrcyBlYWNoIGFuY2VzdG9yIHRvIHNlZSBpZiBpdCBtYXRjaGVzXHJcbiAgICAqIHRoZSBzcGVjaWZpZWQgY2xhc3MgbmFtZS5cclxuICAgICpcclxuICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSAtIFRoZSBjbGFzcyBuYW1lIHRvIG1hdGNoIGFnYWluc3QgYW5jZXN0b3IgZWxlbWVudHMuXHJcbiAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudCB8IG51bGx9IFRoZSBjbG9zZXN0IGFuY2VzdG9yIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGNsYXNzLCBvciBudWxsIGlmIG5vIHN1Y2ggZWxlbWVudCBleGlzdHMuXHJcbiAgICAqXHJcbiAgICAqIEBleGFtcGxlXHJcbiAgICAqIC8vIFN1cHBvc2UgeW91IHdhbnQgdG8gZmluZCB0aGUgY2xvc2VzdCBmb3JtIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgY3VycmVudGx5IGZvY3VzZWQgaW5wdXQgZmllbGQ6XHJcbiAgICAqIGNvbnN0IGNsb3Nlc3RGb3JtID0gZmluZENsb3Nlc3RBbmNlc3Rvck9mQWN0aXZlRWxlbWVudEJ5Q2xhc3MoJ215LWZvcm0tY2xhc3MnKTtcclxuICAgICogY29uc29sZS5sb2coY2xvc2VzdEZvcm0pO1xyXG4gICAgKlxyXG4gICAgKiBAZGVzY3JpcHRpb25cclxuICAgICogVGhpcyBmdW5jdGlvbiBiZWdpbnMgYnkgb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50bHkgYWN0aXZlIGVsZW1lbnQgdXNpbmcgYGRvY3VtZW50LmFjdGl2ZUVsZW1lbnRgLlxyXG4gICAgKiBJZiB0aGVyZSBpcyBubyBhY3RpdmUgZWxlbWVudCwgb3IgdGhlIGFjdGl2ZSBlbGVtZW50IGRvZXMgbm90IGhhdmUgYW55IGFuY2VzdG9yIHdpdGggdGhlIHNwZWNpZmllZCBjbGFzcyxcclxuICAgICogdGhlIGZ1bmN0aW9uIHJldHVybnMgbnVsbC4gT3RoZXJ3aXNlLCBpdCBpdGVyYXRlcyB0aHJvdWdoIHRoZSBhbmNlc3RvcnMgb2YgdGhlIGFjdGl2ZSBlbGVtZW50IHVudGlsIGl0IGZpbmRzXHJcbiAgICAqIGFuIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGNsYXNzIG9yIHJlYWNoZXMgdGhlIHJvb3Qgb2YgdGhlIGRvY3VtZW50LiBUaGlzIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgaW4gY29tcGxleFxyXG4gICAgKiBmb3JtcyBvciBpbnRlcmFjdGl2ZSBhcmVhcyB3aGVyZSBjb250ZXh0LWJhc2VkIGFjdGlvbnMgZGVwZW5kIG9uIHNwZWNpZmljIHBhcnRzIG9mIHRoZSBET00gc3RydWN0dXJlLlxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBmaW5kQ2xvc2VzdEFuY2VzdG9yT2ZBY3RpdmVFbGVtZW50QnlDbGFzcyhjbGFzc05hbWU6IHN0cmluZyk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XHJcbiAgICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmICghYWN0aXZlRWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjdXJyZW50RWxlbWVudDogTm9kZSB8IG51bGwgPSBhY3RpdmVFbGVtZW50O1xyXG5cclxuICAgICAgICB3aGlsZSAoY3VycmVudEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gY3VycmVudEVsZW1lbnQucGFyZW50Tm9kZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogRmluZHMgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgY2xhc3MgbmFtZSBmcm9tIHRoZSBjdXJyZW50IHRleHQgc2VsZWN0aW9uLlxyXG4gICAgKiBJZiB0aGUgc2VsZWN0aW9uIGlzIGluIGEgdGV4dCBub2RlLCBpdCBjbGltYnMgdXAgdGhlIERPTSB0cmVlIHRvIGZpbmQgdGhlIGNsb3Nlc3QgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIHNwZWNpZmllZCBjbGFzcy5cclxuICAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VmdWwgZm9yIGNvbnRleHQtc2Vuc2l0aXZlIG9wZXJhdGlvbnMgYmFzZWQgb24gdGhlIGN1cnJlbnQgc2VsZWN0aW9uIGluIGRvY3VtZW50IGVkaXRpbmcgb3IgcHJvY2Vzc2luZyBlbnZpcm9ubWVudHMuXHJcbiAgICAqXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgLSBUaGUgY2xhc3MgbmFtZSB0byBzZWFyY2ggZm9yIGluIGFuY2VzdG9yIGVsZW1lbnRzLlxyXG4gICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCBudWxsfSBUaGUgY2xvc2VzdCBhbmNlc3RvciBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBjbGFzcywgb3IgbnVsbCBpZiBubyBzdWNoIGVsZW1lbnQgaXMgZm91bmQuXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGZpbmRDbG9zZXN0QW5jZXN0b3JPZlNlbGVjdGlvbkJ5Q2xhc3MoY2xhc3NOYW1lOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB8IG51bGwge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhIHNlbGVjdGlvbiBhbmQgaWYgaXQgaGFzIGF0IGxlYXN0IG9uZSByYW5nZVxyXG4gICAgICAgIGlmICghc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5yYW5nZUNvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBzdGFydGluZyBub2RlIG9mIHRoZSBzZWxlY3Rpb25cclxuICAgICAgICBsZXQgY3VycmVudEVsZW1lbnQ6IE5vZGUgfCBudWxsID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50IG5vZGUgaXMgYSB0ZXh0IG5vZGUsIHN0YXJ0IGZyb20gaXRzIHBhcmVudCBlbGVtZW50XHJcbiAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50ICYmIGN1cnJlbnRFbGVtZW50Lm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xyXG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGN1cnJlbnRFbGVtZW50LnBhcmVudE5vZGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBUcmF2ZXJzZSB1cCB0aGUgRE9NIHRyZWUgdG8gZmluZCB0aGUgY2xvc2VzdCBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBjbGFzc1xyXG4gICAgICAgIHdoaWxlIChjdXJyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudEVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmIChjdXJyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGN1cnJlbnRFbGVtZW50LnBhcmVudE5vZGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogUmVhcnJhbmdlIGNvbnRlbnQgYXJvdW5kIHRoZSBzcGxpdCBwb2ludCBiYXNlZCBvbiB0aGUgY3Vyc29yIHBvc2l0aW9uLlxyXG4gICAgKiBUaGlzIGZ1bmN0aW9uIGhhbmRsZXMgdGhlIHByb2Nlc3Mgb2Ygc3BsaXR0aW5nIHRoZSBjb250ZW50IGF0IHRoZSBjdXJzb3IsXHJcbiAgICAqIHRoZW4gcmVhcnJhbmdpbmcgdGhlIGNvbnRlbnQgYnkgZGVsZXRpbmcgYXBwcm9wcmlhdGUgcGFydHMgaW4gdGhlIG9yaWdpbmFsXHJcbiAgICAqIGFuZCBjbG9uZWQgbm9kZXMuIEl0IGVuc3VyZXMgdGhhdCBhZnRlciB0aGUgc3BsaXQsIHRoZSBvcmlnaW5hbCBub2RlIGNvbnRhaW5zXHJcbiAgICAqIG9ubHkgdGhlIGNvbnRlbnQgYmVmb3JlIHRoZSBjdXJzb3IgYW5kIHRoZSBjbG9uZWQgbm9kZSBjb250YWlucyB0aGUgY29udGVudCBhZnRlciB0aGUgY3Vyc29yLlxyXG4gICAgKiBJbXBvcnRhbnRseSwgdGhpcyBmdW5jdGlvbiBtYWludGFpbnMgdGhlIHZhbGlkaXR5IG9mIHRoZSBET00gc3RydWN0dXJlIGFmdGVyIG1vZGlmaWNhdGlvbnMsXHJcbiAgICAqIHByZXZlbnRpbmcgYW55IGRpc3J1cHRpb25zIGluIGRvY3VtZW50IHN0cnVjdHVyZSB0aGF0IGNvdWxkIGFmZmVjdCByZW5kZXJpbmcgb3IgZnVydGhlciBzY3JpcHRpbmcuXHJcbiAgICAqIFxyXG4gICAgKiBAcGFyYW0ge05vZGV9IGN1cnJlbnROb2RlIC0gVGhlIG5vZGUgY29udGFpbmluZyB0aGUgb3JpZ2luYWwgY29udGVudCBiZWZvcmUgdGhlIHNwbGl0LlxyXG4gICAgKiBAcGFyYW0ge05vZGV9IG5ld05vZGUgLSBUaGUgY2xvbmVkIG5vZGUgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIGNvbnRlbnQgYWZ0ZXIgdGhlIHNwbGl0LlxyXG4gICAgKiBAcmV0dXJucyB7dm9pZH0gVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCByZXR1cm4gYSB2YWx1ZTsgaXQgbW9kaWZpZXMgRE9NIG5vZGVzIGRpcmVjdGx5LlxyXG4gICAgKiBcclxuICAgICogQGV4YW1wbGVcclxuICAgICogLy8gQXNzdW1pbmcgY3VycmVudE5vZGUgaXMgYW4gZWxlbWVudCB3aXRoIHRleHQgY29udGVudCBhbmQgYSBjdXJzb3IgcG9zaXRpb24gd2l0aGluIGl0LFxyXG4gICAgKiAvLyBhbmQgbmV3Tm9kZSBpcyBpdHMgY2xvbmVkIGNvdW50ZXJwYXJ0OlxyXG4gICAgKiByZWFycmFuZ2VDb250ZW50QWZ0ZXJTcGxpdChjdXJyZW50Tm9kZSwgbmV3Tm9kZSk7XHJcbiAgICAqIFxyXG4gICAgKiBAZGVzY3JpcHRpb25cclxuICAgICogVGhpcyBmdW5jdGlvbiBpcyBhIHBhcnQgb2YgYW4gZWRpdGluZyBzeXN0ZW0gd2hlcmUgY29udGVudCBuZWVkcyB0byBiZSBkeW5hbWljYWxseVxyXG4gICAgKiBzcGxpdCBhbmQgcmVhcnJhbmdlZC4gSXQgdXNlcyBhIGN1cnNvci1iYXNlZCBhcHByb2FjaCB0byBkZXRlcm1pbmUgdGhlIHNwbGl0IHBvaW50LFxyXG4gICAgKiByZW1vdmVzIGNvbnRlbnQgZnJvbSB0aGUgb3JpZ2luYWwgYW5kIHRoZSBjbG9uZSBiYXNlZCBvbiB0aGUgY3Vyc29yJ3MgcG9zaXRpb24sXHJcbiAgICAqIGFuZCBzZXRzIHVwIHRoZSBub2RlcyBmb3Igc3Vic2VxdWVudCB1c2VyIGludGVyYWN0aW9ucy4gVGhlIERPTSByZW1haW5zIHZhbGlkIGFuZCB3ZWxsLWZvcm1lZCxcclxuICAgICogZW5zdXJpbmcgdGhhdCBzdWJzZXF1ZW50IG9wZXJhdGlvbnMsIHN1Y2ggYXMgZnVydGhlciBzcGxpdHMgb3Igc3R5bGUgY2hhbmdlcywgY2FuIGJlIHBlcmZvcm1lZFxyXG4gICAgKiB3aXRob3V0IGFkZGl0aW9uYWwgY2hlY2tzIG9yIGNvcnJlY3Rpb25zLlxyXG4gICAgKi9cclxuICAgIHN0YXRpYyByZWFycmFuZ2VDb250ZW50QWZ0ZXJTcGxpdChjdXJyZW50Tm9kZTogTm9kZSwgbmV3Tm9kZTogTm9kZSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGN1cnNvclBvc2l0aW9uID0gRE9NVXRpbHMuZ2V0Q3Vyc29yUG9zaXRpb24oY3VycmVudE5vZGUgYXMgTm9kZSk7XHJcbiAgICAgICAgY29uc3QgcmFuZ2VzMSA9IHRoaXMuc3BsaXRDb250ZW50QXRDdXJzb3JTZWxlY3Rpb24oY3VycmVudE5vZGUgYXMgTm9kZSk7XHJcblxyXG4gICAgICAgIC8vIGNoYW5nZSB0aGUgb3JpZ2luYWxcclxuICAgICAgICBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKT8ucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCk/LmFkZFJhbmdlKHJhbmdlczFbMV0pO1xyXG4gICAgICAgIGRvY3VtZW50LmdldFNlbGVjdGlvbigpPy5kZWxldGVGcm9tRG9jdW1lbnQoKTtcclxuXHJcbiAgICAgICAgLy8gY2hhbmdlIHRoZSBjbG9uZVxyXG4gICAgICAgIGlmIChuZXdOb2RlICYmIGN1cnNvclBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yUG9zaXRpb24obmV3Tm9kZSwgY3Vyc29yUG9zaXRpb24pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcmFuZ2VzMiA9IHRoaXMuc3BsaXRDb250ZW50QXRDdXJzb3JTZWxlY3Rpb24obmV3Tm9kZSBhcyBOb2RlKTtcclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldFNlbGVjdGlvbigpPy5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCk/LmFkZFJhbmdlKHJhbmdlczJbMF0pO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKT8uZGVsZXRlRnJvbURvY3VtZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDYWxjdWxhdGVzIHRoZSBjdXJzb3IgcG9zaXRpb24gd2l0aGluIHRoZSBzcGVjaWZpZWQgbm9kZS4gVGhlIHBvc2l0aW9uIGlzIGRldGVybWluZWRcclxuICAgICogYnkgY291bnRpbmcgY2hhcmFjdGVycyBmcm9tIHRoZSBzdGFydCBvZiB0aGUgbm9kZSB0byB0aGUgY3Vyc29yJ3MgbG9jYXRpb24gd2l0aGluIHRoZSBub2RlLlxyXG4gICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGVzc2VudGlhbCBmb3Igc2NlbmFyaW9zIHdoZXJlIHByZWNpc2UgdGV4dCBtYW5pcHVsYXRpb24gaXMgcmVxdWlyZWQsIHN1Y2ggYXNcclxuICAgICogdGV4dCBlZGl0b3JzIG9yIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCBjb250ZW50IGZpZWxkcy5cclxuICAgICogXHJcbiAgICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIFRoZSBub2RlIHdpdGhpbiB3aGljaCB0byBjYWxjdWxhdGUgdGhlIGN1cnNvciBwb3NpdGlvbi5cclxuICAgICogQHJldHVybnMge251bWJlciB8IG51bGx9IFRoZSB6ZXJvLWJhc2VkIGluZGV4IHJlcHJlc2VudGluZyB0aGUgY3Vyc29yJ3MgcG9zaXRpb24gd2l0aGluIHRoZSBub2RlLFxyXG4gICAgKiBvciBudWxsIGlmIHRoZSBzZWxlY3Rpb24gZG9lcyBub3QgaW50ZXJzZWN0IHdpdGggdGhlIHNwZWNpZmllZCBub2RlIG9yIGlmIHRoZXJlIGFyZSBhbnkgaXNzdWVzXHJcbiAgICAqIHJldHJpZXZpbmcgdGhlIHNlbGVjdGlvbi5cclxuICAgICogXHJcbiAgICAqIEBleGFtcGxlXHJcbiAgICAqIC8vIEFzc3VtaW5nIHRoZXJlIGlzIGEgY29udGVudGVkaXRhYmxlIGVsZW1lbnQgYW5kIHRoZSBjdXJzb3IgaXMgaW5zaWRlIGl0OlxyXG4gICAgKiBjb25zdCBwb3NpdGlvbiA9IGdldEN1cnNvclBvc2l0aW9uKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteS1lZGl0YWJsZS1kaXYnKSk7XHJcbiAgICAqIGNvbnNvbGUubG9nKCdDdXJzb3IgcG9zaXRpb246JywgcG9zaXRpb24pO1xyXG4gICAgKiBcclxuICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAqIFRoaXMgZnVuY3Rpb24gcmV0cmlldmVzIHRoZSBjdXJyZW50IHNlbGVjdGlvbidzIHJhbmdlIGFuZCBkZXRlcm1pbmVzIGlmIGl0IGludGVyc2VjdHMgd2l0aCB0aGVcclxuICAgICogZ2l2ZW4gbm9kZS4gSWYgYW4gaW50ZXJzZWN0aW9uIGlzIGZvdW5kLCBpdCB1c2VzIGEgVHJlZVdhbGtlciB0byB0cmF2ZXJzZSB0aGUgdGV4dCBub2RlcyB1bmRlclxyXG4gICAgKiB0aGUgZ2l2ZW4gbm9kZSwgY291bnRpbmcgY2hhcmFjdGVycyB1bnRpbCBpdCByZWFjaGVzIHRoZSBzdGFydCBjb250YWluZXIgb2YgdGhlIHJhbmdlLlxyXG4gICAgKiBUaGlzIGFsbG93cyB0aGUgZnVuY3Rpb24gdG8gcmV0dXJuIGFuIGFjY3VyYXRlIGNoYXJhY3RlciBpbmRleCBldmVuIGluIHRoZSBwcmVzZW5jZSBvZiBuZXN0ZWQgZWxlbWVudHNcclxuICAgICogb3IgbWl4ZWQgY29udGVudCAodGV4dCBjb21iaW5lZCB3aXRoIGVsZW1lbnRzKS5cclxuICAgICovXHJcbiAgICBzdGF0aWMgZ2V0Q3Vyc29yUG9zaXRpb24obm9kZTogTm9kZSk6IG51bWJlciB8IG51bGwge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICBpZiAoIXNlbGVjdGlvbiB8fCAhbm9kZSkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XHJcblxyXG4gICAgICAgIGlmICghcmFuZ2UuaW50ZXJzZWN0c05vZGUobm9kZSkpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICBjb25zdCB0cmVlV2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcclxuICAgICAgICAgICAgbm9kZSxcclxuICAgICAgICAgICAgTm9kZUZpbHRlci5TSE9XX1RFWFQsXHJcbiAgICAgICAgICAgIHsgYWNjZXB0Tm9kZTogbm9kZSA9PiBOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCBjaGFyQ291bnQgPSAwO1xyXG4gICAgICAgIGxldCBjdXJyZW50Tm9kZSA9IHRyZWVXYWxrZXIuZmlyc3RDaGlsZCgpO1xyXG5cclxuICAgICAgICB3aGlsZSAoY3VycmVudE5vZGUpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlID09PSByYW5nZS5zdGFydENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgY2hhckNvdW50ICs9IHJhbmdlLnN0YXJ0T2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNoYXJDb3VudCArPSBjdXJyZW50Tm9kZS50ZXh0Q29udGVudD8ubGVuZ3RoIHx8IDA7XHJcbiAgICAgICAgICAgIGN1cnJlbnROb2RlID0gdHJlZVdhbGtlci5uZXh0Tm9kZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNoYXJDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0cyB0aGUgY3Vyc29yIHBvc2l0aW9uIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgYmFzZWQgb24gYSBjaGFyYWN0ZXIgaW5kZXguXHJcbiAgICAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyBhIG5ldyByYW5nZSBhbmQgdXNlcyBhIFRyZWVXYWxrZXIgdG8gbmF2aWdhdGUgdGhyb3VnaCB0aGUgdGV4dCBub2Rlc1xyXG4gICAgKiB3aXRoaW4gdGhlIGVsZW1lbnQgdG8gZmluZCB0aGUgZXhhY3QgbG9jYXRpb24gdG8gc2V0IHRoZSBjdXJzb3IuIFRoZSBwb3NpdGlvbiBpcyBzZXRcclxuICAgICogYnkgY291bnRpbmcgY2hhcmFjdGVycyB1cCB0byB0aGUgc3BlY2lmaWVkIGluZGV4LlxyXG4gICAgKiBcclxuICAgICogQHBhcmFtIHtOb2RlfSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgd2l0aGluIHdoaWNoIHRvIHNldCB0aGUgY3Vyc29yIHBvc2l0aW9uLlxyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcG9zaXRpb24gLSBUaGUgemVyby1iYXNlZCBjaGFyYWN0ZXIgaW5kZXggd2hlcmUgdGhlIGN1cnNvciBzaG91bGQgYmUgcG9zaXRpb25lZC5cclxuICAgICogQHJldHVybnMge3ZvaWR9IFRoaXMgZnVuY3Rpb24gZG9lcyBub3QgcmV0dXJuIGEgdmFsdWU7IGl0IGRpcmVjdGx5IG1vZGlmaWVzIHRoZSBzZWxlY3Rpb24gd2l0aGluIHRoZSBkb2N1bWVudC5cclxuICAgICogXHJcbiAgICAqIEBleGFtcGxlXHJcbiAgICAqIC8vIEFzc3VtaW5nIHRoZXJlIGlzIGEgcGFyYWdyYXBoIGVsZW1lbnQgYW5kIHlvdSB3YW50IHRvIHNldCB0aGUgY3Vyc29yIGF0IHRoZSAxMHRoIGNoYXJhY3RlcjpcclxuICAgICogY29uc3QgcGFyYWdyYXBoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215LXBhcmFncmFwaCcpO1xyXG4gICAgKiBzZXRDdXJzb3JQb3NpdGlvbihwYXJhZ3JhcGgsIDEwKTtcclxuICAgICogXHJcbiAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgKiBUaGUgZnVuY3Rpb24gY2xlYXJzIGFueSBleGlzdGluZyBzZWxlY3Rpb25zLCBjYWxjdWxhdGVzIHRoZSBjb3JyZWN0IHRleHQgbm9kZSBhbmQgb2Zmc2V0IHdpdGhpbiB0aGF0IG5vZGUsXHJcbiAgICAqIGFuZCB0aGVuIHNldHMgYSBuZXcgcmFuZ2UgYXQgdGhhdCBwb3NpdGlvbi4gSXQgZW5zdXJlcyB0aGF0IHRoZSBjdXJzb3IgaXMgbW92ZWQgYWNjdXJhdGVseSwgZXZlbiB3aXRoaW5cclxuICAgICogY29tcGxleCBuZXN0ZWQgY29udGVudCBzdHJ1Y3R1cmVzLiBUaGlzIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHRleHQgZWRpdGluZyBhcHBsaWNhdGlvbnMgYW5kIGR5bmFtaWNcclxuICAgICogY29udGVudCBtYW5hZ2VtZW50IHN5c3RlbXMgd2hlcmUgcHJlY2lzZSBjdXJzb3IgY29udHJvbCBpcyByZXF1aXJlZC5cclxuICAgICovXHJcbiAgICBzdGF0aWMgc2V0Q3Vyc29yUG9zaXRpb24oZWxlbWVudDogTm9kZSwgcG9zaXRpb246IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICBpZiAoIXNlbGVjdGlvbikgcmV0dXJuO1xyXG5cclxuICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcclxuICAgICAgICBjb25zdCB0cmVlV2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcclxuICAgICAgICAgICAgZWxlbWVudCxcclxuICAgICAgICAgICAgTm9kZUZpbHRlci5TSE9XX1RFWFQsXHJcbiAgICAgICAgICAgIHsgYWNjZXB0Tm9kZTogKCkgPT4gTm9kZUZpbHRlci5GSUxURVJfQUNDRVBUIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBsZXQgY3VycmVudE5vZGUgPSB0cmVlV2Fsa2VyLm5leHROb2RlKCk7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRQb3MgPSAwO1xyXG5cclxuICAgICAgICB3aGlsZSAoY3VycmVudE5vZGUpIHtcclxuICAgICAgICAgICAgY29uc3QgdGV4dExlbmd0aCA9IGN1cnJlbnROb2RlLnRleHRDb250ZW50Py5sZW5ndGggfHwgMDtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRQb3MgKyB0ZXh0TGVuZ3RoID49IHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChjdXJyZW50Tm9kZSwgcG9zaXRpb24gLSBjdXJyZW50UG9zKTtcclxuICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudFBvcyArPSB0ZXh0TGVuZ3RoO1xyXG4gICAgICAgICAgICBjdXJyZW50Tm9kZSA9IHRyZWVXYWxrZXIubmV4dE5vZGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFJldHJpZXZlcyB0aGUgY29udGVudCB0eXBlIGF0dHJpYnV0ZSBmcm9tIHRoZSBjdXJyZW50bHkgYWN0aXZlIGNvbnRlbnQgYmxvY2sgaW4gdGhlIGRvY3VtZW50LlxyXG4gICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHByaW1hcmlseSB1c2VkIGluIGNvbnRleHRzIHdoZXJlIGRpZmZlcmVudCBhY3Rpb25zIG9yIGJlaGF2aW9ycyBhcmUgY29uZGl0aW9uZWRcclxuICAgICogdXBvbiB0aGUgdHlwZSBvZiBjb250ZW50IHRoZSB1c2VyIGlzIGludGVyYWN0aW5nIHdpdGguXHJcbiAgICAqXHJcbiAgICAqIEByZXR1cm5zIHtzdHJpbmcgfCBudWxsfSBUaGUgdmFsdWUgb2YgdGhlICdkYXRhLWNvbnRlbnQtdHlwZScgYXR0cmlidXRlIGlmIGl0IGV4aXN0cyBvbiB0aGUgY29udGVudCBlbGVtZW50LFxyXG4gICAgKiBvciBudWxsIGlmIHRoZSBhdHRyaWJ1dGUgaXMgbm90IGZvdW5kIG9yIHRoZSBjb250ZW50IGVsZW1lbnQgZG9lcyBub3QgZXhpc3QuXHJcbiAgICAqXHJcbiAgICAqIEBleGFtcGxlXHJcbiAgICAqIC8vIElmIHlvdSBuZWVkIHRvIGFwcGx5IHNwZWNpZmljIGxvZ2ljIGJhc2VkIG9uIHRoZSB0eXBlIG9mIGNvbnRlbnQgY3VycmVudGx5IGJlaW5nIGVkaXRlZDpcclxuICAgICogY29uc3QgY29udGVudFR5cGUgPSBnZXRDb250ZW50VHlwZUZyb21BY3RpdmVFbGVtZW50KCk7XHJcbiAgICAqIGlmIChjb250ZW50VHlwZSA9PT0gJ3AnKSB7XHJcbiAgICAqICAgICBjb25zb2xlLmxvZygnRWRpdGluZyBhIHRleHQgYmxvY2snKTtcclxuICAgICogfSBlbHNlIGlmIChjb250ZW50VHlwZSA9PT0gJ2gxJykge1xyXG4gICAgKiAgICAgY29uc29sZS5sb2coJ0VkaXRpbmcgYW4gaGVhZGluZycpO1xyXG4gICAgKiB9XHJcbiAgICAqXHJcbiAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgKiBUaGlzIGZ1bmN0aW9uIGJlZ2lucyBieSBjYWxsaW5nIGBnZXRDdXJyZW50QWN0aXZlQmxvY2soKWAsIHdoaWNoIHNob3VsZCByZXR1cm4gdGhlIGN1cnJlbnRseSBhY3RpdmUgYmxvY2sgZWxlbWVudFxyXG4gICAgKiBpbiB0aGUgVUkuIEl0IHRoZW4gc2VhcmNoZXMgZm9yIGFuIGVsZW1lbnQgd2l0aGluIHRoaXMgYmxvY2sgd2l0aCB0aGUgY2xhc3MgJy5qb2hhbm5lcy1jb250ZW50LWVsZW1lbnQnLFxyXG4gICAgKiB3aGljaCBpcyBleHBlY3RlZCB0byBjYXJyeSBhICdkYXRhLWNvbnRlbnQtdHlwZScgYXR0cmlidXRlIHNwZWNpZnlpbmcgdGhlIHR5cGUgb2YgY29udGVudCAoZS5nLiwgJ3RleHQnLCAnaW1hZ2UnLCBldGMuKS5cclxuICAgICogVGhlIGZ1bmN0aW9uIHJldHJpZXZlcyBhbmQgcmV0dXJucyB0aGUgdmFsdWUgb2YgdGhpcyBhdHRyaWJ1dGUsIG9yIG51bGwgaWYgdGhlIGF0dHJpYnV0ZSBpcyBub3QgcHJlc2VudC5cclxuICAgICovXHJcbiAgICBzdGF0aWMgZ2V0Q29udGVudFR5cGVGcm9tQWN0aXZlRWxlbWVudCgpOiBzdHJpbmcgfCBudWxsIHtcclxuICAgICAgICBjb25zdCBibG9jayA9IERPTVV0aWxzLmdldEN1cnJlbnRBY3RpdmVCbG9jaygpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRFbGVtZW50ID0gYmxvY2s/LnF1ZXJ5U2VsZWN0b3IoXCIuam9oYW5uZXMtY29udGVudC1lbGVtZW50XCIpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGlmICghY29udGVudEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gY29udGVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jb250ZW50LXR5cGVcIik7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnRUeXBlIHx8IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNwbGl0cyB0aGUgY29udGVudCBvZiB0aGUgc3BlY2lmaWVkIHJvb3Qgbm9kZSBpbnRvIHR3byByYW5nZXMgYmFzZWQgb24gdGhlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uLlxyXG4gICAgKiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgdHdvIHJhbmdlczogb25lIGZvciB0aGUgY29udGVudCBiZWZvcmUgdGhlIGN1cnNvciBhbmQgb25lIGZvciB0aGUgY29udGVudCBhZnRlci5cclxuICAgICogVGhlIG9wZXJhdGlvbiBpcyBsaW1pdGVkIHRvIHRoZSBib3VuZGFyaWVzIG9mIHRoZSBwcm92aWRlZCByb290IG5vZGUsIGVuc3VyaW5nIHRoYXQgdGhlIGRpdmlzaW9uIHJlc3BlY3RzXHJcbiAgICAqIHRoZSBzdHJ1Y3R1cmFsIGludGVncml0eSBvZiB0aGUgY29udGVudCB3aXRoaW4gdGhhdCBub2RlLlxyXG4gICAgKiBcclxuICAgICogQHBhcmFtIHtOb2RlfSByb290Tm9kZSAtIFRoZSByb290IG5vZGUgd2l0aGluIHdoaWNoIHRoZSBjb250ZW50IGlzIHRvIGJlIHNwbGl0LiBUaGlzIG5vZGUgc2V0cyB0aGUgYm91bmRhcnkgZm9yIHRoZSBzcGxpdCBvcGVyYXRpb24uXHJcbiAgICAqIEByZXR1cm5zIHtSYW5nZVtdfSBBbiBhcnJheSBvZiB0d28gYFJhbmdlYCBvYmplY3RzOiB0aGUgZmlyc3QgY29udGFpbmluZyB0aGUgY29udGVudCBiZWZvcmUgdGhlIGN1cnNvciwgYW5kIHRoZSBzZWNvbmQgY29udGFpbmluZyB0aGUgY29udGVudCBhZnRlciB0aGUgY3Vyc29yLlxyXG4gICAgKiBcclxuICAgICogQGV4YW1wbGVcclxuICAgICogLy8gQXNzdW1lIHRoZXJlIGlzIGEgZGl2IGVsZW1lbnQgd2l0aCBjb250ZW50IGFuZCBhIGN1cnNvciBwb3NpdGlvbiBzb21ld2hlcmUgaW5zaWRlIGl0OlxyXG4gICAgKiBjb25zdCBjb250ZW50RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnREaXYnKTtcclxuICAgICogY29uc3QgcmFuZ2VzID0gc3BsaXRDb250ZW50QXRDdXJzb3JTZWxlY3Rpb24oY29udGVudERpdik7XHJcbiAgICAqIGNvbnNvbGUubG9nKCdDb250ZW50IGJlZm9yZSBjdXJzb3I6JywgcmFuZ2VzWzBdLmNsb25lQ29udGVudHMoKS50ZXh0Q29udGVudCk7XHJcbiAgICAqIGNvbnNvbGUubG9nKCdDb250ZW50IGFmdGVyIGN1cnNvcjonLCByYW5nZXNbMV0uY2xvbmVDb250ZW50cygpLnRleHRDb250ZW50KTtcclxuICAgICogXHJcbiAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgKiBUaGlzIGZ1bmN0aW9uIHJldHJpZXZlcyB0aGUgY3VycmVudCBzZWxlY3Rpb24ncyByYW5nZSBhbmQgY2hlY2tzIGlmIGl0IGludGVyc2VjdHMgd2l0aCB0aGUgcHJvdmlkZWQgcm9vdE5vZGUuXHJcbiAgICAqIElmIHNvLCBpdCBjb25zdHJ1Y3RzIHR3byBuZXcgcmFuZ2VzIHVzaW5nIHRoZSByb290Tm9kZSBhcyB0aGUgY29udGV4dDpcclxuICAgICogLSBUaGUgZmlyc3QgcmFuZ2UgY2FwdHVyZXMgYWxsIGNvbnRlbnQgZnJvbSB0aGUgc3RhcnQgb2Ygcm9vdE5vZGUgdXAgdG8gdGhlIGN1cnNvcidzIHN0YXJ0LlxyXG4gICAgKiAtIFRoZSBzZWNvbmQgcmFuZ2UgY2FwdHVyZXMgYWxsIGNvbnRlbnQgZnJvbSB0aGUgY3Vyc29yJ3MgZW5kIHRvIHRoZSBlbmQgb2Ygcm9vdE5vZGUsIG9wdGlvbmFsbHkgZXh0ZW5kaW5nIHRvIHRoZSBsYXN0IGNoaWxkIG9mIHJvb3ROb2RlIGlmIG5lY2Vzc2FyeS5cclxuICAgICogVGhpcyBpcyB1c2VmdWwgZm9yIGFwcGxpY2F0aW9ucyBpbnZvbHZpbmcgcmljaCB0ZXh0IGVkaXRpbmcgb3IgYW55IHNjZW5hcmlvIHdoZXJlIGNvbnRlbnQgbmVlZHMgdG8gYmUgc2VnbWVudGVkIGFyb3VuZCBhIHVzZXIncyBwb2ludCBvZiBmb2N1cy5cclxuICAgICovXHJcbiAgICBzdGF0aWMgc3BsaXRDb250ZW50QXRDdXJzb3JTZWxlY3Rpb24ocm9vdE5vZGU6IE5vZGUpOiBSYW5nZVtdIHtcclxuICAgICAgICBjb25zdCByYW5nZXM6IFJhbmdlW10gPSBbXTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgIGlmICghc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5yYW5nZUNvdW50ID09PSAwKSByZXR1cm4gcmFuZ2VzO1xyXG5cclxuICAgICAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xyXG5cclxuICAgICAgICBjb25zdCByYW5nZUJlZm9yZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgcmFuZ2VCZWZvcmUuc2VsZWN0Tm9kZUNvbnRlbnRzKHJvb3ROb2RlKTtcclxuICAgICAgICByYW5nZUJlZm9yZS5zZXRFbmQocmFuZ2Uuc3RhcnRDb250YWluZXIsIHJhbmdlLnN0YXJ0T2Zmc2V0KTtcclxuXHJcbiAgICAgICAgY29uc3QgcmFuZ2VBZnRlciA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgcmFuZ2VBZnRlci5zZWxlY3ROb2RlQ29udGVudHMocm9vdE5vZGUpO1xyXG4gICAgICAgIHJhbmdlQWZ0ZXIuc2V0U3RhcnQocmFuZ2UuZW5kQ29udGFpbmVyLCByYW5nZS5lbmRPZmZzZXQpO1xyXG4gICAgICAgIGlmIChyb290Tm9kZS5sYXN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgcmFuZ2VBZnRlci5zZXRFbmRBZnRlcihyb290Tm9kZS5sYXN0Q2hpbGQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmFuZ2VzLnB1c2gocmFuZ2VCZWZvcmUpO1xyXG4gICAgICAgIHJhbmdlcy5wdXNoKHJhbmdlQWZ0ZXIpO1xyXG5cclxuICAgICAgICByZXR1cm4gcmFuZ2VzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBQbGFjZXMgdGhlIGN1cnNvciBhdCB0aGUgc3RhcnQgb2YgYSBzcGVjaWZpZWQgZWRpdGFibGUgSFRNTCBlbGVtZW50LiBUaGlzIGZ1bmN0aW9uIGVuc3VyZXMgdGhhdCBpZiB0aGUgZWxlbWVudCBpcyBcclxuICAgICogY29udGVudC1lZGl0YWJsZSwgdGhlIGN1cnNvciBpcyBwb3NpdGlvbmVkIGF0IHRoZSB2ZXJ5IGJlZ2lubmluZy4gVGhpcyBpcyBlc3BlY2lhbGx5IHVzZWZ1bCBpbiB1c2VyIGludGVyZmFjZXNcclxuICAgICogd2hlcmUgdGV4dCBlZGl0aW5nIGNhcGFiaWxpdGllcyBhcmUgZHluYW1pY2FsbHkgZW5hYmxlZCwgYW5kIGltbWVkaWF0ZSB1c2VyIGludGVyYWN0aW9uIGlzIGV4cGVjdGVkLlxyXG4gICAgKlxyXG4gICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlZGl0YWJsZUVsZW1lbnQgLSBUaGUgY29udGVudC1lZGl0YWJsZSBIVE1MIGVsZW1lbnQgd2hlcmUgdGhlIGN1cnNvciBzaG91bGQgYmUgcGxhY2VkIGF0IHRoZSBzdGFydC5cclxuICAgICogQHJldHVybnMge3ZvaWR9IFRoaXMgZnVuY3Rpb24gZG9lcyBub3QgcmV0dXJuIGEgdmFsdWU7IGl0IGRpcmVjdGx5IG1hbmlwdWxhdGVzIHRoZSBET00gYW5kIHNlbGVjdGlvbiBzdGF0ZS5cclxuICAgICpcclxuICAgICogQGV4YW1wbGVcclxuICAgICogLy8gQXNzdW1pbmcgdGhlcmUgaXMgYSBjb250ZW50LWVkaXRhYmxlIHBhcmFncmFwaCBpbiB0aGUgZG9jdW1lbnQ6XHJcbiAgICAqIGNvbnN0IGVkaXRhYmxlUGFyYWdyYXBoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRhYmxlUGFyYWdyYXBoJyk7XHJcbiAgICAqIHBsYWNlQ3Vyc29yQXRTdGFydE9mRWRpdGFibGVFbGVtZW50KGVkaXRhYmxlUGFyYWdyYXBoKTtcclxuICAgICpcclxuICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAqIFRoaXMgZnVuY3Rpb24gZmlyc3QgY2hlY2tzIGlmIHRoZSBgZWRpdGFibGVFbGVtZW50YCBpcyBjb250ZW50LWVkaXRhYmxlLiBJZiBpdCBpcyBub3QsIGEgd2FybmluZyBpcyBsb2dnZWQgdG8gdGhlIGNvbnNvbGUuXHJcbiAgICAqIElmIHRoZSBlbGVtZW50IGlzIGVkaXRhYmxlLCBpdDpcclxuICAgICogMS4gU2V0cyBmb2N1cyBvbiB0aGUgZWxlbWVudCB0byBlbnN1cmUgdGhhdCBpdCBpcyByZWFkeSBmb3IgdXNlciBpbnB1dC5cclxuICAgICogMi4gQ3JlYXRlcyBhIG5ldyBSYW5nZSBvYmplY3QsIHNlbGVjdHMgYWxsIHRoZSBjb250ZW50cyBvZiB0aGUgZWxlbWVudCwgYW5kIGNvbGxhcHNlcyB0aGlzIHJhbmdlIHRvIHRoZSBzdGFydCBvZiB0aGUgZWxlbWVudC5cclxuICAgICogMy4gQ2xlYXJzIGFueSBleGlzdGluZyBzZWxlY3Rpb25zIGFuZCBhcHBsaWVzIHRoZSBuZXcgcmFuZ2UsIGVmZmVjdGl2ZWx5IHBvc2l0aW9uaW5nIHRoZSBjdXJzb3IgYXQgdGhlIHN0YXJ0IG9mIHRoZSBlbGVtZW50LlxyXG4gICAgKiBUaGlzIGFwcHJvYWNoIGlzIGNydWNpYWwgZm9yIGVkaXRpbmcgaW50ZXJmYWNlcywgZW5zdXJpbmcgdGhhdCB1c2VyIGludGVyYWN0aW9uIGlzIGludHVpdGl2ZSBhbmQgaW1tZWRpYXRlbHkgcmVzcG9uc2l2ZS5cclxuICAgICovXHJcbiAgICBzdGF0aWMgcGxhY2VDdXJzb3JBdFN0YXJ0T2ZFZGl0YWJsZUVsZW1lbnQoZWRpdGFibGVFbGVtZW50OiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZWRpdGFibGVFbGVtZW50LmlzQ29udGVudEVkaXRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0YWJsZUVsZW1lbnQuZm9jdXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWRpdGFibGVFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbj8ucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24/LmFkZFJhbmdlKHJhbmdlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRoZSBlbGVtZW50IGlzIG5vdCBlZGl0YWJsZS5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0cyB0aGUgZm9jdXMgYW5kIGN1cnNvciBwb3NpdGlvbiB0byB0aGUgZW5kIG9mIHRoZSB0ZXh0IHdpdGhpbiBhIHNwZWNpZmllZCBjb250ZW50LWVkaXRhYmxlIEhUTUwgZWxlbWVudC5cclxuICAgICogVGhpcyBtZXRob2QgaXMgc3BlY2lmaWNhbGx5IGRlc2lnbmVkIHRvIGhhbmRsZSBjb250ZW50LWVkaXRhYmxlIGVsZW1lbnRzIGJ5IHBvc2l0aW9uaW5nIHRoZSBjdXJzb3JcclxuICAgICogYXQgdGhlIHZlcnkgZW5kIG9mIHRoZSBlbGVtZW50J3MgY29udGVudCwgcmVnYXJkbGVzcyBvZiB0aGUgY29udGVudCdzIGNvbXBvc2l0aW9uICh0ZXh0LCBlbGVtZW50cywgZXRjLikuXHJcbiAgICAqXHJcbiAgICAqIFRoZSBmdW5jdGlvbiBjaGVja3MgaWYgdGhlIHByb3ZpZGVkIGVsZW1lbnQgaXMgY29udGVudC1lZGl0YWJsZS4gSWYgaXQgaXMsIGl0IHVzZXMgYHJlcXVlc3RBbmltYXRpb25GcmFtZWBcclxuICAgICogdG8gZW5zdXJlIHRoYXQgYWxsIERPTSB1cGRhdGVzIGhhdmUgY29tcGxldGVkIGJlZm9yZSBzZXR0aW5nIGZvY3VzIGFuZCBhZGp1c3RpbmcgdGhlIGN1cnNvciBwb3NpdGlvbi5cclxuICAgICogSXQgdGhlbiBjcmVhdGVzIGEgcmFuZ2Ugc3Bhbm5pbmcgdGhlIGNvbnRlbnQgb2YgdGhlIGVsZW1lbnQsIGZpbmRzIHRoZSBkZWVwZXN0IGxhc3Qgbm9kZSwgYW5kIHNldHMgdGhlXHJcbiAgICAqIGN1cnNvciBwb3NpdGlvbiBhdCB0aGUgZW5kIG9mIHRoaXMgbm9kZS4gVGhpcyBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciByaWNoIHRleHQgZWRpdG9ycyBvciBhbnkgYXBwbGljYXRpb25cclxuICAgICogdGhhdCByZXF1aXJlcyBwcmVjaXNlIGNvbnRyb2wgb3ZlciBjdXJzb3IgcGxhY2VtZW50IGluIGVkaXRhYmxlIGNvbnRlbnQuXHJcbiAgICAqXHJcbiAgICAqIElmIHRoZSBlbGVtZW50IGlzIG5vdCBjb250ZW50LWVkaXRhYmxlLCBhIHdhcm5pbmcgaXMgbG9nZ2VkIHRvIHRoZSBjb25zb2xlIGluZGljYXRpbmcgdGhhdCB0aGUgZWxlbWVudCBjYW5ub3QgYmUgZWRpdGVkLlxyXG4gICAgKlxyXG4gICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250ZW50QmxvY2sgLSBUaGUgY29udGVudC1lZGl0YWJsZSBIVE1MIGVsZW1lbnQgd2hlcmUgdGhlIGN1cnNvciB3aWxsIGJlIHBsYWNlZCBhdCB0aGUgZW5kLlxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBwbGFjZUN1cnNvckF0RW5kT2ZFZGl0YWJsZUVsZW1lbnQoY29udGVudEJsb2NrOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGlmIChjb250ZW50QmxvY2suaXNDb250ZW50RWRpdGFibGUpIHtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRCbG9jay5mb2N1cygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoY29udGVudEJsb2NrKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgbGFzdE5vZGU6IE5vZGUgfCBudWxsID0gY29udGVudEJsb2NrO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGxhc3ROb2RlLmxhc3RDaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3ROb2RlID0gbGFzdE5vZGUubGFzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZChsYXN0Tm9kZSwgbGFzdE5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFID8gbGFzdE5vZGUudGV4dENvbnRlbnQhLmxlbmd0aCA6IDApO1xyXG4gICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbj8ucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24/LmFkZFJhbmdlKHJhbmdlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGhlIGVsZW1lbnQgaXMgbm90IGVkaXRhYmxlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEN1cnJlbnRBY3RpdmVCbG9jaygpOiBFbGVtZW50IHwgbnVsbCB7XHJcblxyXG4gICAgICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xyXG5cclxuICAgICAgICBpZiAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuY2xvc2VzdChcIi5ibG9ja1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpc1NlbGVjdGVkVGV4dERlc2NlbmRhbnRPZihwYXJlbnRTZWxlY3Rvcjogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCk7XHJcblxyXG4gICAgICAgIGlmICghc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghc2VsZWN0aW9uLnJhbmdlQ291bnQpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcclxuICAgICAgICBsZXQgZWxlbWVudDogTm9kZSB8IG51bGwgPSByYW5nZS5zdGFydENvbnRhaW5lcjtcclxuXHJcbiAgICAgICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIChlbGVtZW50IGFzIEVsZW1lbnQpLmNsb3Nlc3QocGFyZW50U2VsZWN0b3IpICE9PSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZW1vdmVGaWx0ZXJUZXh0KCk6IG51bWJlciB8IG51bGwge1xyXG4gICAgICAgIGxldCBsYXN0U2xhc2hQb3NpdGlvbjogbnVtYmVyIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG5cclxuICAgICAgICBpZiAoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xyXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFICYmIGNvbnRhaW5lci5wYXJlbnRFbGVtZW50Py5pc0NvbnRlbnRFZGl0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGU6IE5vZGUgfCBudWxsID0gY29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgbGV0IG9mZnNldCA9IHJhbmdlLnN0YXJ0T2Zmc2V0O1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaWxlIChub2RlICYmIG9mZnNldCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0QmVmb3JlQ3Vyc29yID0gbm9kZS50ZXh0Q29udGVudD8uc3Vic3RyaW5nKDAsIG9mZnNldCkgfHwgXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0U2xhc2hQb3NpdGlvbiA9IHRleHRCZWZvcmVDdXJzb3IubGFzdEluZGV4T2YoXCIvXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFNsYXNoUG9zaXRpb24gIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIGxhc3RTbGFzaFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuZGVsZXRlQ29udGVudHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gbm9kZS5wYXJlbnROb2RlPy50ZXh0Q29udGVudD8ubGFzdEluZGV4T2YoXCIvXCIpIHx8IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGhlIGN1cnNvciBpcyBub3Qgd2l0aGluIGEgY29udGVudEVkaXRhYmxlIGVsZW1lbnQgb3IgYSB0ZXh0IG5vZGUuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiTm8gYWN0aXZlIHNlbGVjdGlvbi5cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbGFzdFNsYXNoUG9zaXRpb247XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBzdGF0aWMgZmluZENsaWNrZWRFbGVtZW50T3JBbmNlc3RvckJ5RGF0YUNvbnRlbnRUeXBlKGV2ZW50OiBNb3VzZUV2ZW50LCBkYXRhQ29udGVudFR5cGU6IHN0cmluZyk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XHJcbiAgICAgICAgbGV0IGNsaWNrZWRFbGVtZW50ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG5cclxuICAgICAgICBpZiAoY2xpY2tlZEVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XHJcbiAgICAgICAgICAgIGNsaWNrZWRFbGVtZW50ID0gY2xpY2tlZEVsZW1lbnQucGFyZW50RWxlbWVudCE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2xpY2tlZEVsZW1lbnQuZGF0YXNldC5jb250ZW50VHlwZSA9PT0gZGF0YUNvbnRlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjbGlja2VkRWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjdXJyZW50RWxlbWVudCA9IGNsaWNrZWRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudC5kYXRhc2V0LmNvbnRlbnRUeXBlID09PSBkYXRhQ29udGVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGN1cnJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZmluZENsaWNrZWRFbGVtZW50T3JBbmNlc3RvckJ5SWQoZXZlbnQ6IE1vdXNlRXZlbnQsIGlkOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB8IG51bGwge1xyXG4gICAgICAgIGxldCBjbGlja2VkRWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKGNsaWNrZWRFbGVtZW50Lm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xyXG4gICAgICAgICAgICBjbGlja2VkRWxlbWVudCA9IGNsaWNrZWRFbGVtZW50LnBhcmVudEVsZW1lbnQhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNsaWNrZWRFbGVtZW50LmlkID09PSBpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2xpY2tlZEVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgY3VycmVudEVsZW1lbnQgPSBjbGlja2VkRWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIHdoaWxlIChjdXJyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudEVsZW1lbnQuaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZpbmRDbGlja2VkRWxlbWVudE9yQW5jZXN0b3JCeUNsYXNzKGV2ZW50OiBNb3VzZUV2ZW50LCBjbGFzc0tleTogc3RyaW5nKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcclxuICAgICAgICBsZXQgY2xpY2tlZEVsZW1lbnQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmIChjbGlja2VkRWxlbWVudC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcclxuICAgICAgICAgICAgY2xpY2tlZEVsZW1lbnQgPSBjbGlja2VkRWxlbWVudC5wYXJlbnRFbGVtZW50ITtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjbGlja2VkRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NLZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjbGlja2VkRWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjdXJyZW50RWxlbWVudCA9IGNsaWNrZWRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXRpYyBpc0V2ZW50VGFyZ2V0RGVzY2VuZGFudE9mKGV2ZW50OiBLZXlib2FyZEV2ZW50LCBzZWxlY3Rvcjogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHRhcmdldDogRWxlbWVudCB8IG51bGwgPSBldmVudC50YXJnZXQgYXMgRWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKCEoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2hpbGUgKHRhcmdldCAmJiB0YXJnZXQgIT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0Lm1hdGNoZXMoc2VsZWN0b3IpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50RWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0UGFyZW50VGFyZ2V0QnlTZWxlY3RvcihldmVudDogTW91c2VFdmVudCwgc2VsZWN0b3I6IHN0cmluZyk6IEVsZW1lbnQgfCBudWxsIHtcclxuICAgICAgICBsZXQgdGFyZ2V0OiBFbGVtZW50IHwgbnVsbCA9IChldmVudC50YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50KSA/IGV2ZW50LnRhcmdldCA6IGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIE5vZGUgPyBldmVudC50YXJnZXQucGFyZW50RWxlbWVudCA6IG51bGw7XHJcblxyXG4gICAgICAgIGlmICghdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2hpbGUgKHRhcmdldCAmJiB0YXJnZXQgIT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0Lm1hdGNoZXMoc2VsZWN0b3IpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFBhcmVudEZyb21TZWxlY3Rpb24oc2VsZWN0b3I6IHN0cmluZyk6IEVsZW1lbnQgfCBudWxsIHtcclxuICAgICAgICBjb25zdCBzZWxlY3Rpb246IFNlbGVjdGlvbiB8IG51bGwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcblxyXG4gICAgICAgIGlmICghc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5yYW5nZUNvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJhbmdlOiBSYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xyXG4gICAgICAgIGxldCBjb21tb25BbmNlc3RvckNvbnRhaW5lcjogTm9kZSA9IHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO1xyXG5cclxuICAgICAgICBpZiAoY29tbW9uQW5jZXN0b3JDb250YWluZXIgaW5zdGFuY2VvZiBFbGVtZW50ICYmIGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLm1hdGNoZXMoc2VsZWN0b3IpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21tb25BbmNlc3RvckNvbnRhaW5lcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwYXJlbnRFbGVtZW50OiBFbGVtZW50IHwgbnVsbCA9IGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIGluc3RhbmNlb2YgRWxlbWVudFxyXG4gICAgICAgICAgICA/IGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyXHJcbiAgICAgICAgICAgIDogY29tbW9uQW5jZXN0b3JDb250YWluZXIucGFyZW50RWxlbWVudDtcclxuXHJcbiAgICAgICAgd2hpbGUgKHBhcmVudEVsZW1lbnQgJiYgcGFyZW50RWxlbWVudCAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnRFbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50ID0gcGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlbW92ZUNsYXNzZXNXaXRoUHJlZml4KGVsZW1lbnQ6IEVsZW1lbnQsIHByZWZpeDogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgY2xhc3Nlc1RvUmVtb3ZlID0gQXJyYXkuZnJvbShlbGVtZW50LmNsYXNzTGlzdCkuZmlsdGVyKGNscyA9PiBjbHMuc3RhcnRzV2l0aChwcmVmaXgpKTtcclxuICAgICAgICBjbGFzc2VzVG9SZW1vdmUuZm9yRWFjaChjbHMgPT4gZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNscykpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpc1RhcmdldERlc2NlbmRhbnRPZlNlbGVjdG9yKGV2ZW50OiBFdmVudCwgc2VsZWN0b3I6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCB0YXJnZXQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQgaW5zdGFuY2VvZiBUZXh0KSB7XHJcbiAgICAgICAgICAgIHRhcmdldCA9IChldmVudC50YXJnZXQgYXMgVGV4dCkucGFyZW50RWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGFuY2VzdG9yID0gdGFyZ2V0LmNsb3Nlc3Qoc2VsZWN0b3IpO1xyXG5cclxuICAgICAgICByZXR1cm4gYW5jZXN0b3IgIT09IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNlYXJjaGVzIGZvciB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IG1hdGNoZXMgYSBzcGVjaWZpZWQgc2VsZWN0b3IsIGNoZWNraW5nIHRoZSBlbGVtZW50IGl0c2VsZiBhbmQgaXRzIGRlc2NlbmRhbnRzLlxyXG4gICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgcm9vdCBlbGVtZW50IHRvIHN0YXJ0IHRoZSBzZWFyY2ggZnJvbSwgaW5jbHVkZWQgaW4gdGhlIHNlYXJjaC5cclxuICAgICogQHBhcmFtIHNlbGVjdG9yIFRoZSBDU1Mgc2VsZWN0b3IgdG8gbWF0Y2ggYWdhaW5zdC5cclxuICAgICogQHJldHVybnMgVGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBtYXRjaGVzIHRoZSBzZWxlY3RvciwgaW5jbHVkaW5nIHRoZSBlbGVtZW50IGl0c2VsZiwgb3IgbnVsbCBpZiBubyBtYXRjaCBpcyBmb3VuZC5cclxuICAgICovXHJcbiAgICBzdGF0aWMgcXVlcnlTZWxlY3RvckluY2x1ZGluZ1NlbGYoZWxlbWVudDogRWxlbWVudCwgc2VsZWN0b3I6IHN0cmluZyk6IEVsZW1lbnQgfCBudWxsIHtcclxuICAgICAgICAvLyBGaXJzdCwgY2hlY2sgaWYgdGhlIGVsZW1lbnQgaXRzZWxmIG1hdGNoZXMgdGhlIHNlbGVjdG9yXHJcbiAgICAgICAgaWYgKGVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIG5vdCwgdXNlIHRoZSBzdGFuZGFyZCBxdWVyeVNlbGVjdG9yIHRvIGZpbmQgYSBtYXRjaGluZyBkZXNjZW5kYW50XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc3RhdGljIHNhbml0aXplQ29udGVudEVkaXRhYmxlKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgICAvLyAgICAgY29uc3QgY29udGVudCA9IGVsZW1lbnQuaW5uZXJIVE1MO1xyXG4gICAgLy8gICAgIGlmIChjb250ZW50LmVuZHNXaXRoKCc8YnI+JykpIHtcclxuICAgIC8vICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50LnNsaWNlKDAsIC00KTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgc3RhdGljIHNhbml0aXplQ29udGVudEVkaXRhYmxlKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGVsZW1lbnQuaW5uZXJIVE1MO1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuXHJcbiAgICAgICAgaWYgKCFzZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHNob3VsZFJlc3RvcmVDYXJldCA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBjYXJldFBvcyA9IDA7XHJcbiAgICAgICAgaWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xyXG4gICAgICAgICAgICBjb25zdCByYW5nZUVuZHNBdENvbnRlbnRFbmQgPSByYW5nZS5lbmRPZmZzZXQgPT09IGVsZW1lbnQuaW5uZXJUZXh0Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIGlmIChyYW5nZUVuZHNBdENvbnRlbnRFbmQgJiYgY29udGVudC5lbmRzV2l0aCgnPGJyPicpKSB7XHJcbiAgICAgICAgICAgICAgICBzaG91bGRSZXN0b3JlQ2FyZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY2FyZXRQb3MgPSByYW5nZS5lbmRPZmZzZXQ7IC8vIE1hbnRlciBhIHBvc2nDp8OjbyBvcmlnaW5hbCBkbyBjYXJldFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdmVyIDxicj4gZmluYWwsIHNlIGV4aXN0aXIsIHVzYW5kbyBtYW5pcHVsYcOnw6NvIGRvIERPTVxyXG4gICAgICAgIGlmIChjb250ZW50LmVuZHNXaXRoKCc8YnI+JykpIHtcclxuICAgICAgICAgICAgY29uc3QgbGFzdENoaWxkID0gZWxlbWVudC5sYXN0Q2hpbGQ7XHJcbiAgICAgICAgICAgIGlmIChsYXN0Q2hpbGQgJiYgbGFzdENoaWxkLm5vZGVOYW1lID09PSAnQlInKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGxhc3RDaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzaG91bGRSZXN0b3JlQ2FyZXQpIHtcclxuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBuZXcgUmFuZ2UoKTtcclxuICAgICAgICAgICAgY29uc3QgdGV4dE5vZGVzID0gdGhpcy5nZXRUZXh0Tm9kZXNJbihlbGVtZW50KTtcclxuICAgICAgICAgICAgbGV0IGNoYXJDb3VudCA9IDA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRleHROb2RlIG9mIHRleHROb2Rlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZUxlbmd0aCA9IHRleHROb2RlLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFyQ291bnQgKyBub2RlTGVuZ3RoID49IGNhcmV0UG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQodGV4dE5vZGUsIGNhcmV0UG9zIC0gY2hhckNvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQodGV4dE5vZGUsIGNhcmV0UG9zIC0gY2hhckNvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNoYXJDb3VudCArPSBub2RlTGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGdldFRleHROb2Rlc0luKG5vZGU6IE5vZGUpOiBUZXh0W10ge1xyXG4gICAgICAgIGxldCB0ZXh0Tm9kZXM6IFRleHRbXSA9IFtdO1xyXG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xyXG4gICAgICAgICAgICB0ZXh0Tm9kZXMucHVzaChub2RlIGFzIFRleHQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gbm9kZS5jaGlsZE5vZGVzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0Tm9kZXMgPSB0ZXh0Tm9kZXMuY29uY2F0KHRoaXMuZ2V0VGV4dE5vZGVzSW4oY2hpbGRyZW5baV0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGV4dE5vZGVzO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgc3RhdGljIGdldFByZXZpb3VzQ29udGVudEVkaXRhYmxlKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnQgfCBudWxsIHtcclxuICAgICAgICBjb25zdCBhbGxDb250ZW50RWRpdGFibGVzOiBIVE1MRWxlbWVudFtdID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXScpKSBhcyBIVE1MRWxlbWVudFtdO1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gYWxsQ29udGVudEVkaXRhYmxlcy5pbmRleE9mKGVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChpbmRleCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFsbENvbnRlbnRFZGl0YWJsZXNbaW5kZXggLSAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldE5leHRDb250ZW50RWRpdGFibGUoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudCB8IG51bGwge1xyXG4gICAgICAgIGNvbnN0IGFsbENvbnRlbnRFZGl0YWJsZXM6IEhUTUxFbGVtZW50W10gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdJykpIGFzIEhUTUxFbGVtZW50W107XHJcblxyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gYWxsQ29udGVudEVkaXRhYmxlcy5pbmRleE9mKGVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChpbmRleCA8IGFsbENvbnRlbnRFZGl0YWJsZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYWxsQ29udGVudEVkaXRhYmxlc1tpbmRleCArIDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGdldEFjdGl2ZUNvbnRlbnRFZGl0YWJsZSgpOiBIVE1MRWxlbWVudCB8IG51bGwge1xyXG4gICAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xyXG5cclxuICAgICAgICBpZiAoIWFjdGl2ZUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIGFjdGl2ZUVsZW1lbnQuaXNDb250ZW50RWRpdGFibGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcGFyZW50ID0gYWN0aXZlRWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIHdoaWxlIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHBhcmVudC5pc0NvbnRlbnRFZGl0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBET01VdGlscy5maW5kQ29udGVudEVkaXRhYmxlSW5EZXNjZW5kYW50cyhhY3RpdmVFbGVtZW50KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZmluZENvbnRlbnRFZGl0YWJsZUluRGVzY2VuZGFudHMoZWxlbWVudDogRWxlbWVudCk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XHJcbiAgICAgICAgaWYgKChlbGVtZW50IGFzIEhUTUxFbGVtZW50KS5pc0NvbnRlbnRFZGl0YWJsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gZWxlbWVudC5jaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gRE9NVXRpbHMuZmluZENvbnRlbnRFZGl0YWJsZUluRGVzY2VuZGFudHMoY2hpbGQpO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzYXZlQ2FyZXRQb3NpdGlvbjJkKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogeyBjaGFySW5kZXg6IG51bWJlciwgaG9yaXpvbnRhbFBvczogbnVtYmVyIH0ge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICBpZiAoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xyXG4gICAgICAgICAgICBjb25zdCByZWN0ID0gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoYXJJbmRleCA9IEFycmF5LmZyb20oZWxlbWVudC50ZXh0Q29udGVudCB8fCAnJykuc2xpY2UoMCwgc2VsZWN0aW9uLmFuY2hvck9mZnNldCkubGVuZ3RoO1xyXG4gICAgICAgICAgICByZXR1cm4geyBjaGFySW5kZXgsIGhvcml6b250YWxQb3M6IHJlY3QubGVmdCB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyBjaGFySW5kZXg6IDAsIGhvcml6b250YWxQb3M6IDAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcmVzdG9yZUNhcmV0UG9zaXRpb24yZChlbGVtZW50OiBIVE1MRWxlbWVudCwgcG9zaXRpb246IHsgY2hhckluZGV4OiBudW1iZXIsIGhvcml6b250YWxQb3M6IG51bWJlciB9KTogdm9pZCB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICAgICAgaWYgKCFzZWxlY3Rpb24pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcclxuICAgICAgICAgICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihlbGVtZW50LCBOb2RlRmlsdGVyLlNIT1dfVEVYVCk7XHJcbiAgICAgICAgICAgIGxldCBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XHJcbiAgICAgICAgICAgIGxldCBiZXN0Tm9kZSA9IG5vZGU7XHJcbiAgICAgICAgICAgIGxldCBiZXN0T2Zmc2V0ID0gMDtcclxuICAgICAgICAgICAgbGV0IGJlc3REaXN0YW5jZSA9IEluZmluaXR5O1xyXG5cclxuICAgICAgICAgICAgd2hpbGUgKG5vZGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghbm9kZS5ub2RlVmFsdWUpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IG5vZGUubm9kZVZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQobm9kZSwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RSZWN0ID0gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9yaXpvbnRhbERpc3RhbmNlID0gTWF0aC5hYnModGVzdFJlY3QubGVmdCAtIHBvc2l0aW9uLmhvcml6b250YWxQb3MpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaG9yaXpvbnRhbERpc3RhbmNlIDwgYmVzdERpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlc3REaXN0YW5jZSA9IGhvcml6b250YWxEaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmVzdE5vZGUgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZXN0T2Zmc2V0ID0gaTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgY2xvc2UgZW5vdWdoLCBicmVhayBlYXJseVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9yaXpvbnRhbERpc3RhbmNlIDwgNSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGJlc3ROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChiZXN0Tm9kZSwgYmVzdE9mZnNldCk7XHJcbiAgICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIHNhdmVDYXJldFBvc2l0aW9uM2QoZWxlbWVudDogSFRNTEVsZW1lbnQpOiB7IGNoYXJJbmRleDogbnVtYmVyLCBob3Jpem9udGFsUG9zOiBudW1iZXIsIHZlcnRpY2FsUG9zOiBudW1iZXIgfSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgIGlmIChzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLnJhbmdlQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgY29uc3QgY2hhckluZGV4ID0gQXJyYXkuZnJvbShlbGVtZW50LnRleHRDb250ZW50IHx8ICcnKS5zbGljZSgwLCBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0KS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGNoYXJJbmRleCwgaG9yaXpvbnRhbFBvczogcmVjdC5sZWZ0LCB2ZXJ0aWNhbFBvczogcmVjdC50b3AgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHsgY2hhckluZGV4OiAwLCBob3Jpem9udGFsUG9zOiAwLCB2ZXJ0aWNhbFBvczogMCB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZXN0b3JlQ2FyZXRQb3NpdGlvbjNkKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBwb3NpdGlvbjogeyBjaGFySW5kZXg6IG51bWJlciwgaG9yaXpvbnRhbFBvczogbnVtYmVyLCB2ZXJ0aWNhbFBvczogbnVtYmVyIH0pOiB2b2lkIHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAoIXNlbGVjdGlvbikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xyXG4gICAgICAgICAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGVsZW1lbnQsIE5vZGVGaWx0ZXIuU0hPV19URVhUKTtcclxuICAgICAgICAgICAgbGV0IG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcclxuICAgICAgICAgICAgbGV0IGJlc3ROb2RlID0gbm9kZTtcclxuICAgICAgICAgICAgbGV0IGJlc3RPZmZzZXQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgYmVzdERpc3RhbmNlID0gSW5maW5pdHk7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAobm9kZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFub2RlLm5vZGVWYWx1ZSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gbm9kZS5ub2RlVmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChub2RlLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVzdFJlY3QgPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBob3Jpem9udGFsRGlzdGFuY2UgPSBNYXRoLmFicyh0ZXN0UmVjdC5sZWZ0IC0gcG9zaXRpb24uaG9yaXpvbnRhbFBvcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVydGljYWxEaXN0YW5jZSA9IE1hdGguYWJzKHRlc3RSZWN0LnRvcCAtIHBvc2l0aW9uLnZlcnRpY2FsUG9zKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbERpc3RhbmNlID0gTWF0aC5zcXJ0KGhvcml6b250YWxEaXN0YW5jZSAqKiAyICsgdmVydGljYWxEaXN0YW5jZSAqKiAyKTsgIC8vIFVzZSBFdWNsaWRlYW4gZGlzdGFuY2VcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsRGlzdGFuY2UgPCBiZXN0RGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmVzdERpc3RhbmNlID0gdG90YWxEaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmVzdE5vZGUgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZXN0T2Zmc2V0ID0gaTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgY2xvc2UgZW5vdWdoLCBicmVhayBlYXJseVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG90YWxEaXN0YW5jZSA8IDUpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChiZXN0Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoYmVzdE5vZGUsIGJlc3RPZmZzZXQpO1xyXG4gICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc3RhdGljIG1lcmdlQW5kTm9ybWFsaXplSW5saW5lRWxlbWVudHMoZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgIC8vICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICAvLyAgICAgZWxlbWVudC5ub3JtYWxpemUoKTtcclxuXHJcbiAgICAvLyAgICAgY29uc3QgbWVyZ2VJbmxpbmVFbGVtZW50cyA9IChub2RlOiBDaGlsZE5vZGUpID0+IHtcclxuICAgIC8vICAgICAgICAgbGV0IGN1cnJlbnROb2RlID0gbm9kZS5maXJzdENoaWxkO1xyXG4gICAgLy8gICAgICAgICB3aGlsZSAoY3VycmVudE5vZGUpIHtcclxuICAgIC8vICAgICAgICAgICAgIGlmIChjdXJyZW50Tm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgJiYgWydTUEFOJywgJ0NPREUnLCAnRU0nLCAnU1RST05HJywgJ0InLCAnSSddLmluY2x1ZGVzKGN1cnJlbnROb2RlLm5vZGVOYW1lKSkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIG1lcmdlSW5saW5lRWxlbWVudHMoY3VycmVudE5vZGUpO1xyXG5cclxuICAgIC8vICAgICAgICAgICAgICAgICBsZXQgbmV4dE5vZGUgPSBjdXJyZW50Tm9kZS5uZXh0U2libGluZztcclxuICAgIC8vICAgICAgICAgICAgICAgICB3aGlsZSAobmV4dE5vZGUgJiYgbmV4dE5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmIG5leHROb2RlLm5vZGVOYW1lID09PSBjdXJyZW50Tm9kZS5ub2RlTmFtZSkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB3aGlsZSAobmV4dE5vZGUuZmlyc3RDaGlsZCkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUuYXBwZW5kQ2hpbGQobmV4dE5vZGUuZmlyc3RDaGlsZCk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZVRvUmVtb3ZlID0gbmV4dE5vZGU7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dE5vZGUubmV4dFNpYmxpbmc7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG5vZGVUb1JlbW92ZS5wYXJlbnROb2RlPy5yZW1vdmVDaGlsZChub2RlVG9SZW1vdmUpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubmV4dFNpYmxpbmc7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9O1xyXG5cclxuICAgIC8vICAgICBtZXJnZUlubGluZUVsZW1lbnRzKGVsZW1lbnQpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIHN0YXRpYyBtZXJnZUlubGluZUVsZW1lbnRzKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgICAgICAgZWxlbWVudC5ub3JtYWxpemUoKTsgIC8vIE5vcm1hbGl6YSBvcyBuw7NzIGRlIHRleHRvIHByaW1laXJvXHJcblxyXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuOiBOb2RlTGlzdE9mPENoaWxkTm9kZT4gPSBlbGVtZW50LmNoaWxkTm9kZXM7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW5baV0ubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEVsZW1lbnQgPSBjaGlsZHJlbltpXSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGlmIChbJ1NQQU4nLCAnQ09ERScsICdFTScsICdTVFJPTkcnLCAnQicsICdJJ10uaW5jbHVkZXMoY2hpbGRFbGVtZW50Lm5vZGVOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgY2hpbGRyZW4ubGVuZ3RoIC0gMSAmJiBjaGlsZEVsZW1lbnQubmV4dFNpYmxpbmcgJiYgY2hpbGRFbGVtZW50Lm5leHRTaWJsaW5nLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiBjaGlsZEVsZW1lbnQubm9kZU5hbWUgPT09IChjaGlsZEVsZW1lbnQubmV4dFNpYmxpbmcgYXMgSFRNTEVsZW1lbnQpLm5vZGVOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoY2hpbGRFbGVtZW50Lm5leHRTaWJsaW5nIGFzIEhUTUxFbGVtZW50KS5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkRWxlbWVudC5hcHBlbmRDaGlsZCgoY2hpbGRFbGVtZW50Lm5leHRTaWJsaW5nIGFzIEhUTUxFbGVtZW50KS5maXJzdENoaWxkISk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZEVsZW1lbnQubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBET01VdGlscy5tZXJnZUlubGluZUVsZW1lbnRzKGNoaWxkRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBzdGF0aWMgaW5zZXJ0Q2FyZXRNYXJrZXIoZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ucmFuZ2VDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcclxuICAgICAgICAgICAgY29uc3QgaXNDb2xsYXBzZWQgPSByYW5nZS5jb2xsYXBzZWQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNDb2xsYXBzZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgICAgICAgIG1hcmtlci5pZCA9IFNUQVJUX01BUktFUl9JRDtcclxuICAgICAgICAgICAgICAgIG1hcmtlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZShtYXJrZXIpO1xyXG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRBZnRlcihtYXJrZXIpO1xyXG4gICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW5kTWFya2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgICAgICAgICAgZW5kTWFya2VyLmlkID0gRU5EX01BUktFUl9JRDtcclxuICAgICAgICAgICAgICAgIGVuZE1hcmtlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2VDbG9uZUVuZCA9IHJhbmdlLmNsb25lUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgIHJhbmdlQ2xvbmVFbmQuY29sbGFwc2UoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgcmFuZ2VDbG9uZUVuZC5pbnNlcnROb2RlKGVuZE1hcmtlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRNYXJrZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgICAgICAgICBzdGFydE1hcmtlci5pZCA9IFNUQVJUX01BUktFUl9JRDtcclxuICAgICAgICAgICAgICAgIHN0YXJ0TWFya2VyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIHJhbmdlLmluc2VydE5vZGUoc3RhcnRNYXJrZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1JhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgIG5ld1JhbmdlLnNldFN0YXJ0QWZ0ZXIoc3RhcnRNYXJrZXIpO1xyXG4gICAgICAgICAgICAgICAgbmV3UmFuZ2Uuc2V0RW5kQmVmb3JlKGVuZE1hcmtlcik7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UobmV3UmFuZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZW1vdmVDYXJldE1hcmtlcihlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IG1hcmtlciA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7U1RBUlRfTUFSS0VSX0lEfWApO1xyXG4gICAgICAgIG1hcmtlcj8ucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQobWFya2VyKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIHJlc3RvcmVDYXJldEZyb21NYXJrZXIoZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBtYXJrZXIgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke1NUQVJUX01BUktFUl9JRH1gKTtcclxuICAgICAgICBpZiAobWFya2VyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xyXG4gICAgICAgICAgICByYW5nZS5zZXRTdGFydEFmdGVyKG1hcmtlcik7XHJcbiAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xyXG4gICAgICAgICAgICBzZWxlY3Rpb24/LnJlbW92ZUFsbFJhbmdlcygpO1xyXG4gICAgICAgICAgICBzZWxlY3Rpb24/LmFkZFJhbmdlKHJhbmdlKTtcclxuICAgICAgICAgICAgbWFya2VyLnBhcmVudE5vZGU/LnJlbW92ZUNoaWxkKG1hcmtlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBlbnVtIEN1c3RvbUV2ZW50cyB7XHJcbiAgICAvL0NvbXBvbmVudCBldmVudHNcclxuICAgIGZsb2F0aW5nVG9vbGJhckRpc3BsYXllZCA9IFwiZmxvYXRpbmdUb29sYmFyRGlzcGxheWVkXCIsXHJcblxyXG4gICAgLy9UZXh0IGNsaWNrIGVkaXQgZXZlbnRzXHJcbiAgICBhbmNob3JCdXR0b25DbGlja2VkID0gXCJhbmNob3JCdXR0b25DbGlja2VkXCIsXHJcbiAgICBib2xkQnV0dG9uQ2xpY2tlZCA9IFwiYm9sZEJ1dHRvbkNsaWNrZWRcIixcclxuICAgIGl0YWxpY0J1dHRvbkNsaWNrZWQgPSBcIml0YWxpY0J1dHRvbkNsaWNrZWRcIixcclxuICAgIHVuZGVybGluZUJ1dHRvbkNsaWNrZWQgPSBcInVuZGVybGluZUJ1dHRvbkNsaWNrZWRcIixcclxuICAgIGlubGluZUNvZGVCdXR0b25DbGlja2VkID0gXCJpbmxpbmVDb2RlQnV0dG9uQ2xpY2tlZFwiLFxyXG4gICAgc3RyaWtlVGhyb3VnaEJ1dHRvbkNsaWNrZWQgPSBcInN0cmlrZVRocm91Z2hCdXR0b25DbGlja2VkXCIsXHJcbiAgICBoaWxpdGVDb2xvckJ1dHRvbkNsaWNrZWQgPSBcImhpbGl0ZUNvbG9yQnV0dG9uQ2xpY2tlZFwiLFxyXG4gICAgZm9yZUNvbG9yQnV0dG9uQ2xpY2tlZCA9IFwiZm9yZUNvbG9yQnV0dG9uQ2xpY2tlZFwiLFxyXG4gICAgXHJcbiAgICBidXR0b25Hcm91cEl0ZW1DbGlja2VkID0gXCJidXR0b25Hcm91cEl0ZW1DbGlja2VkXCIsXHJcbiAgICBmb2N1c09uRmlyc3RSZXF1ZXN0ZWQgPSBcImZvY3VzT25GaXJzdFJlcXVlc3RlZFwiLFxyXG4gICAgcHJlc3NlZEVudGVyT25UaXRsZSA9IFwicHJlc3NlZEVudGVyT25UaXRsZVwiLFxyXG4gICAgXHJcbiAgICB0cmFuc2Zvcm1CbG9ja1JlcXVlc3RlZCA9IFwidHJhbnNmb3JtQmxvY2tSZXF1ZXN0ZWRcIixcclxuICAgIGR1cGxpY2F0ZUJsb2NrUmVxdWVzdGVkID0gXCJkdXBsaWNhdGVCbG9ja1JlcXVlc3RlZFwiLFxyXG5cclxuICAgIC8vVGV4dCBlZGl0IGV2ZW50c1xyXG4gICAgYW5jaG9yID0gXCJhbmNob3JcIixcclxuICAgIGJvbGQgPSBcImJvbGRcIixcclxuICAgIGl0YWxpYyA9IFwiaXRhbGljXCIsXHJcbiAgICB1bmRlcmxpbmUgPSBcInVuZGVybGluZVwiLFxyXG4gICAgaW5saW5lQ29kZSA9IFwiaW5saW5lQ29kZVwiLFxyXG4gICAgc3RyaWtlVGhyb3VnaCA9IFwic3RyaWtlVGhyb3VnaFwiLFxyXG4gICAgaGlsaXRlQ29sb3IgPSBcImhpbGl0ZUNvbG9yXCIsXHJcbiAgICBmb3JlQ29sb3IgPSBcImZvcmVDb2xvclwiLFxyXG5cclxuXHJcbiAgICB0ZXh0Rm9ybWF0Q2hhbmdlZCA9IFwidGV4dEZvcm1hdENoYW5nZWRcIixcclxuICAgIGVtaXR0ZWRDb21tYW5kID0gXCJlbWl0dGVkQ29tbWFuZFwiLFxyXG4gICAgYmxvY2tUeXBlQ2hhbmdlZCA9IFwiYmxvY2tUeXBlQ2hhbmdlZFwiLFxyXG4gICAgYmxvY2tEZWxldGVkID0gXCJibG9ja0RlbGV0ZWRcIixcclxuICAgIGJsb2NrQ2xvbmVkID0gXCJibG9ja0Nsb25lZFwiLFxyXG4gICAgdGFibGVDZWxsQ2hhbmdlZCA9IFwidGFibGVDZWxsQ2hhbmdlZFwiLFxyXG5cclxuXHJcblxyXG4gICAgLy9CbG9jayBjb21tYW5kc1xyXG4gICAgXHJcbn0iLCJleHBvcnQgZW51bSBaSW5kZXgge1xyXG4gICAgTG93SW1wb3J0YW5jZSA9IFwiMTAwXCIsIFxyXG4gICAgU2xpZ2h0bHlJbXBvcnRhbnQgPSBcIjIwMFwiLFxyXG4gICAgTmV1dHJhbCA9IFwiMzAwXCIsXHJcbiAgICBNb2RlcmF0ZWx5SW1wb3J0YW50ID0gXCI0MDBcIixcclxuICAgIFZlcnlJbXBvcnRhbnQgPSBcIjUwMFwiLCBcclxuICAgIEV4dHJlbWVseUltcG9ydGFudCA9IFwiNjAwXCJcclxufSIsImV4cG9ydCBlbnVtIENvbG9ycyB7XHJcblxyXG4gICAgSGlsaXRlQ29sb3JSZWQgPSBcIiNGRERFREVcIixcclxuICAgIEhpbGl0ZUNvbG9yR3JlZW4gPSBcIiNEN0Y3RENcIixcclxuICAgIEhpbGl0ZUNvbG9yQmx1ZSA9IFwiI0Q5RURGNlwiLFxyXG4gICAgSGlsaXRlQ29sb3JZZWxsb3cgPSBcIiNGQUY0RDFcIixcclxuICAgIEhpbGl0ZUNvbG9yR3JleSA9IFwiI0UxRTBFMFwiLFxyXG4gICAgSGlsaXRlQ29sb3JOb25lID0gXCJ0cmFuc3BhcmVudFwiLFxyXG5cclxuXHJcbiAgICBCYWNrZ3JvdW5kQ29sb3JDZWxsUmVkID0gXCIjRkRERURFXCIsXHJcbiAgICBCYWNrZ3JvdW5kQ29sb3JDZWxsR3JlZW4gPSBcIiNEN0Y3RENcIixcclxuICAgIEJhY2tncm91bmRDb2xvckNlbGxCbHVlID0gXCIjRDlFREY2XCIsXHJcbiAgICBCYWNrZ3JvdW5kQ29sb3JDZWxsWWVsbG93ID0gXCIjRkFGNEQxXCIsXHJcbiAgICBCYWNrZ3JvdW5kQ29sb3JDZWxsR3JleSA9IFwiI0UxRTBFMFwiLFxyXG4gICAgQmFja2dyb3VuZENvbG9yQ2VsbE5vbmUgPSBcInRyYW5zcGFyZW50XCIsXHJcblxyXG4gICAgRm9yZUNvbG9yUmVkID0gXCIjRDQ0QzQ3XCIsXHJcbiAgICBGb3JlQ29sb3JHcmVlbiA9IFwiIzQ0ODM2MVwiLFxyXG4gICAgRm9yZUNvbG9yQmx1ZSA9IFwiIzMzN0VBOVwiLFxyXG4gICAgRm9yZUNvbG9yWWVsbG93ID0gXCIjQ0I5MTJGXCIsXHJcbiAgICBGb3JlQ29sb3JHcmV5ID0gXCIjNzg3Nzc0XCIsXHJcbiAgICBGb3JlQ29sb3JJbml0aWFsID0gXCJpbml0aWFsXCIsXHJcblxyXG4gICAgQmFja2dyb3VuZENvbG9yUmVkID0gXCIjRkRERURFXCIsXHJcbiAgICBCYWNrZ3JvdW5kQ29sb3JHcmVlbiA9IFwiI0Q3RjdEQ1wiLFxyXG4gICAgQmFja2dyb3VuZENvbG9yQmx1ZSA9IFwiI0Q5RURGNlwiLFxyXG4gICAgQmFja2dyb3VuZENvbG9yWWVsbG93ID0gXCIjRkFGNEQxXCIsXHJcbiAgICBCYWNrZ3JvdW5kQ29sb3JHcmV5ID0gXCIjRTFFMEUwXCIsXHJcbiAgICBCYWNrZ3JvdW5kQ29sb3JOb25lID0gXCJ0cmFuc3BhcmVudFwiLFxyXG5cclxuICAgIEljb25BY3RpdmVCbHVlID0gXCIjMjM4MmUyXCIsXHJcbiAgICBJY29uRGVmYXVsdEJsYWNrID0gXCIjMzczNTJmZDlcIixcclxuICAgIFJlZCA9IFwicmVkXCIsXHJcbiAgICBUb21hdG8gPSBcIiNFQjU3NTdcIixcclxuICAgIE9yaWdpbmFsVGFibGVDb2xvciA9IFwiIzg0ODg4ZFwiXHJcblxyXG59XHJcblxyXG5leHBvcnQgZW51bSBDb2xvcnNOYW1lcyB7XHJcbiAgICBDYWxsb3V0QmFja2dyb3VuZFJlZCA9IFwiY2FsbG91dC1iYWNrZ3JvdW5kLXJlZFwiLFxyXG4gICAgQ2FsbG91dEJhY2tncm91bmRHcmVlbiA9IFwiY2FsbG91dC1iYWNrZ3JvdW5kLWdyZWVuXCIsXHJcbiAgICBDYWxsb3V0QmFja2dyb3VuZEJsdWUgPSBcImNhbGxvdXQtYmFja2dyb3VuZC1ibHVlXCIsXHJcbiAgICBDYWxsb3V0QmFja2dyb3VuZFllbGxvdyA9IFwiY2FsbG91dC1iYWNrZ3JvdW5kLXllbGxvd1wiLFxyXG4gICAgQ2FsbG91dEJhY2tncm91bmRHcmV5ID0gXCJjYWxsb3V0LWJhY2tncm91bmQtZ3JleVwiLFxyXG4gICAgQ2FsbG91dEJhY2tncm91bmROb25lID0gXCJjYWxsb3V0LWJhY2tncm91bmQtbm9uZVwiLFxyXG59IiwiZXhwb3J0IGVudW0gQ29tbWFuZHMge1xyXG4gICAgLyoqIFRleHQgb3BlcmF0aW9ucyBjb21tYW5kcyAqL1xyXG4gICAgdG9nZ2xlQm9sZCA9IFwiYm9sZFwiLFxyXG4gICAgdG9nZ2xlSXRhbGljID0gXCJpdGFsaWNcIixcclxuICAgIHRvZ2dsZUhpbGl0ZUNvbG9yID0gXCJoaWxpdGVDb2xvclwiLFxyXG4gICAgY2hhbmdlQ2FsbG91dEJhY2tncm91bmRDb2xvciA9IFwiY2hhbmdlQ2FsbG91dEJhY2tncm91bmRDb2xvclwiLFxyXG4gICAgdG9nZ2xlRm9yZUNvbG9yID0gXCJmb3JlQ29sb3JcIixcclxuICAgIHRvZ2dsZUlubGluZUNvZGUgPSBcImlubGluZUNvZGVcIixcclxuICAgIHRvZ2dsZUxpbmsgPSBcImNyZWF0ZUxpbmtcIixcclxuICAgIGxpbmtSZWFkeVRvSW5zZXJ0ID0gXCJsaW5rUmVhZHlUb0luc2VydFwiLFxyXG4gICAgdG9nZ2xlVW5kZXJsaW5lID0gXCJ1bmRlcmxpbmVcIixcclxuICAgIHRvZ2dsZVN0cmlrZVRocm91Z2ggPSBcInN0cmlrZVRocm91Z2hcIixcclxuICAgIHJlbW92ZUZvcm1hdCA9IFwicmVtb3ZlRm9ybWF0XCIsXHJcbiAgICBjb3B5U2VsZWN0ZWQgPSBcImNvcHlTZWxlY3RlZFwiLFxyXG4gICAgY3V0U2VsZWN0ZWQgPSBcImN1dFNlbGVjdGVkXCIsXHJcbiAgICBwYXN0ID0gXCJwYXN0XCIsXHJcblxyXG4gICAgLyoqIEJsb2NrIG9wZXJhdGlvbnMgY29tbWFuZHMgKi9cclxuICAgIHRyYW5zZm9ybUJsb2NrID0gXCJ0cmFuc2Zvcm1CbG9ja1wiLFxyXG4gICAgZHVwbGljYXRlQmxvY2sgPSBcImR1cGxpY2F0ZUJsb2NrXCIsXHJcbiAgICBkZWxldGVCbG9jayA9IFwiZGVsZXRlQmxvY2tcIixcclxuICAgIGNyZWF0ZURlZmF1bHRCbG9jayA9IFwiY3JlYXRlRGVmYXVsdEJsb2NrXCIsXHJcbiAgICBmb2N1c09uTmV4dEJsb2NrID0gXCJmb2N1c09uTmV4dEJsb2NrXCIsXHJcbiAgICBmb2N1c09uUHJldmlvdXNCbG9jayA9IFwiZm9jdXNPblByZXZpb3VzQmxvY2tcIixcclxuICAgIG1lcmdlV2l0aFByZXZpb3VzQmxvY2sgPSBcIm1lcmdlV2l0aFByZXZpb3VzQmxvY2tcIixcclxuICAgIG1lcmdlV2l0aE5leHRCbG9jayA9IFwibWVyZ2VXaXRoTmV4dEJsb2NrXCIsXHJcbiAgICBmb2N1c09uRmlyc3RCbG9jayA9IFwiZm9jdXNPbkZpcnN0QmxvY2tcIixcclxuICAgIGRlbGV0ZUJsb2NrQW5kRm9jdXNPblByZXZpb3VzID0gXCJkZWxldGVCbG9ja0FuZEZvY3VzT25QcmV2aW91c1wiLFxyXG4gICAgZGVsZXRlQmxvY2tBbmRGb2N1c09uTmV4dCA9IFwiZGVsZXRlQmxvY2tBbmRGb2N1c09uTmV4dFwiLFxyXG5cclxuICAgIEp1c3RpZnlMZWZ0ID0gXCJqdXN0aWZ5TGVmdFwiLFxyXG4gICAgSnVzdGlmeUNlbnRlciA9IFwianVzdGlmeUNlbnRlclwiLFxyXG4gICAgSnVzdGlmeVJpZ2h0ID0gXCJqdXN0aWZ5UmlnaHRcIixcclxuXHJcbiAgICBcclxuICAgIC8qKiB3aWxkY2FyZCBjb21tYW5kIGNvbnRleHQgYmFzZWQqL1xyXG4gICAgaW5zZXJ0TmV3ID0gXCJpbnNlcnROZXdcIixcclxuXHJcbiAgICAvKiogdGFibGUgY29tbWFuZHMgKi9cclxuICAgIGluc2VydFRhYmxlUm93QWJvdmUgPSBcImluc2VydFRhYmxlUm93QWJvdmVcIixcclxuICAgIGluc2VydFRhYmxlUm93QmVsb3cgPSBcImluc2VydFRhYmxlUm93QmVsb3dcIixcclxuICAgIGluc2VydFRhYmxlQ29sdW1uTGVmdCA9IFwiaW5zZXJ0VGFibGVDb2x1bW5MZWZ0XCIsXHJcbiAgICBpbnNlcnRUYWJsZUNvbHVtblJpZ2h0ID0gXCJpbnNlcnRUYWJsZUNvbHVtblJpZ2h0XCIsXHJcbiAgICBzaG93SW5zZXJ0VGFibGVDb2x1bW5FbGVtZW50ID0gXCJzaG93SW5zZXJ0VGFibGVDb2x1bW5FbGVtZW50XCIsXHJcbiAgICBzaG93SW5zZXJ0VGFibGVSb3dFbGVtZW50ID0gXCJzaG93SW5zZXJ0VGFibGVSb3dFbGVtZW50XCIsXHJcbiAgICBoaWRlSW5zZXJ0VGFibGVDb2x1bW5FbGVtZW50ID0gXCJoaWRlSW5zZXJ0VGFibGVDb2x1bW5FbGVtZW50XCIsXHJcbiAgICBoaWRlSW5zZXJ0VGFibGVSb3dFbGVtZW50ID0gXCJoaWRlSW5zZXJ0VGFibGVSb3dFbGVtZW50XCIsXHJcbiAgICB0b2dnbGVDZWxsSGlsaXRlQ29sb3IgPSBcInRvZ2dsZUNlbGxIaWxpdGVDb2xvclwiLFxyXG4gICAgcmVtb3ZlQ29sdW1uID0gXCJyZW1vdmVDb2x1bW5cIixcclxuICAgIHJlbW92ZVJvdyA9IFwicmVtb3ZlUm93XCIsXHJcbiAgICBjaGFuZ2VUYWJsZUJvcmRlckNvbG9yID0gXCJjaGFuZ2VUYWJsZUJvcmRlckNvbG9yXCIsXHJcblxyXG5cclxuXHJcbiAgICBjaGFuZ2VDb2RlQmxvY2tMYW5ndWFnZSA9IFwiY2hhbmdlQ29kZUJsb2NrTGFuZ3VhZ2VcIlxyXG59IiwiZXhwb3J0IGVudW0gQnV0dG9uSURzIHtcclxuICAgIExpbmsgPSBcImxpbmtCdXR0b25cIixcclxuICAgIEJvbGQgPSBcImJvbGRCdXR0b25cIixcclxuICAgIEl0YWxpYyA9IFwiaXRhbGljQnV0dG9uXCIsXHJcbiAgICBVbmRlcmxpbmUgPSBcInVuZGVybGluZUJ1dHRvblwiLFxyXG4gICAgSW5saW5lQ29kZSA9IFwiaW5saW5lQ29kZUJ1dHRvblwiLFxyXG4gICAgU3RyaWtldGhyb3VnaCA9IFwic3RyaWtldGhyb3VnaEJ1dHRvblwiLFxyXG5cclxuICAgIEFsaWduTGVmdCA9IFwiYWxpZ25MZWZ0XCIsXHJcbiAgICBBbGlnbkNlbnRlciA9IFwiYWxpZ25DZW50ZXJcIixcclxuICAgIEFsaWduUmlnaHQgPSBcImFsaWduUmlnaHRcIlxyXG59IiwiZXhwb3J0IGVudW0gS2V5Ym9hcmRLZXlzIHtcclxuICAgIFNoaWZ0ID0gXCJTaGlmdFwiLFxyXG4gICAgRW50ZXIgPSBcIkVudGVyXCIsXHJcbiAgICBFc2NhcGUgPSBcIkVzY2FwZVwiLFxyXG4gICAgQmFja3NwYWNlID0gXCJCYWNrc3BhY2VcIixcclxuICAgIENvbnRyb2wgPSBcIkNvbnRyb2xcIixcclxuICAgIFNwYWNlID0gXCIgXCIsXHJcbiAgICBEZWxldGUgPSBcIkRlbGV0ZVwiXHJcbn0iLCJleHBvcnQgZW51bSBEcm9wZG93bkl0ZW1JRHMge1xyXG4gICAgQmFja2dyb3VuZE9wdGlvblJlZCA9IFwiQmFja2dyb3VuZE9wdGlvblJlZFwiLFxyXG4gICAgQmFja2dyb3VuZE9wdGlvbkdyZWVuID0gXCJCYWNrZ3JvdW5kT3B0aW9uUmVkXCIsXHJcbiAgICBCYWNrZ3JvdW5kT3B0aW9uQmx1ZSA9IFwiQmFja2dyb3VuZE9wdGlvblJlZFwiLFxyXG4gICAgQmFja2dyb3VuZE9wdGlvblllbGxvdyA9IFwiQmFja2dyb3VuZE9wdGlvblJlZFwiLFxyXG4gICAgQmFja2dyb3VuZE9wdGlvbkdyZXkgPSBcIkJhY2tncm91bmRPcHRpb25SZWRcIixcclxuICAgIEJhY2tncm91bmRPcHRpb25Ob25lID0gXCJCYWNrZ3JvdW5kT3B0aW9uUmVkXCJcclxufSIsImV4cG9ydCBlbnVtIERPTUVsZW1lbnRzIHtcclxuICAgIFREID0gXCJ0ZFwiLFxyXG4gICAgVEFCTEUgPSBcInRhYmxlXCJcclxufSIsImV4cG9ydCBlbnVtIERyb3Bkb3duTGlzdElEcyB7XHJcbiAgICBDb2xvclRleHRPcHRpb25TZWxlY3QgPSBcImNvbG9yVGV4dE9wdGlvblNlbGVjdFwiLFxyXG5cclxufSIsImV4cG9ydCBlbnVtIERyb3Bkb3duTWVudUlEcyB7XHJcbiAgICBDb2xvclRleHRPcHRpb25zTWVudSA9IFwiY29sb3JUZXh0T3B0aW9uc01lbnVcIlxyXG59IiwiaW1wb3J0IHsgQmFzZVVJQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tbW9uL0Jhc2VVSUNvbXBvbmVudCc7XHJcbmltcG9ydCB7IERyb3Bkb3duTWVudSB9IGZyb20gJy4vZHJvcGRvd24tdG9vbC9Ecm9wZG93bk1lbnUnO1xyXG5pbXBvcnQgeyBGbG9hdGluZ1Rvb2xiYXJTZXBhcmF0b3IgfSBmcm9tICcuL3NlcGFyYXRvci9GbG9hdGluZ1Rvb2xiYXJTZXBhcmF0b3InO1xyXG5pbXBvcnQgeyBCdXR0b25Hcm91cCB9IGZyb20gJy4vYnV0dG9uLWdyb3VwL0J1dHRvbkdyb3VwJztcclxuaW1wb3J0IHsgQ3VzdG9tRXZlbnRzIH0gZnJvbSAnQC9jb21tb24vQ3VzdG9tRXZlbnRzJztcclxuaW1wb3J0IHsgRGVmYXVsdEpTRXZlbnRzIH0gZnJvbSAnQC9jb21tb24vRGVmYXVsdEpTRXZlbnRzJztcclxuaW1wb3J0IHsgWkluZGV4IH0gZnJvbSAnQC9jb21tb24vWkluZGV4JztcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBGbG9hdGluZ1Rvb2xiYXIgZXh0ZW5kcyBCYXNlVUlDb21wb25lbnQge1xyXG5cclxuICAgIGRyb3Bkb3duczogRHJvcGRvd25NZW51W107XHJcbiAgICBzZXBhcmF0b3JzOiBGbG9hdGluZ1Rvb2xiYXJTZXBhcmF0b3JbXTtcclxuICAgIGN1cnJlbnRTZWxlY3Rpb25SYW5nZTogUmFuZ2UgfCBudWxsO1xyXG4gICAgaHRtbEZvY3VzZWRFbGVtZW50QmVmb3JlT3BlblF1aWNrTWVudTogSFRNTEVsZW1lbnQgfCBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoe1xyXG4gICAgICAgICAgICBpZDogaWRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5kcm9wZG93bnMgPSBbXTtcclxuICAgICAgICB0aGlzLnNlcGFyYXRvcnMgPSBbXTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTZWxlY3Rpb25SYW5nZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5odG1sRm9jdXNlZEVsZW1lbnRCZWZvcmVPcGVuUXVpY2tNZW51ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk6IEhUTUxFbGVtZW50IHtcclxuXHJcbiAgICAgICAgY29uc3QgaHRtbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cclxuICAgICAgICBodG1sRWxlbWVudC5pZCA9IHRoaXMucHJvcHMuaWQ7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmbG9hdGluZy10b29sYmFyXCIsIFwic2VsZWN0LXdyYXBwZXJcIiwgXCJzb2Z0LWJveC1zaGFkb3dcIik7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUuekluZGV4ID0gWkluZGV4LlNsaWdodGx5SW1wb3J0YW50O1xyXG5cclxuICAgICAgICBjb25zdCBzZWxlY3RXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHJcbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2VsZWN0V3JhcHBlcik7XHJcblxyXG4gICAgICAgIHJldHVybiBodG1sRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGlzcGxheSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnZmxleCc7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2hvdygpOiB2b2lkIHtcclxuICAgIC8vICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG5cclxuICAgIC8vICAgICAgICAgdGhpcy5odG1sRm9jdXNlZEVsZW1lbnRCZWZvcmVPcGVuUXVpY2tNZW51ID0gRE9NVXRpbHMuZmluZENsb3Nlc3RBbmNlc3Rvck9mQWN0aXZlRWxlbWVudEJ5Q2xhc3MoXCIuZm9jdXNhYmxlXCIpO1xyXG4gICAgLy8gICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcblxyXG4gICAgLy8gICAgICAgICBpZiAoIXNlbGVjdGlvbiB8fCBzZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMCkge1xyXG4gICAgLy8gICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gc2VsZWN0aW9uIGZvdW5kJyk7XHJcbiAgICAvLyAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGlvblJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XHJcblxyXG4gICAgLy8gICAgICAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xyXG4gICAgLy8gICAgICAgICBjb25zdCByZWN0ID0gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgLy8gICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcblxyXG4gICAgLy8gICAgICAgICBjb25zdCBlbGVtZW50V2lkdGggPSB0aGlzLmh0bWxFbGVtZW50Lm9mZnNldFdpZHRoO1xyXG4gICAgLy8gICAgICAgICBsZXQgbGVmdFBvc2l0aW9uID0gcmVjdC5sZWZ0ICsgd2luZG93LnNjcm9sbFggLSA1MDtcclxuXHJcbiAgICAvLyAgICAgICAgIGlmIChsZWZ0UG9zaXRpb24gKyBlbGVtZW50V2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCkge1xyXG4gICAgLy8gICAgICAgICAgICAgbGVmdFBvc2l0aW9uID0gd2luZG93LmlubmVyV2lkdGggLSBlbGVtZW50V2lkdGggLSAyMDtcclxuICAgIC8vICAgICAgICAgfVxyXG5cclxuICAgIC8vICAgICAgICAgY29uc3QgZWxlbWVudEhlaWdodCA9IHRoaXMuaHRtbEVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xyXG4gICAgLy8gICAgICAgICBsZXQgdG9wUG9zaXRpb24gPSByZWN0LnRvcCArIHdpbmRvdy5zY3JvbGxZIC0gZWxlbWVudEhlaWdodCAtIDEwO1xyXG5cclxuICAgIC8vICAgICAgICAgaWYgKHRvcFBvc2l0aW9uIDwgMCkge1xyXG4gICAgLy8gICAgICAgICAgICAgdG9wUG9zaXRpb24gPSByZWN0LmJvdHRvbSArIHdpbmRvdy5zY3JvbGxZICsgMTA7XHJcbiAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUubGVmdCA9IGAke2xlZnRQb3NpdGlvbn1weGA7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUudG9wID0gYCR7dG9wUG9zaXRpb259cHhgO1xyXG5cclxuICAgIC8vICAgICAgICAgc3VwZXIuc2hvdygpO1xyXG5cclxuICAgIC8vICAgICAgICAgLy8gZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoQ3VzdG9tRXZlbnRzLmZsb2F0aW5nVG9vbGJhckRpc3BsYXllZCwge1xyXG4gICAgLy8gICAgICAgICAvLyAgICAgYnViYmxlczogdHJ1ZSxcclxuICAgIC8vICAgICAgICAgLy8gICAgIGNhbmNlbGFibGU6IHRydWVcclxuICAgIC8vICAgICAgICAgLy8gfSkpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIGhpZGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FuSGlkZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hbnlEcm9wZG93blZpc2libGUoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlQWxsRHJvcGRvd25WaXNpYmxlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGlvblJhbmdlID0gbnVsbDtcclxuICAgICAgICAgICAgc3VwZXIuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhcHBlbmREcm9wZG93bihkcm9wZG93bjogRHJvcGRvd25NZW51KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kcm9wZG93bnMucHVzaChkcm9wZG93bilcclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmFwcGVuZENoaWxkKGRyb3Bkb3duLmh0bWxFbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBlbmRCdXR0b25Hcm91cChidXR0b25Hcm91cDogQnV0dG9uR3JvdXApOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmFwcGVuZENoaWxkKGJ1dHRvbkdyb3VwLmh0bWxFbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBlbmRTZXBhcmF0b3Ioc2VwYXJhdG9yOiBGbG9hdGluZ1Rvb2xiYXJTZXBhcmF0b3IpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNlcGFyYXRvcnMucHVzaChzZXBhcmF0b3IpO1xyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2VwYXJhdG9yLmh0bWxFbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBlbmRUZXh0VG9vbGJhcihidXR0b246IEJ1dHRvbkdyb3VwKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5hcHBlbmRDaGlsZChidXR0b24uaHRtbEVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFueURyb3Bkb3duVmlzaWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGRyb3Bkb3duIG9mIHRoaXMuZHJvcGRvd25zKSB7XHJcbiAgICAgICAgICAgIGlmIChkcm9wZG93bi5kcm9wZG93bkxpc3QuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGVBbGxEcm9wZG93blZpc2libGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBkcm9wZG93biBvZiB0aGlzLmRyb3Bkb3ducykge1xyXG4gICAgICAgICAgICBpZiAoZHJvcGRvd24uZHJvcGRvd25MaXN0LmNhbkhpZGUpIHtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duLmRyb3Bkb3duTGlzdC5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBhdHRhY2hFdmVudHMoKSB7XHJcblxyXG4gICAgICAgIC8vIFByZXZlbnQgZm9jdXMgY2hhbmdlIHdoZW4gY2xpY2tpbmcgb24gdGhpcyBlbGVtZW50XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5DbGljaywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFByZXZlbnQgZm9jdXMgY2hhbmdlIHdoZW4gY2xpY2tpbmcgb24gdGhpcyBlbGVtZW50XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5Nb3VzZWRvd24sIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNob3dJbnB1dExpbmtCb3hSZXF1ZXN0ZWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbkhpZGUgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNob3dJbnB1dExpbmtCb3hGaW5pc2hlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FuSGlkZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdG9yZVJhbmdlU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAvLyAgICAgaWYgKHRoaXMuY2FuSGlkZSAmJiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykpIHtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICBpZiAodGhpcy5hbnlEcm9wZG93blZpc2libGUoKSkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuaGlkZUFsbERyb3Bkb3duVmlzaWJsZSgpO1xyXG4gICAgICAgIC8vICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfSBpZiAodGhpcy5jYW5IaWRlICYmIChldmVudC5rZXkgPT09ICdBcnJvd0xlZnQnIHx8IGV2ZW50LmtleSA9PT0gJ0Fycm93UmlnaHQnIHx8IGV2ZW50LmtleSA9PT0gJ0Fycm93VXAnIHx8IGV2ZW50LmtleSA9PT0gJ0Fycm93RG93bicpKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAodGhpcy5pc1NlbGVjdGlvbkVtcHR5KCkpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGlmICgoZXZlbnQua2V5ID09PSAnRXNjYXBlJyB8fCBldmVudC5rZXkgPT09ICdEZWxldGUnKSAmJiB0aGlzLmlzVmlzaWJsZSkge1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKHRoaXMuY2FuSGlkZSkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuaGlkZUFsbERyb3Bkb3duVmlzaWJsZSgpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICAgIC8vICAgICBpZiAodGhpcy5jYW5IaWRlICYmICEoZXZlbnQudGFyZ2V0ISBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdChgIyR7dGhpcy5odG1sRWxlbWVudC5pZH1gKSAmJiAhdGhpcy5hbnlEcm9wZG93blZpc2libGUoKSkge1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgLy8gICAgIH0gXHJcbiAgICAgICAgLy8gICAgIC8vIGVsc2UgaWYgKHRoaXMuaXNWaXNpYmxlICYmICEoZXZlbnQudGFyZ2V0ISBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdChgIyR7dGhpcy5odG1sRWxlbWVudC5pZH1gKSAmJiAhdGhpcy5pbnB1dExpbmtCb3hXcmFwcGVyLmlzVmlzaWJsZSkge1xyXG4gICAgICAgIC8vICAgICAvLyAgICAgdGhpcy5yZXN0b3JlUmFuZ2VTZWxlY3Rpb24oKTtcclxuICAgICAgICAvLyAgICAgLy8gfVxyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKEN1c3RvbUV2ZW50cy5ibG9ja0RlbGV0ZWQsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoQ3VzdG9tRXZlbnRzLmJsb2NrVHlwZUNoYW5nZWQsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNTZWxlY3Rpb25FbXB0eSgpIHtcclxuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICByZXR1cm4gIXNlbGVjdGlvbiB8fCBzZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMCB8fCBzZWxlY3Rpb24udG9TdHJpbmcoKS50cmltKCkgPT09ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc3RvcmVSYW5nZVNlbGVjdGlvbigpOiB2b2lkIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKT8ucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCk/LmFkZFJhbmdlKHRoaXMuY3VycmVudFNlbGVjdGlvblJhbmdlISk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4iLCJpbXBvcnQgeyBDb2xvcnMgfSBmcm9tIFwiQC9jb21tb24vQ29sb3JzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2hhbmdlQ29sb3Ige1xyXG5cclxuICAgIGNvbG9yOiBDb2xvcnM7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29sb3I6IENvbG9ycykge1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBTaG93SGlkZUFjdGl2ZUJ1dHRvbiB7XHJcblxyXG4gICAgY2xhc3NLZXk6IFwiaGlsaXRlQ29sb3JcIiB8IFwiZm9yZUNvbG9yXCIgfCBcImJhY2tncm91bmRDb2xvclwiO1xyXG4gICAgdmFsdWU6IHN0cmluZztcclxuICAgIGludGVudGlvbjogXCJzaG93XCIgfCBcImhpZGVcIjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihjbGFzc0tleTogXCJoaWxpdGVDb2xvclwiIHwgXCJmb3JlQ29sb3JcIiB8IFwiYmFja2dyb3VuZENvbG9yXCIsIHZhbHVlOiBzdHJpbmcsIGludGVudGlvbjogXCJzaG93XCIgfCBcImhpZGVcIikge1xyXG4gICAgICAgIHRoaXMuY2xhc3NLZXkgPSBjbGFzc0tleTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5pbnRlbnRpb24gPSBpbnRlbnRpb247XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUmVzZXRBY3RpdmVCdXR0b25zIHtcclxuXHJcbiAgICBjbGFzc0tleTogXCJoaWxpdGVDb2xvclwiIHwgXCJmb3JlQ29sb3JcIiB8IFwiYmFja2dyb3VuZENvbG9yXCI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2xhc3NLZXk6IFwiaGlsaXRlQ29sb3JcIiB8IFwiZm9yZUNvbG9yXCIgfCBcImJhY2tncm91bmRDb2xvclwiKSB7XHJcbiAgICAgICAgdGhpcy5jbGFzc0tleSA9IGNsYXNzS2V5O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSVVJQWN0aW9uIH0gZnJvbSBcIi4vSVVJQWN0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2xvc2VFbGVtZW50IGltcGxlbWVudHMgSVVJQWN0aW9uIHtcclxuXHJcbn0iLCJpbXBvcnQgeyBJVUlBY3Rpb24gfSBmcm9tIFwiLi9JVUlBY3Rpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTaG93RWxlbWVudCBpbXBsZW1lbnRzIElVSUFjdGlvbiB7XHJcblxyXG59IiwiaW1wb3J0IHsgSVVJQWN0aW9uIH0gZnJvbSBcIi4vSVVJQWN0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2hhbmdlQmxvY2tUb29sYmFyTGFuZ3VhZ2UgaW1wbGVtZW50cyBJVUlBY3Rpb24ge1xyXG5cclxuICAgIGxhbmd1YWdlOiBzdHJpbmc7XHJcbiAgICBibG9ja0lkOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihibG9ja0lkOiBzdHJpbmcsIGxhbmd1YWdlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmJsb2NrSWQgPSBibG9ja0lkO1xyXG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbG9ycyB9IGZyb20gXCJAL2NvbW1vbi9Db2xvcnNcIjtcclxuaW1wb3J0IHsgVGFibGVTY29wZXMgfSBmcm9tIFwiQC9zZXJ2aWNlcy90YWJsZS1vcGVyYXRpb25zL1RhYmxlU2NvcGVzXCI7XHJcbmltcG9ydCB7IElDb21tYW5kRXZlbnREZXRhaWwgfSBmcm9tIFwiLi9JQ29tbWFuZEV2ZW50RGV0YWlsXCI7XHJcbmltcG9ydCB7IEN1c3RvbUV2ZW50cyB9IGZyb20gXCJAL2NvbW1vbi9DdXN0b21FdmVudHNcIjtcclxuaW1wb3J0IHsgQ29tbWFuZHMgfSBmcm9tIFwiLi9Db21tYW5kc1wiO1xyXG5pbXBvcnQgeyBJVUlFdmVudERldGFpbCB9IGZyb20gXCIuL0lVSUV2ZW50RGV0YWlsXCI7XHJcbmltcG9ydCB7IENoYW5nZUNvbG9yIH0gZnJvbSBcIi4vVUlBY3Rpb25zL0NoYW5nZUNvbG9yXCI7XHJcbmltcG9ydCB7IEN1c3RvbVVJRXZlbnRzIH0gZnJvbSBcIkAvY29tbW9uL0N1c3RvbVVJRXZlbnRzXCI7XHJcbmltcG9ydCB7IFNob3dIaWRlQWN0aXZlQnV0dG9uIH0gZnJvbSBcIi4vVUlBY3Rpb25zL1Nob3dIaWRlQWN0aXZlQnV0dG9uXCI7XHJcbmltcG9ydCB7IFJlc2V0QWN0aXZlQnV0dG9ucyB9IGZyb20gXCIuL1VJQWN0aW9ucy9SZXNldEFjdGl2ZUJ1dHRvbnNcIjtcclxuaW1wb3J0IHsgQ2xvc2VFbGVtZW50IH0gZnJvbSBcIi4vVUlBY3Rpb25zL0Nsb3NlRWxlbWVudFwiO1xyXG5pbXBvcnQgeyBTaG93RWxlbWVudCB9IGZyb20gXCIuL1VJQWN0aW9ucy9TaG93RWxlbWVudFwiO1xyXG5pbXBvcnQgeyBDaGFuZ2VCbG9ja1Rvb2xiYXJMYW5ndWFnZSB9IGZyb20gXCIuL1VJQWN0aW9ucy9DaGFuZ2VCbG9ja1Rvb2xiYXJMYW5ndWFnZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEV2ZW50RW1pdHRlciB7XHJcblxyXG5cclxuICAgIHN0YXRpYyBlbWl0Q29kZUJsb2NrTGFuZ3VhZ2VDaGFuZ2VkRXZlbnQodGFyZ2V0Q2xhc3M6IHN0cmluZywgYmxvY2tJZDogc3RyaW5nLCBsYW5ndWFnZTogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50PElVSUV2ZW50RGV0YWlsPihDdXN0b21VSUV2ZW50cy5DaGFuZ2VCbG9ja1Rvb2xiYXJMYW5ndWFnZSwge1xyXG4gICAgICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgICAgICAgIHRhcmdldENsYXNzOiB0YXJnZXRDbGFzcyxcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogbmV3IENoYW5nZUJsb2NrVG9vbGJhckxhbmd1YWdlKGJsb2NrSWQsIGxhbmd1YWdlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBlbWl0U2hvd0VsZW1lbnRFdmVudCh0YXJnZXRJZDogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50PElVSUV2ZW50RGV0YWlsPihDdXN0b21VSUV2ZW50cy5TaG93RWxlbWVudCwge1xyXG4gICAgICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgICAgICAgIHRhcmdldElkOiB0YXJnZXRJZCxcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogbmV3IFNob3dFbGVtZW50XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGVtaXRDbG9zZUVsZW1lbnRFdmVudCh0YXJnZXRJZDogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50PElVSUV2ZW50RGV0YWlsPihDdXN0b21VSUV2ZW50cy5DbG9zZUVsZW1lbnQsIHtcclxuICAgICAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRJZDogdGFyZ2V0SWQsXHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IG5ldyBDbG9zZUVsZW1lbnRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZW1pdENoYW5nZUNvbXBvbmVudENvbG9yRXZlbnQodGFyZ2V0SWQ6IHN0cmluZywgY29sb3I6IENvbG9ycykge1xyXG5cclxuICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudDxJVUlFdmVudERldGFpbD4oQ3VzdG9tVUlFdmVudHMuQ29sb3JDaGFuZ2VSZXF1ZXN0LCB7XHJcbiAgICAgICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0SWQ6IHRhcmdldElkLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBuZXcgQ2hhbmdlQ29sb3IoY29sb3IpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGVtaXRTaG93SGlkZUFjdGl2ZUVsZW1lbnRFdmVudCh0YXJnZXRDbGFzczogXCJoaWxpdGVDb2xvclwiIHwgXCJmb3JlQ29sb3JcIiB8IFwiYmFja2dyb3VuZENvbG9yXCIsIHZhbHVlOiBzdHJpbmcsIGludGVuc2lvbjogXCJzaG93XCIgfCBcImhpZGVcIikge1xyXG5cclxuICAgICAgICBpZiAodGFyZ2V0Q2xhc3MgPT0gXCJoaWxpdGVDb2xvclwiICYmIHZhbHVlID09IENvbG9ycy5IaWxpdGVDb2xvck5vbmUpIHtcclxuICAgICAgICAgICAgaW50ZW5zaW9uID0gXCJoaWRlXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFyZ2V0Q2xhc3MgPT0gXCJmb3JlQ29sb3JcIiAmJiB2YWx1ZSA9PSBDb2xvcnMuRm9yZUNvbG9ySW5pdGlhbCkge1xyXG4gICAgICAgICAgICBpbnRlbnNpb24gPSBcImhpZGVcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0YXJnZXRDbGFzcyA9PSBcImJhY2tncm91bmRDb2xvclwiICYmIHZhbHVlID09IENvbG9ycy5CYWNrZ3JvdW5kQ29sb3JOb25lKSB7XHJcbiAgICAgICAgICAgIGludGVuc2lvbiA9IFwiaGlkZVwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQ8SVVJRXZlbnREZXRhaWw+KEN1c3RvbVVJRXZlbnRzLlNob3dIaWRlQWN0aXZlQnV0dG9uLCB7XHJcblxyXG4gICAgICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgICAgICAgIHRhcmdldENsYXNzOiB0YXJnZXRDbGFzcyxcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogbmV3IFNob3dIaWRlQWN0aXZlQnV0dG9uKHRhcmdldENsYXNzLCB2YWx1ZSwgaW50ZW5zaW9uKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBlbWl0UmVzZXRBY3RpdmVCdXR0b25zRWxlbWVudEV2ZW50KHRhcmdldENsYXNzOiBcImhpbGl0ZUNvbG9yXCIgfCBcImZvcmVDb2xvclwiIHwgXCJiYWNrZ3JvdW5kQ29sb3JcIikge1xyXG5cclxuICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudDxJVUlFdmVudERldGFpbD4oQ3VzdG9tVUlFdmVudHMuUmVzZXRBY3RpdmVCdXR0b25zLCB7XHJcblxyXG4gICAgICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgICAgICAgIHRhcmdldENsYXNzOiB0YXJnZXRDbGFzcyxcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogbmV3IFJlc2V0QWN0aXZlQnV0dG9ucyh0YXJnZXRDbGFzcylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvL1RPRE86IHJld3JpdGUgdGhpcyBkb2NcclxuICAgIC8qKlxyXG4gICAgKiBFbWl0cyBhIGN1c3RvbSBldmVudCB3aXRoIHRoZSBjdXJyZW50IGZvcm1hdHRpbmcgc3RhdGVzIGlmIHRoZXJlIGlzIGFuIGFjdGl2ZSB0ZXh0IHNlbGVjdGlvbi5cclxuICAgICogVGhpcyBmdW5jdGlvbiBpcyBjcnVjaWFsIGluIGEgdGV4dCBlZGl0aW5nIGVudmlyb25tZW50IHdoZXJlIG11bHRpcGxlIGNvbXBvbmVudHMgbWlnaHQgbmVlZCB0b1xyXG4gICAgKiB1cGRhdGUgdGhlaXIgc3RhdGUgYmFzZWQgb24gY2hhbmdlcyBpbiB0ZXh0IGZvcm1hdHRpbmcuIFRoZSBlbWl0dGVkIGV2ZW50IChgQ3VzdG9tRXZlbnRzLnRleHRGb3JtYXRDaGFuZ2VkYClcclxuICAgICogY2FycmllcyBmb3JtYXR0aW5nIHN0YXRlIGRhdGEsIHdoaWNoIGNvbXBvbmVudHMgY2FuIHVzZSB0byBzeW5jaHJvbml6ZSB0aGVpciBVSSBlbGVtZW50cyB3aXRoIHRoZVxyXG4gICAgKiBjdXJyZW50IHRleHQgZm9ybWF0dGluZyAoZS5nLiwgdXBkYXRpbmcgYnV0dG9uIHN0YXRlcywgZGlzcGxheWluZyBhY3RpdmUgZm9ybWF0dGluZyBvcHRpb25zKS5cclxuICAgICpcclxuICAgICogVGhpcyBmdW5jdGlvbiBmaXJzdCBjaGVja3MgZm9yIGFuIGFjdGl2ZSBhbmQgbm9uLWVtcHR5IHRleHQgc2VsZWN0aW9uLlxyXG4gICAgKiBJZiB0aGUgc2VsZWN0aW9uIGlzIGVtcHR5LCB0aGUgZnVuY3Rpb24gZXhpdHMgZWFybHkgdG8gYXZvaWQgcHJvY2Vzc2luZyB1bm5lY2Vzc2FyeSBldmVudHMsXHJcbiAgICAqIGVzcGVjaWFsbHkgdG8gbWl0aWdhdGUgaXNzdWVzIGluIGJyb3dzZXJzIGxpa2UgRmlyZWZveCB3aGVyZSBgc2VsZWN0aW9uY2hhbmdlYCBtaWdodCBmaXJlIGR1cmluZyB0eXBpbmdcclxuICAgICogd2l0aG91dCBhbiBhY3R1YWwgY2hhbmdlIGluIHNlbGVjdGlvbi5cclxuICAgICpcclxuICAgICogQHByaXZhdGVcclxuICAgICogQHJldHVybnMge3ZvaWR9IE5vIHJldHVybiB2YWx1ZSBhcyB0aGlzIGZ1bmN0aW9uIGlzIG1lYW50IHRvIGVtaXQgZXZlbnRzIGJhc2VkIG9uIHRoZSBmb3JtYXR0aW5nIHN0YXRlLlxyXG4gICAgKlxyXG4gICAgKiBAZXhhbXBsZVxyXG4gICAgKiAvLyBUbyBpbnZva2UgdGhpcyBmdW5jdGlvbiB3aXRoaW4gYSBjbGFzcyB0aGF0IGhhbmRsZXMgdGV4dCBmb3JtYXR0aW5nOlxyXG4gICAgKiB0aGlzLmVtaXRGb3JtYXRDaGFuZ2VFdmVudHMoKTtcclxuICAgICpcclxuICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAqIEhlcmUncyBob3cgdGhlIGZ1bmN0aW9uIHdvcmtzOlxyXG4gICAgKiAxLiBDaGVja3MgZm9yIGFuIGFjdGl2ZSBhbmQgbm9uLWVtcHR5IHRleHQgc2VsZWN0aW9uLiBJZiBlbXB0eSwgcmV0dXJucyBlYXJseS5cclxuICAgICogMi4gR2F0aGVycyBjdXJyZW50IHN0YXRlIG9mIHRleHQgZm9ybWF0dGluZyBjb21tYW5kcyBzdWNoIGFzICdib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnLCBhbmQgJ3N0cmlrZVRocm91Z2gnLFxyXG4gICAgKiAgICBhbmQgZHluYW1pY2FsbHkgY29sbGVjdHMgdGhlIHN0YXRlIG9mIHZhcmlvdXMgaGlnaGxpZ2h0IGNvbG9ycyB1c2luZyBhIHNlcnZpY2UuXHJcbiAgICAqIDMuIERpc3BhdGNoZXMgYSBjdXN0b20gZXZlbnQgKGBDdXN0b21FdmVudHMudGV4dEZvcm1hdENoYW5nZWRgKSB3aXRoIHRoZXNlIGZvcm1hdHRpbmcgc3RhdGVzLlxyXG4gICAgKiAgICBDb21wb25lbnRzIHRocm91Z2hvdXQgdGhlIGFwcGxpY2F0aW9uIGxpc3RlbiB0byB0aGlzIGV2ZW50IGFuZCB1cGRhdGUgdGhlaXIgc3RhdGVzIGFjY29yZGluZ2x5LFxyXG4gICAgKiAgICBlbnN1cmluZyB0aGF0IFVJIGNvbnRyb2xzIGxpa2UgdG9vbGJhciBidXR0b25zIHJlZmxlY3QgdGhlIGN1cnJlbnQgZm9ybWF0dGluZyBvZiB0aGUgc2VsZWN0ZWQgdGV4dC5cclxuICAgICovXHJcbiAgICAvLyBzdGF0aWMgZW1pdEZvcm1hdENoYW5nZUV2ZW50ID0gKFxyXG5cclxuICAgIC8vICAgICBib2xkOiBib29sZWFuLFxyXG4gICAgLy8gICAgIGl0YWxpYzogYm9vbGVhbixcclxuICAgIC8vICAgICB1bmRlcmxpbmU6IGJvb2xlYW4sXHJcbiAgICAvLyAgICAgc3RyaWtlVGhyb3VnaDogYm9vbGVhbixcclxuICAgIC8vICAgICBoaWxpdGVDb2xvcjogeyBba2V5OiBzdHJpbmddIDogYm9vbGVhbiB9LCBcclxuICAgIC8vICAgICBmb3JlQ29sb3I6IHsgW2tleTogc3RyaW5nXSA6IGJvb2xlYW59KTogdm9pZCA9PiB7XHJcblxyXG4gICAgLy8gICAgIC8vIFRoaXMgYmxvY2sgY2hlY2tzIGZvciBhbiBhY3RpdmUgc2VsZWN0aW9uIGFuZCB3aGV0aGVyIGl0IGNvbnRhaW5zIGFueSBjb250ZW50LlxyXG4gICAgLy8gICAgIC8vIEluIEZpcmVmb3gsIHRoZSBgc2VsZWN0aW9uY2hhbmdlYCBldmVudCBtYXkgYmUgZmlyZWQgZXZlbiB3aGlsZSB0eXBpbmcsXHJcbiAgICAvLyAgICAgLy8gd2hpY2ggaXMgbm90IHRoZSBpbnRlbmRlZCB0cmlnZ2VyIHNpbmNlIHdlIG9ubHkgd2FudCB0byByZWFjdCB0byBhY3R1YWwgY2hhbmdlcyBpbiBzZWxlY3Rpb24uXHJcbiAgICAvLyAgICAgLy8gSWYgdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSBvciBudWxsLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBlYXJseSwgZWZmZWN0aXZlbHkgaWdub3JpbmdcclxuICAgIC8vICAgICAvLyB0aGVzZSB1bndhbnRlZCBgc2VsZWN0aW9uY2hhbmdlYCBldmVudHMgZHVyaW5nIHR5cGluZy5cclxuICAgIC8vICAgICBjb25zdCBzZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtcclxuICAgIC8vICAgICBpZiAoIXNlbGVjdGlvbiB8fCBzZWxlY3Rpb24/LnRvU3RyaW5nKCkudHJpbSgpID09PSAnJykge1xyXG4gICAgLy8gICAgICAgICByZXR1cm47XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICBjb25zdCBjb21tYW5kU3RhdGVzOiBJRm9ybWF0Q29tbWFuZCA9IHtcclxuICAgIC8vICAgICAgICAgYm9sZDogYm9sZCxcclxuICAgIC8vICAgICAgICAgaXRhbGljOiBpdGFsaWMsXHJcbiAgICAvLyAgICAgICAgIHVuZGVybGluZTogdW5kZXJsaW5lLFxyXG4gICAgLy8gICAgICAgICBzdHJpa2VUaHJvdWdoOiBzdHJpa2VUaHJvdWdoLFxyXG4gICAgLy8gICAgICAgICBoaWxpdGVDb2xvcjogaGlsaXRlQ29sb3IsXHJcbiAgICAvLyAgICAgICAgIGZvcmVDb2xvcjogZm9yZUNvbG9yLFxyXG4gICAgLy8gICAgICAgICBjZWxsSGlsaXRlQ29sb3I6IHt9XHJcbiAgICAvLyAgICAgfTtcclxuXHJcbiAgICAvLyAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQ8SUZvcm1hdENvbW1hbmQ+KEN1c3RvbUV2ZW50cy50ZXh0Rm9ybWF0Q2hhbmdlZCwge1xyXG4gICAgLy8gICAgICAgICBkZXRhaWw6IGNvbW1hbmRTdGF0ZXNcclxuICAgIC8vICAgICB9KTtcclxuXHJcbiAgICAvLyAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgc3RhdGljIGVtaXRDaGFuZ2VUYWJsZUJvcmRlckNvbG9yRXZlbnQoc2NvcGU6IFRhYmxlU2NvcGVzLCBjb2xvcjogQ29sb3JzKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50PElDb21tYW5kRXZlbnREZXRhaWw+KEN1c3RvbUV2ZW50cy5lbWl0dGVkQ29tbWFuZCwge1xyXG4gICAgICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6IENvbW1hbmRzLmNoYW5nZVRhYmxlQm9yZGVyQ29sb3IsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogY29sb3IsXHJcbiAgICAgICAgICAgICAgICBzY29wZTogc2NvcGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gc3RhdGljIGVtaXRDZWxsQ2hhbmdlRXZlbnQgPSAoY2VsbDogSFRNTFRhYmxlQ2VsbEVsZW1lbnQpOiB2b2lkID0+IHtcclxuXHJcbiAgICAvLyAgICAgY29uc3QgY2VsbEhpbGl0ZUNvbG9yOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xyXG5cclxuICAgIC8vICAgICBjZWxsSGlsaXRlQ29sb3JbQ29sb3JzLkhpbGl0ZUNvbG9yUmVkXSA9IFRhYmxlVXRpbHMuaXNDZWxsQmFja2dyb3VuZENvbG9yKGNlbGwsIENvbG9ycy5IaWxpdGVDb2xvclJlZCk7XHJcbiAgICAvLyAgICAgY2VsbEhpbGl0ZUNvbG9yW0NvbG9ycy5IaWxpdGVDb2xvckdyZWVuXSA9IFRhYmxlVXRpbHMuaXNDZWxsQmFja2dyb3VuZENvbG9yKGNlbGwsIENvbG9ycy5IaWxpdGVDb2xvckdyZWVuKTtcclxuICAgIC8vICAgICBjZWxsSGlsaXRlQ29sb3JbQ29sb3JzLkhpbGl0ZUNvbG9yQmx1ZV0gPSBUYWJsZVV0aWxzLmlzQ2VsbEJhY2tncm91bmRDb2xvcihjZWxsLCBDb2xvcnMuSGlsaXRlQ29sb3JCbHVlKTtcclxuICAgIC8vICAgICBjZWxsSGlsaXRlQ29sb3JbQ29sb3JzLkhpbGl0ZUNvbG9yWWVsbG93XSA9IFRhYmxlVXRpbHMuaXNDZWxsQmFja2dyb3VuZENvbG9yKGNlbGwsIENvbG9ycy5IaWxpdGVDb2xvclllbGxvdyk7XHJcbiAgICAvLyAgICAgY2VsbEhpbGl0ZUNvbG9yW0NvbG9ycy5IaWxpdGVDb2xvckdyZXldID0gVGFibGVVdGlscy5pc0NlbGxCYWNrZ3JvdW5kQ29sb3IoY2VsbCwgQ29sb3JzLkhpbGl0ZUNvbG9yR3JleSk7XHJcblxyXG4gICAgLy8gICAgIGNvbnN0IGNvbW1hbmRTdGF0ZXM6IElGb3JtYXRDb21tYW5kID0ge1xyXG4gICAgLy8gICAgICAgICBib2xkOiBmYWxzZSxcclxuICAgIC8vICAgICAgICAgaXRhbGljOiBmYWxzZSxcclxuICAgIC8vICAgICAgICAgdW5kZXJsaW5lOiBmYWxzZSxcclxuICAgIC8vICAgICAgICAgc3RyaWtlVGhyb3VnaDogZmFsc2UsXHJcbiAgICAvLyAgICAgICAgIGhpbGl0ZUNvbG9yOiB7fSxcclxuICAgIC8vICAgICAgICAgZm9yZUNvbG9yOiB7fSxcclxuICAgIC8vICAgICAgICAgY2VsbEhpbGl0ZUNvbG9yOiBjZWxsSGlsaXRlQ29sb3JcclxuICAgIC8vICAgICB9O1xyXG5cclxuICAgIC8vICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudDxJRm9ybWF0Q29tbWFuZD4oQ3VzdG9tRXZlbnRzLnRleHRGb3JtYXRDaGFuZ2VkLCB7XHJcbiAgICAvLyAgICAgICAgIGRldGFpbDogY29tbWFuZFN0YXRlc1xyXG4gICAgLy8gICAgIH0pO1xyXG5cclxuICAgIC8vICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcclxuICAgIC8vIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBET01VdGlscyB9IGZyb20gXCJAL3V0aWxpdGllcy9ET01VdGlsc1wiO1xyXG5pbXBvcnQgeyBGbG9hdGluZ1Rvb2xiYXIgfSBmcm9tIFwiLi9GbG9hdGluZ1Rvb2xiYXJcIjtcclxuaW1wb3J0IHsgWkluZGV4IH0gZnJvbSBcIkAvY29tbW9uL1pJbmRleFwiO1xyXG5pbXBvcnQgeyBEZWZhdWx0SlNFdmVudHMgfSBmcm9tIFwiQC9jb21tb24vRGVmYXVsdEpTRXZlbnRzXCI7XHJcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gXCJAL2NvbW1hbmRzL0V2ZW50RW1pdHRlclwiO1xyXG5pbXBvcnQgeyBJVGV4dE9wZXJhdGlvbnNTZXJ2aWNlIH0gZnJvbSBcIkAvc2VydmljZXMvdGV4dC1vcGVyYXRpb25zL0lUZXh0T3BlcmF0aW9uc1NlcnZpY2VcIjtcclxuaW1wb3J0IHsgRGVwZW5kZW5jeUNvbnRhaW5lciB9IGZyb20gXCJAL2NvcmUvRGVwZW5kZW5jeUNvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyBDb2xvcnMgfSBmcm9tIFwiQC9jb21tb24vQ29sb3JzXCI7XHJcbmltcG9ydCB7IEJ1dHRvbklEcyB9IGZyb20gXCJAL2NvcmUvQnV0dG9uSURzXCI7XHJcbmltcG9ydCB7IEtleWJvYXJkS2V5cyB9IGZyb20gXCJAL2NvbW1vbi9LZXlib2FyZEtleXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhciBleHRlbmRzIEZsb2F0aW5nVG9vbGJhciB7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaWQ6IHN0cmluZyA9IFwidGV4dEZsb2F0aW5nVG9vbGJhclwiO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFRleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyO1xyXG4gICAgcHJpdmF0ZSB0ZXh0T3BlcmF0aW9uc1NlcnZpY2U6IElUZXh0T3BlcmF0aW9uc1NlcnZpY2U7XHJcbiAgICBwcml2YXRlIGluaXRpYWxSZWN0OiBET01SZWN0IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBsb2NrZWRIaWRlID0gZmFsc2U7XHJcbiAgICBkZWJvdW5jZVRpbWVyOiBhbnkgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IodGV4dE9wZXJhdGlvbnNTZXJ2aWNlOiBJVGV4dE9wZXJhdGlvbnNTZXJ2aWNlKSB7XHJcblxyXG4gICAgICAgIGlmIChUZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhci5pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVc2UgVGV4dENvbnRleHRGbG9hdGluZ1Rvb2xiYXIuZ2V0SW5zdGFuY2UoKSB0byBnZXQgaW5zdGFuY2UuXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3VwZXIoVGV4dENvbnRleHRGbG9hdGluZ1Rvb2xiYXIuaWQpO1xyXG5cclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnN0eWxlLnpJbmRleCA9IFpJbmRleC5WZXJ5SW1wb3J0YW50O1xyXG4gICAgICAgIHRoaXMudGV4dE9wZXJhdGlvbnNTZXJ2aWNlID0gdGV4dE9wZXJhdGlvbnNTZXJ2aWNlO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBUZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhciB7XHJcblxyXG4gICAgICAgIGNvbnN0IHRleHRPcGVyYXRpb25zU2VydmljZSA9IERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVzb2x2ZTxJVGV4dE9wZXJhdGlvbnNTZXJ2aWNlPihcIklUZXh0T3BlcmF0aW9uc1NlcnZpY2VcIik7O1xyXG5cclxuICAgICAgICBpZiAoIVRleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIFRleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyLmluc3RhbmNlID0gbmV3IFRleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyKHRleHRPcGVyYXRpb25zU2VydmljZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gVGV4dENvbnRleHRGbG9hdGluZ1Rvb2xiYXIuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvY2Vzc1NlbGVjdGlvbkNoYW5nZUVmZmVjdHMoKSB7XHJcblxyXG4gICAgICAgIC8vVGhpcyBibG9jayBjaGVja3MgZm9yIGFuIGFjdGl2ZSBzZWxlY3Rpb24gYW5kIHdoZXRoZXIgaXQgY29udGFpbnMgYW55IGNvbnRlbnQuXHJcbiAgICAgICAgLy8gSW4gRmlyZWZveCwgdGhlIGBzZWxlY3Rpb25jaGFuZ2VgIGV2ZW50IG1heSBiZSBmaXJlZCBldmVuIHdoaWxlIHR5cGluZyxcclxuICAgICAgICAvLyB3aGljaCBpcyBub3QgdGhlIGludGVuZGVkIHRyaWdnZXIgc2luY2Ugd2Ugb25seSB3YW50IHRvIHJlYWN0IHRvIGFjdHVhbCBjaGFuZ2VzIGluIHNlbGVjdGlvbi5cclxuICAgICAgICAvLyBJZiB0aGUgc2VsZWN0aW9uIGlzIGVtcHR5IG9yIG51bGwsIHRoZSBmdW5jdGlvbiByZXR1cm5zIGVhcmx5LCBlZmZlY3RpdmVseSBpZ25vcmluZ1xyXG4gICAgICAgIC8vIHRoZXNlIHVud2FudGVkIGBzZWxlY3Rpb25jaGFuZ2VgIGV2ZW50cyBkdXJpbmcgdHlwaW5nLlxyXG4gICAgICAgIC8vIGNvbnN0IHNlbGVjdGlvbiA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgIC8vIGlmICghc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5pc0NvbGxhcHNlZCB8fCBzZWxlY3Rpb24udG9TdHJpbmcoKS50cmltLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybjtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gY29uc3QgdHh0ID0gc2VsZWN0aW9uLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codHh0KTtcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBFdmVudEVtaXR0ZXIuZW1pdFJlc2V0QWN0aXZlQnV0dG9uc0VsZW1lbnRFdmVudChcImhpbGl0ZUNvbG9yXCIpO1xyXG4gICAgICAgICAgICBFdmVudEVtaXR0ZXIuZW1pdFJlc2V0QWN0aXZlQnV0dG9uc0VsZW1lbnRFdmVudChcImZvcmVDb2xvclwiKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGlzTGluazogYm9vbGVhbiA9IHRoaXMudGV4dE9wZXJhdGlvbnNTZXJ2aWNlLnF1ZXJ5Q29tbWFuZFN0YXRlKCdjcmVhdGVMaW5rJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzQm9sZDogYm9vbGVhbiA9IHRoaXMudGV4dE9wZXJhdGlvbnNTZXJ2aWNlLnF1ZXJ5Q29tbWFuZFN0YXRlKCdib2xkJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzSXRhbGljOiBib29sZWFuID0gdGhpcy50ZXh0T3BlcmF0aW9uc1NlcnZpY2UucXVlcnlDb21tYW5kU3RhdGUoJ2l0YWxpYycpO1xyXG4gICAgICAgICAgICBjb25zdCBpc1VuZGVybGluZTogYm9vbGVhbiA9IHRoaXMudGV4dE9wZXJhdGlvbnNTZXJ2aWNlLnF1ZXJ5Q29tbWFuZFN0YXRlKCd1bmRlcmxpbmUnKTtcclxuICAgICAgICAgICAgY29uc3QgaXNJbmxpbmVDb2RlOiBib29sZWFuID0gdGhpcy50ZXh0T3BlcmF0aW9uc1NlcnZpY2UucXVlcnlDb21tYW5kU3RhdGUoXCJpbmxpbmVDb2RlXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBpc1N0cmlrZVRocm91Z2g6IGJvb2xlYW4gPSB0aGlzLnRleHRPcGVyYXRpb25zU2VydmljZS5xdWVyeUNvbW1hbmRTdGF0ZSgnc3RyaWtlVGhyb3VnaCcpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaGlsaXRlQ29sb3JzOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xyXG4gICAgICAgICAgICBoaWxpdGVDb2xvcnNbQ29sb3JzLkhpbGl0ZUNvbG9yUmVkXSA9IHRoaXMudGV4dE9wZXJhdGlvbnNTZXJ2aWNlLnF1ZXJ5SGlsaXRlQ29sb3IoQ29sb3JzLkhpbGl0ZUNvbG9yUmVkKTtcclxuICAgICAgICAgICAgaGlsaXRlQ29sb3JzW0NvbG9ycy5IaWxpdGVDb2xvckdyZWVuXSA9IHRoaXMudGV4dE9wZXJhdGlvbnNTZXJ2aWNlLnF1ZXJ5SGlsaXRlQ29sb3IoQ29sb3JzLkhpbGl0ZUNvbG9yR3JlZW4pO1xyXG4gICAgICAgICAgICBoaWxpdGVDb2xvcnNbQ29sb3JzLkhpbGl0ZUNvbG9yQmx1ZV0gPSB0aGlzLnRleHRPcGVyYXRpb25zU2VydmljZS5xdWVyeUhpbGl0ZUNvbG9yKENvbG9ycy5IaWxpdGVDb2xvckJsdWUpO1xyXG4gICAgICAgICAgICBoaWxpdGVDb2xvcnNbQ29sb3JzLkhpbGl0ZUNvbG9yWWVsbG93XSA9IHRoaXMudGV4dE9wZXJhdGlvbnNTZXJ2aWNlLnF1ZXJ5SGlsaXRlQ29sb3IoQ29sb3JzLkhpbGl0ZUNvbG9yWWVsbG93KTtcclxuICAgICAgICAgICAgaGlsaXRlQ29sb3JzW0NvbG9ycy5IaWxpdGVDb2xvckdyZXldID0gdGhpcy50ZXh0T3BlcmF0aW9uc1NlcnZpY2UucXVlcnlIaWxpdGVDb2xvcihDb2xvcnMuSGlsaXRlQ29sb3JHcmV5KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGZvcmVDb2xvcnM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XHJcbiAgICAgICAgICAgIGZvcmVDb2xvcnNbQ29sb3JzLkZvcmVDb2xvclJlZF0gPSB0aGlzLnRleHRPcGVyYXRpb25zU2VydmljZS5xdWVyeUZvcmVDb2xvcihDb2xvcnMuRm9yZUNvbG9yUmVkKTtcclxuICAgICAgICAgICAgZm9yZUNvbG9yc1tDb2xvcnMuRm9yZUNvbG9yR3JlZW5dID0gdGhpcy50ZXh0T3BlcmF0aW9uc1NlcnZpY2UucXVlcnlGb3JlQ29sb3IoQ29sb3JzLkZvcmVDb2xvckdyZWVuKTtcclxuICAgICAgICAgICAgZm9yZUNvbG9yc1tDb2xvcnMuRm9yZUNvbG9yQmx1ZV0gPSB0aGlzLnRleHRPcGVyYXRpb25zU2VydmljZS5xdWVyeUZvcmVDb2xvcihDb2xvcnMuRm9yZUNvbG9yQmx1ZSk7XHJcbiAgICAgICAgICAgIGZvcmVDb2xvcnNbQ29sb3JzLkZvcmVDb2xvclllbGxvd10gPSB0aGlzLnRleHRPcGVyYXRpb25zU2VydmljZS5xdWVyeUZvcmVDb2xvcihDb2xvcnMuRm9yZUNvbG9yWWVsbG93KTtcclxuICAgICAgICAgICAgZm9yZUNvbG9yc1tDb2xvcnMuRm9yZUNvbG9yR3JleV0gPSB0aGlzLnRleHRPcGVyYXRpb25zU2VydmljZS5xdWVyeUZvcmVDb2xvcihDb2xvcnMuRm9yZUNvbG9yR3JleSk7XHJcblxyXG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhoaWxpdGVDb2xvcnMpLmZvckVhY2goKFtjb2xvciwgYWN0aXZlXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50RW1pdHRlci5lbWl0U2hvd0hpZGVBY3RpdmVFbGVtZW50RXZlbnQoXCJoaWxpdGVDb2xvclwiLCBjb2xvciwgXCJzaG93XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGZvcmVDb2xvcnMpLmZvckVhY2goKFtjb2xvciwgYWN0aXZlXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50RW1pdHRlci5lbWl0U2hvd0hpZGVBY3RpdmVFbGVtZW50RXZlbnQoXCJmb3JlQ29sb3JcIiwgY29sb3IsIFwic2hvd1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVtaXRDaGFuZ2VDb21wb25lbnRDb2xvckV2ZW50KGlzTGluaywgQnV0dG9uSURzLkxpbmspO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXRDaGFuZ2VDb21wb25lbnRDb2xvckV2ZW50KGlzQm9sZCwgQnV0dG9uSURzLkJvbGQpO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXRDaGFuZ2VDb21wb25lbnRDb2xvckV2ZW50KGlzSXRhbGljLCBCdXR0b25JRHMuSXRhbGljKTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0Q2hhbmdlQ29tcG9uZW50Q29sb3JFdmVudChpc0lubGluZUNvZGUsIEJ1dHRvbklEcy5JbmxpbmVDb2RlKTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0Q2hhbmdlQ29tcG9uZW50Q29sb3JFdmVudChpc1VuZGVybGluZSwgQnV0dG9uSURzLlVuZGVybGluZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdENoYW5nZUNvbXBvbmVudENvbG9yRXZlbnQoaXNTdHJpa2VUaHJvdWdoLCBCdXR0b25JRHMuU3RyaWtldGhyb3VnaCk7XHJcbiAgICAgICAgfSwgMjApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZW1pdENoYW5nZUNvbXBvbmVudENvbG9yRXZlbnQoYWN0aXZlOiBib29sZWFuLCB0YXJnZXRJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xyXG4gICAgICAgICAgICBFdmVudEVtaXR0ZXIuZW1pdENoYW5nZUNvbXBvbmVudENvbG9yRXZlbnQodGFyZ2V0SWQsIENvbG9ycy5JY29uQWN0aXZlQmx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRXZlbnRFbWl0dGVyLmVtaXRDaGFuZ2VDb21wb25lbnRDb2xvckV2ZW50KHRhcmdldElkLCBDb2xvcnMuSWNvbkRlZmF1bHRCbGFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb2Nlc3NBZnRlckNoYW5nZShldmVudDogRXZlbnQpIHtcclxuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICBpZiAoc2VsZWN0aW9uICYmICFzZWxlY3Rpb24uaXNDb2xsYXBzZWQpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1NlbGVjdGlvbkNoYW5nZUVmZmVjdHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNoRXZlbnRzKCk6IHZvaWQge1xyXG5cclxuICAgICAgICBsZXQgaXNTZWxlY3RpbmcgPSBmYWxzZTtcclxuICAgICAgICBsZXQgZGVib3VuY2VUaW1lcjogYW55O1xyXG5cclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLk1vdXNldXAsIChldmVudCkgPT4geyBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihEZWZhdWx0SlNFdmVudHMuTW91c2V1cCwgdGhpcy5wcm9jZXNzQWZ0ZXJDaGFuZ2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihEZWZhdWx0SlNFdmVudHMuQmJsQ2xpY2ssIHRoaXMucHJvY2Vzc0FmdGVyQ2hhbmdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLlNlbGVjdGlvbkNoYW5nZSwgdGhpcy5wcm9jZXNzQWZ0ZXJDaGFuZ2UuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLktleWRvd24sIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGlzU2VsZWN0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5LZXl1cCwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IEtleWJvYXJkS2V5cy5TaGlmdCkge1xyXG4gICAgICAgICAgICAgICAgaXNTZWxlY3RpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0hpZGUoZXZlbnQsIGlzU2VsZWN0aW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5Nb3VzZWRvd24sICgpID0+IHtcclxuICAgICAgICAgICAgaXNTZWxlY3RpbmcgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5Nb3VzZXVwLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaXNTZWxlY3RpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zaG93SGlkZShldmVudCwgaXNTZWxlY3RpbmcpO1xyXG5cclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGRlYm91bmNlVGltZXIpO1xyXG4gICAgICAgICAgICBkZWJvdW5jZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpc1NlbGVjdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93SGlkZShldmVudCwgaXNTZWxlY3RpbmcpO1xyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5TZWxlY3Rpb25DaGFuZ2UsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dIaWRlKGV2ZW50LCBpc1NlbGVjdGluZyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5LZXlkb3duLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW5IaWRlICYmIChldmVudC5rZXkgPT09IEtleWJvYXJkS2V5cy5Fc2NhcGUpICYmICF0aGlzLmxvY2tlZEhpZGUpIHtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFueURyb3Bkb3duVmlzaWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZUFsbERyb3Bkb3duVmlzaWJsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzdXBlci5hdHRhY2hFdmVudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG91bGRVcGRhdGVQb3NpdGlvbigpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgaWYgKCFzZWxlY3Rpb24gfHwgc2VsZWN0aW9uLnJhbmdlQ291bnQgPT09IDApIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudFJlY3QgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBpZiAoIXRoaXMuaW5pdGlhbFJlY3QpIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICBjb25zdCBwb3NpdGlvbkNoYW5nZWQgPSBNYXRoLmFicyhjdXJyZW50UmVjdC5sZWZ0IC0gdGhpcy5pbml0aWFsUmVjdC5sZWZ0KSA+IDEwIHx8IE1hdGguYWJzKGN1cnJlbnRSZWN0LnRvcCAtIHRoaXMuaW5pdGlhbFJlY3QudG9wKSA+IDEwO1xyXG4gICAgICAgIHJldHVybiBwb3NpdGlvbkNoYW5nZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0hpZGUoZXZlbnQ6IEV2ZW50LCBpc1NlbGVjdGluZzogYm9vbGVhbikge1xyXG5cclxuICAgICAgICAvL1RoaXMgYmxvY2sgY2hlY2tzIGZvciBhbiBhY3RpdmUgc2VsZWN0aW9uIGFuZCB3aGV0aGVyIGl0IGNvbnRhaW5zIGFueSBjb250ZW50LlxyXG4gICAgICAgIC8vIEluIEZpcmVmb3gsIHRoZSBgc2VsZWN0aW9uY2hhbmdlYCBldmVudCBtYXkgYmUgZmlyZWQgZXZlbiB3aGlsZSB0eXBpbmcsXHJcbiAgICAgICAgLy8gd2hpY2ggaXMgbm90IHRoZSBpbnRlbmRlZCB0cmlnZ2VyIHNpbmNlIHdlIG9ubHkgd2FudCB0byByZWFjdCB0byBhY3R1YWwgY2hhbmdlcyBpbiBzZWxlY3Rpb24uXHJcbiAgICAgICAgLy8gSWYgdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSBvciBudWxsLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBlYXJseSwgZWZmZWN0aXZlbHkgaWdub3JpbmdcclxuICAgICAgICAvLyB0aGVzZSB1bndhbnRlZCBgc2VsZWN0aW9uY2hhbmdlYCBldmVudHMgZHVyaW5nIHR5cGluZy5cclxuXHJcbiAgICAgICAgY29uc3QgaGFzQ29udGVudCA9IHRoaXMuaGFzU2VsZWN0aW9uKCk7XHJcblxyXG4gICAgICAgIGlmICghaGFzQ29udGVudCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMubG9ja2VkSGlkZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsUmVjdCA9IG51bGw7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IGVsc2UgaWYgKGhhc0NvbnRlbnQgJiYgIWlzU2VsZWN0aW5nKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Zpc2libGUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZ25vcmVGbG9hdGluZ1Rvb2xiYXIgPSBET01VdGlscy5pc1NlbGVjdGVkVGV4dERlc2NlbmRhbnRPZihcIi5pZ25vcmUtdGV4dC1mbG9hdGluZy10b29sYmFyXCIpIHx8IERPTVV0aWxzLmlzU2VsZWN0ZWRUZXh0RGVzY2VuZGFudE9mKFwiLmdpc3RcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWdub3JlRmxvYXRpbmdUb29sYmFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zaG91bGRVcGRhdGVQb3NpdGlvbigpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaWdub3JlRmxvYXRpbmdUb29sYmFyID0gRE9NVXRpbHMuaXNTZWxlY3RlZFRleHREZXNjZW5kYW50T2YoXCIuZ2lzdFwiKSB8fCBET01VdGlscy5pc1NlbGVjdGVkVGV4dERlc2NlbmRhbnRPZihcIi5naXN0XCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlnbm9yZUZsb2F0aW5nVG9vbGJhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGFzU2VsZWN0aW9uKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICBpZiAoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZFRleHQgPSBzZWxlY3Rpb24udG9TdHJpbmcoKS50cmltKCk7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFRleHQgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjaGFuZ2VUb29sYmFyUG9zaXRpb25Ub0JlQ2xvc2VkVG9TZWxlY3Rpb24oKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG5cclxuICAgICAgICBpZiAoIXNlbGVjdGlvbiB8fCBzZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdObyBzZWxlY3Rpb24gZm91bmQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0aW9uUmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcclxuICAgICAgICBjb25zdCByZWN0cyA9IHRoaXMuY3VycmVudFNlbGVjdGlvblJhbmdlLmdldENsaWVudFJlY3RzKCk7XHJcblxyXG4gICAgICAgIGlmIChyZWN0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gcmVjdHMgZm91bmQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZmlyc3RSZWN0ID0gcmVjdHNbMF07XHJcblxyXG4gICAgICAgIGNvbnN0IGNfZmlyc3RSZWN0TGVmdCA9IGZpcnN0UmVjdC5sZWZ0O1xyXG4gICAgICAgIGNvbnN0IGNfZmlyc3RSZWN0VG9wID0gZmlyc3RSZWN0LnRvcDtcclxuICAgICAgICBjb25zdCBjX2ZpcnN0UmVjdEJvdHRvbSA9IGZpcnN0UmVjdC5ib3R0b207XHJcblxyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuXHJcbiAgICAgICAgY29uc3QgZWxlbWVudFdpZHRoID0gdGhpcy5odG1sRWxlbWVudC5vZmZzZXRXaWR0aDtcclxuICAgICAgICBsZXQgbGVmdFBvc2l0aW9uID0gY19maXJzdFJlY3RMZWZ0ICsgd2luZG93LnNjcm9sbFggLSA1MDtcclxuXHJcbiAgICAgICAgaWYgKGxlZnRQb3NpdGlvbiArIGVsZW1lbnRXaWR0aCA+IHdpbmRvdy5pbm5lcldpZHRoKSB7XHJcbiAgICAgICAgICAgIGxlZnRQb3NpdGlvbiA9IHdpbmRvdy5pbm5lcldpZHRoIC0gZWxlbWVudFdpZHRoIC0gMjA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBlbGVtZW50SGVpZ2h0ID0gdGhpcy5odG1sRWxlbWVudC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgbGV0IHRvcFBvc2l0aW9uID0gY19maXJzdFJlY3RUb3AgKyB3aW5kb3cuc2Nyb2xsWSAtIGVsZW1lbnRIZWlnaHQgLSAxMDtcclxuXHJcbiAgICAgICAgaWYgKHRvcFBvc2l0aW9uIDwgMCkge1xyXG4gICAgICAgICAgICB0b3BQb3NpdGlvbiA9IGNfZmlyc3RSZWN0Qm90dG9tICsgd2luZG93LnNjcm9sbFkgKyAxMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUubGVmdCA9IGAke2xlZnRQb3NpdGlvbn1weGA7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS50b3AgPSBgJHt0b3BQb3NpdGlvbn1weGA7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdygpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG5cclxuICAgICAgICBpZiAoIXNlbGVjdGlvbiB8fCBzZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdObyBzZWxlY3Rpb24gZm91bmQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKERPTVV0aWxzLmZpbmRDbG9zZXN0QW5jZXN0b3JPZkFjdGl2ZUVsZW1lbnRCeUNsYXNzKFwidGl0bGVcIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuY2hhbmdlVG9vbGJhclBvc2l0aW9uVG9CZUNsb3NlZFRvU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5oaWRlVHVybkludG8oKTtcclxuICAgICAgICB0aGlzLmhpZGVNb3JlT3B0aW9ucygpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGhpZGVUdXJuSW50bygpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBzaG91bGRIaWRlID0gdGhpcy5pc1NlbGVjdGlvbldpdGhpbkVsZW1lbnRXaXRoQ2xhc3MoXCJoaWRlLXR1cm5pbnRvXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmRyb3Bkb3ducy5mb3JFYWNoKGRyb3Bkb3duID0+IHtcclxuICAgICAgICAgICAgaWYgKGRyb3Bkb3duLmlkID09PSBcInR1cm5JbnRvTWVudVwiKSB7XHJcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5odG1sRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gc2hvdWxkSGlkZSA/IFwibm9uZVwiIDogdGhpcy5kaXNwbGF5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2VwYXJhdG9ycy5mb3JFYWNoKHNlcGFyYXRvciA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzZXBhcmF0b3IuaWQgPT09IFwidHVybkludG9TZXBhcmF0b3JcIikge1xyXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yLmh0bWxFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBzaG91bGRIaWRlID8gXCJub25lXCIgOiB0aGlzLmRpc3BsYXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBoaWRlTW9yZU9wdGlvbnMoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3Qgc2hvdWxkSGlkZSA9IHRoaXMuaXNTZWxlY3Rpb25XaXRoaW5FbGVtZW50V2l0aENsYXNzKFwiaGlkZS1tb3Jlb3B0aW9uc1wiKTtcclxuXHJcbiAgICAgICAgdGhpcy5kcm9wZG93bnMuZm9yRWFjaChkcm9wZG93biA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkcm9wZG93bi5pZCA9PT0gXCJtb3JlVGV4dE9wdGlvbnNNZW51XCIpIHtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duLmh0bWxFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBzaG91bGRIaWRlID8gXCJub25lXCIgOiB0aGlzLmRpc3BsYXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXBhcmF0b3JzLmZvckVhY2goc2VwYXJhdG9yID0+IHtcclxuICAgICAgICAgICAgaWYgKHNlcGFyYXRvci5pZCA9PT0gXCJ0ZXh0T3BlcmF0aW9uc1NlcGFyYXRvclwiKSB7XHJcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3IuaHRtbEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IHNob3VsZEhpZGUgPyBcIm5vbmVcIiA6IHRoaXMuZGlzcGxheTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlzU2VsZWN0aW9uV2l0aGluRWxlbWVudFdpdGhDbGFzcyhjbGFzc05hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICBpZiAoc2VsZWN0aW9uPy5yYW5nZUNvdW50ID09PSAwKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGxldCBub2RlOiBudWxsIHwgTm9kZSB8IHVuZGVmaW5lZCA9IHNlbGVjdGlvbj8uZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcclxuICAgICAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xyXG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2hpbGUgKG5vZGUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUG9zaXRpb24oKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgIGlmIChzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLnJhbmdlQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihyZWN0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UG9zaXRpb24ocmVjdDogRE9NUmVjdCkge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRXaWR0aCA9IHRoaXMuaHRtbEVsZW1lbnQub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgbGV0IGxlZnRQb3NpdGlvbiA9IHJlY3QubGVmdCArIHdpbmRvdy5zY3JvbGxYIC0gNTA7XHJcblxyXG4gICAgICAgIGlmIChsZWZ0UG9zaXRpb24gKyBlbGVtZW50V2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCkge1xyXG4gICAgICAgICAgICBsZWZ0UG9zaXRpb24gPSB3aW5kb3cuaW5uZXJXaWR0aCAtIGVsZW1lbnRXaWR0aCAtIDIwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZWxlbWVudEhlaWdodCA9IHRoaXMuaHRtbEVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIGxldCB0b3BQb3NpdGlvbiA9IHJlY3QudG9wICsgd2luZG93LnNjcm9sbFkgLSBlbGVtZW50SGVpZ2h0IC0gMTA7XHJcblxyXG4gICAgICAgIGlmICh0b3BQb3NpdGlvbiA8IDApIHtcclxuICAgICAgICAgICAgdG9wUG9zaXRpb24gPSByZWN0LmJvdHRvbSArIHdpbmRvdy5zY3JvbGxZICsgMTA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnN0eWxlLmxlZnQgPSBgJHtsZWZ0UG9zaXRpb259cHhgO1xyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUudG9wID0gYCR7dG9wUG9zaXRpb259cHhgO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FuSGlkZSkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTZWxlY3Rpb25SYW5nZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHN1cGVyLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbG9ja0hpZGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sb2NrZWRIaWRlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1bmxvY2tIaWRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9ja2VkSGlkZSA9IGZhbHNlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQmFzZVVJQ29tcG9uZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9CYXNlVUlDb21wb25lbnRcIjtcclxuaW1wb3J0IHsgSW5wdXRMaW5rQm94V3JhcHBlciB9IGZyb20gXCIuL0lucHV0TGlua0JveFdyYXBwZXJcIjtcclxuaW1wb3J0IHsgRGVmYXVsdEpTRXZlbnRzIH0gZnJvbSBcIkAvY29tbW9uL0RlZmF1bHRKU0V2ZW50c1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIElucHV0TGlua0JveCBleHRlbmRzIEJhc2VVSUNvbXBvbmVudCB7XHJcblxyXG4gICAgcGFyZW50V3JhcHBlcj86IElucHV0TGlua0JveFdyYXBwZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoe30pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk6IEhUTUxFbGVtZW50IHtcclxuXHJcbiAgICAgICAgY29uc3QgaHRtbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcblxyXG4gICAgICAgIGh0bWxFbGVtZW50LmlkID0gXCJsaW5rQm94SW5wdXRcIjtcclxuICAgICAgICBodG1sRWxlbWVudC50eXBlID0gXCJ1cmxcIjtcclxuICAgICAgICBodG1sRWxlbWVudC5wbGFjZWhvbGRlciA9IFwiUGFzdGUgb3IgdHlwZSBhIGxpbmsuLi5cIjtcclxuXHJcbiAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XHJcblxyXG4gICAgICAgIHJldHVybiBodG1sRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQYXJlbnRXcmFwcGVyKHBhcmVudFdyYXBwZXI6IElucHV0TGlua0JveFdyYXBwZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnBhcmVudFdyYXBwZXIgPSBwYXJlbnRXcmFwcGVyO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRGVmYXVsdEpTRXZlbnRzIH0gZnJvbSBcIkAvY29tbW9uL0RlZmF1bHRKU0V2ZW50c1wiO1xyXG5pbXBvcnQgeyBCYXNlVUlDb21wb25lbnQgfSBmcm9tIFwiLi4vLi4vY29tbW9uL0Jhc2VVSUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBUZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhciB9IGZyb20gXCIuLi9UZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhclwiO1xyXG5pbXBvcnQgeyBJbnB1dExpbmtCb3ggfSBmcm9tIFwiLi9JbnB1dExpbmtCb3hcIjtcclxuaW1wb3J0IHsgS2V5Ym9hcmRLZXlzIH0gZnJvbSBcIkAvY29tbW9uL0tleWJvYXJkS2V5c1wiO1xyXG5pbXBvcnQgeyBJQ29tbWFuZEV2ZW50RGV0YWlsIH0gZnJvbSBcIkAvY29tbWFuZHMvSUNvbW1hbmRFdmVudERldGFpbFwiO1xyXG5pbXBvcnQgeyBDdXN0b21FdmVudHMgfSBmcm9tIFwiQC9jb21tb24vQ3VzdG9tRXZlbnRzXCI7XHJcbmltcG9ydCB7IENvbW1hbmRzIH0gZnJvbSBcIkAvY29tbWFuZHMvQ29tbWFuZHNcIjtcclxuaW1wb3J0IHsgSVVJRXZlbnREZXRhaWwgfSBmcm9tIFwiQC9jb21tYW5kcy9JVUlFdmVudERldGFpbFwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAL3V0aWxpdGllcy9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIElucHV0TGlua0JveFdyYXBwZXIgZXh0ZW5kcyBCYXNlVUlDb21wb25lbnQge1xyXG5cclxuICAgIGlucHV0TGlua0JveDogSW5wdXRMaW5rQm94O1xyXG4gICAgaGlnaGxpZ2h0czogSFRNTERpdkVsZW1lbnRbXSA9IFtdO1xyXG4gICAgYnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHJcbiAgICBwcml2YXRlIHNhdmVkU2VsZWN0aW9uUmFuZ2U6IFJhbmdlIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgdGV4dENvbnRleHRGbG9hdGluZ1Rvb2xiYXI6IFRleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0TGlua0JveCA9IG5ldyBJbnB1dExpbmtCb3goKTtcclxuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG5cclxuICAgICAgICBzdXBlcih7XHJcbiAgICAgICAgICAgIGlucHV0TGlua0JveDogaW5wdXRMaW5rQm94LFxyXG4gICAgICAgICAgICBidXR0b246IGJ1dHRvblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gXCJsaW5rQm94XCI7XHJcbiAgICAgICAgdGhpcy5pbnB1dExpbmtCb3ggPSBpbnB1dExpbmtCb3g7XHJcbiAgICAgICAgdGhpcy5idXR0b24gPSBidXR0b247XHJcbiAgICAgICAgaW5wdXRMaW5rQm94LnNldFBhcmVudFdyYXBwZXIodGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMudGV4dENvbnRleHRGbG9hdGluZ1Rvb2xiYXIgPSBUZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhci5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgY29uc3QgaHRtbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cclxuICAgICAgICBodG1sRWxlbWVudC5pZCA9IFwibGlua0JveFwiO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICBodG1sRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZGVwZW5kZW50LWJveFwiLCBcInNvZnQtYm94LXNoYWRvd1wiKTtcclxuICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuXHJcbiAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZChcImhlYWRlclwiKTtcclxuICAgICAgICBoZWFkZXIuaW5uZXJUZXh0ID0gXCJMaW5rXCI7XHJcblxyXG4gICAgICAgIGNvbnN0IHNoZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBzaGVsbC5hcHBlbmRDaGlsZCh0aGlzLnByb3BzLmlucHV0TGlua0JveC5odG1sRWxlbWVudCk7XHJcbiAgICAgICAgc2hlbGwuY2xhc3NMaXN0LmFkZChcImxpbmstYm94LXNoZWxsXCIpXHJcblxyXG4gICAgICAgIC8vIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcblxyXG4gICAgICAgIHRoaXMucHJvcHMuYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJibHVlLWJ1dHRvblwiKTtcclxuICAgICAgICB0aGlzLnByb3BzLmJ1dHRvbi5pbm5lckhUTUwgPSBcIkluc2VydFwiO1xyXG5cclxuICAgICAgICBzaGVsbC5hcHBlbmRDaGlsZCh0aGlzLnByb3BzLmJ1dHRvbik7XHJcblxyXG4gICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZENoaWxkKGhlYWRlcik7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2hlbGwpO1xyXG5cclxuICAgICAgICByZXR1cm4gaHRtbEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNoRXZlbnQoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLktleWRvd24sIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jYW5IaWRlICYmIChldmVudC5rZXkgPT09IEtleWJvYXJkS2V5cy5Fc2NhcGUpKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIENoYW5nZSB0aGUgY3Vyc29yIHdoZW4gdGhlIENvbnRyb2wga2V5IGlzIHByZXNzZWQgYW5kIHRoZSBtb3VzZSBob3ZlcnMgb3ZlciBhIGxpbmsuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihEZWZhdWx0SlNFdmVudHMuS2V5ZG93biwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IEtleWJvYXJkS2V5cy5Db250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2N0cmwtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gcmVtb3ZlIGNoYW5nZSB0aGUgY3Vyc29yIHdoZW4gdGhlIENvbnRyb2wga2V5IGlzIG5vdCBwcmVzc2VkIGFuZCB0aGUgbW91c2UgaG92ZXJzIG92ZXIgYSBsaW5rLlxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLktleXVwLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gS2V5Ym9hcmRLZXlzLkNvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnY3RybC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2hvd0lucHV0TGlua0JveFJlcXVlc3RlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuc2hvdygpO1xyXG4gICAgICAgIC8vICAgICAvLyB0aGlzLmhpZ2hsaWdodFNlbGVjdGVkVGV4dCgpO1xyXG4gICAgICAgIC8vICAgICB0aGlzLmlucHV0TGlua0JveC5mb2N1cygpO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0TGlua0JveC5odG1sRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5LZXlkb3duLCAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PSBLZXlib2FyZEtleXMuRW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0TGluayhldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0cnVlKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihEZWZhdWx0SlNFdmVudHMuQ2xpY2ssIChldmVudCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmN0cmxLZXkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICdBJyAmJiB0YXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBocmVmID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnaHJlZicpITtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oaHJlZiwgJ19ibGFuaycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuY2FuSGlkZSAmJiAhKGV2ZW50LnRhcmdldCEgYXMgSFRNTEVsZW1lbnQpLmNsb3Nlc3QoJyNsaW5rQm94JykgJiYgIShldmVudC50YXJnZXQhIGFzIEhUTUxFbGVtZW50KS5jbG9zZXN0KFwiI3RleHRGbG9hdGluZ1Rvb2xiYXJcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5DbGljaywgdGhpcy5pbnNlcnRMaW5rLmJpbmQodGhpcyksIHRydWUpO1xyXG5cclxuICAgICAgICBzdXBlci5hdHRhY2hVSUV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBoYW5kbGVTaG93RWxlbWVudEV2ZW50KGV2ZW50OiBFdmVudCkge1xyXG4gICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gZXZlbnQgYXMgQ3VzdG9tRXZlbnQ8SVVJRXZlbnREZXRhaWw+O1xyXG4gICAgICAgIGNvbnN0IGRldGFpbHMgPSBjdXN0b21FdmVudC5kZXRhaWw7XHJcblxyXG4gICAgICAgIGlmIChkZXRhaWxzLnRhcmdldElkID09IHRoaXMuaWQgJiYgIXRoaXMuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3coKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRldGFpbHMudGFyZ2V0SWQgPT0gdGhpcy5pZCAmJiB0aGlzLmlzVmlzaWJsZSkge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGluc2VydExpbmsoZXZlbnQ6IEV2ZW50KSB7XHJcblxyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVybCA9ICh0aGlzLmlucHV0TGlua0JveC5odG1sRWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICBjb25zdCB1cmxXaXRoUHJvdG9jb2wgPSB1cmwuc3RhcnRzV2l0aCgnaHR0cDovLycpIHx8IHVybC5zdGFydHNXaXRoKCdodHRwczovLycpID8gdXJsIDogYGh0dHBzOi8vJHt1cmx9YDtcclxuXHJcbiAgICAgICAgY29uc3QgaXNWYWxpZCA9IFV0aWxzLmlzVmFsaWRVcmwodXJsV2l0aFByb3RvY29sKTtcclxuXHJcbiAgICAgICAgaWYgKGlzVmFsaWQpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlc3RvcmUgdGhlIHNlbGVjdGlvbiBiZWZvcmUgZXhlY3V0aW5nIHRoZSBjb21tYW5kXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNhdmVkU2VsZWN0aW9uUmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uPy5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbj8uYWRkUmFuZ2UodGhpcy5zYXZlZFNlbGVjdGlvblJhbmdlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudDxJQ29tbWFuZEV2ZW50RGV0YWlsPihDdXN0b21FdmVudHMuZW1pdHRlZENvbW1hbmQsIHtcclxuICAgICAgICAgICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IENvbW1hbmRzLmxpbmtSZWFkeVRvSW5zZXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB1cmxXaXRoUHJvdG9jb2xcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IHRoaXMuaW5wdXRMaW5rQm94Lmh0bWxFbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiKDI1MywgMjIyLCAyMjIpXCI7XHJcbiAgICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoXCJzaGFrZS1hbmltYXRpb25cIik7XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoXCJzaGFrZS1hbmltYXRpb25cIik7XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG93KCkge1xyXG5cclxuICAgICAgICBjb25zdCBpbnB1dCA9IHRoaXMuaW5wdXRMaW5rQm94Lmh0bWxFbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgaW5wdXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiO1xyXG5cclxuICAgICAgICB0aGlzLnRleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyLmxvY2tIaWRlKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCk/LmdldFJhbmdlQXQoMCk7XHJcblxyXG4gICAgICAgIGlmICghcmFuZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zYXZlZFNlbGVjdGlvblJhbmdlID0gcmFuZ2UuY2xvbmVSYW5nZSgpO1xyXG5cclxuICAgICAgICB0aGlzLnBvc2l0aW9uTGlua0NvbXBvbmVudEJlbG93U2VsZWN0aW9uKHJhbmdlKTtcclxuICAgICAgICB0aGlzLmhpZ2hsaWdodFNlbGVjdGVkVGV4dChyYW5nZSk7XHJcbiAgICAgICAgc3VwZXIuc2hvdygpO1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaW5wdXQuZm9jdXMoKTtcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc2l0aW9uTGlua0NvbXBvbmVudEJlbG93U2VsZWN0aW9uKHJhbmdlOiBSYW5nZSk6IHZvaWQge1xyXG5cclxuICAgICAgICBjb25zdCByZWN0cyA9IHJhbmdlLmdldENsaWVudFJlY3RzKCk7XHJcblxyXG4gICAgICAgIGlmIChyZWN0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gcmVjdHMgZm91bmQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZmlyc3RSZWN0ID0gcmVjdHNbMF07XHJcblxyXG4gICAgICAgIGNvbnN0IGNfZmlyc3RSZWN0TGVmdCA9IGZpcnN0UmVjdC5sZWZ0O1xyXG4gICAgICAgIGNvbnN0IGNfZmlyc3RSZWN0VG9wID0gZmlyc3RSZWN0LnRvcDtcclxuICAgICAgICBjb25zdCBjX2ZpcnN0UmVjdEJvdHRvbSA9IGZpcnN0UmVjdC5ib3R0b207XHJcblxyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuXHJcbiAgICAgICAgY29uc3QgZWxlbWVudFdpZHRoID0gdGhpcy5odG1sRWxlbWVudC5vZmZzZXRXaWR0aDtcclxuICAgICAgICBsZXQgbGVmdFBvc2l0aW9uID0gY19maXJzdFJlY3RMZWZ0ICsgd2luZG93LnNjcm9sbFggLSA1MDtcclxuXHJcbiAgICAgICAgaWYgKGxlZnRQb3NpdGlvbiArIGVsZW1lbnRXaWR0aCA+IHdpbmRvdy5pbm5lcldpZHRoKSB7XHJcbiAgICAgICAgICAgIGxlZnRQb3NpdGlvbiA9IHdpbmRvdy5pbm5lcldpZHRoIC0gZWxlbWVudFdpZHRoIC0gMjA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBlbGVtZW50SGVpZ2h0ID0gdGhpcy5odG1sRWxlbWVudC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgbGV0IHRvcFBvc2l0aW9uID0gY19maXJzdFJlY3RUb3AgKyB3aW5kb3cuc2Nyb2xsWSArIDQwO1xyXG5cclxuICAgICAgICBpZiAodG9wUG9zaXRpb24gPCAwKSB7XHJcbiAgICAgICAgICAgIHRvcFBvc2l0aW9uID0gY19maXJzdFJlY3RCb3R0b20gKyB3aW5kb3cuc2Nyb2xsWSArIDEwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7bGVmdFBvc2l0aW9ufXB4YDtcclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnN0eWxlLnRvcCA9IGAke3RvcFBvc2l0aW9ufXB4YDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgaGlkZSgpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgdGhpcy50ZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhci51bmxvY2tIaWRlKCk7XHJcbiAgICAgICAgc3VwZXIuaGlkZSgpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlSGlnaGxpZ2h0cygpO1xyXG4gICAgICAgICh0aGlzLmlucHV0TGlua0JveC5odG1sRWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9IFwiXCI7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0IHJhbmdlID0gdGhpcy50ZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhci5jdXJyZW50U2VsZWN0aW9uUmFuZ2U7XHJcblxyXG4gICAgICAgIC8vIGlmICghcmFuZ2UpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgLy8gZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCk/LnJlbW92ZUFsbFJhbmdlcygpO1xyXG4gICAgICAgIC8vIGRvY3VtZW50LmdldFNlbGVjdGlvbigpPy5hZGRSYW5nZShyYW5nZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGlnaGxpZ2h0U2VsZWN0ZWRUZXh0KHJhbmdlOiBSYW5nZSkge1xyXG4gICAgICAgIGNvbnN0IHJlY3RzID0gcmFuZ2UuZ2V0Q2xpZW50UmVjdHMoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCByZWN0ID0gcmVjdHNbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IGhpZ2hsaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBoaWdobGlnaHQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICBoaWdobGlnaHQuc3R5bGUud2lkdGggPSBgJHtyZWN0LndpZHRofXB4YDtcclxuICAgICAgICAgICAgaGlnaGxpZ2h0LnN0eWxlLmhlaWdodCA9IGAke3JlY3QuaGVpZ2h0fXB4YDtcclxuICAgICAgICAgICAgaGlnaGxpZ2h0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjYzJjMmMyJztcclxuICAgICAgICAgICAgaGlnaGxpZ2h0LnN0eWxlLm9wYWNpdHkgPSAnMC4zJztcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChoaWdobGlnaHQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRzLnB1c2goaGlnaGxpZ2h0KTtcclxuICAgICAgICAgICAgaGlnaGxpZ2h0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDAsIDEyMCwgMjE1LCAwLjMpJztcclxuICAgICAgICAgICAgaGlnaGxpZ2h0LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIGhpZ2hsaWdodC5zdHlsZS56SW5kZXggPSAnMTAwMCc7XHJcblxyXG4gICAgICAgICAgICBoaWdobGlnaHQuc3R5bGUubGVmdCA9IGAke3JlY3QubGVmdCArIHdpbmRvdy5zY3JvbGxYfXB4YDtcclxuICAgICAgICAgICAgaGlnaGxpZ2h0LnN0eWxlLnRvcCA9IGAke3JlY3QudG9wICsgd2luZG93LnNjcm9sbFl9cHhgO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlSGlnaGxpZ2h0cygpIHtcclxuICAgICAgICB0aGlzLmhpZ2hsaWdodHMuZm9yRWFjaChoaWdobGlnaHQgPT4ge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGhpZ2hsaWdodCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5oaWdobGlnaHRzID0gW107XHJcbiAgICB9XHJcblxyXG5cclxufSIsImltcG9ydCB7IEVsZW1lbnRGYWN0b3J5U2VydmljZSB9IGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9lbGVtZW50LWZhY3RvcnkvRWxlbWVudEZhY3RvcnlTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IEJhc2VVSUNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21tb24vQmFzZVVJQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7IElFbGVtZW50RmFjdG9yeVNlcnZpY2UgfSBmcm9tIFwiLi4vLi4vc2VydmljZXMvZWxlbWVudC1mYWN0b3J5L0lFbGVtZW50RmFjdG9yeVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQ29udGVudCB9IGZyb20gXCIuLi9jb250ZW50L0NvbnRlbnRcIjtcclxuaW1wb3J0IHsgVGl0bGUgfSBmcm9tIFwiLi4vdGl0bGUvVGl0bGVcIjtcclxuaW1wb3J0IHsgSUJsb2NrT3BlcmF0aW9uc1NlcnZpY2UgfSBmcm9tIFwiQC9zZXJ2aWNlcy9ibG9jay1vcGVyYXRpb25zL0lCbG9ja09wZXJhdGlvbnNTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IEFkZEJsb2NrV3JhcHBlciB9IGZyb20gXCIuLi9hZGQtYmxvY2svQWRkQmxvY2tXcmFwcGVyXCI7XHJcbmltcG9ydCB7IFF1aWNrTWVudSB9IGZyb20gXCIuLi9xdWljay1tZW51L1F1aWNrTWVudVwiO1xyXG5pbXBvcnQgeyBUYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXIgfSBmcm9tIFwiLi4vZmxvYXRpbmctdG9vbGJhci9UYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXJcIjtcclxuaW1wb3J0IHsgVGV4dENvbnRleHRGbG9hdGluZ1Rvb2xiYXIgfSBmcm9tIFwiLi4vZmxvYXRpbmctdG9vbGJhci9UZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhclwiO1xyXG5pbXBvcnQgeyBJTWVtZW50byB9IGZyb20gXCJAL2NvcmUvSU1lbWVudG9cIjtcclxuaW1wb3J0IHsgRGVwZW5kZW5jeUNvbnRhaW5lciB9IGZyb20gXCJAL2NvcmUvRGVwZW5kZW5jeUNvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyBNZWRpYUlucHV0dGVyIH0gZnJvbSBcIi4uL21lZGlhLWlucHV0dGVyL01lZGlhSW5wdXR0ZXJcIjtcclxuaW1wb3J0IHsgSW5wdXRMaW5rQm94V3JhcHBlciB9IGZyb20gXCIuLi9mbG9hdGluZy10b29sYmFyL2xpbmstYm94L0lucHV0TGlua0JveFdyYXBwZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFZGl0b3IgZXh0ZW5kcyBCYXNlVUlDb21wb25lbnQge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZWxlbWVudEZhY3RvcnlTZXJ2aWNlOiBJRWxlbWVudEZhY3RvcnlTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgZWRpdG9ySWQ6IHN0cmluZyA9IFwiam9oYW5uZXNFZGl0b3JcIjtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBFZGl0b3I7XHJcbiAgICBwcml2YXRlIG1lbWVudG86IElNZW1lbnRvO1xyXG5cclxuICAgIHByaXZhdGUgdGl0bGU/OiBUaXRsZTtcclxuICAgIHByaXZhdGUgY29udGVudD86IENvbnRlbnQ7XHJcbiAgICBwcml2YXRlIGFkZEJsb2NrOiBBZGRCbG9ja1dyYXBwZXI7XHJcbiAgICBwcml2YXRlIHRleHRGbG9hdGluZ1Rvb2xiYXI6IFRleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyO1xyXG4gICAgcHJpdmF0ZSBxdWlja01lbnU6IFF1aWNrTWVudTtcclxuICAgIHByaXZhdGUgdGFibGVDb250ZXh0VG9vbGJhcjogVGFibGVDb250ZXh0RmxvYXRpbmdUb29sYmFyO1xyXG4gICAgcHJpdmF0ZSBtZWRpYUlucHV0dGVyOiBNZWRpYUlucHV0dGVyO1xyXG4gICAgcHJpdmF0ZSBpbnB1dExpbmtCb3hXcmFwcGVyOiBJbnB1dExpbmtCb3hXcmFwcGVyO1xyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoXHJcbiAgICAgICAgZWxlbWVudEZhY3RvcnlTZXJ2aWNlOiBJRWxlbWVudEZhY3RvcnlTZXJ2aWNlLFxyXG4gICAgICAgIGJsb2NrT3BlcmF0aW9uc1NlcnZpY2U6IElCbG9ja09wZXJhdGlvbnNTZXJ2aWNlLFxyXG4gICAgICAgIG1lbWVudG86IElNZW1lbnRvLFxyXG4gICAgICAgIHRpdGxlOiBUaXRsZSxcclxuICAgICAgICBjb250ZW50OiBDb250ZW50LFxyXG4gICAgICAgIGFkZEJsb2NrOiBBZGRCbG9ja1dyYXBwZXIsXHJcbiAgICAgICAgZmxvYXRpbmdUb29sYmFyOiBUZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhcixcclxuICAgICAgICBxdWlja01lbnU6IFF1aWNrTWVudSxcclxuICAgICAgICB0YWJsZVRvb2xiYXI6IFRhYmxlQ29udGV4dEZsb2F0aW5nVG9vbGJhcixcclxuICAgICAgICBtZWRpYUlucHV0dGVyOiBNZWRpYUlucHV0dGVyLFxyXG4gICAgICAgIGlucHV0TGlua0JveFdyYXBwZXI6IElucHV0TGlua0JveFdyYXBwZXJcclxuICAgICkge1xyXG5cclxuICAgICAgICBzdXBlcih7XHJcbiAgICAgICAgICAgIGVsZW1lbnRGYWN0b3J5U2VydmljZTogZWxlbWVudEZhY3RvcnlTZXJ2aWNlLFxyXG4gICAgICAgICAgICBibG9ja09wZXJhdGlvbnNTZXJ2aWNlOiBibG9ja09wZXJhdGlvbnNTZXJ2aWNlLFxyXG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXHJcbiAgICAgICAgICAgIGFkZEJsb2NrOiBhZGRCbG9jayxcclxuICAgICAgICAgICAgZmxvYXRpbmdUb29sYmFyOiBmbG9hdGluZ1Rvb2xiYXIsXHJcbiAgICAgICAgICAgIHF1aWNrTWVudTogcXVpY2tNZW51LFxyXG4gICAgICAgICAgICB0YWJsZVRvb2xiYXI6IHRhYmxlVG9vbGJhcixcclxuICAgICAgICAgICAgbWVkaWFJbnB1dHRlcjogbWVkaWFJbnB1dHRlcixcclxuICAgICAgICAgICAgaW5wdXRMaW5rQm94V3JhcHBlcjogaW5wdXRMaW5rQm94V3JhcHBlclxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoRWRpdG9yLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZSBCbG9ja09wZXJhdGlvbnNTZXJ2aWNlLmdldEluc3RhbmNlKCkgdG8gZ2V0IGluc3RhbmNlLlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRMaW5rQm94V3JhcHBlciA9IGlucHV0TGlua0JveFdyYXBwZXI7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50RmFjdG9yeVNlcnZpY2UgPSBlbGVtZW50RmFjdG9yeVNlcnZpY2U7XHJcbiAgICAgICAgdGhpcy5tZW1lbnRvID0gbWVtZW50bztcclxuICAgICAgICB0aGlzLmFkZEJsb2NrID0gYWRkQmxvY2s7XHJcbiAgICAgICAgdGhpcy50ZXh0RmxvYXRpbmdUb29sYmFyID0gZmxvYXRpbmdUb29sYmFyO1xyXG4gICAgICAgIHRoaXMucXVpY2tNZW51ID0gcXVpY2tNZW51O1xyXG4gICAgICAgIHRoaXMudGFibGVDb250ZXh0VG9vbGJhciA9IHRhYmxlVG9vbGJhcjtcclxuICAgICAgICB0aGlzLm1lZGlhSW5wdXR0ZXIgPSBtZWRpYUlucHV0dGVyO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50cygpO1xyXG5cclxuICAgICAgICBFZGl0b3IuaW5zdGFuY2UgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpOiBIVE1MRWxlbWVudCB7XHJcblxyXG4gICAgICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoRWRpdG9yLmVkaXRvcklkKSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cclxuICAgICAgICBodG1sRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiam9oYW5uZXMtZWRpdG9yXCIpO1xyXG5cclxuICAgICAgICBjb25zdCBjb250ZW50V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgY29udGVudFdyYXBwZXIuY2xhc3NMaXN0LmFkZChcImNvbnRlbnQtd3JhcHBlclwiKTtcclxuXHJcbiAgICAgICAgaWYgKHdpbmRvdy5lZGl0b3JDb25maWc/LmVuYWJsZVRpdGxlIHx8IHRydWUpIHtcclxuICAgICAgICAgICAgY29udGVudFdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5wcm9wcy50aXRsZS5odG1sRWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb250ZW50IGlzIHJlcXVpcmVkXHJcbiAgICAgICAgY29udGVudFdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5wcm9wcy5jb250ZW50Lmh0bWxFbGVtZW50KTtcclxuXHJcbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGVudFdyYXBwZXIpO1xyXG5cclxuICAgICAgICBpZiAod2luZG93LmVkaXRvckNvbmZpZz8uZW5hYmxlQWRkQmxvY2sgfHwgdHJ1ZSkge1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnByb3BzLmFkZEJsb2NrLmh0bWxFbGVtZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh3aW5kb3cuZWRpdG9yQ29uZmlnPy5lbmFibGVGbG9hdGluZ1Rvb2xiYXIgfHwgdHJ1ZSkge1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnByb3BzLmZsb2F0aW5nVG9vbGJhci5odG1sRWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAod2luZG93LmVkaXRvckNvbmZpZz8uZW5hYmxlUXVpY2tNZW51IHx8IHRydWUpIHtcclxuICAgICAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5wcm9wcy5xdWlja01lbnUuaHRtbEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5wcm9wcy50YWJsZVRvb2xiYXIuaHRtbEVsZW1lbnQpO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMucHJvcHMubWVkaWFJbnB1dHRlci5odG1sRWxlbWVudCk7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5wcm9wcy5pbnB1dExpbmtCb3hXcmFwcGVyLmh0bWxFbGVtZW50KVxyXG5cclxuICAgICAgICByZXR1cm4gaHRtbEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEluc3RhbmNlKFxyXG4gICAgICAgIHRpdGxlOiBUaXRsZSxcclxuICAgICAgICBjb250ZW50OiBDb250ZW50LFxyXG4gICAgICAgIGFkZEJsb2NrOiBBZGRCbG9ja1dyYXBwZXIsXHJcbiAgICAgICAgdGV4dEZsb2F0aW5nVG9vbGJhcjogVGV4dENvbnRleHRGbG9hdGluZ1Rvb2xiYXIsXHJcbiAgICAgICAgcXVpY2tNZW51OiBRdWlja01lbnUsXHJcbiAgICAgICAgdGFibGVGbG9hdGluZ1Rvb2xiYXI6IFRhYmxlQ29udGV4dEZsb2F0aW5nVG9vbGJhcixcclxuICAgICAgICBtZWRpYUlucHV0dGVyOiBNZWRpYUlucHV0dGVyKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRGYWN0b3J5U2VydmljZSA9IERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVzb2x2ZTxJRWxlbWVudEZhY3RvcnlTZXJ2aWNlPihcIklFbGVtZW50RmFjdG9yeVNlcnZpY2VcIik7XHJcbiAgICAgICAgY29uc3QgYmxvY2tPcGVyYXRpb25zU2VydmljZSA9IERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVzb2x2ZTxJQmxvY2tPcGVyYXRpb25zU2VydmljZT4oXCJJQmxvY2tPcGVyYXRpb25zU2VydmljZVwiKTtcclxuICAgICAgICBjb25zdCBtZW1lbnRvID0gRGVwZW5kZW5jeUNvbnRhaW5lci5JbnN0YW5jZS5yZXNvbHZlPElNZW1lbnRvPihcIklNZW1lbnRvXCIpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0TGlua0JveFdyYXBwZXIgPSBuZXcgSW5wdXRMaW5rQm94V3JhcHBlcigpO1xyXG5cclxuICAgICAgICBpZiAoIUVkaXRvci5pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBFZGl0b3IuaW5zdGFuY2UgPSBuZXcgRWRpdG9yKGVsZW1lbnRGYWN0b3J5U2VydmljZSwgYmxvY2tPcGVyYXRpb25zU2VydmljZSwgbWVtZW50bywgdGl0bGUsIGNvbnRlbnQsIGFkZEJsb2NrLCB0ZXh0RmxvYXRpbmdUb29sYmFyLCBxdWlja01lbnUsIHRhYmxlRmxvYXRpbmdUb29sYmFyLCBtZWRpYUlucHV0dGVyLCBpbnB1dExpbmtCb3hXcmFwcGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBFZGl0b3IuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNoRXZlbnRzKCkge1xyXG5cclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChFZGl0b3IuZWRpdG9ySWQpO1xyXG5cclxuICAgICAgICBjb250YWluZXI/LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIChldmVudCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIE5vZGUpIHtcclxuICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gdGFyZ2V0IGFzIE5vZGU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9ja0VsZW1lbnQgPSBlbGVtZW50LmNsb3Nlc3QoJy5ibG9jaycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2tFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kRHJhZ0hhbmRsZXIoYmxvY2tFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0V2ZW50IHRhcmdldCBpcyBub3QgYW4gSFRNTEVsZW1lbnQgYW5kIGNhbm5vdCBoYW5kbGUgSFRNTEVsZW1lbnQgc3BlY2lmaWMgbWV0aG9kczonLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0V2ZW50IHRhcmdldCBpcyBub3QgYSBOb2RlOicsIHRhcmdldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Gb2N1cyBvbiB0aGUgZmlyc3QgcGFyYWdyYXBoXHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RQYXJhZ3JhcGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2pvaGFubmVzRWRpdG9yID4gLmNvbnRlbnQgLmJsb2NrIHBcIikgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RQYXJhZ3JhcGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXJzdFBhcmFncmFwaC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBmaXJzdFBhcmFncmFwaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjam9oYW5uZXNFZGl0b3IgPiAuY29udGVudCAuYmxvY2sgcFwiKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKGZpcnN0UGFyYWdyYXBoKSB7XHJcbiAgICAgICAgICAgICAgICBmaXJzdFBhcmFncmFwaC5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsIGZ1bmN0aW9uIChldmVudDogQ2xpcGJvYXJkRXZlbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0LmdldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJykgPT09ICd0cnVlJykge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbGlwYm9hcmREYXRhID0gZXZlbnQuY2xpcGJvYXJkRGF0YTtcclxuICAgICAgICAgICAgICAgIGlmIChjbGlwYm9hcmREYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dC9wbGFpbicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBFZGl0b3IuaW5zZXJ0VGV4dEF0Q3Vyc29yKHRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdHJ1ZSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmF0dGFjaERyYWdIYW5kbGVyKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpbnNlcnRUZXh0QXRDdXJzb3IodGV4dDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3Qgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG5cclxuICAgICAgICBpZiAoc2VsKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWwucmFuZ2VDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gc2VsLmdldFJhbmdlQXQoMCk7XHJcbiAgICAgICAgICAgICAgICByYW5nZS5kZWxldGVDb250ZW50cygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCk7XHJcbiAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKHRleHROb2RlKTtcclxuXHJcbiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEFmdGVyKHRleHROb2RlKTtcclxuICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZEFmdGVyKHRleHROb2RlKTtcclxuICAgICAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXBwZW5kRHJhZ0hhbmRsZXIoZWxlbWVudDogTm9kZSk6IHZvaWQge1xyXG4gICAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xyXG4gICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCEoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQcm92aWRlZCBlbGVtZW50IGlzIG5vdCBhbiBIVE1MRWxlbWVudDonLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5jbG9zZXN0KCcuYmxvY2snKTtcclxuICAgICAgICBsZXQgZHJhZ0hhbmRsZXIgPSBwYXJlbnQ/LnF1ZXJ5U2VsZWN0b3IoXCIuZHJhZy1oYW5kbGVyXCIpO1xyXG5cclxuICAgICAgICBpZiAoIWRyYWdIYW5kbGVyICYmIHBhcmVudCkge1xyXG4gICAgICAgICAgICBkcmFnSGFuZGxlciA9IHRoaXMuZWxlbWVudEZhY3RvcnlTZXJ2aWNlLmNyZWF0ZShFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5EUkFHX0hBTkRMRV9CVVRUT04pO1xyXG4gICAgICAgICAgICBwYXJlbnQucHJlcGVuZChkcmFnSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZURyYWdIYW5kbGVyKGVsZW1lbnQ6IE5vZGUpOiB2b2lkIHtcclxuICAgICAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcclxuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignUHJvdmlkZWQgZWxlbWVudCBpcyBub3QgYW4gSFRNTEVsZW1lbnQ6JywgZWxlbWVudCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGVsZW1lbnQuY2xvc2VzdCgnLmJsb2NrJyk7XHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBkcmFnSGFuZGxlciA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKFwiLmRyYWctaGFuZGxlclwiKTtcclxuICAgICAgICAgICAgZHJhZ0hhbmRsZXI/LnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHRyYWN0Q29udGVudCgpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQgRXhjZXB0aW9uXCIpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgYXR0YWNoRHJhZ0hhbmRsZXIoKSB7XHJcbiAgICAgICAgbGV0IGRyYWdnZWRJdGVtOiBhbnkgPSBudWxsO1xyXG5cclxuICAgICAgICBsZXQgZHJvcExpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkcm9wTGluZS5jbGFzc0xpc3QuYWRkKCdkcm9wLWxpbmUnKTtcclxuICAgICAgICBkcm9wTGluZS5zdHlsZS5oZWlnaHQgPSAnMnB4JztcclxuICAgICAgICBkcm9wTGluZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoKGV2ZW50LnRhcmdldCBhcyBFbGVtZW50KT8uY2xhc3NMaXN0Py5jb250YWlucygnZHJhZy1oYW5kbGVyJykpIHtcclxuICAgICAgICAgICAgICAgIGRyYWdnZWRJdGVtID0gKGV2ZW50LnRhcmdldCBhcyBFbGVtZW50KT8uY2xvc2VzdCgnLmJsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICBkcmFnZ2VkSXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkcmFnZ2VkSXRlbS5zdHlsZS5vcGFjaXR5ID0gJzAuNSc7XHJcbiAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRyYWdnZWRJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dlZEl0ZW0uc3R5bGUub3BhY2l0eSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGRyYWdnZWRJdGVtLnJlbW92ZUF0dHJpYnV0ZSgnZHJhZ2dhYmxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dlZEl0ZW0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZHJvcExpbmUucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSAoZXZlbnQudGFyZ2V0IGFzIEVsZW1lbnQpPy5jbG9zZXN0KCcuYmxvY2snKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0ICE9PSBkcmFnZ2VkSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGJvdW5kaW5nID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG9mZnNldCA9IGJvdW5kaW5nLnkgKyBib3VuZGluZy5oZWlnaHQgLyAyO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgoZXZlbnQgYXMgTW91c2VFdmVudCkuY2xpZW50WSA+IG9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nICE9PSBkcm9wTGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIGRyb3BMaW5lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZyAhPT0gZHJvcExpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Lmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCBkcm9wTGluZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkcm9wTGluZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChkcmFnZ2VkSXRlbSAmJiBkcm9wTGluZSAmJiBkcm9wTGluZS5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBkcm9wTGluZS5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShkcmFnZ2VkSXRlbSwgZHJvcExpbmUpO1xyXG4gICAgICAgICAgICAgICAgZHJvcExpbmUucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEJhc2VVSUNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21tb24vQmFzZVVJQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7IFNWR0ljb24gfSBmcm9tIFwiLi4vY29tbW9uL1NWR0ljb25cIjtcclxuaW1wb3J0IHsgSUJsb2NrT3BlcmF0aW9uc1NlcnZpY2UgfSBmcm9tIFwiLi4vLi4vc2VydmljZXMvYmxvY2stb3BlcmF0aW9ucy9JQmxvY2tPcGVyYXRpb25zU2VydmljZVwiO1xyXG5pbXBvcnQgeyBEZXBlbmRlbmN5Q29udGFpbmVyIH0gZnJvbSBcIkAvY29yZS9EZXBlbmRlbmN5Q29udGFpbmVyXCI7XHJcbmltcG9ydCB7IENvbW1hbmRzIH0gZnJvbSBcIkAvY29tbWFuZHMvQ29tbWFuZHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBZGRCbG9ja0J1dHRvbiBleHRlbmRzIEJhc2VVSUNvbXBvbmVudCB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBibG9ja09wZXJhdGlvbnNTZXJ2aWNlOiBJQmxvY2tPcGVyYXRpb25zU2VydmljZTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgaWNvbjogU1ZHSWNvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihibG9ja09wZXJhdGlvbnNTZXJ2aWNlOiBJQmxvY2tPcGVyYXRpb25zU2VydmljZSwgaWNvbjogU1ZHSWNvbikge1xyXG5cclxuICAgICAgICBzdXBlcih7XHJcbiAgICAgICAgICAgIGljb246IGljb25cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5ibG9ja09wZXJhdGlvbnNTZXJ2aWNlID0gYmxvY2tPcGVyYXRpb25zU2VydmljZTtcclxuICAgICAgICB0aGlzLmljb24gPSBpY29uO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpOiBIVE1MRWxlbWVudCB7XHJcblxyXG4gICAgICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICBodG1sRWxlbWVudC50aXRsZSA9IFwiQWRkIGEgbmV3IGJsb2NrXCI7XHJcblxyXG4gICAgICAgIGh0bWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhZGQtYmxvY2tcIiwgXCJibG9jay1vcGVyYXRpb25cIiwgXCJwb2ludGVyXCIpO1xyXG5cclxuICAgICAgICBodG1sRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnByb3BzLmljb24uaHRtbEVsZW1lbnQpO1xyXG5cclxuICAgICAgICByZXR1cm4gaHRtbEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNoRXZlbnRzKCk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAvL1RPRE86IFVzZSBjb21tYW5kIGRpc3BhdGNoZXJcclxuICAgICAgICAgICAgdGhpcy5ibG9ja09wZXJhdGlvbnNTZXJ2aWNlLmV4ZWNDb21tYW5kKENvbW1hbmRzLmNyZWF0ZURlZmF1bHRCbG9jaywgZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjcmVhdGUoaWNvbjogU1ZHSWNvbik6IEFkZEJsb2NrQnV0dG9uIHtcclxuXHJcbiAgICAgICAgY29uc3QgYmxvY2tPcGVyYXRpb25zU2VydmljZSA9IERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVzb2x2ZTxJQmxvY2tPcGVyYXRpb25zU2VydmljZT4oXCJJQmxvY2tPcGVyYXRpb25zU2VydmljZVwiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBBZGRCbG9ja0J1dHRvbihibG9ja09wZXJhdGlvbnNTZXJ2aWNlLCBpY29uKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEJhc2VVSUNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21tb24vQmFzZVVJQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7IEFkZEJsb2NrQnV0dG9uIH0gZnJvbSBcIi4vQWRkQmxvY2tCdXR0b25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBZGRCbG9ja1dyYXBwZXIgZXh0ZW5kcyBCYXNlVUlDb21wb25lbnQge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgYnV0dG9uOiBBZGRCbG9ja0J1dHRvbjtcclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGJ1dHRvbjogQWRkQmxvY2tCdXR0b24pIHtcclxuXHJcbiAgICAgICAgc3VwZXIoe1xyXG4gICAgICAgICAgICBidXR0b246IGJ1dHRvblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmJ1dHRvbiA9IGJ1dHRvbjtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk6IEhUTUxFbGVtZW50IHtcclxuXHJcbiAgICAgICAgY29uc3QgaHRtbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cclxuICAgICAgICBodG1sRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWRkLWJsb2NrLXdyYXBwZXJcIik7XHJcblxyXG4gICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMucHJvcHMuYnV0dG9uLmh0bWxFbGVtZW50KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGh0bWxFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjcmVhdGUoYnV0dG9uOiBBZGRCbG9ja0J1dHRvbik6IEFkZEJsb2NrV3JhcHBlciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBZGRCbG9ja1dyYXBwZXIoYnV0dG9uKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBTaXplcyB7XHJcbiAgICBcclxuICAgIHN0YXRpYyBtZWRpdW06IHN0cmluZyA9IFwiMXJlbVwiO1xyXG4gICAgc3RhdGljIGxhcmdlOiBzdHJpbmcgPSBcIjEuMjVyZW1cIjtcclxufSIsImltcG9ydCB7IEJhc2VVSUNvbXBvbmVudCB9IGZyb20gXCIuL0Jhc2VVSUNvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNWR0ljb24gZXh0ZW5kcyBCYXNlVUlDb21wb25lbnQge1xyXG5cclxuICAgIHVzZUVsZW1lbnQ6IFNWR1VzZUVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaWNvbklkOiBzdHJpbmcsIHNpemU6IHN0cmluZykge1xyXG5cclxuICAgICAgICBzdXBlcih7XHJcbiAgICAgICAgICAgIGljb25JZDogaWNvbklkLFxyXG4gICAgICAgICAgICBzaXplOiBzaXplXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy51c2VFbGVtZW50ID0gdGhpcy5odG1sRWxlbWVudC5xdWVyeVNlbGVjdG9yKCd1c2UnKSBhcyBTVkdVc2VFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKTogSFRNTEVsZW1lbnQge1xyXG5cclxuICAgICAgICBjb25zdCBodG1sRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xyXG5cclxuICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5jb2xvciA9IFwicmVkICFpbXBvcnRhbnRcIjtcclxuXHJcbiAgICAgICAgbGV0IHVzZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwidXNlXCIpO1xyXG4gICAgICAgIHVzZS5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwgXCJocmVmXCIsIGAjJHt0aGlzLnByb3BzLmljb25JZH1gKTtcclxuXHJcbiAgICAgICAgdXNlLnN0eWxlLmNvbG9yID0gXCJyZWQgIWltcG9ydGFudFwiO1xyXG5cclxuICAgICAgICBodG1sRWxlbWVudC5hcHBlbmRDaGlsZCh1c2UpO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB0aGlzLnByb3BzLnNpemUpO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgdGhpcy5wcm9wcy5zaXplKTtcclxuICAgICAgICBodG1sRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnY3VycmVudENvbG9yJyk7XHJcblxyXG4gICAgICAgIHJldHVybiBodG1sRWxlbWVudCBhcyB1bmtub3duIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGNsb25lKCk6IFNWR0ljb24ge1xyXG4gICAgICAgIHJldHVybiBuZXcgU1ZHSWNvbih0aGlzLnByb3BzLmljb25JZCwgdGhpcy5wcm9wcy5zaXplcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlVG8odmFsdWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudXNlRWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwgXCJocmVmXCIsIGAjJHt2YWx1ZX1gKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY3JlYXRlKGljb25JZDogc3RyaW5nLCBzaXplOiBzdHJpbmcpOiBTVkdJY29uIHtcclxuICAgICAgICByZXR1cm4gbmV3IFNWR0ljb24oaWNvbklkLCBzaXplKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEFkZEJsb2NrQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy9hZGQtYmxvY2svQWRkQmxvY2tCdXR0b25cIjtcclxuaW1wb3J0IHsgQWRkQmxvY2tXcmFwcGVyIH0gZnJvbSBcIkAvY29tcG9uZW50cy9hZGQtYmxvY2svQWRkQmxvY2tXcmFwcGVyXCI7XHJcbmltcG9ydCB7IFNpemVzIH0gZnJvbSBcIkAvY29tbW9uL1NpemVzXCI7XHJcbmltcG9ydCB7IFNWR0ljb24gfSBmcm9tIFwiQC9jb21wb25lbnRzL2NvbW1vbi9TVkdJY29uXCI7XHJcblxyXG5pbXBvcnQgeyBJY29ucyB9IGZyb20gXCJAL2NvbW1vbi9JY29uc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFkZEJsb2NrQnVpbGRlciB7XHJcblxyXG4gICAgXHJcbiAgICBzdGF0aWMgYnVpbGQoKTogQWRkQmxvY2tXcmFwcGVyIHtcclxuICAgICAgICByZXR1cm4gQWRkQmxvY2tXcmFwcGVyLmNyZWF0ZShBZGRCbG9ja0J1dHRvbi5jcmVhdGUoU1ZHSWNvbi5jcmVhdGUoSWNvbnMuUGx1cywgU2l6ZXMubWVkaXVtKSkpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQC91dGlsaXRpZXMvVXRpbHNcIjtcclxuaW1wb3J0IHsgQmFzZVVJQ29tcG9uZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9CYXNlVUlDb21wb25lbnRcIjtcclxuaW1wb3J0IHsgRHJvcGRvd25NZW51QnV0dG9uIH0gZnJvbSBcIi4vRHJvcGRvd25NZW51QnV0dG9uXCI7XHJcbmltcG9ydCB7IERyb3Bkb3duTWVudUxpc3QgfSBmcm9tIFwiLi9Ecm9wZG93bk1lbnVMaXN0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRHJvcGRvd25NZW51IGV4dGVuZHMgQmFzZVVJQ29tcG9uZW50IHtcclxuXHJcbiAgICByZWFkb25seSBpZDogc3RyaW5nO1xyXG4gICAgZHJvcGRvd25CdXR0b246IERyb3Bkb3duTWVudUJ1dHRvbjtcclxuICAgIGRyb3Bkb3duTGlzdDogRHJvcGRvd25NZW51TGlzdDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBidXR0b246IERyb3Bkb3duTWVudUJ1dHRvbiwgZHJvcGRvd25MaXN0OiBEcm9wZG93bk1lbnVMaXN0KSB7XHJcblxyXG4gICAgICAgIHN1cGVyKHtcclxuICAgICAgICAgICAgaWQ6IGlkXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuZHJvcGRvd25CdXR0b24gPSBidXR0b247XHJcbiAgICAgICAgdGhpcy5kcm9wZG93bkxpc3QgPSBkcm9wZG93bkxpc3Q7XHJcblxyXG5cclxuICAgICAgICBidXR0b24uYXBwZW5kVG8odGhpcyk7XHJcbiAgICAgICAgZHJvcGRvd25MaXN0LmFwcGVuZFRvKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKTogSFRNTEVsZW1lbnQge1xyXG5cclxuICAgICAgICBjb25zdCBodG1sRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuaWQgPSB0aGlzLnByb3BzLmlkO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJzZWxlY3Qtd3JhcHBlclwiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGh0bWxFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXQgZGlzcGxheSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnYmxvY2snO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdGF0aWMgY3JlYXRlKHByZWZpeElkOiBzdHJpbmcsIGJ1dHRvbjogRHJvcGRvd25NZW51QnV0dG9uLCBsaXN0OiBEcm9wZG93bk1lbnVMaXN0LCBjbGFzc2VzS2V5OiBzdHJpbmdbXSA9IFtdKTogRHJvcGRvd25NZW51IHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBEcm9wZG93bk1lbnUocHJlZml4SWQgKyBVdGlscy5nZW5lcmF0ZVVuaXF1ZUlkKCksIGJ1dHRvbiwgbGlzdCk7XHJcbiAgICAgICAgaW5zdGFuY2UuYWRkQ3NzQ2xhc3MoLi4uY2xhc3Nlc0tleSk7XHJcblxyXG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEpOb2RlIH0gZnJvbSBcIi4vSk5vZGVcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlRG91Ymx5TGlua2VkTGlzdDxUPiB7XHJcblxyXG4gICAgaGVhZDogSk5vZGU8VD4gfCBudWxsID0gbnVsbDtcclxuICAgIHRhaWw6IEpOb2RlPFQ+IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgbGVuZ3RoOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIGFic3RyYWN0IGFwcGVuZChlbGVtZW50OiBUKTogdm9pZDtcclxuXHJcbiAgICBnZXRGaXJzdCgpOiBKTm9kZTxUPiB8IG51bGwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhlYWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TGFzdCgpOiBKTm9kZTxUPiB8IG51bGwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRhaWw7XHJcbiAgICB9XHJcblxyXG4gICAgKltTeW1ib2wuaXRlcmF0b3JdKCkge1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5oZWFkO1xyXG4gICAgICAgIGlmICghY3VycmVudCkgcmV0dXJuO1xyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgeWllbGQgY3VycmVudDtcclxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dE5vZGU7XHJcbiAgICAgICAgfSB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSB0aGlzLmhlYWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvckVhY2goY2FsbGJhY2s6IChub2RlOiBULCBpbmRleDogbnVtYmVyLCBsaXN0OiBCYXNlRG91Ymx5TGlua2VkTGlzdDxUPikgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgbm9kZSBvZiB0aGlzKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKG5vZGUudmFsdWUsIGluZGV4LCB0aGlzKTtcclxuICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYW55KHByZWRpY2F0ZTogKG5vZGU6IFQpID0+IGJvb2xlYW4pOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuaGVhZDtcclxuICAgICAgICB3aGlsZSAoY3VycmVudCkge1xyXG4gICAgICAgICAgICBpZiAocHJlZGljYXRlKGN1cnJlbnQudmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0Tm9kZTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHRoaXMuaGVhZCkgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmaW5kRmlyc3QocHJlZGljYXRlOiAobm9kZTogVCkgPT4gYm9vbGVhbik6IEpOb2RlPFQ+IHwgbnVsbCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhlYWQpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgY3VycmVudDogbnVsbCB8IEpOb2RlPFQ+ID0gdGhpcy5oZWFkO1xyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShjdXJyZW50LnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dE5vZGU7XHJcbiAgICAgICAgfSB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSB0aGlzLmhlYWQpO1xyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmaW5kTGFzdChwcmVkaWNhdGU6IChub2RlOiBUKSA9PiBib29sZWFuKTogSk5vZGU8VD4gfCBudWxsIHtcclxuICAgICAgICBpZiAoIXRoaXMudGFpbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIGxldCBjdXJyZW50OiBudWxsIHwgSk5vZGU8VD4gPSB0aGlzLnRhaWw7XHJcblxyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShjdXJyZW50LnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucHJldmlvdXNOb2RlO1xyXG4gICAgICAgIH0gd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudCAhPT0gdGhpcy50YWlsKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZmluZChlbGVtZW50OiBUKTogSk5vZGU8VD4gfCBudWxsIHtcclxuXHJcbiAgICAgICAgbGV0IGN1cnJlbnQ6IEpOb2RlPFQ+IHwgbnVsbCA9IHRoaXMuaGVhZDtcclxuXHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQudmFsdWUgPT0gZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHROb2RlO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gdGhpcy5oZWFkKSBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQmFzZURvdWJseUxpbmtlZExpc3QgfSBmcm9tIFwiLi9CYXNlRG91Ymx5TGlua2VkTGlzdFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEpOb2RlPFQ+IHtcclxuXHJcbiAgICBwYXJlbnRMaXN0OiBCYXNlRG91Ymx5TGlua2VkTGlzdDxUPjtcclxuXHJcbiAgICBwcmV2aW91c05vZGU6IEpOb2RlPFQ+IHwgbnVsbDtcclxuICAgIG5leHROb2RlOiBKTm9kZTxUPiB8IG51bGw7XHJcbiAgICB2YWx1ZTogVDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZTogVCwgcGFyZW50TGlzdDogQmFzZURvdWJseUxpbmtlZExpc3Q8VD4pIHtcclxuICAgICAgICB0aGlzLnByZXZpb3VzTm9kZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5uZXh0Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMucGFyZW50TGlzdCA9IHBhcmVudExpc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TmV4dChub2RlOiBKTm9kZTxUPik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubmV4dE5vZGUgPSBub2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFByZXZpb3VzKG5vZGU6IEpOb2RlPFQ+KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wcmV2aW91c05vZGUgPSBub2RlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE5leHRTYXRpc2Z5aW5nKHByZWRpY2F0ZTogKG5vZGU6IFQpID0+IGJvb2xlYW4pOiBKTm9kZTxUPiB8IG51bGwge1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5uZXh0Tm9kZTtcclxuICAgICAgICBjb25zdCBzdGFydE5vZGUgPSB0aGlzO1xyXG4gICAgICAgIHdoaWxlIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUoY3VycmVudC52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHROb2RlO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gc3RhcnROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQcmV2aW91c1NhdGlzZnlpbmcocHJlZGljYXRlOiAobm9kZTogVCkgPT4gYm9vbGVhbik6IEpOb2RlPFQ+IHwgbnVsbCB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLnByZXZpb3VzTm9kZTtcclxuICAgICAgICBjb25zdCBzdGFydE5vZGUgPSB0aGlzO1xyXG4gICAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IHN0YXJ0Tm9kZSkge1xyXG4gICAgICAgICAgICBpZiAocHJlZGljYXRlKGN1cnJlbnQudmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wcmV2aW91c05vZGU7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSB0aGlzKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEJhc2VEb3VibHlMaW5rZWRMaXN0IH0gZnJvbSBcIi4vQmFzZURvdWJseUxpbmtlZExpc3RcIjtcclxuaW1wb3J0IHsgSk5vZGUgfSBmcm9tIFwiLi9KTm9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENpcmN1bGFyRG91Ymx5TGlua2VkTGlzdDxUPiBleHRlbmRzIEJhc2VEb3VibHlMaW5rZWRMaXN0PFQ+IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGVuZChlbGVtZW50OiBUKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgSk5vZGUoZWxlbWVudCwgdGhpcyk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5oZWFkIHx8ICF0aGlzLnRhaWwpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IG5vZGU7XHJcbiAgICAgICAgICAgIHRoaXMudGFpbCA9IG5vZGU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhlYWQuc2V0TmV4dCh0aGlzLnRhaWwpO1xyXG4gICAgICAgICAgICB0aGlzLmhlYWQuc2V0UHJldmlvdXModGhpcy50YWlsKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbm9kZS5zZXRQcmV2aW91cyh0aGlzLnRhaWwpO1xyXG4gICAgICAgICAgICBub2RlLnNldE5leHQodGhpcy5oZWFkKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGFpbC5zZXROZXh0KG5vZGUpO1xyXG4gICAgICAgICAgICB0aGlzLmhlYWQuc2V0UHJldmlvdXMobm9kZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRhaWwgPSBub2RlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5sZW5ndGgrKztcclxuICAgIH1cclxufSIsImltcG9ydCB7IEJhc2VVSUNvbXBvbmVudCB9IGZyb20gXCIuLi8uLi9jb21tb24vQmFzZVVJQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7IERyb3Bkb3duTWVudUxpc3QgfSBmcm9tIFwiLi9Ecm9wZG93bk1lbnVMaXN0XCI7XHJcbmltcG9ydCB7IFNWR0ljb24gfSBmcm9tIFwiQC9jb21wb25lbnRzL2NvbW1vbi9TVkdJY29uXCI7XHJcbmltcG9ydCB7IElEcm9wZG93bk1lbnVJdGVtIH0gZnJvbSBcIi4vSURyb3Bkb3duTWVudUl0ZW1cIjtcclxuaW1wb3J0IHsgSk5vZGUgfSBmcm9tIFwiQC9jb21tb24vSk5vZGVcIjtcclxuaW1wb3J0IHsgU2l6ZXMgfSBmcm9tIFwiQC9jb21tb24vU2l6ZXNcIjtcclxuaW1wb3J0IHsgSUNvbW1hbmRFdmVudERldGFpbCB9IGZyb20gXCJAL2NvbW1hbmRzL0lDb21tYW5kRXZlbnREZXRhaWxcIjtcclxuaW1wb3J0IHsgQ3VzdG9tRXZlbnRzIH0gZnJvbSBcIkAvY29tbW9uL0N1c3RvbUV2ZW50c1wiO1xyXG5pbXBvcnQgeyBDdXN0b21VSUV2ZW50cyB9IGZyb20gXCJAL2NvbW1vbi9DdXN0b21VSUV2ZW50c1wiO1xyXG5pbXBvcnQgeyBJVUlFdmVudERldGFpbCB9IGZyb20gXCJAL2NvbW1hbmRzL0lVSUV2ZW50RGV0YWlsXCI7XHJcbmltcG9ydCB7IFNob3dIaWRlQWN0aXZlQnV0dG9uIH0gZnJvbSBcIkAvY29tbWFuZHMvVUlBY3Rpb25zL1Nob3dIaWRlQWN0aXZlQnV0dG9uXCI7XHJcbmltcG9ydCB7IERPTVV0aWxzIH0gZnJvbSBcIkAvdXRpbGl0aWVzL0RPTVV0aWxzXCI7XHJcbmltcG9ydCB7IENoYW5nZUJsb2NrVG9vbGJhckxhbmd1YWdlIH0gZnJvbSBcIkAvY29tbWFuZHMvVUlBY3Rpb25zL0NoYW5nZUJsb2NrVG9vbGJhckxhbmd1YWdlXCI7XHJcbmltcG9ydCB7IERlZmF1bHRKU0V2ZW50cyB9IGZyb20gXCJAL2NvbW1vbi9EZWZhdWx0SlNFdmVudHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEcm9wZG93bk1lbnVMaXN0SXRlbSBleHRlbmRzIEJhc2VVSUNvbXBvbmVudCBpbXBsZW1lbnRzIElEcm9wZG93bk1lbnVJdGVtIHtcclxuXHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb21tYW5kOiBzdHJpbmc7XHJcbiAgICByZWFkb25seSB2YWx1ZTogc3RyaW5nIHwgbnVsbDtcclxuICAgIHJlYWRvbmx5IGFjdGl2ZUljb24/OiBTVkdJY29uO1xyXG4gICAgcHJpdmF0ZSBsZWZ0SWNvbj86IFNWR0VsZW1lbnQgfCBIVE1MRWxlbWVudCB8IG51bGw7XHJcbiAgICByZWFkb25seSB0aXRsZTogc3RyaW5nO1xyXG5cclxuICAgIHByaXZhdGUgb25Gb2N1c0Z1bmN0aW9uTGlzdDogKCgpID0+IHZvaWQpW10gPSBbXTtcclxuICAgIHByaXZhdGUgb25Mb3NlRm9jdXNGdW5jdGlvbkxpc3Q6ICgoKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcGFyZW50RHJvcGRvd25NZW51TGlzdDogRHJvcGRvd25NZW51TGlzdDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBpZDogc3RyaW5nLFxyXG4gICAgICAgIHBhcmVudERyb3Bkb3duTWVudUxpc3Q6IERyb3Bkb3duTWVudUxpc3QsXHJcbiAgICAgICAgY29tbWFuZDogc3RyaW5nLFxyXG4gICAgICAgIHZhbHVlOiBzdHJpbmcgfCBudWxsLFxyXG4gICAgICAgIGxlZnRJY29uOiBIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnQgfCBudWxsLFxyXG4gICAgICAgIHRpdGxlOiBzdHJpbmcsXHJcbiAgICAgICAgc2hvcnRjdXQ6IHN0cmluZyB8IG51bGwgPSBudWxsKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IFtcImxpc3QtaXRlbVwiLCBcIm9wdGlvblwiLCBcIm9wdGlvbi1ob3ZlclwiLCBcImJsb2NrLW9wZXJhdGlvblwiLCBcIm5vLWxpc3Qtc3R5bGVcIiwgXCJuby1zZWxlY3Rpb25cIl07XHJcblxyXG4gICAgICAgIGNvbnN0IGljb24gPSBuZXcgU1ZHSWNvbihcImljb24tbWF0ZXJpYWwtc21hbGwtY2hlY2tcIiwgU2l6ZXMubWVkaXVtKTtcclxuICAgICAgICBpY29uLmh0bWxFbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xyXG5cclxuICAgICAgICBpZiAodmFsdWUgJiYgbGVmdEljb24pIHtcclxuICAgICAgICAgICAgbGVmdEljb24uc3R5bGUuY29sb3IgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN1cGVyKHtcclxuICAgICAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgICAgICBjbGFzc0xpc3Q6IGNsYXNzTGlzdCxcclxuICAgICAgICAgICAgbGVmdEljb246IGxlZnRJY29uLFxyXG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgICAgIGljb246IGljb24sXHJcbiAgICAgICAgICAgIHNob3J0Y3V0OiBzaG9ydGN1dFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QgPSBjbGFzc0xpc3Q7XHJcbiAgICAgICAgdGhpcy5sZWZ0SWNvbiA9IGxlZnRJY29uO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZCA9IGNvbW1hbmQ7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgICAgICB0aGlzLnBhcmVudERyb3Bkb3duTWVudUxpc3QgPSBwYXJlbnREcm9wZG93bk1lbnVMaXN0O1xyXG4gICAgICAgIHRoaXMuYWN0aXZlSWNvbiA9IGljb247XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNoRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYXR0YWNoT25Gb2N1cyhmdW5jOiAoKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAvLyAgICAgdGhpcy5vbkZvY3VzRnVuY3Rpb25MaXN0LnB1c2goZnVuYyk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgYWRkQ2xhc3MoY2xhc3NLZXk6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnB1c2goY2xhc3NLZXkpO1xyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc0tleSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNoT25Gb2N1czxUIGV4dGVuZHMgYW55W10+KGZ1bmM6ICguLi5hcmdzOiBUKSA9PiB2b2lkLCAuLi5hcmdzOiBUKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5vbkZvY3VzRnVuY3Rpb25MaXN0LnB1c2goKCkgPT4gZnVuYyguLi5hcmdzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNoT25Mb3NlRm9jdXM8VCBleHRlbmRzIGFueVtdPihmdW5jOiAoLi4uYXJnczogVCkgPT4gdm9pZCwgLi4uYXJnczogVCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMub25Mb3NlRm9jdXNGdW5jdGlvbkxpc3QucHVzaCgoKSA9PiBmdW5jKC4uLmFyZ3MpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGlzcGxheSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnZmxleCc7XHJcbiAgICB9XHJcblxyXG4gICAgZm9jdXMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdvcHRpb24tZm9jdXNlZCcpO1xyXG4gICAgICAgIHRoaXMub25Gb2N1c0Z1bmN0aW9uTGlzdC5mb3JFYWNoKGZ1bmMgPT4gZnVuYygpKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVGb2N1cygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ29wdGlvbi1mb2N1c2VkJyk7XHJcbiAgICAgICAgdGhpcy5vbkxvc2VGb2N1c0Z1bmN0aW9uTGlzdC5mb3JFYWNoKGZ1bmMgPT4gZnVuYygpKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk6IEhUTUxFbGVtZW50IHtcclxuXHJcbiAgICAgICAgY29uc3QgaHRtbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LmlkID0gdGhpcy5wcm9wcy5pZDtcclxuICAgICAgICBjb25zdCBjbGFzc0xpc3QgPSB0aGlzLnByb3BzLmNsYXNzTGlzdCBhcyBzdHJpbmdbXTtcclxuICAgICAgICBodG1sRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9pbnRlclwiLCAuLi5jbGFzc0xpc3QpO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnRhYkluZGV4ID0gMjtcclxuXHJcbiAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUuY29sb3IgPSBcIiMzNzM1MkZcIjtcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRleHRPcHRpb24uY2xhc3NMaXN0LmFkZCgndGV4dC1vcHRpb24nKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubGVmdEljb24pIHtcclxuICAgICAgICAgICAgdGV4dE9wdGlvbi5hcHBlbmRDaGlsZCh0aGlzLnByb3BzLmxlZnRJY29uKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIHNwYW4uaW5uZXJUZXh0ID0gdGhpcy5wcm9wcy50aXRsZTtcclxuXHJcbiAgICAgICAgdGV4dE9wdGlvbi5hcHBlbmRDaGlsZChzcGFuKTtcclxuXHJcbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQodGV4dE9wdGlvbik7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5wcm9wcy5pY29uLmh0bWxFbGVtZW50KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2hvcnRjdXQpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2hvcnRDdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgICAgICAgICAgc2hvcnRDdXQuaW5uZXJUZXh0ID0gdGhpcy5wcm9wcy5zaG9ydGN1dDtcclxuICAgICAgICAgICAgc2hvcnRDdXQuc3R5bGUuY29sb3IgPSBcInJnYmEoNTUsIDUzLCA0NywgMC41KVwiXHJcblxyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5hcHBlbmRDaGlsZChzaG9ydEN1dCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaHRtbEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZW1pdENvbW1hbmRFdmVudChldmVudDogRXZlbnQpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3QgYmxvY2sgPSBET01VdGlscy5nZXRQYXJlbnRUYXJnZXRCeVNlbGVjdG9yKGV2ZW50IGFzIE1vdXNlRXZlbnQsIFwiLmJsb2NrXCIpIHx8IERPTVV0aWxzLmdldFBhcmVudEZyb21TZWxlY3Rpb24oXCIuYmxvY2tcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50PElDb21tYW5kRXZlbnREZXRhaWw+KEN1c3RvbUV2ZW50cy5lbWl0dGVkQ29tbWFuZCwgeyAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICAgICAgICBjb21tYW5kOiB0aGlzLmNvbW1hbmQsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcclxuICAgICAgICAgICAgICAgIGJsb2NrOiAoIGJsb2NrICkgYXMgSFRNTEh0bWxFbGVtZW50XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XHJcblxyXG5cclxuICAgICAgICAvLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgLy8gICAgIGlmICghc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5yYW5nZUNvdW50ID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vICAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xyXG4gICAgICAgIC8vICAgICBsZXQgY29udGFpbmVyOiBOb2RlIHwgbnVsbCA9IHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO1xyXG5cclxuICAgICAgICAvLyAgICAgaWYgKGNvbnRhaW5lcj8ubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBjb250YWluZXIgPSBjb250YWluZXIucGFyZW50Tm9kZTtcclxuICAgICAgICAvLyAgICAgfVxyXG5cclxuICAgICAgICAvLyAgICAgY29uc3QgZm9jdXNhYmxlUGFyZW50ID0gKGNvbnRhaW5lciBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdChcIi5mb2N1c2FibGVcIik7XHJcblxyXG4gICAgICAgIC8vICAgICBpZiAoZm9jdXNhYmxlUGFyZW50KSB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLm5vcm1hbGl6ZUFuZE1lcmdlRWxlbWVudHMoZm9jdXNhYmxlUGFyZW50IGFzIEhUTUxFbGVtZW50KTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGF0dGFjaEV2ZW50cygpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgdGhpcy5hdHRhY2hVSUV2ZW50KCk7XHJcblxyXG4gICAgICAgIC8vIFByZXZlbnQgZm9jdXMgY2hhbmdlIHdoZW4gY2xpY2tpbmcgb24gdGhpcyBlbGVtZW50XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5Nb3VzZWRvd24sIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLk1vdXNlbW92ZSwgYXN5bmMgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgbm9kZTogSk5vZGU8SURyb3Bkb3duTWVudUl0ZW0+ID0gdGhpcy5wYXJlbnREcm9wZG93bk1lbnVMaXN0LmRyb3Bkb3duSXRlbXMuZmluZCh0aGlzKSE7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBhcmVudERyb3Bkb3duTWVudUxpc3Quc3dpdGNoVmlzdWFsRm9jdXMobm9kZSEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLkNsaWNrLCAoZXZlbnQpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXRDb21tYW5kRXZlbnQoZXZlbnQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihDdXN0b21FdmVudHMudGV4dEZvcm1hdENoYW5nZWQsIChldmVudDogRXZlbnQpID0+IHtcclxuXHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gZXZlbnQgYXMgQ3VzdG9tRXZlbnQ8SUZvcm1hdENvbW1hbmQ+O1xyXG4gICAgICAgIC8vICAgICBjb25zdCBzdGF0ZXMgPSBjdXN0b21FdmVudC5kZXRhaWw7XHJcblxyXG4gICAgICAgIC8vICAgICBpZiAodGhpcy5jb21tYW5kID09IENvbW1hbmRzLnRvZ2dsZUhpbGl0ZUNvbG9yKSB7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgaWYgKCF0aGlzLnZhbHVlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBjb2xvciB2YWx1ZSBtdXN0IGJlIHByb3ZpZGVkIGZvciB0aGUgJ2hpbGl0ZUNvbG9yJyBjb21tYW5kLiBFYWNoICdMaXN0TWVudUl0ZW0nIG11c3Qgc3BlY2lmeSBhIGNvbG9yIHJlcHJlc2VudGluZyB0aGUgdGV4dCBiYWNrZ3JvdW5kIGNvbG9yLlwiKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoc3RhdGVzLmhpbGl0ZUNvbG9yW3RoaXMudmFsdWVdKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5hY3RpdmVJY29uPy5jaGFuZ2VWaXNpYmlsaXR5VG9WaXNpYmxlKCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuYWN0aXZlSWNvbj8uY2hhbmdlVmlzaWJpbGl0eVRvSGlkZGVuKCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLmNvbW1hbmQgPT0gQ29tbWFuZHMudG9nZ2xlRm9yZUNvbG9yKSB7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgaWYgKCF0aGlzLnZhbHVlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBjb2xvciB2YWx1ZSBtdXN0IGJlIHByb3ZpZGVkIGZvciB0aGUgJ2NvcmVDb2xvcicgY29tbWFuZC4gRWFjaCAnTGlzdE1lbnVJdGVtJyBtdXN0IHNwZWNpZnkgYSBjb2xvciByZXByZXNlbnRpbmcgdGhlIHRleHQgY29sb3IuXCIpO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAgICAgICAgIGlmIChzdGF0ZXMuZm9yZUNvbG9yW3RoaXMudmFsdWVdKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5hY3RpdmVJY29uPy5jaGFuZ2VWaXNpYmlsaXR5VG9WaXNpYmxlKCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuYWN0aXZlSWNvbj8uY2hhbmdlVmlzaWJpbGl0eVRvSGlkZGVuKCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLmNvbW1hbmQgPT0gQ29tbWFuZHMudG9nZ2xlQ2VsbEhpbGl0ZUNvbG9yKSB7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgaWYgKCF0aGlzLnZhbHVlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBjb2xvciB2YWx1ZSBtdXN0IGJlIHByb3ZpZGVkIGZvciB0aGUgJ2NvcmVDb2xvcicgY29tbWFuZC4gRWFjaCAnTGlzdE1lbnVJdGVtJyBtdXN0IHNwZWNpZnkgYSBjb2xvciByZXByZXNlbnRpbmcgdGhlIHRleHQgY29sb3IuXCIpO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAgICAgICAgIGlmIChzdGF0ZXMuY2VsbEhpbGl0ZUNvbG9yW3RoaXMudmFsdWVdKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5hY3RpdmVJY29uPy5jaGFuZ2VWaXNpYmlsaXR5VG9WaXNpYmxlKCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuYWN0aXZlSWNvbj8uY2hhbmdlVmlzaWJpbGl0eVRvSGlkZGVuKCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuXHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoQ3VzdG9tRXZlbnRzLnRhYmxlQ2VsbENoYW5nZWQsIChldmVudDogRXZlbnQpID0+IHtcclxuXHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gZXZlbnQgYXMgQ3VzdG9tRXZlbnQ8SUZvcm1hdENvbW1hbmQ+O1xyXG4gICAgICAgIC8vICAgICBjb25zdCBzdGF0ZXMgPSBjdXN0b21FdmVudC5kZXRhaWw7XHJcblxyXG5cclxuICAgICAgICAvLyAgICAgaWYgKHRoaXMuY29tbWFuZCA9PSBDb21tYW5kcy50b2dnbGVDZWxsSGlsaXRlQ29sb3IpIHtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoIXRoaXMudmFsdWUpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIGNvbG9yIHZhbHVlIG11c3QgYmUgcHJvdmlkZWQgZm9yIHRoZSAnY29yZUNvbG9yJyBjb21tYW5kLiBFYWNoICdMaXN0TWVudUl0ZW0nIG11c3Qgc3BlY2lmeSBhIGNvbG9yIHJlcHJlc2VudGluZyB0aGUgdGV4dCBjb2xvci5cIik7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgaWYgKHN0YXRlcy5jZWxsSGlsaXRlQ29sb3JbdGhpcy52YWx1ZV0pIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLmFjdGl2ZUljb24/LmNoYW5nZVZpc2liaWxpdHlUb1Zpc2libGUoKTtcclxuICAgICAgICAvLyAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5hY3RpdmVJY29uPy5jaGFuZ2VWaXNpYmlsaXR5VG9IaWRkZW4oKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gcHJpdmF0ZSBoYW5kbGVDb21tYW5kRXZlbnQgPSAoZXZlbnQ6IEN1c3RvbUV2ZW50PElDb21tYW5kRXZlbnREZXRhaWw+KTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IHsgY29tbWFuZCwgc2hvd1VJLCB2YWx1ZSwgdGFyZ2V0QmxvY2tUeXBlIH0gPSBldmVudC5kZXRhaWw7XHJcblxyXG5cclxuICAgICAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAvLyAgICAgaWYgKFxyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5jb21tYW5kID09IFRleHRPcGVyYXRpb25TZXJ2aWNlLlFVRVJZX1RFWFRfT1BFUkFUSU9OUy5ISUxJVEVfQ09MT1IgfHxcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMuY29tbWFuZCA9PSBUZXh0T3BlcmF0aW9uU2VydmljZS5RVUVSWV9URVhUX09QRVJBVElPTlMuRk9SRV9DT0xPUikge1xyXG5cclxuICAgICAgICAvLyAgICAgICAgIGF3YWl0IHRoaXMuY2hhbmdlQ2hlY2tJY29uVmlzaWJpbGl0eSgpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjb2xvckNoYW5nZVwiLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGlmIChcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMuY29tbWFuZCA9PSBUZXh0T3BlcmF0aW9uU2VydmljZS5RVUVSWV9URVhUX09QRVJBVElPTlMuSElMSVRFX0NPTE9SIHx8XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmNvbW1hbmQgPT0gVGV4dE9wZXJhdGlvblNlcnZpY2UuUVVFUllfVEVYVF9PUEVSQVRJT05TLkZPUkVfQ09MT1IpIHtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICBhd2FpdCB0aGlzLmNoYW5nZUNoZWNrSWNvblZpc2liaWxpdHkoKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKEN1c3RvbVVJRXZlbnRzLkNoYW5nZUJsb2NrVG9vbGJhckxhbmd1YWdlLCB0aGlzLmhhbmRsZUNoYW5nZUJsb2NrVG9vbGJhckxhbmd1YWdlRXZlbnQuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2hhbmdlQmxvY2tUb29sYmFyTGFuZ3VhZ2VFdmVudChldmVudDogRXZlbnQpIHtcclxuICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IGV2ZW50IGFzIEN1c3RvbUV2ZW50PElVSUV2ZW50RGV0YWlsPjtcclxuICAgICAgICBjb25zdCBkZXRhaWxzID0gY3VzdG9tRXZlbnQuZGV0YWlsO1xyXG5cclxuICAgICAgICBpZiAoZGV0YWlscy50YXJnZXRDbGFzcyAmJiBkZXRhaWxzLnRhcmdldENsYXNzLmluY2x1ZGVzKFwiY29kZS1ibG9jay1sYW5ndWFnZS1tZW51XCIpKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBldmVudFZhbHVlcyA9IChkZXRhaWxzLmFjdGlvbiBhcyBDaGFuZ2VCbG9ja1Rvb2xiYXJMYW5ndWFnZSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBibG9jayA9IHRoaXMuaHRtbEVsZW1lbnQuY2xvc2VzdChgIyR7ZXZlbnRWYWx1ZXMuYmxvY2tJZH1gKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChibG9jaykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlID09IGV2ZW50VmFsdWVzLmxhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVJY29uPy5jaGFuZ2VWaXNpYmlsaXR5VG9WaXNpYmxlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlSWNvbj8uY2hhbmdlVmlzaWJpbGl0eVRvSGlkZGVuKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbm9ybWFsaXplQW5kTWVyZ2VFbGVtZW50cyhlbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwpOiB2b2lkIHtcclxuICAgIC8vICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICAvLyAgICAgbGV0IGNoaWxkID0gZWxlbWVudC5maXJzdENoaWxkO1xyXG4gICAgLy8gICAgIHdoaWxlIChjaGlsZCkge1xyXG4gICAgLy8gICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLm5vcm1hbGl6ZUFuZE1lcmdlRWxlbWVudHMoY2hpbGQgYXMgSFRNTEVsZW1lbnQpO1xyXG4gICAgLy8gICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgICAgICBsZXQgbmV4dFNpYmxpbmcgPSBjaGlsZC5uZXh0U2libGluZztcclxuICAgIC8vICAgICAgICAgd2hpbGUgKG5leHRTaWJsaW5nICYmIHRoaXMuc2hvdWxkTWVyZ2UoY2hpbGQsIG5leHRTaWJsaW5nKSkge1xyXG4gICAgLy8gICAgICAgICAgICAgKGNoaWxkIGFzIEhUTUxFbGVtZW50KS5pbm5lckhUTUwgKz0gKG5leHRTaWJsaW5nIGFzIEhUTUxFbGVtZW50KS5pbm5lckhUTUw7XHJcbiAgICAvLyAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV4dFNpYmxpbmcubmV4dFNpYmxpbmc7XHJcbiAgICAvLyAgICAgICAgICAgICBuZXh0U2libGluZy5wYXJlbnROb2RlIS5yZW1vdmVDaGlsZChuZXh0U2libGluZyk7XHJcbiAgICAvLyAgICAgICAgICAgICBuZXh0U2libGluZyA9IG5leHQ7XHJcbiAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICBlbGVtZW50Lm5vcm1hbGl6ZSgpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHNob3VsZE1lcmdlKG5vZGUxOiBDaGlsZE5vZGUsIG5vZGUyOiBDaGlsZE5vZGUpOiBib29sZWFuIHtcclxuICAgIC8vICAgICBpZiAobm9kZTE/Lm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSB8fCBub2RlMj8ubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSByZXR1cm4gZmFsc2U7XHJcbiAgICAvLyAgICAgY29uc3QgZWxlbTEgPSBub2RlMSBhcyBIVE1MRWxlbWVudDtcclxuICAgIC8vICAgICBjb25zdCBlbGVtMiA9IG5vZGUyIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgLy8gICAgIHJldHVybiBlbGVtMS50YWdOYW1lID09PSBlbGVtMi50YWdOYW1lICYmXHJcbiAgICAvLyAgICAgICAgIGVsZW0xLnN0eWxlLmNzc1RleHQgPT09IGVsZW0yLnN0eWxlLmNzc1RleHQgJiZcclxuICAgIC8vICAgICAgICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbTEpLmNvbG9yID09PSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtMikuY29sb3I7XHJcbiAgICAvLyB9XHJcblxyXG5cclxuICAgIC8vIGFzeW5jIGNoYW5nZUNoZWNrSWNvblZpc2liaWxpdHkoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAvLyAgICAgdHJ5IHtcclxuICAgIC8vICAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBhd2FpdCB0aGlzLnRleHRPcGVyYXRpb25TZXJ2aWNlLnF1ZXJ5Q29tbWFuZFN0YXRlKHRoaXMuY29tbWFuZCwgdGhpcy52YWx1ZSk7XHJcbiAgICAvLyAgICAgICAgIGlmIChpc0FjdGl2ZSkge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5hY3RpdmVJY29uPy5jaGFuZ2VWaXNpYmlsaXR5VG9WaXNpYmxlKCk7XHJcbiAgICAvLyAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmFjdGl2ZUljb24/LmNoYW5nZVZpc2liaWxpdHlUb0hpZGRlbigpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIC8vICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBxdWVyeSBjb21tYW5kIHN0YXRlOlwiLCBlcnJvcik7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuXHJcblxyXG4gICAgYXR0YWNoVUlFdmVudCgpIHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKEN1c3RvbVVJRXZlbnRzLlNob3dIaWRlQWN0aXZlQnV0dG9uLCB0aGlzLmhhbmRsZVNob3dIaWRlQWN0aXZlQnV0dG9uRXZlbnQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihDdXN0b21VSUV2ZW50cy5SZXNldEFjdGl2ZUJ1dHRvbnMsIHRoaXMuaGFuZGxlUmVzZXRBY3RpdmVCdXR0b25zRXZlbnQuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU2hvd0hpZGVBY3RpdmVCdXR0b25FdmVudChldmVudDogRXZlbnQpIHtcclxuICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IGV2ZW50IGFzIEN1c3RvbUV2ZW50PElVSUV2ZW50RGV0YWlsPjtcclxuICAgICAgICBjb25zdCBkZXRhaWxzID0gY3VzdG9tRXZlbnQuZGV0YWlsO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jbGFzc0xpc3Q/LmluY2x1ZGVzKGRldGFpbHMudGFyZ2V0Q2xhc3MhKSkge1xyXG5cclxuICAgICAgICAgICAgLy8gaWYoIShkZXRhaWxzLmFjdGlvbiBpbnN0YW5jZW9mIFNob3dIaWRlQWN0aXZlQnV0dG9uKSl7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50VmFsdWVzID0gKGRldGFpbHMuYWN0aW9uIGFzIFNob3dIaWRlQWN0aXZlQnV0dG9uKTtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnRDb2xvciA9IGV2ZW50VmFsdWVzLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWU/LnRvTG93ZXJDYXNlKCkgPT0gZXZlbnRDb2xvci50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRWYWx1ZXMuaW50ZW50aW9uID09IFwic2hvd1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVJY29uPy5jaGFuZ2VWaXNpYmlsaXR5VG9WaXNpYmxlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlUmVzZXRBY3RpdmVCdXR0b25zRXZlbnQoZXZlbnQ6IEV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBldmVudCBhcyBDdXN0b21FdmVudDxJVUlFdmVudERldGFpbD47XHJcbiAgICAgICAgY29uc3QgZGV0YWlscyA9IGN1c3RvbUV2ZW50LmRldGFpbDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY2xhc3NMaXN0Py5pbmNsdWRlcyhkZXRhaWxzLnRhcmdldENsYXNzISkpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmKCEoZGV0YWlscy5hY3Rpb24gaW5zdGFuY2VvZiBSZXNldEFjdGl2ZUJ1dHRvbnMpKXtcclxuICAgICAgICAgICAgLy8gICAgIHJldHVybjtcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVJY29uPy5jaGFuZ2VWaXNpYmlsaXR5VG9IaWRkZW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZ2V0TGVmdEljb25CYWNrZ3JvdW5kQ29sb3IoKTogc3RyaW5nIHwgbnVsbCB7XHJcblxyXG4gICAgLy8gICAgIGlmICh0aGlzLmxlZnRJY29uKSB7XHJcblxyXG4gICAgLy8gICAgICAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMubGVmdEljb24pO1xyXG4gICAgLy8gICAgICAgICBjb25zdCByZ2JDb2xvciA9IHN0eWxlLmJhY2tncm91bmRDb2xvcjtcclxuXHJcbiAgICAvLyAgICAgICAgIGNvbnN0IGhleENvbG9yID0gVXRpbHMucmdiVG9IZXgocmdiQ29sb3IpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBoZXhDb2xvcjtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIHJldHVybiBudWxsO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGdldExlZnRJY29uQ29sb3IoKTogc3RyaW5nIHwgbnVsbCB7XHJcblxyXG4gICAgLy8gICAgIGlmICh0aGlzLmxlZnRJY29uKSB7XHJcblxyXG4gICAgLy8gICAgICAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMubGVmdEljb24pO1xyXG4gICAgLy8gICAgICAgICBjb25zdCByZ2JDb2xvciA9IHN0eWxlLmJhY2tncm91bmRDb2xvcjtcclxuXHJcbiAgICAvLyAgICAgICAgIGNvbnN0IGhleENvbG9yID0gVXRpbHMucmdiVG9IZXgocmdiQ29sb3IpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBoZXhDb2xvcjtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIHJldHVybiBudWxsO1xyXG4gICAgLy8gfVxyXG5cclxuXHJcbiAgICAvLyBjaGFuZ2VBY3RpdmVJY29uVG9WaXNpYmxlKCk6IHZvaWQge1xyXG4gICAgLy8gICAgIHRoaXMuYWN0aXZlSWNvbj8uY2hhbmdlVmlzaWJpbGl0eVRvVmlzaWJsZSgpO1xyXG4gICAgLy8gfVxyXG59IiwiaW1wb3J0IHsgQmFzZVVJQ29tcG9uZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9CYXNlVUlDb21wb25lbnRcIjtcclxuaW1wb3J0IHsgQ2lyY3VsYXJEb3VibHlMaW5rZWRMaXN0IH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9DaXJjdWxhckRvdWJseUxpbmtlZExpc3RcIjtcclxuaW1wb3J0IHsgRHJvcGRvd25NZW51TGlzdEl0ZW0gfSBmcm9tIFwiLi9Ecm9wZG93bk1lbnVMaXN0SXRlbVwiO1xyXG5pbXBvcnQgeyBJRHJvcGRvd25NZW51SXRlbSB9IGZyb20gXCIuL0lEcm9wZG93bk1lbnVJdGVtXCI7XHJcbmltcG9ydCB7IEpOb2RlIH0gZnJvbSBcIkAvY29tbW9uL0pOb2RlXCI7XHJcbmltcG9ydCB7IERyb3Bkb3duTWVudUJ1dHRvbiB9IGZyb20gXCIuL0Ryb3Bkb3duTWVudUJ1dHRvblwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAL3V0aWxpdGllcy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBEZWZhdWx0SlNFdmVudHMgfSBmcm9tIFwiQC9jb21tb24vRGVmYXVsdEpTRXZlbnRzXCI7XHJcbmltcG9ydCB7IEtleWJvYXJkS2V5cyB9IGZyb20gXCJAL2NvbW1vbi9LZXlib2FyZEtleXNcIjtcclxuaW1wb3J0IHsgWkluZGV4IH0gZnJvbSBcIkAvY29tbW9uL1pJbmRleFwiO1xyXG5pbXBvcnQgeyBDdXN0b21FdmVudHMgfSBmcm9tIFwiQC9jb21tb24vQ3VzdG9tRXZlbnRzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRHJvcGRvd25NZW51TGlzdCBleHRlbmRzIEJhc2VVSUNvbXBvbmVudCB7XHJcblxyXG4gICAgcHJpdmF0ZSBwYXJlbnREcm9wZG93blBhcmVudEJ1dHRvbj86IERyb3Bkb3duTWVudUJ1dHRvbjtcclxuXHJcbiAgICBkcm9wZG93bkl0ZW1zOiBDaXJjdWxhckRvdWJseUxpbmtlZExpc3Q8SURyb3Bkb3duTWVudUl0ZW0+O1xyXG4gICAgY3VycmVudEZvY3VzZWRNZW51SXRlbTogSk5vZGU8SURyb3Bkb3duTWVudUl0ZW0+IHwgbnVsbDtcclxuICAgIGZpbHRlcjogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKHtcclxuICAgICAgICAgICAgaWQ6IGlkXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLmRyb3Bkb3duSXRlbXMgPSBuZXcgQ2lyY3VsYXJEb3VibHlMaW5rZWRMaXN0PERyb3Bkb3duTWVudUxpc3RJdGVtPigpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEZvY3VzZWRNZW51SXRlbSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNoRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGRpc3BsYXkoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ2ZsZXgnO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKTogSFRNTEVsZW1lbnQge1xyXG5cclxuICAgICAgICBjb25zdCBodG1sRWxlbWVudDogSFRNTFVMaXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuaWQgPSB0aGlzLnByb3BzLmlkO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnNldEF0dHJpYnV0ZSgnbmFtZScsICdibG9jay10eXBlJyk7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBodG1sRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzb2Z0LWJveC1zaGFkb3cnLCAnZGVwZW5kZW50LWJveCcsICdjaGVja2FibGUtaXRlbXMnKTtcclxuICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5tYXhIZWlnaHQgPSBcIjI1dm1heFwiO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLm92ZXJmbG93WSA9IFwiYXV0b1wiO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLnpJbmRleCA9IFpJbmRleC5FeHRyZW1lbHlJbXBvcnRhbnQ7XHJcblxyXG4gICAgICAgIHJldHVybiBodG1sRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBhcHBlbmQoZHJvcGRvd25JdGVtOiBJRHJvcGRvd25NZW51SXRlbSk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLmRyb3Bkb3duSXRlbXMuYXBwZW5kKGRyb3Bkb3duSXRlbSk7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5hcHBlbmRDaGlsZChkcm9wZG93bkl0ZW0uaHRtbEVsZW1lbnQpXHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGFyZW50RHJvcGRvd25NZW51QnV0dG9uKGRyb3Bkb3duUGFyZW50QnV0dG9uOiBEcm9wZG93bk1lbnVCdXR0b24pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnBhcmVudERyb3Bkb3duUGFyZW50QnV0dG9uID0gZHJvcGRvd25QYXJlbnRCdXR0b247XHJcbiAgICB9XHJcblxyXG4gICAgXHJcblxyXG4gICAgYXR0YWNoRXZlbnRzKCk6IHZvaWQge1xyXG5cclxuICAgICAgICAvLyBTZXQgYHRydWVgIHRvIGNhcHR1cmUgdGhlIGV2ZW50IGR1cmluZyB0aGUgcmVnaXN0cmF0aW9uIHBoYXNlLCBnaXZpbmcgdGhpcyBmdW5jdGlvbiBwcmlvcml0eSBvdmVyIG90aGVycy5cclxuICAgICAgICAvLyBUaGlzIHByZXZlbnRzIHRoZSBldmVudCBmcm9tIGJlaW5nIGhhbmRsZWQgYnkgZWFybGllciBgQ29udGVudGAgY29tcG9uZW50IGxpc3RlbmVycy5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5LZXlkb3duLCAoZXZlbnQpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmlzaWJsZSAmJiB0aGlzLmN1cnJlbnRGb2N1c2VkTWVudUl0ZW0gJiYgZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRGb2N1c2VkTWVudUl0ZW0udmFsdWUuZW1pdENvbW1hbmRFdmVudChldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0cnVlKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihEZWZhdWx0SlNFdmVudHMuQ2xpY2ssIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jbGlja2VkT3V0c2lkZVRoZURyb3Bkb3duV2hpbGVEcm9wZG93bklzVmlzaWJsZShldmVudCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLktleWRvd24sIChldmVudCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMua2V5UHJlc3NlZE91dHNpZGVUaGVEcm9wZG93bldoaWxlRHJvcGRvd25Jc1Zpc2libGUoZXZlbnQpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PSBcIkFycm93RG93blwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1c05leHRWaXNpYmxlSXRlbSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT0gXCJBcnJvd1VwXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNQcmV2aW91c1Zpc2libGVJdGVtKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gV2hlbiB1c2luZyBhIEZsb2F0aW5nVG9vbGJhciB3aXRoIGEgRHJvcGRvd25MaXN0LCB0aGlzIGhhbmRsZXIgc2hvdWxkIGJlIGlnbm9yZWQgZm9yIHNtb290aGVyIFVJIGNvbnRyb2wuIFxyXG4gICAgICAgICAgICAgICAgLy8gSG93ZXZlciwgZm9yIGNvbXBvbmVudHMgbGlrZSBCbG9ja1Rvb2xib3gsIHdoZXJlIHRoZXJlJ3Mgbm8gcmlzayBvZiB0aGUgcGFyZW50IGVsZW1lbnQgZGlzYXBwZWFyaW5nIGFmdGVyIHByZXNzaW5nIEVzY2FwZSAoaWYgdGhlIGN1cnNvciBpcyB3aXRoaW4gdGhlIGJsb2NrKSxcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaGFuZGxlciBpcyB1c2VkIHRvIGNsb3NlIHRoZSBkcm9wZG93biBsaXN0IHdoZW4gdGhlIHVzZXIgcHJlc3NlcyBFc2NhcGUuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09IEtleWJvYXJkS2V5cy5Fc2NhcGUgJiYgIXRoaXMuaHRtbEVsZW1lbnQuY2xvc2VzdChcIi5mbG9hdGluZy10b29sYmFyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5LZXlkb3duLCB0aGlzLmhhbmRsZXJLZXlEb3duRXZlbnQuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoQ3VzdG9tRXZlbnRzLmJsb2NrQ2xvbmVkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5hdHRhY2hVSUV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlcktleURvd25FdmVudChldmVudDogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzVmlzaWJsZSAmJiAvXlthLXpBLVpdJC8udGVzdChldmVudC5rZXkpICYmICFldmVudC5hbHRLZXkgJiYgIWV2ZW50LmN0cmxLZXkgJiYgIWV2ZW50Lm1ldGFLZXkgJiYgIWV2ZW50LnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyICs9IGV2ZW50LmtleTtcclxuICAgICAgICAgICAgdGhpcy5hcHBseUZpbHRlcigpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1Zpc2libGUgJiYgZXZlbnQua2V5ID09PSBLZXlib2FyZEtleXMuQmFja3NwYWNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyID0gdGhpcy5maWx0ZXIuc2xpY2UoMCwgLTEpO1xyXG4gICAgICAgICAgICB0aGlzLmFwcGx5RmlsdGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5RmlsdGVyKCkge1xyXG4gICAgICAgIHRoaXMuZHJvcGRvd25JdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS52YWx1ZSA9PSBcIlwiIHx8IGl0ZW0udmFsdWU/LnRvTG9jYWxlTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5maWx0ZXIudG9Mb2NhbGVMb3dlckNhc2UoKSkgfHwgaXRlbS50aXRsZT8udG9Mb2NhbGVMb3dlckNhc2UoKS5pbmNsdWRlcyh0aGlzLmZpbHRlci50b0xvY2FsZUxvd2VyQ2FzZSgpKSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5zaG93KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3coKTogdm9pZCB7XHJcblxyXG4gICAgICAgIHRoaXMuZmlsdGVyID0gXCJcIjtcclxuXHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS5sZWZ0ID0gXCIwXCI7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS5yaWdodCA9IFwiYXV0b1wiO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5kb2VzRWxlbWVudE92ZXJmbG93U2NyZWVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUubGVmdCA9IFwiYXV0b1wiO1xyXG4gICAgICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnN0eWxlLnJpZ2h0ID0gXCIwXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBhcmVudERyb3Bkb3duUGFyZW50QnV0dG9uPy5zdmdJY29uPy5zZXRVc2VUbyhcImljb24td29yZHByZXNzLWNoZXZyb24tdXBcIik7XHJcblxyXG4gICAgICAgIHRoaXMuYXBwbHlGaWx0ZXIoKTtcclxuICAgICAgICBzdXBlci5zaG93KCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhpZGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnREcm9wZG93blBhcmVudEJ1dHRvbj8uc3ZnSWNvbj8uc2V0VXNlVG8oXCJpY29uLXdvcmRwcmVzcy1jaGV2cm9uLWRvd25cIik7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50Rm9jdXNlZE1lbnVJdGVtPy52YWx1ZS5yZW1vdmVGb2N1cygpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEZvY3VzZWRNZW51SXRlbSA9IG51bGw7XHJcbiAgICAgICAgc3VwZXIuaGlkZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN3aXRjaFZpc3VhbEZvY3VzKGl0ZW06IEpOb2RlPElEcm9wZG93bk1lbnVJdGVtPik6IHZvaWQge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Rm9jdXNlZE1lbnVJdGVtID09IGl0ZW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEZvY3VzZWRNZW51SXRlbSkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRGb2N1c2VkTWVudUl0ZW0udmFsdWUucmVtb3ZlRm9jdXMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudEZvY3VzZWRNZW51SXRlbSA9IGl0ZW07XHJcbiAgICAgICAgdGhpcy5jdXJyZW50Rm9jdXNlZE1lbnVJdGVtLnZhbHVlLmZvY3VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmb2N1c05leHRWaXNpYmxlSXRlbSgpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgbGV0IG5leHRWaXNpYmxlSXRlbTogSk5vZGU8SURyb3Bkb3duTWVudUl0ZW0+IHwgbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEZvY3VzZWRNZW51SXRlbSkge1xyXG4gICAgICAgICAgICBuZXh0VmlzaWJsZUl0ZW0gPSB0aGlzLmN1cnJlbnRGb2N1c2VkTWVudUl0ZW0uZ2V0TmV4dFNhdGlzZnlpbmcoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSBpbnN0YW5jZW9mIERyb3Bkb3duTWVudUxpc3RJdGVtICYmIGl0ZW0uaXNWaXNpYmxlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuZXh0VmlzaWJsZUl0ZW0gPSB0aGlzLmRyb3Bkb3duSXRlbXMuZmluZEZpcnN0KGl0ZW0gPT4gaXRlbSBpbnN0YW5jZW9mIERyb3Bkb3duTWVudUxpc3RJdGVtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3dpdGNoVmlzdWFsRm9jdXMobmV4dFZpc2libGVJdGVtISk7XHJcbiAgICAgICAgbmV4dFZpc2libGVJdGVtPy52YWx1ZS5lbnN1cmVWaXNpYmxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9jdXNQcmV2aW91c1Zpc2libGVJdGVtKCk6IHZvaWQge1xyXG5cclxuICAgICAgICBsZXQgcHJldmlvdXNWaXNpYmxlSXRlbTogSk5vZGU8SURyb3Bkb3duTWVudUl0ZW0+IHwgbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEZvY3VzZWRNZW51SXRlbSkge1xyXG4gICAgICAgICAgICBwcmV2aW91c1Zpc2libGVJdGVtID0gdGhpcy5jdXJyZW50Rm9jdXNlZE1lbnVJdGVtLmdldFByZXZpb3VzU2F0aXNmeWluZyhpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtIGluc3RhbmNlb2YgRHJvcGRvd25NZW51TGlzdEl0ZW0gJiYgaXRlbS5pc1Zpc2libGU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzVmlzaWJsZUl0ZW0gPSB0aGlzLmRyb3Bkb3duSXRlbXMuZmluZEZpcnN0KGl0ZW0gPT4gaXRlbSBpbnN0YW5jZW9mIERyb3Bkb3duTWVudUxpc3RJdGVtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3dpdGNoVmlzdWFsRm9jdXMocHJldmlvdXNWaXNpYmxlSXRlbSEpO1xyXG4gICAgICAgIHByZXZpb3VzVmlzaWJsZUl0ZW0/LnZhbHVlLmVuc3VyZVZpc2libGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNsaWNrZWRPdXRzaWRlVGhlRHJvcGRvd25XaGlsZURyb3Bkb3duSXNWaXNpYmxlKGV2ZW50OiBNb3VzZUV2ZW50KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FuSGlkZVxyXG4gICAgICAgICAgICAmJiAhKGV2ZW50LnRhcmdldCEgYXMgSFRNTEVsZW1lbnQpLmNsb3Nlc3QoYCMke3RoaXMuaHRtbEVsZW1lbnQuaWR9YClcclxuICAgICAgICAgICAgJiYgIShldmVudC50YXJnZXQhIGFzIEhUTUxFbGVtZW50KS5jbG9zZXN0KGAjJHt0aGlzLnBhcmVudERyb3Bkb3duUGFyZW50QnV0dG9uPy5odG1sRWxlbWVudC5pZH1gKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGtleVByZXNzZWRPdXRzaWRlVGhlRHJvcGRvd25XaGlsZURyb3Bkb3duSXNWaXNpYmxlKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FuSGlkZVxyXG4gICAgICAgICAgICAmJiAhKGV2ZW50LnRhcmdldCEgYXMgSFRNTEVsZW1lbnQpLmNsb3Nlc3QoYCMke3RoaXMuaHRtbEVsZW1lbnQuaWR9YClcclxuICAgICAgICAvLyYmICEoZXZlbnQudGFyZ2V0ISBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdChgIyR7dGhpcy5wYXJlbnREcm9wZG93blBhcmVudEJ1dHRvbj8uaHRtbEVsZW1lbnQuaWR9YCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXRpYyBjcmVhdGUocHJlZml4SWQ6IHN0cmluZywgY2xhc3Nlc0tleTogc3RyaW5nW10gPSBbXSk6IERyb3Bkb3duTWVudUxpc3Qge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IERyb3Bkb3duTWVudUxpc3QocHJlZml4SWQgKyBVdGlscy5nZW5lcmF0ZVVuaXF1ZUlkKCkpO1xyXG4gICAgICAgIGluc3RhbmNlLmFkZENzc0NsYXNzKC4uLmNsYXNzZXNLZXkpO1xyXG5cclxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBCYXNlVUlDb21wb25lbnQgfSBmcm9tIFwiLi4vLi4vY29tbW9uL0Jhc2VVSUNvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZsb2F0aW5nVG9vbGJhclNlcGFyYXRvciBleHRlbmRzIEJhc2VVSUNvbXBvbmVudCB7XHJcblxyXG4gICAgaWQ6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIoe2lkOiBpZH0pO1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpOiBIVE1MRWxlbWVudCB7XHJcblxyXG4gICAgICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBodG1sRWxlbWVudC5pZCA9IHRoaXMucHJvcHMuaWQ7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIyNHB4XCI7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUud2lkdGggPSBcIjFweFwiO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLmJvcmRlclJpZ2h0ID0gXCIxcHggc29saWQgI2QwZDBkMFwiO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLm1hcmdpbiA9IFwiYXV0byA2cHhcIjtcclxuXHJcbiAgICAgICAgcmV0dXJuIGh0bWxFbGVtZW50O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQmFzZVVJQ29tcG9uZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9CYXNlVUlDb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdXR0b25Hcm91cCBleHRlbmRzIEJhc2VVSUNvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKHt9KTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk6IEhUTUxFbGVtZW50IHtcclxuXHJcbiAgICAgICAgY29uc3QgaHRtbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpdGVtXCIpO1xyXG4gICAgICAgIC8vIGh0bWxFbGVtZW50LnN0eWxlLm1hcmdpbkxlZnQgPSBcIjEwcHhcIjtcclxuICAgICAgICAvLyBodG1sRWxlbWVudC5zdHlsZS5tYXJnaW5SaWdodCA9IFwiMTBweFwiO1xyXG5cclxuICAgICAgICByZXR1cm4gaHRtbEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgU1ZHSWNvbiB9IGZyb20gXCIuLi8uLi9jb21tb24vU1ZHSWNvblwiO1xuaW1wb3J0IHsgQmFzZVVJQ29tcG9uZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9CYXNlVUlDb21wb25lbnRcIjtcbmltcG9ydCB7IEN1c3RvbUV2ZW50cyB9IGZyb20gXCJAL2NvbW1vbi9DdXN0b21FdmVudHNcIjtcbmltcG9ydCB7IElDb21tYW5kRXZlbnREZXRhaWwgfSBmcm9tIFwiQC9jb21tYW5kcy9JQ29tbWFuZEV2ZW50RGV0YWlsXCI7XG5pbXBvcnQgeyBDb21tYW5kcyB9IGZyb20gXCJAL2NvbW1hbmRzL0NvbW1hbmRzXCI7XG5pbXBvcnQgeyBDdXN0b21VSUV2ZW50cyB9IGZyb20gXCJAL2NvbW1vbi9DdXN0b21VSUV2ZW50c1wiO1xuaW1wb3J0IHsgSVVJRXZlbnREZXRhaWwgfSBmcm9tIFwiQC9jb21tYW5kcy9JVUlFdmVudERldGFpbFwiO1xuaW1wb3J0IHsgQ2hhbmdlQ29sb3IgfSBmcm9tIFwiQC9jb21tYW5kcy9VSUFjdGlvbnMvQ2hhbmdlQ29sb3JcIjtcbmltcG9ydCB7IERPTVV0aWxzIH0gZnJvbSBcIkAvdXRpbGl0aWVzL0RPTVV0aWxzXCI7XG5pbXBvcnQgeyBEZWZhdWx0SlNFdmVudHMgfSBmcm9tIFwiQC9jb21tb24vRGVmYXVsdEpTRXZlbnRzXCI7XG5cbmV4cG9ydCBjbGFzcyBCdXR0b25Hcm91cEl0ZW0gZXh0ZW5kcyBCYXNlVUlDb21wb25lbnQge1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb21tYW5kOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzaG93VUk6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSByZWFkb25seSBpY29uOiBTVkdJY29uO1xuXG4gICAgY29uc3RydWN0b3IoY29tbWFuZDogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCBpY29uOiBTVkdJY29uKSB7XG5cbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgaWNvbjogaWNvblxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNvbW1hbmQgPSBjb21tYW5kO1xuICAgICAgICB0aGlzLnNob3dVSSA9IGNvbW1hbmQgPT0gQ29tbWFuZHMudG9nZ2xlTGluaztcbiAgICAgICAgdGhpcy5pY29uID0gaWNvbjtcblxuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50cygpO1xuICAgIH1cblxuICAgIGluaXQoKTogSFRNTEVsZW1lbnQge1xuXG4gICAgICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblxuICAgICAgICBodG1sRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZW50cnlcIiwgXCJidXR0b24tcmVzZXRcIiwgXCJ0ZXh0LWZvcm1hdHRpbmctb3BlcmF0aW9uXCIsIFwib3B0aW9uLWhvdmVyXCIpO1xuICAgICAgICBodG1sRWxlbWVudC50aXRsZSA9IHRoaXMucHJvcHMudGl0bGU7XG4gICAgICAgIGh0bWxFbGVtZW50LnRhYkluZGV4ID0gMTtcblxuICAgICAgICBodG1sRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnByb3BzLmljb24uaHRtbEVsZW1lbnQpO1xuXG4gICAgICAgIHJldHVybiBodG1sRWxlbWVudDtcbiAgICB9XG5cbiAgICBhdHRhY2hFdmVudHMoKTogdm9pZCB7XG5cbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5DbGljaywgYXN5bmMgKGV2ZW50KSA9PiB7XG5cbiAgICAgICAgICAgIGNvbnN0IGJsb2NrID0gRE9NVXRpbHMuZmluZENsaWNrZWRFbGVtZW50T3JBbmNlc3RvckJ5Q2xhc3MoZXZlbnQsIFwiYmxvY2tcIik7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50PElDb21tYW5kRXZlbnREZXRhaWw+KEN1c3RvbUV2ZW50cy5lbWl0dGVkQ29tbWFuZCwge1xuICAgICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiB0aGlzLmNvbW1hbmQsXG4gICAgICAgICAgICAgICAgICAgIHNob3dVSTogdGhpcy5zaG93VUksXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrOiBibG9ja1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihDdXN0b21FdmVudHMudGV4dEZvcm1hdENoYW5nZWQsIChldmVudDogRXZlbnQpID0+IHtcblxuICAgICAgICAvLyAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBldmVudCBhcyBDdXN0b21FdmVudDxJRm9ybWF0Q29tbWFuZD47XG4gICAgICAgIC8vICAgICBjb25zdCBzdGF0ZXMgPSBjdXN0b21FdmVudC5kZXRhaWw7XG5cbiAgICAgICAgLy8gICAgIGlmIChzdGF0ZXNbdGhpcy5jb21tYW5kIGFzIGtleW9mIElGb3JtYXRDb21tYW5kXSkge1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuaWNvbi5jaGFuZ2VDb2xvcihDb2xvcnMuSWNvbkFjdGl2ZUJsdWUpO1xuICAgICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmljb24uY2hhbmdlQ29sb3IoQ29sb3JzLkljb25EZWZhdWx0QmxhY2spO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9KTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKEN1c3RvbVVJRXZlbnRzLkNvbG9yQ2hhbmdlUmVxdWVzdCwgKGV2ZW50OiBFdmVudCkgPT4ge1xuXG4gICAgICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IGV2ZW50IGFzIEN1c3RvbUV2ZW50PElVSUV2ZW50RGV0YWlsPjtcbiAgICAgICAgICAgIGNvbnN0IGRldGFpbHMgPSBjdXN0b21FdmVudC5kZXRhaWw7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlkID09IGRldGFpbHMudGFyZ2V0SWQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuaWNvbi5jaGFuZ2VDb2xvcigoZGV0YWlscy5hY3Rpb24gYXMgQ2hhbmdlQ29sb3IpLmNvbG9yKVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgKGRldGFpbHNbdGhpcy5jb21tYW5kIGFzIGtleW9mIElGb3JtYXRDb21tYW5kXSkge1xuICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmljb24uY2hhbmdlQ29sb3IoQ29sb3JzLkljb25BY3RpdmVCbHVlKTtcbiAgICAgICAgICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmljb24uY2hhbmdlQ29sb3IoQ29sb3JzLkljb25EZWZhdWx0QmxhY2spO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKEN1c3RvbVVJRXZlbnRzLkNvbG9yQ2hhbmdlUmVxdWVzdCwgKGV2ZW50OiBFdmVudCkgPT4ge1xuXG4gICAgICAgIC8vICAgICBjb25zdCBjdXN0b21FdmVudCA9IGV2ZW50IGFzIEN1c3RvbUV2ZW50PElVSUV2ZW50RGV0YWlsPjtcbiAgICAgICAgLy8gICAgIGNvbnN0IGRldGFpbHMgPSBjdXN0b21FdmVudC5kZXRhaWw7XG5cbiAgICAgICAgLy8gICAgIGlmKHRoaXMuaWQgPT0gZGV0YWlscy50YXJnZXRJZCl7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy5pY29uLmNoYW5nZUNvbG9yKChkZXRhaWxzLmFjdGlvbiBhcyBDaGFuZ2VDb2xvcikuY29sb3IpXG5cbiAgICAgICAgLy8gICAgICAgICAvLyBpZiAoZGV0YWlsc1t0aGlzLmNvbW1hbmQgYXMga2V5b2YgSUZvcm1hdENvbW1hbmRdKSB7XG4gICAgICAgIC8vICAgICAgICAgLy8gICAgIHRoaXMuaWNvbi5jaGFuZ2VDb2xvcihDb2xvcnMuSWNvbkFjdGl2ZUJsdWUpO1xuICAgICAgICAvLyAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICAgICAgLy8gICAgIHRoaXMuaWNvbi5jaGFuZ2VDb2xvcihDb2xvcnMuSWNvbkRlZmF1bHRCbGFjayk7XG4gICAgICAgIC8vICAgICAgICAgLy8gfVxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlKGNvbW1hbmQ6IHN0cmluZywgdGl0bGU6IHN0cmluZywgaWNvbjogU1ZHSWNvbik6IEJ1dHRvbkdyb3VwSXRlbSB7XG4gICAgICAgIHJldHVybiBuZXcgQnV0dG9uR3JvdXBJdGVtKGNvbW1hbmQsIHRpdGxlLCBpY29uKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZVVJQ29tcG9uZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9CYXNlVUlDb21wb25lbnRcIjs7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29sb3JJY29uIGV4dGVuZHMgQmFzZVVJQ29tcG9uZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb2xvcjogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIoe1xyXG4gICAgICAgICAgICBjb2xvcjogY29sb3JcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk6IEhUTUxFbGVtZW50IHtcclxuXHJcbiAgICAgICAgY29uc3QgaHRtbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cclxuICAgICAgICBodG1sRWxlbWVudC5zdHlsZS53aWR0aCA9IFwiMS4yNXJlbVwiO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLmhlaWdodCA9IFwiMS4yNXJlbVwiO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiNTAlXCI7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5wcm9wcy5jb2xvcjtcclxuICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCAjZDBkMGQwXCI7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUuYm94U2l6aW5nID0gXCJib3JkZXItYm94XCI7XHJcblxyXG4gICAgICAgIHJldHVybiBodG1sRWxlbWVudDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFNWR0ljb24gfSBmcm9tIFwiQC9jb21wb25lbnRzL2NvbW1vbi9TVkdJY29uXCI7XHJcbmltcG9ydCB7IEJhc2VVSUNvbXBvbmVudCB9IGZyb20gXCIuLi8uLi9jb21tb24vQmFzZVVJQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7IERyb3Bkb3duTWVudUxpc3QgfSBmcm9tIFwiLi9Ecm9wZG93bk1lbnVMaXN0XCI7XHJcbmltcG9ydCB7IElEcm9wZG93bk1lbnVJdGVtIH0gZnJvbSBcIi4vSURyb3Bkb3duTWVudUl0ZW1cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEcm9wZG93bk1lbnVMaXN0SXRlbVRpdGxlIGV4dGVuZHMgQmFzZVVJQ29tcG9uZW50IGltcGxlbWVudHMgSURyb3Bkb3duTWVudUl0ZW0ge1xyXG5cclxuXHJcbiAgICBwYXJlbnREcm9wZG93bk1lbnVMaXN0OiBEcm9wZG93bk1lbnVMaXN0O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudERyb3Bkb3duTWVudUxpc3Q6IERyb3Bkb3duTWVudUxpc3QsIHRpdGxlOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoe1xyXG4gICAgICAgICAgICB0aXRsZTogdGl0bGVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5wYXJlbnREcm9wZG93bk1lbnVMaXN0ID0gcGFyZW50RHJvcGRvd25NZW51TGlzdDtcclxuICAgIH1cclxuXHJcbiAgICB0aXRsZTogc3RyaW5nID0gXCJcIjtcclxuICAgIGFjdGl2ZUljb24/OiBTVkdJY29uIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIHZhbHVlOiBzdHJpbmcgfCBudWxsID0gXCJcIjtcclxuICAgIFxyXG4gICAgY2hhbmdlQWN0aXZlSWNvblRvVmlzaWJsZSgpOiB2b2lkIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBnZXRMZWZ0SWNvbkJhY2tncm91bmRDb2xvcigpOiBzdHJpbmcgfCBudWxsIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZXNldEFjdGl2ZUljb24oKTogdm9pZCB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBhdHRhY2hPbkxvc2VGb2N1cyhmdW5jOiAoKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGF0dGFjaE9uRm9jdXMoZnVuYzogKCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGVtaXRDb21tYW5kRXZlbnQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlRm9jdXMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgZm9jdXMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpOiBIVE1MRWxlbWVudCB7XHJcblxyXG4gICAgICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgICBodG1sRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibm8tbGlzdC1zdHlsZVwiKTtcclxuXHJcbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xyXG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9IHRoaXMucHJvcHMudGl0bGU7XHJcbiAgICAgICAgdGl0bGUuY2xhc3NMaXN0LmFkZChcIm5vLXNlbGVjdGlvblwiKTtcclxuXHJcbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG5cclxuICAgICAgICByZXR1cm4gaHRtbEVsZW1lbnQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb21tYW5kcyB9IGZyb20gXCJAL2NvbW1hbmRzL0NvbW1hbmRzXCI7XHJcbmltcG9ydCB7IENvbG9ycywgQ29sb3JzTmFtZXMgfSBmcm9tIFwiQC9jb21tb24vQ29sb3JzXCI7XHJcbmltcG9ydCB7IEljb25zIH0gZnJvbSBcIkAvY29tbW9uL0ljb25zXCI7XHJcbmltcG9ydCB7IFNpemVzIH0gZnJvbSBcIkAvY29tbW9uL1NpemVzXCI7XHJcbmltcG9ydCB7IEJsb2NrVG9vbGJveCB9IGZyb20gXCJAL2NvbXBvbmVudHMvYmxvY2stdG9vbGJveC9CbG9ja1Rvb2xib3hcIjtcclxuaW1wb3J0IHsgU1ZHSWNvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvY29tbW9uL1NWR0ljb25cIjtcclxuaW1wb3J0IHsgQnV0dG9uR3JvdXAgfSBmcm9tIFwiQC9jb21wb25lbnRzL2Zsb2F0aW5nLXRvb2xiYXIvYnV0dG9uLWdyb3VwL0J1dHRvbkdyb3VwXCI7XHJcbmltcG9ydCB7IEJ1dHRvbkdyb3VwSXRlbSB9IGZyb20gXCJAL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9idXR0b24tZ3JvdXAvQnV0dG9uR3JvdXBJdGVtXCI7XHJcbmltcG9ydCB7IENvbG9ySWNvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9kcm9wZG93bi10b29sL0NvbG9ySWNvblwiO1xyXG5pbXBvcnQgeyBEcm9wZG93bk1lbnUgfSBmcm9tIFwiQC9jb21wb25lbnRzL2Zsb2F0aW5nLXRvb2xiYXIvZHJvcGRvd24tdG9vbC9Ecm9wZG93bk1lbnVcIjtcclxuaW1wb3J0IHsgRHJvcGRvd25NZW51QnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy9mbG9hdGluZy10b29sYmFyL2Ryb3Bkb3duLXRvb2wvRHJvcGRvd25NZW51QnV0dG9uXCI7XHJcbmltcG9ydCB7IERyb3Bkb3duTWVudUxpc3QgfSBmcm9tIFwiQC9jb21wb25lbnRzL2Zsb2F0aW5nLXRvb2xiYXIvZHJvcGRvd24tdG9vbC9Ecm9wZG93bk1lbnVMaXN0XCI7XHJcbmltcG9ydCB7IERyb3Bkb3duTWVudUxpc3RJdGVtIH0gZnJvbSBcIkAvY29tcG9uZW50cy9mbG9hdGluZy10b29sYmFyL2Ryb3Bkb3duLXRvb2wvRHJvcGRvd25NZW51TGlzdEl0ZW1cIjtcclxuaW1wb3J0IHsgRHJvcGRvd25NZW51TGlzdEl0ZW1UaXRsZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9kcm9wZG93bi10b29sL0Ryb3Bkb3duTWVudUxpc3RJdGVtVGl0bGVcIjtcclxuaW1wb3J0IHsgRHJvcGRvd25JdGVtSURzIH0gZnJvbSBcIkAvY29yZS9Ecm9wZG93bkl0ZW1JRHNcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQC91dGlsaXRpZXMvVXRpbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCbG9ja1Rvb2xib3hCdWlsZGVyIHtcclxuXHJcbiAgICBzdGF0aWMgYWxpZ25Ub29sKCk6IEJ1dHRvbkdyb3VwIHtcclxuICAgICAgICBjb25zdCBncm91cEJ1dHRvbiA9IG5ldyBCdXR0b25Hcm91cCgpO1xyXG5cclxuICAgICAgICBCdXR0b25Hcm91cEl0ZW0uY3JlYXRlKENvbW1hbmRzLkp1c3RpZnlMZWZ0LCBcIkxlZnRcIiwgU1ZHSWNvbi5jcmVhdGUoSWNvbnMuSnVzdGlmeVN0YXJ0LCBTaXplcy5sYXJnZSkpLmFwcGVuZFRvKGdyb3VwQnV0dG9uKTtcclxuICAgICAgICBCdXR0b25Hcm91cEl0ZW0uY3JlYXRlKENvbW1hbmRzLkp1c3RpZnlDZW50ZXIsIFwiQ2VudGVyXCIsIFNWR0ljb24uY3JlYXRlKEljb25zLkp1c3RpZnlDZW50ZXIsIFNpemVzLmxhcmdlKSkuYXBwZW5kVG8oZ3JvdXBCdXR0b24pO1xyXG4gICAgICAgIEJ1dHRvbkdyb3VwSXRlbS5jcmVhdGUoQ29tbWFuZHMuSnVzdGlmeVJpZ2h0LCBcIlJpZ2h0XCIsIFNWR0ljb24uY3JlYXRlKEljb25zLkp1c3RpZnlFbmQsIFNpemVzLmxhcmdlKSkuYXBwZW5kVG8oZ3JvdXBCdXR0b24pO1xyXG5cclxuICAgICAgICByZXR1cm4gZ3JvdXBCdXR0b247XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNvbG9yVG9vbCgpOiBEcm9wZG93bk1lbnUge1xyXG5cclxuICAgICAgICBjb25zdCBjb2xvckRyb3Bkb3duTGlzdCA9IG5ldyBEcm9wZG93bk1lbnVMaXN0KFwiY29sb3JJbnRlcmFjdGl2ZU9wdGlvblNlbGVjdFwiICsgVXRpbHMuZ2VuZXJhdGVVbmlxdWVJZCgpKTtcclxuICAgICAgICBjb25zdCBjb2xvckJ1dHRvbiA9IG5ldyBEcm9wZG93bk1lbnVCdXR0b24oXCJjb2xvckludGVyYWN0aXZlQnV0dG9uXCIgKyBVdGlscy5nZW5lcmF0ZVVuaXF1ZUlkKCksIG5ldyBDb2xvckljb24oXCJ3aGl0ZVwiKS5odG1sRWxlbWVudCwgY29sb3JEcm9wZG93bkxpc3QpO1xyXG4gICAgICAgIGNvbG9yQnV0dG9uLmFkZENzc0NsYXNzKFwiY29sb3ItaW50ZXJhY3RpdmUtYnV0dG9uXCIpO1xyXG5cclxuICAgICAgICBjb25zdCBjb2xvckRyb3Bkb3duID0gbmV3IERyb3Bkb3duTWVudShcImNvbG9ySW50ZXJhY3Rpb25PcHRpb25zTWVudVwiICsgVXRpbHMuZ2VuZXJhdGVVbmlxdWVJZCgpLCBjb2xvckJ1dHRvbiwgY29sb3JEcm9wZG93bkxpc3QpO1xyXG5cclxuICAgICAgICBjb2xvckRyb3Bkb3duTGlzdC5hcHBlbmQobmV3IERyb3Bkb3duTWVudUxpc3RJdGVtVGl0bGUoY29sb3JEcm9wZG93bkxpc3QsIFwiQmFja2dyb3VuZFwiKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmRDb2xvclJlZCA9IG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbShEcm9wZG93bkl0ZW1JRHMuQmFja2dyb3VuZE9wdGlvblJlZCArIFV0aWxzLmdlbmVyYXRlVW5pcXVlSWQoKSwgY29sb3JEcm9wZG93bkxpc3QsIENvbW1hbmRzLmNoYW5nZUNhbGxvdXRCYWNrZ3JvdW5kQ29sb3IsIENvbG9yc05hbWVzLkNhbGxvdXRCYWNrZ3JvdW5kUmVkLCBuZXcgQ29sb3JJY29uKENvbG9ycy5IaWxpdGVDb2xvclJlZCkuaHRtbEVsZW1lbnQsIFwiUmVkXCIpO1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvclJlZC5hZGRDbGFzcyhcImJsb2NrLXRvb2xib3gtY29sb3JcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmRDb2xvckdyZWVuID0gbmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKERyb3Bkb3duSXRlbUlEcy5CYWNrZ3JvdW5kT3B0aW9uR3JlZW4gKyBVdGlscy5nZW5lcmF0ZVVuaXF1ZUlkKCksIGNvbG9yRHJvcGRvd25MaXN0LCBDb21tYW5kcy5jaGFuZ2VDYWxsb3V0QmFja2dyb3VuZENvbG9yLCBDb2xvcnNOYW1lcy5DYWxsb3V0QmFja2dyb3VuZEdyZWVuLCBuZXcgQ29sb3JJY29uKENvbG9ycy5IaWxpdGVDb2xvckdyZWVuKS5odG1sRWxlbWVudCwgXCJHcmVlblwiKTtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3JHcmVlbi5hZGRDbGFzcyhcImJsb2NrLXRvb2xib3gtY29sb3JcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmRDb2xvckJsdWUgPSBuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oRHJvcGRvd25JdGVtSURzLkJhY2tncm91bmRPcHRpb25CbHVlICsgVXRpbHMuZ2VuZXJhdGVVbmlxdWVJZCgpLCBjb2xvckRyb3Bkb3duTGlzdCwgQ29tbWFuZHMuY2hhbmdlQ2FsbG91dEJhY2tncm91bmRDb2xvciwgQ29sb3JzTmFtZXMuQ2FsbG91dEJhY2tncm91bmRCbHVlLCBuZXcgQ29sb3JJY29uKENvbG9ycy5IaWxpdGVDb2xvckJsdWUpLmh0bWxFbGVtZW50LCBcIkJsdWVcIik7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yQmx1ZS5hZGRDbGFzcyhcImJsb2NrLXRvb2xib3gtY29sb3JcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmRDb2xvclllbGxvdyA9IG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbShEcm9wZG93bkl0ZW1JRHMuQmFja2dyb3VuZE9wdGlvblllbGxvdyArIFV0aWxzLmdlbmVyYXRlVW5pcXVlSWQoKSwgY29sb3JEcm9wZG93bkxpc3QsIENvbW1hbmRzLmNoYW5nZUNhbGxvdXRCYWNrZ3JvdW5kQ29sb3IsIENvbG9yc05hbWVzLkNhbGxvdXRCYWNrZ3JvdW5kWWVsbG93LCBuZXcgQ29sb3JJY29uKENvbG9ycy5IaWxpdGVDb2xvclllbGxvdykuaHRtbEVsZW1lbnQsIFwiWWVsbG93XCIpO1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvclllbGxvdy5hZGRDbGFzcyhcImJsb2NrLXRvb2xib3gtY29sb3JcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmRDb2xvckdyZXkgPSBuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oRHJvcGRvd25JdGVtSURzLkJhY2tncm91bmRPcHRpb25HcmV5ICsgVXRpbHMuZ2VuZXJhdGVVbmlxdWVJZCgpLCBjb2xvckRyb3Bkb3duTGlzdCwgQ29tbWFuZHMuY2hhbmdlQ2FsbG91dEJhY2tncm91bmRDb2xvciwgQ29sb3JzTmFtZXMuQ2FsbG91dEJhY2tncm91bmRHcmV5LCBuZXcgQ29sb3JJY29uKENvbG9ycy5IaWxpdGVDb2xvckdyZXkpLmh0bWxFbGVtZW50LCBcIkdyZXlcIik7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yR3JleS5hZGRDbGFzcyhcImJsb2NrLXRvb2xib3gtY29sb3JcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmRDb2xvck5vbmUgPSBuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oRHJvcGRvd25JdGVtSURzLkJhY2tncm91bmRPcHRpb25Ob25lICsgVXRpbHMuZ2VuZXJhdGVVbmlxdWVJZCgpLCBjb2xvckRyb3Bkb3duTGlzdCwgQ29tbWFuZHMuY2hhbmdlQ2FsbG91dEJhY2tncm91bmRDb2xvciwgQ29sb3JzTmFtZXMuQ2FsbG91dEJhY2tncm91bmROb25lLCBuZXcgQ29sb3JJY29uKENvbG9ycy5IaWxpdGVDb2xvck5vbmUpLmh0bWxFbGVtZW50LCBcIk5vbmVcIik7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yTm9uZS5hZGRDbGFzcyhcImJsb2NrLXRvb2xib3gtY29sb3JcIik7XHJcblxyXG4gICAgICAgIGNvbG9yRHJvcGRvd25MaXN0LmFwcGVuZChiYWNrZ3JvdW5kQ29sb3JSZWQpO1xyXG4gICAgICAgIGNvbG9yRHJvcGRvd25MaXN0LmFwcGVuZChiYWNrZ3JvdW5kQ29sb3JHcmVlbik7XHJcbiAgICAgICAgY29sb3JEcm9wZG93bkxpc3QuYXBwZW5kKGJhY2tncm91bmRDb2xvckJsdWUpO1xyXG4gICAgICAgIGNvbG9yRHJvcGRvd25MaXN0LmFwcGVuZChiYWNrZ3JvdW5kQ29sb3JZZWxsb3cpO1xyXG4gICAgICAgIGNvbG9yRHJvcGRvd25MaXN0LmFwcGVuZChiYWNrZ3JvdW5kQ29sb3JHcmV5KTtcclxuICAgICAgICBjb2xvckRyb3Bkb3duTGlzdC5hcHBlbmQoYmFja2dyb3VuZENvbG9yTm9uZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjb2xvckRyb3Bkb3duO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBsYW5ndWFnZVNlbGVjdGlvblRvb2woKTogRHJvcGRvd25NZW51IHtcclxuXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ID0gRHJvcGRvd25NZW51TGlzdC5jcmVhdGUoXCJsYW5ndWFnZVNlbGVjdGlvbkludGVyYWN0aXZlT3B0aW9uU2VsZWN0XCIpO1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IERyb3Bkb3duTWVudUJ1dHRvbi5jcmVhdGUoXCJsYW5ndWFnZVNlbGVjdGlvbkludGVyYWN0aXZlQnV0dG9uXCIsIFwiUGxhaW4gVGV4dFwiLCBzZWxlY3QsIHRydWUsIFtcImNvZGUtYmxvY2stbGFuZ3VhZ2UtbWVudVwiLCBcImNvbG9yLWludGVyYWN0aXZlLWJ1dHRvblwiXSk7XHJcbiAgICAgICAgY29uc3QgbWVudSA9IERyb3Bkb3duTWVudS5jcmVhdGUoXCJsYW5ndWFnZVNlbGVjdGlvbkludGVyYWN0aW9uT3B0aW9uc01lbnVcIiwgYnV0dG9uLCBzZWxlY3QpO1xyXG5cclxuICAgICAgICBzZWxlY3QuYXBwZW5kKG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbVRpdGxlKHNlbGVjdCwgXCJMYW5ndWFnZVwiKSk7XHJcblxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKEJsb2NrVG9vbGJveC5sYW5ndWFnZU1hcCkuc29ydCgoYSwgYikgPT4gYVsxXS5sb2NhbGVDb21wYXJlKGJbMV0pKS5mb3JFYWNoKChbY29kZSwgbmFtZV0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXRlbSA9IG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbShcImxhbmd1YWdlU2VsZWN0aW9uSXRlbS1cIiArIFV0aWxzLmdlbmVyYXRlVW5pcXVlSWQoKSwgc2VsZWN0LCBDb21tYW5kcy5jaGFuZ2VDb2RlQmxvY2tMYW5ndWFnZSwgY29kZSwgbnVsbCwgbmFtZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXRlbS52YWx1ZSA9PSBcInBsYWludGV4dFwiKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmFjdGl2ZUljb24/LmNoYW5nZVZpc2liaWxpdHlUb1Zpc2libGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxlY3QuYXBwZW5kKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gbWVudTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZXh0cmFPcHRpb25zKCk6IERyb3Bkb3duTWVudSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGljb24gPSBuZXcgU1ZHSWNvbihcImljb24tbWF0ZXJpYWwtbW9yZVwiLCBTaXplcy5sYXJnZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxpc3QgPSBEcm9wZG93bk1lbnVMaXN0LmNyZWF0ZShcIm1vcmVJbnRlcmFjdGl2ZU9wdGlvblNlbGVjdFwiLCBbXCJtZWRpYS1tb3JlLW9wdGlvbi1zZWxlY3RcIl0pO1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IERyb3Bkb3duTWVudUJ1dHRvbi5jcmVhdGUoXCJtb3JlSW50ZXJhY3RpdmVPcHRpb25CdXR0b25cIiwgaWNvbi5odG1sRWxlbWVudCwgbGlzdCwgZmFsc2UsIFtcIm1vcmVNZWRpYU9wdGlvbnNCdXR0b25cIl0pO1xyXG4gICAgICAgIGNvbnN0IGRyb3Bkb3duID0gRHJvcGRvd25NZW51LmNyZWF0ZShcIm1vcmVJbnRlcmFjdGl2ZU9wdGlvbnNNZW51XCIsIGJ1dHRvbiwgbGlzdCk7XHJcblxyXG4gICAgICAgIGxpc3QuYXBwZW5kKG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbVRpdGxlKGxpc3QsIFwiTW9yZSBvcHRpb25zXCIpKTtcclxuICAgICAgICBsaXN0LmFwcGVuZChuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oXCJkdXBsaWNhdGVPcHRpb25cIiArIFV0aWxzLmdlbmVyYXRlVW5pcXVlSWQoKSwgbGlzdCwgQ29tbWFuZHMuZHVwbGljYXRlQmxvY2ssIG51bGwsIFNWR0ljb24uY3JlYXRlKEljb25zLkR1cGxpY2F0ZSwgU2l6ZXMubGFyZ2UpLmh0bWxFbGVtZW50LCBcIkNsb25lXCIsIFwiQ3RybCtEXCIpKTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGRlbGV0ZUl0ZW0gPSBuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oXCJkZWxldGVPcHRpb25cIiArIFV0aWxzLmdlbmVyYXRlVW5pcXVlSWQoKSwgbGlzdCwgQ29tbWFuZHMuZGVsZXRlQmxvY2ssIG51bGwsIFNWR0ljb24uY3JlYXRlKEljb25zLlRyYXNoLCBTaXplcy5sYXJnZSkuaHRtbEVsZW1lbnQsIFwiRGVsZXRlXCIsIFwiU2hpZnQrRGVsXCIpO1xyXG4gICAgICAgIGRlbGV0ZUl0ZW0uYWRkQ3NzQ2xhc3MoXCJkYW5nZXItb3B0aW9uXCIpO1xyXG5cclxuICAgICAgICBsaXN0LmFwcGVuZChkZWxldGVJdGVtKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRyb3Bkb3duO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSUJsb2NrVG9vbGJveCB9IGZyb20gXCIuL0lCbG9ja1Rvb2xib3hcIjtcbmltcG9ydCB7IERlZmF1bHRKU0V2ZW50cyB9IGZyb20gXCJAL2NvbW1vbi9EZWZhdWx0SlNFdmVudHNcIjtcbmltcG9ydCB7IFRvb2xib3hPcHRpb25zIH0gZnJvbSBcIi4vVG9vbGJveE9wdGlvbnNcIjtcbmltcG9ydCB7IEJsb2NrVG9vbGJveEJ1aWxkZXIgfSBmcm9tIFwiQC9idWlsZGVycy9CbG9ja1Rvb2xib3hCdWlsZGVyXCI7XG5pbXBvcnQgeyBET01FbGVtZW50cyB9IGZyb20gXCJAL2NvbW1vbi9ET01FbGVtZW50c1wiO1xuaW1wb3J0IHsgQ29tbW9uQ2xhc3NlcyB9IGZyb20gXCJAL2NvbW1vbi9Db21tb25DbGFzc2VzXCI7XG5pbXBvcnQgeyBET01VdGlscyB9IGZyb20gXCJAL3V0aWxpdGllcy9ET01VdGlsc1wiO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQC91dGlsaXRpZXMvVXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIEJsb2NrVG9vbGJveCBpbXBsZW1lbnRzIElCbG9ja1Rvb2xib3gge1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IEJsb2NrVG9vbGJveDtcblxuICAgIHN0YXRpYyBsYW5ndWFnZU1hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgICAgICAgLy8gXCIxY1wiOiBcIjFDXCIsXG4gICAgICAgIC8vIFwiYWJuZlwiOiBcIkFCTkZcIiwgXG4gICAgICAgIC8vIFwiYWNjZXNzbG9nXCI6IFwiQWNjZXNzIExvZ3NcIiwgXG4gICAgICAgIC8vIFwiYWN0aW9uc2NyaXB0XCI6IFwiQWN0aW9uU2NyaXB0XCIsIFxuICAgICAgICBcImFkYVwiOiBcIkFkYVwiLFxuICAgICAgICAvL1wiYW5nZWxzY3JpcHRcIjogXCJBbmdlbFNjcmlwdFwiLCBcbiAgICAgICAgXCJhcGFjaGVcIjogXCJBcGFjaGUgQ29uZmlnXCIsXG4gICAgICAgIFwiYXBwbGVzY3JpcHRcIjogXCJBcHBsZVNjcmlwdFwiLFxuICAgICAgICBcImFyZHVpbm9cIjogXCJBcmR1aW5vXCIsXG4gICAgICAgIC8vIFwiYXJtYXNtXCI6IFwiQVJNIEFzc2VtYmx5XCIsIFxuICAgICAgICBcImFzY2lpZG9jXCI6IFwiQXNjaWlEb2NcIixcbiAgICAgICAgLy8gXCJhc21cIjogXCJBc3NlbWJseVwiLCBcbiAgICAgICAgLy8gXCJhdXRvaG90a2V5XCI6IFwiQXV0b0hvdGtleVwiLCBcbiAgICAgICAgLy8gXCJhdXRvaXRcIjogXCJBdXRvSXRcIiwgXG4gICAgICAgIFwiYmFzaFwiOiBcIkJhc2hcIixcbiAgICAgICAgXCJiYXNpY1wiOiBcIkJBU0lDXCIsXG4gICAgICAgIFwiY1wiOiBcIkNcIixcbiAgICAgICAgXCJjc2hhcnBcIjogXCJDI1wiLFxuICAgICAgICBcImNwcFwiOiBcIkMrK1wiLFxuICAgICAgICBcImNzc1wiOiBcIkNTU1wiLFxuICAgICAgICAvLyBcImNsb2p1cmVcIjogXCJDbG9qdXJlXCIsIFxuICAgICAgICBcImNvZmZlZXNjcmlwdFwiOiBcIkNvZmZlZVNjcmlwdFwiLFxuICAgICAgICAvLyBcImRcIjogXCJEXCIsIFxuICAgICAgICBcImRhcnRcIjogXCJEYXJ0XCIsXG4gICAgICAgIC8vIFwiZGVscGhpXCI6IFwiRGVscGhpXCIsIFxuICAgICAgICAvLyBcImVsaXhpclwiOiBcIkVsaXhpclwiLCBcbiAgICAgICAgLy8gXCJlbG1cIjogXCJFbG1cIiwgXG4gICAgICAgIC8vIFwiZXJsYW5nXCI6IFwiRXJsYW5nXCIsIFxuICAgICAgICAvLyBcImZzaGFycFwiOiBcIkYjXCIsIFxuICAgICAgICAvLyBcImZvcnRyYW5cIjogXCJGb3J0cmFuXCIsIFxuICAgICAgICBcImdvXCI6IFwiR29cIixcbiAgICAgICAgLy8gXCJncm9vdnlcIjogXCJHcm9vdnlcIiwgXG4gICAgICAgIC8vIFwiaGFza2VsbFwiOiBcIkhhc2tlbGxcIiwgXG4gICAgICAgIFwiaHRtbFwiOiBcIkhUTUxcIixcbiAgICAgICAgXCJqYXZhXCI6IFwiSmF2YVwiLFxuICAgICAgICBcImphdmFzY3JpcHRcIjogXCJKYXZhU2NyaXB0XCIsXG4gICAgICAgIFwianNvblwiOiBcIkpTT05cIixcbiAgICAgICAgLy8gXCJqdWxpYVwiOiBcIkp1bGlhXCIsIFxuICAgICAgICAvLyBcImtvdGxpblwiOiBcIktvdGxpblwiLCBcbiAgICAgICAgLy8gXCJsYXRleFwiOiBcIkxhVGVYXCIsIFxuICAgICAgICAvLyBcImxpc3BcIjogXCJMaXNwXCIsIFxuICAgICAgICAvLyBcImx1YVwiOiBcIkx1YVwiLCBcbiAgICAgICAgXCJtYXJrZG93blwiOiBcIk1hcmtkb3duXCIsXG4gICAgICAgIC8vIFwibWF0bGFiXCI6IFwiTUFUTEFCXCIsIFxuICAgICAgICAvLyBcIm9iamVjdGl2ZS1jXCI6IFwiT2JqZWN0aXZlLUNcIiwgXG4gICAgICAgIFwicGVybFwiOiBcIlBlcmxcIixcbiAgICAgICAgXCJwaHBcIjogXCJQSFBcIixcbiAgICAgICAgXCJwbGFpbnRleHRcIjogXCJQbGFpbiBUZXh0XCIsXG4gICAgICAgIFwicHl0aG9uXCI6IFwiUHl0aG9uXCIsXG4gICAgICAgIC8vIFwiclwiOiBcIlJcIiwgXG4gICAgICAgIFwicnVieVwiOiBcIlJ1YnlcIixcbiAgICAgICAgLy8gXCJydXN0XCI6IFwiUnVzdFwiLCBcbiAgICAgICAgLy8gXCJzY2FsYVwiOiBcIlNjYWxhXCIsIFxuICAgICAgICAvLyBcInNjaGVtZVwiOiBcIlNjaGVtZVwiLCBcbiAgICAgICAgXCJzY3NzXCI6IFwiU0NTU1wiLFxuICAgICAgICBcInNoZWxsXCI6IFwiU2hlbGxcIixcbiAgICAgICAgXCJzcWxcIjogXCJTUUxcIixcbiAgICAgICAgLy8gXCJzd2lmdFwiOiBcIlN3aWZ0XCIsIFxuICAgICAgICBcInR5cGVzY3JpcHRcIjogXCJUeXBlU2NyaXB0XCIsXG4gICAgICAgIC8vIFwidmJuZXRcIjogXCJWaXN1YWwgQmFzaWMgLk5FVFwiLCBcbiAgICAgICAgLy8gXCJ2aGRsXCI6IFwiVkhETFwiLCBcbiAgICAgICAgXCJ4bWxcIjogXCJYTUxcIixcbiAgICAgICAgXCJ5YW1sXCI6IFwiWUFNTFwiXG4gICAgfTtcblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGlmIChCbG9ja1Rvb2xib3guaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZSBCbG9ja1Rvb2xib3guZ2V0SW5zdGFuY2UoKSB0byBnZXQgaW5zdGFuY2UuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hdHRhY2hFdmVudHMoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogQmxvY2tUb29sYm94IHtcbiAgICAgICAgaWYgKCFCbG9ja1Rvb2xib3guaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIEJsb2NrVG9vbGJveC5pbnN0YW5jZSA9IG5ldyBCbG9ja1Rvb2xib3goKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQmxvY2tUb29sYm94Lmluc3RhbmNlO1xuICAgIH1cblxuICAgIGxpc3RlbigpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJMaXN0ZW5pbmcgYmxvY2sgdG9vbGJveGVzLi4uXCIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXR0YWNoRXZlbnRzKCk6IHZvaWQge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5Nb3VzZW92ZXIsIHRoaXMuaW5zZXJ0VG9vbGJveEludG9CbG9ja09uY2UuYmluZCh0aGlzKSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLkZvY3VzaW4sIHRoaXMuaGFuZGxlVGFibGVCZWhhdmlvckZvY3VzSW4uYmluZCh0aGlzKSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLkZvY3Vzb3V0LCB0aGlzLmhhbmRsZVRhYmxlQmVoYXZpb3JGb2N1c091dC5iaW5kKHRoaXMpKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihEZWZhdWx0SlNFdmVudHMuQ2xpY2ssIHRoaXMuaGFuZGxlQ2xpY2tFdmVudC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUNsaWNrRXZlbnQoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICBpZiAodGFyZ2V0RWxlbWVudC5jbG9zZXN0KERPTUVsZW1lbnRzLlRBQkxFKSkge1xuICAgICAgICAgICAgdGhpcy50b29sYm94VmlzaWJpbGl0eUNvbnRyb2xsZXIodGFyZ2V0RWxlbWVudCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBIYW5kbGVzIGZvY3VzIGluIGV2ZW50cyB3aXRoaW4gYSB0YWJsZS4gSWYgdGhlIGZvY3VzIGlzIHdpdGhpbiBhIHRhYmxlIGVsZW1lbnQsXG4gICAgKiBpdCB0cmlnZ2VycyB0aGUgdG9vbGJveCB2aXNpYmlsaXR5IGNvbnRyb2xsZXIgdG8gcG90ZW50aWFsbHkgaGlkZSB0aGUgdG9vbGJveC5cbiAgICAqIFRoaXMgaXMgZGVzaWduZWQgdG8gcHJldmVudCB0aGUgdG9vbGJveCBmcm9tIGludGVyZmVyaW5nIHdpdGggdGFibGUgaW50ZXJhY3Rpb25zLlxuICAgICpcbiAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZXZlbnQgLSBUaGUgZm9jdXMgZXZlbnQgdHJpZ2dlcmVkIHdoZW4gYW4gZWxlbWVudCB3aXRoaW4gdGhlIHRhYmxlIGdhaW5zIGZvY3VzLlxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIHByaXZhdGUgaGFuZGxlVGFibGVCZWhhdmlvckZvY3VzSW4oZXZlbnQ6IEZvY3VzRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKHRhcmdldEVsZW1lbnQuY2xvc2VzdChET01FbGVtZW50cy5UQUJMRSkpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbGJveFZpc2liaWxpdHlDb250cm9sbGVyKHRhcmdldEVsZW1lbnQsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBmb2N1cyBvdXQgZXZlbnRzIHdpdGhpbiBhIHRhYmxlLiBJZiB0aGUgZm9jdXMgbW92ZXMgb3V0IG9mIGEgdGFibGUgZWxlbWVudCxcbiAgICAgKiBpdCB0cmlnZ2VycyB0aGUgdG9vbGJveCB2aXNpYmlsaXR5IGNvbnRyb2xsZXIgdG8gcG90ZW50aWFsbHkgc2hvdyB0aGUgdG9vbGJveC5cbiAgICAgKiBUaGlzIGhlbHBzIGluIGVuc3VyaW5nIHRoYXQgdGhlIHRvb2xib3ggaXMgYXZhaWxhYmxlIGZvciB1c2Ugd2hlbiB0aGUgdGFibGUgaXMgbm90IGFjdGl2ZWx5IGZvY3VzZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGV2ZW50IC0gVGhlIGZvY3VzIGV2ZW50IHRyaWdnZXJlZCB3aGVuIGFuIGVsZW1lbnQgd2l0aGluIHRoZSB0YWJsZSBsb3NlcyBmb2N1cy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgcHJpdmF0ZSBoYW5kbGVUYWJsZUJlaGF2aW9yRm9jdXNPdXQoZXZlbnQ6IEZvY3VzRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKHRhcmdldEVsZW1lbnQuY2xvc2VzdChET01FbGVtZW50cy5UQUJMRSkpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbGJveFZpc2liaWxpdHlDb250cm9sbGVyKHRhcmdldEVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdG9vbGJveFZpc2liaWxpdHlDb250cm9sbGVyKGNlbGw6IEhUTUxFbGVtZW50LCBmb3JjZUhpZGVFbGVtZW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGJsb2NrID0gY2VsbC5jbG9zZXN0KCcuYmxvY2snKTtcbiAgICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zV3JhcHBlciA9IGJsb2NrLnF1ZXJ5U2VsZWN0b3IoJy5ibG9jay10b29sYmFyJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAob3B0aW9uc1dyYXBwZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZm9yY2VIaWRlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zV3JhcHBlci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zV3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbnNlcnRUb29sYm94SW50b0Jsb2NrT25jZShldmVudDogTW91c2VFdmVudCkge1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IChldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmNsb3Nlc3QoYC4ke1Rvb2xib3hPcHRpb25zLkluY2x1ZGVCbG9ja1Rvb2xiYXJDbGFzc31gKTtcblxuICAgICAgICBpZiAoIWNvbnRlbnQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBibG9jayA9IGNvbnRlbnQuY2xvc2VzdChcIi5ibG9ja1wiKTtcblxuICAgICAgICBpZiAoIWJsb2NrKSByZXR1cm47XG5cbiAgICAgICAgbGV0IG9wdGlvbnNCdXR0b25FeGlzdHMgPSBibG9jay5xdWVyeVNlbGVjdG9yKCcuYmxvY2stdG9vbGJhci13cmFwcGVyJykgIT09IG51bGw7XG4gICAgICAgIGlmICghb3B0aW9uc0J1dHRvbkV4aXN0cykge1xuXG4gICAgICAgICAgICBjb25zdCBpbmNsdWRlTGFuZ3VhZ2VTZWxlY3Rpb25Ub29sID0gY29udGVudC5jbGFzc0xpc3QuY29udGFpbnMoVG9vbGJveE9wdGlvbnMuTGFuZ3VhZ2VTZWxlY3Rpb25Ub29sQ2xhc3MpO1xuICAgICAgICAgICAgY29uc3QgaW5jbHVkZUFsaWduVG9vbCA9IGNvbnRlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFRvb2xib3hPcHRpb25zLkFsaWduVG9vbENsYXNzKTtcbiAgICAgICAgICAgIGNvbnN0IGluY2x1ZGVDb2xvclRvb2wgPSBjb250ZW50LmNsYXNzTGlzdC5jb250YWlucyhUb29sYm94T3B0aW9ucy5Db2xvclRvb2xDbGFzcyk7XG4gICAgICAgICAgICBjb25zdCBpbmNsdWRlRXh0cmFPcHRpb25zID0gY29udGVudC5jbGFzc0xpc3QuY29udGFpbnMoVG9vbGJveE9wdGlvbnMuRXh0cmFPcHRpb25zQ2xhc3MpO1xuXG4gICAgICAgICAgICBjb25zdCB0b29sYm94V3JhcHBlciA9IEJsb2NrVG9vbGJveC5jcmVhdGVUb29sYm94KGluY2x1ZGVMYW5ndWFnZVNlbGVjdGlvblRvb2wsIGluY2x1ZGVBbGlnblRvb2wsIGluY2x1ZGVDb2xvclRvb2wsIGluY2x1ZGVFeHRyYU9wdGlvbnMpO1xuXG4gICAgICAgICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgICAgICAgICBibG9jay5hcHBlbmRDaGlsZCh0b29sYm94V3JhcHBlcik7XG4gICAgICAgICAgICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcihEZWZhdWx0SlNFdmVudHMuTW91c2VlbnRlciwgKGV2ZW50KSA9PiB0aGlzLnJlc2V0VG9vbGJveChldmVudCwgYmxvY2sgYXMgSFRNTEVsZW1lbnQpKTtcblxuICAgICAgICAgICAgICAgIGJsb2NrLmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLk1vdXNlbW92ZSwgKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9ja1Rvb2xiYXJJZCA9ICh0b29sYm94V3JhcHBlci5maXJzdENoaWxkIGFzIEhUTUxFbGVtZW50KT8uaWQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xiYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChibG9ja1Rvb2xiYXJJZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2xiYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9jay5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sYmFyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcblxuXG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGVCbG9ja1Rvb2xib3godG9vbGJveFdyYXBwZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBibG9jay5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5Nb3VzZWxlYXZlLCAoKSA9PiB0aGlzLmhpZGVCbG9ja1Rvb2xib3godG9vbGJveFdyYXBwZXIpKTtcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLkNsaWNrLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFET01VdGlscy5pc1RhcmdldERlc2NlbmRhbnRPZlNlbGVjdG9yKGV2ZW50LCBgIyR7YmxvY2suaWR9YCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZUJsb2NrVG9vbGJveCh0b29sYm94V3JhcHBlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICAgICAgY29uc3QgaWZyYW1lcyA9IGJsb2NrLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpZnJhbWVcIik7XG4gICAgICAgICAgICAgICAgaWZyYW1lcy5mb3JFYWNoKGlmcmFtZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5Nb3VzZWVudGVyLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9ja1Rvb2xiYXJJZCA9ICh0b29sYm94V3JhcHBlci5maXJzdENoaWxkIGFzIEhUTUxFbGVtZW50KT8uaWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xiYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChibG9ja1Rvb2xiYXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9vbGJhcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlVG9vbGJhckNvbG9yKGJsb2NrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLk1vdXNlbGVhdmUsICgpID0+IHRoaXMuaGlkZUJsb2NrVG9vbGJveCh0b29sYm94V3JhcHBlcikpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG5cblxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGNoYW5nZVRvb2xiYXJDb2xvcihibG9jazogRWxlbWVudCkge1xuICAgICAgICBjb25zdCBjb2xvckludGVyYWN0aXZlQnV0dG9uID0gYmxvY2sucXVlcnlTZWxlY3RvcihcIi5jb2xvci1pbnRlcmFjdGl2ZS1idXR0b24gZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBjb25zdCBjYWxsb3V0V3JhcHBlciA9IGJsb2NrLnF1ZXJ5U2VsZWN0b3IoXCIuY2FsbG91dC13cmFwcGVyXCIpO1xuXG4gICAgICAgIGlmIChjb2xvckludGVyYWN0aXZlQnV0dG9uICYmIGNhbGxvdXRXcmFwcGVyKSB7XG5cbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNhbGxvdXRXcmFwcGVyKTtcblxuICAgICAgICAgICAgY29sb3JJbnRlcmFjdGl2ZUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBzdHlsZS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgICBjb2xvckludGVyYWN0aXZlQnV0dG9uLnN0eWxlLmJvcmRlckNvbG9yID0gc3R5bGUuYm9yZGVyQ29sb3I7XG4gICAgICAgICAgICBjb2xvckludGVyYWN0aXZlQnV0dG9uLnN0eWxlLmJvcmRlckNvbG9yID0gXCIjY2NjXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoaWRlQmxvY2tUb29sYm94KHRvb2xib3hXcmFwcGVyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCBibG9ja1Rvb2xiYXJJZCA9ICh0b29sYm94V3JhcHBlci5maXJzdENoaWxkIGFzIEhUTUxFbGVtZW50KT8uaWQ7XG4gICAgICAgIGNvbnN0IHRvb2xiYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChibG9ja1Rvb2xiYXJJZCk7XG4gICAgICAgIGlmICh0b29sYmFyKSB7XG5cbiAgICAgICAgICAgIGlmICghQmxvY2tUb29sYm94LmlzQW55RGVwZW5kZW50Qm94VmlzaWJsZSh0b29sYmFyKSkge1xuICAgICAgICAgICAgICAgIHRvb2xiYXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGlzQW55RGVwZW5kZW50Qm94VmlzaWJsZShodG1sRWxlbWVudDogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgZGVwZW5kZW50Qm94ZXMgPSBodG1sRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRlcGVuZGVudC1ib3hcIik7XG5cbiAgICAgICAgZm9yIChjb25zdCBib3ggb2YgZGVwZW5kZW50Qm94ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoYm94KTtcblxuICAgICAgICAgICAgaWYgKHN0eWxlLmRpc3BsYXkgIT09ICdub25lJyAmJiBzdHlsZS52aXNpYmlsaXR5ICE9PSAnaGlkZGVuJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJlc2V0VG9vbGJveChldmVudDogRXZlbnQsIGJsb2NrOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCBibG9ja1Rvb2xiYXIgPSBibG9jay5xdWVyeVNlbGVjdG9yKFwiLmJsb2NrLXRvb2xiYXJcIik7XG5cbiAgICAgICAgaWYgKCFibG9ja1Rvb2xiYXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYmxvY2stdG9vbGJhciBub3QgZm91bmRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtb3JlID0gYmxvY2tUb29sYmFyLnF1ZXJ5U2VsZWN0b3IoXCIubWVkaWEtbW9yZS1vcHRpb24tc2VsZWN0XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBpZiAobW9yZSkge1xuICAgICAgICAgICAgbW9yZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb2xvciA9IGJsb2NrVG9vbGJhci5xdWVyeVNlbGVjdG9yKFwiLmNvbG9yLWludGVyYWN0aXZlLXNlbGVjdFwiKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKGNvbG9yKSB7XG4gICAgICAgICAgICBjb2xvci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoYW5nZVRvb2xiYXJDb2xvcihibG9jayk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZVRvb2xib3goaW5jbHVkZUxhbmd1YWdlU2VsZWN0aW9uVG9vbCA9IGZhbHNlLCBpbmNsdWRlQWxpZ25Ub29sID0gZmFsc2UsIGluY2x1ZGVDb2xvclRvb2wgPSBmYWxzZSwgaW5jbHVkZUV4dHJhT3B0aW9ucyA9IGZhbHNlKTogSFRNTEVsZW1lbnQge1xuXG4gICAgICAgIGNvbnN0IGh0bWxFbGVtZW50V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgICAgaHRtbEVsZW1lbnRXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJibG9jay10b29sYmFyLXdyYXBwZXJcIiwgXCJleGNsdWRlLWZyb20tY2xvbmVcIiwgQ29tbW9uQ2xhc3Nlcy5FZGl0b3JPbmx5KTtcbiAgICAgICAgaHRtbEVsZW1lbnRXcmFwcGVyLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuXG4gICAgICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaHRtbEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImJsb2NrLXRvb2xiYXJcIiwgXCJzb2Z0LWJveC1zaGFkb3dcIik7XG4gICAgICAgIGh0bWxFbGVtZW50LmlkID0gYGJ0Yi0ke1V0aWxzLmdlbmVyYXRlVW5pcXVlSWQoKX1gO1xuXG4gICAgICAgIGh0bWxFbGVtZW50V3JhcHBlci5hcHBlbmRDaGlsZChodG1sRWxlbWVudCk7XG5cbiAgICAgICAgaWYgKGluY2x1ZGVMYW5ndWFnZVNlbGVjdGlvblRvb2wpIHtcbiAgICAgICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZENoaWxkKEJsb2NrVG9vbGJveEJ1aWxkZXIubGFuZ3VhZ2VTZWxlY3Rpb25Ub29sKCkuaHRtbEVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluY2x1ZGVBbGlnblRvb2wpIHtcbiAgICAgICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZENoaWxkKEJsb2NrVG9vbGJveEJ1aWxkZXIuYWxpZ25Ub29sKCkuaHRtbEVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluY2x1ZGVDb2xvclRvb2wpIHtcbiAgICAgICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZENoaWxkKEJsb2NrVG9vbGJveEJ1aWxkZXIuY29sb3JUb29sKCkuaHRtbEVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluY2x1ZGVFeHRyYU9wdGlvbnMpIHtcbiAgICAgICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZENoaWxkKEJsb2NrVG9vbGJveEJ1aWxkZXIuZXh0cmFPcHRpb25zKCkuaHRtbEVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGh0bWxFbGVtZW50V3JhcHBlcjtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBTVkdJY29uIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9TVkdJY29uXCI7XHJcbmltcG9ydCB7IEJhc2VVSUNvbXBvbmVudCB9IGZyb20gXCIuLi8uLi9jb21tb24vQmFzZVVJQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7IERyb3Bkb3duTWVudUxpc3QgfSBmcm9tIFwiLi9Ecm9wZG93bk1lbnVMaXN0XCI7XHJcbmltcG9ydCB7IFNpemVzIH0gZnJvbSBcIkAvY29tbW9uL1NpemVzXCI7XHJcbmltcG9ydCB7IEN1c3RvbVVJRXZlbnRzIH0gZnJvbSBcIkAvY29tbW9uL0N1c3RvbVVJRXZlbnRzXCI7XHJcbmltcG9ydCB7IElVSUV2ZW50RGV0YWlsIH0gZnJvbSBcIkAvY29tbWFuZHMvSVVJRXZlbnREZXRhaWxcIjtcclxuaW1wb3J0IHsgQ2hhbmdlQmxvY2tUb29sYmFyTGFuZ3VhZ2UgfSBmcm9tIFwiQC9jb21tYW5kcy9VSUFjdGlvbnMvQ2hhbmdlQmxvY2tUb29sYmFyTGFuZ3VhZ2VcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQC91dGlsaXRpZXMvVXRpbHNcIjtcclxuaW1wb3J0IHsgQmxvY2tUb29sYm94IH0gZnJvbSBcIkAvY29tcG9uZW50cy9ibG9jay10b29sYm94L0Jsb2NrVG9vbGJveFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERyb3Bkb3duTWVudUJ1dHRvbiBleHRlbmRzIEJhc2VVSUNvbXBvbmVudCB7XHJcblxyXG4gICAgZHJvcGRvd25MaXN0OiBEcm9wZG93bk1lbnVMaXN0O1xyXG4gICAgc3ZnSWNvbj86IFNWR0ljb247XHJcblxyXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZyB8IEhUTUxFbGVtZW50LCBkcm9wZG93bkxpc3Q6IERyb3Bkb3duTWVudUxpc3QsIGluY2x1ZGVDaGV2cm9uSWNvbjogYm9vbGVhbiA9IHRydWUpIHtcclxuXHJcbiAgICAgICAgY29uc3Qgc3ZnSWNvbiA9IG5ldyBTVkdJY29uKFwiaWNvbi13b3JkcHJlc3MtY2hldnJvbi1kb3duXCIsIFNpemVzLm1lZGl1bSk7XHJcblxyXG4gICAgICAgIHN1cGVyKHtcclxuICAgICAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgICAgIGRyb3Bkb3duTGlzdDogZHJvcGRvd25MaXN0LFxyXG4gICAgICAgICAgICBzdmdJY29uOiBpbmNsdWRlQ2hldnJvbkljb24gPyBzdmdJY29uIDogbnVsbFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmRyb3Bkb3duTGlzdCA9IGRyb3Bkb3duTGlzdDtcclxuICAgICAgICB0aGlzLnN2Z0ljb24gPSBzdmdJY29uO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50cygpO1xyXG5cclxuICAgICAgICBkcm9wZG93bkxpc3Quc2V0UGFyZW50RHJvcGRvd25NZW51QnV0dG9uKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKTogSFRNTEVsZW1lbnQge1xyXG5cclxuICAgICAgICBjb25zdCBodG1sRWxlbWVudDogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICBodG1sRWxlbWVudC5pZCA9IHRoaXMucHJvcHMuaWQ7XHJcbiAgICAgICAgLy8gaHRtbEVsZW1lbnQudGl0bGUgPSB0aGlzLnByb3BzLnRpdGxlXHJcbiAgICAgICAgaHRtbEVsZW1lbnQucm9sZSA9IFwiYnV0dG9uXCI7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImJ1dHRvbi1yZXNldFwiLCBcInRleHQtZm9ybWF0dGluZy1zZWxlY3QtYnV0dG9uXCIsIFwidGV4dC1mb3JtYXR0aW5nLW9wZXJhdGlvblwiLCBcIm9wdGlvbi1ob3ZlclwiLCBcInBvaW50ZXJcIik7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQudGFiSW5kZXggPSAxO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtY29udHJvbHNcIiwgdGhpcy5wcm9wcy5kcm9wZG93bkxpc3QuaHRtbEVsZW1lbnQuaWQpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMudGl0bGUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKFwibm8tc2VsZWN0aW9uXCIpO1xyXG4gICAgICAgICAgICBzcGFuLnRleHRDb250ZW50ID0gdGhpcy5wcm9wcy50aXRsZTtcclxuICAgICAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQoc3Bhbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5wcm9wcy50aXRsZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5zdmdJY29uKSB7XHJcbiAgICAgICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMucHJvcHMuc3ZnSWNvbi5odG1sRWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaHRtbEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNoRXZlbnRzKCk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5kcm9wZG93bkxpc3QuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyb3Bkb3duTGlzdC5zaG93KCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcm9wZG93bkxpc3QuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoQ3VzdG9tVUlFdmVudHMuQ2hhbmdlQmxvY2tUb29sYmFyTGFuZ3VhZ2UsIHRoaXMuaGFuZGxlQ2hhbmdlQmxvY2tUb29sYmFyTGFuZ3VhZ2VFdmVudC5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDaGFuZ2VCbG9ja1Rvb2xiYXJMYW5ndWFnZUV2ZW50KGV2ZW50OiBFdmVudCkge1xyXG4gICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gZXZlbnQgYXMgQ3VzdG9tRXZlbnQ8SVVJRXZlbnREZXRhaWw+O1xyXG4gICAgICAgIGNvbnN0IGRldGFpbHMgPSBjdXN0b21FdmVudC5kZXRhaWw7XHJcblxyXG4gICAgICAgIGlmIChkZXRhaWxzLnRhcmdldENsYXNzICYmIHRoaXMuY2xhc3NMaXN0LmluY2x1ZGVzKGRldGFpbHMudGFyZ2V0Q2xhc3MpKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBldmVudFZhbHVlcyA9IChkZXRhaWxzLmFjdGlvbiBhcyBDaGFuZ2VCbG9ja1Rvb2xiYXJMYW5ndWFnZSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBibG9jayA9IHRoaXMuaHRtbEVsZW1lbnQuY2xvc2VzdChgIyR7ZXZlbnRWYWx1ZXMuYmxvY2tJZH1gKTtcclxuXHJcbiAgICAgICAgICAgIGlmKGJsb2NrKXtcclxuICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VUaXRsZShCbG9ja1Rvb2xib3gubGFuZ3VhZ2VNYXBbZXZlbnRWYWx1ZXMubGFuZ3VhZ2VdKTtcclxuICAgICAgICAgICAgICAgdGhpcy5kcm9wZG93bkxpc3QuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXQgZGlzcGxheSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnYmxvY2snO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZVRpdGxlKHZhbHVlOiBzdHJpbmcpe1xyXG4gICAgICAgIGNvbnN0IHNwYW4gPSB0aGlzLmh0bWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJzcGFuXCIpO1xyXG4gICAgICAgIGlmKHNwYW4pe1xyXG4gICAgICAgICAgICBzcGFuLnRleHRDb250ZW50ID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjcmVhdGUocHJlZml4SWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZyB8IEhUTUxFbGVtZW50LCBsaXN0OiBEcm9wZG93bk1lbnVMaXN0LCBpbmNsdWRlQ2hldnJvbkljb24/OiBib29sZWFuLCBjbGFzc2VzS2V5OiBzdHJpbmdbXSA9IFtdKTogRHJvcGRvd25NZW51QnV0dG9uIHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBEcm9wZG93bk1lbnVCdXR0b24ocHJlZml4SWQgKyBVdGlscy5nZW5lcmF0ZVVuaXF1ZUlkKCksIHRpdGxlLCBsaXN0LCBpbmNsdWRlQ2hldnJvbkljb24pO1xyXG4gICAgICAgIGluc3RhbmNlLmFkZENzc0NsYXNzKC4uLmNsYXNzZXNLZXkpO1xyXG5cclxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBEcm9wZG93bk1lbnUgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9mbG9hdGluZy10b29sYmFyL2Ryb3Bkb3duLXRvb2wvRHJvcGRvd25NZW51XCI7XHJcbmltcG9ydCB7IERyb3Bkb3duTWVudUxpc3QgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9mbG9hdGluZy10b29sYmFyL2Ryb3Bkb3duLXRvb2wvRHJvcGRvd25NZW51TGlzdFwiO1xyXG5pbXBvcnQgeyBEcm9wZG93bk1lbnVMaXN0SXRlbSB9IGZyb20gXCIuLi9jb21wb25lbnRzL2Zsb2F0aW5nLXRvb2xiYXIvZHJvcGRvd24tdG9vbC9Ecm9wZG93bk1lbnVMaXN0SXRlbVwiO1xyXG5pbXBvcnQgeyBTVkdJY29uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29tbW9uL1NWR0ljb25cIjtcclxuaW1wb3J0IHsgRmxvYXRpbmdUb29sYmFyU2VwYXJhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9zZXBhcmF0b3IvRmxvYXRpbmdUb29sYmFyU2VwYXJhdG9yXCI7XHJcbmltcG9ydCB7IEJ1dHRvbkdyb3VwIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9idXR0b24tZ3JvdXAvQnV0dG9uR3JvdXBcIjtcclxuaW1wb3J0IHsgQnV0dG9uR3JvdXBJdGVtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9idXR0b24tZ3JvdXAvQnV0dG9uR3JvdXBJdGVtXCI7XHJcbmltcG9ydCB7IENvbG9ySWNvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL2Zsb2F0aW5nLXRvb2xiYXIvZHJvcGRvd24tdG9vbC9Db2xvckljb25cIjtcclxuaW1wb3J0IHsgRHJvcGRvd25NZW51QnV0dG9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9kcm9wZG93bi10b29sL0Ryb3Bkb3duTWVudUJ1dHRvblwiO1xyXG5pbXBvcnQgeyBCbG9ja09wZXJhdGlvbnNTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2Jsb2NrLW9wZXJhdGlvbnMvQmxvY2tPcGVyYXRpb25zU2VydmljZVwiO1xyXG5pbXBvcnQgeyBEcm9wZG93bk1lbnVMaXN0SXRlbVRpdGxlIH0gZnJvbSBcIkAvY29tcG9uZW50cy9mbG9hdGluZy10b29sYmFyL2Ryb3Bkb3duLXRvb2wvRHJvcGRvd25NZW51TGlzdEl0ZW1UaXRsZVwiO1xyXG5pbXBvcnQgeyBFbGVtZW50RmFjdG9yeVNlcnZpY2UgfSBmcm9tIFwiQC9zZXJ2aWNlcy9lbGVtZW50LWZhY3RvcnkvRWxlbWVudEZhY3RvcnlTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvbW1hbmRzIH0gZnJvbSBcIkAvY29tbWFuZHMvQ29tbWFuZHNcIjtcclxuaW1wb3J0IHsgSWNvbnMgfSBmcm9tIFwiQC9jb21tb24vSWNvbnNcIjtcclxuaW1wb3J0IHsgU2l6ZXMgfSBmcm9tIFwiQC9jb21tb24vU2l6ZXNcIjtcclxuaW1wb3J0IHsgQ29sb3JzIH0gZnJvbSBcIkAvY29tbW9uL0NvbG9yc1wiO1xyXG5pbXBvcnQgeyBUZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhciB9IGZyb20gXCJAL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9UZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhclwiO1xyXG5pbXBvcnQgeyBCdXR0b25JRHMgfSBmcm9tIFwiQC9jb3JlL0J1dHRvbklEc1wiO1xyXG5pbXBvcnQgeyBEcm9wZG93bkl0ZW1JRHMgfSBmcm9tIFwiQC9jb3JlL0Ryb3Bkb3duSXRlbUlEc1wiO1xyXG5pbXBvcnQgeyBEcm9wZG93bkxpc3RJRHMgfSBmcm9tIFwiQC9jb3JlL0Ryb3Bkb3duTGlzdElEc1wiO1xyXG5pbXBvcnQgeyBEcm9wZG93bk1lbnVJRHMgfSBmcm9tIFwiQC9jb3JlL0Ryb3Bkb3duTWVudUlEc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyQnVpbGRlciB7XHJcblxyXG4gICAgc3RhdGljIGJ1aWxkKCk6IFRleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyIHtcclxuXHJcbiAgICAgICAgY29uc3QgaWQgPSBcIlwiXHJcbiAgICAgICAgY29uc3QgZmxvYXRpbmdCYXIgPSBUZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhci5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgICAgICBmbG9hdGluZ0Jhci5hcHBlbmREcm9wZG93bihUZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhckJ1aWxkZXIudHVybkludG9Ecm9wZG93bigpKTtcclxuICAgICAgICBmbG9hdGluZ0Jhci5hcHBlbmRTZXBhcmF0b3IoVGV4dENvbnRleHRGbG9hdGluZ1Rvb2xiYXJCdWlsZGVyLnNlcGFyYXRvcihcInR1cm5JbnRvU2VwYXJhdG9yXCIpKTtcclxuICAgICAgICBmbG9hdGluZ0Jhci5hcHBlbmRCdXR0b25Hcm91cChUZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhckJ1aWxkZXIuYnV0dG9uR3JvdXAoKSk7XHJcbiAgICAgICAgZmxvYXRpbmdCYXIuYXBwZW5kRHJvcGRvd24oVGV4dENvbnRleHRGbG9hdGluZ1Rvb2xiYXJCdWlsZGVyLmNvbG9yRHJvcGRvd24oKSk7XHJcbiAgICAgICAgZmxvYXRpbmdCYXIuYXBwZW5kU2VwYXJhdG9yKFRleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyQnVpbGRlci5zZXBhcmF0b3IoXCJ0ZXh0T3BlcmF0aW9uc1NlcGFyYXRvclwiKSk7XHJcbiAgICAgICAgZmxvYXRpbmdCYXIuYXBwZW5kRHJvcGRvd24oVGV4dENvbnRleHRGbG9hdGluZ1Rvb2xiYXJCdWlsZGVyLm1vcmVPcHRpb25zRHJvcGRvd24oKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBmbG9hdGluZ0JhcjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdHVybkludG9Ecm9wZG93bigpOiBEcm9wZG93bk1lbnUge1xyXG5cclxuICAgICAgICBjb25zdCB0dXJuSW50b0Jhckxpc3QgPSBuZXcgRHJvcGRvd25NZW51TGlzdChcInR1cm5JbnRvU2VsZWN0XCIpO1xyXG4gICAgICAgIGNvbnN0IHR1cm5JbnRvQmFyQnV0dG9uID0gbmV3IERyb3Bkb3duTWVudUJ1dHRvbihcInR1cm5JbnRvQnV0dG9uXCIsIFwiVGV4dFwiLCB0dXJuSW50b0Jhckxpc3QpO1xyXG4gICAgICAgIGNvbnN0IHR1cm5JbnRvRHJvcGRvd24gPSBuZXcgRHJvcGRvd25NZW51KFwidHVybkludG9NZW51XCIsIHR1cm5JbnRvQmFyQnV0dG9uLCB0dXJuSW50b0Jhckxpc3QpO1xyXG5cclxuICAgICAgICB0dXJuSW50b0Jhckxpc3QuYXBwZW5kKG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbVRpdGxlKHR1cm5JbnRvQmFyTGlzdCwgXCJUdXJuIGludG9cIikpO1xyXG5cclxuICAgICAgICB0dXJuSW50b0Jhckxpc3QuYXBwZW5kKG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbShcInR1cm5JbnRvT3B0aW9uVGV4dFwiLCB0dXJuSW50b0Jhckxpc3QsIENvbW1hbmRzLnRyYW5zZm9ybUJsb2NrLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5QQVJBR1JBUEgsIFNWR0ljb25zLnBhcmFncmFwaC5odG1sRWxlbWVudCwgXCJUZXh0XCIsIFwiQ3RybCtTaGlmdCtFbnRlclwiKSk7XHJcbiAgICAgICAgdHVybkludG9CYXJMaXN0LmFwcGVuZChuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oXCJ0dXJuSW50b09wdGlvblRvZG9MaXN0XCIsIHR1cm5JbnRvQmFyTGlzdCwgQ29tbWFuZHMudHJhbnNmb3JtQmxvY2ssIEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkNIRUNLX0xJU1QsIFNWR0ljb25zLnRvZG9fbGlzdC5odG1sRWxlbWVudCwgXCJUb2RvIGxpc3RcIiwgXCJDdHJsKzFcIikpO1xyXG4gICAgICAgIHR1cm5JbnRvQmFyTGlzdC5hcHBlbmQobmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKFwidHVybkludG9PcHRpb25CdWxsZXRlZExpc3RcIiwgdHVybkludG9CYXJMaXN0LCBDb21tYW5kcy50cmFuc2Zvcm1CbG9jaywgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuQlVMTEVURURfTElTVCwgU1ZHSWNvbnMuYl9saXN0Lmh0bWxFbGVtZW50LCBcIkJ1bGxldGVkIGxpc3RcIiwgXCJDdHJsKy5cIikpO1xyXG4gICAgICAgIHR1cm5JbnRvQmFyTGlzdC5hcHBlbmQobmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKFwidHVybkludG9PcHRpb25OdW1iZXJlZExpc3RcIiwgdHVybkludG9CYXJMaXN0LCBDb21tYW5kcy50cmFuc2Zvcm1CbG9jaywgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuTlVNQkVSRURfTElTVCwgU1ZHSWNvbnMubl9saXN0Lmh0bWxFbGVtZW50LCBcIk51bWJlcmVkIGxpc3RcIiwgXCJDdHJsKy9cIikpO1xyXG4gICAgICAgIHR1cm5JbnRvQmFyTGlzdC5hcHBlbmQobmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKFwidHVybkludG9PcHRpb25CbG9ja0NvZGVcIiwgdHVybkludG9CYXJMaXN0LCBDb21tYW5kcy50cmFuc2Zvcm1CbG9jaywgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuQ09ERSwgU1ZHSWNvbnMuY29kZS5odG1sRWxlbWVudCwgXCJCbG9jayBjb2RlXCIpKTtcclxuICAgICAgICB0dXJuSW50b0Jhckxpc3QuYXBwZW5kKG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbShcInR1cm5JbnRvT3B0aW9uUXVvdGVcIiwgdHVybkludG9CYXJMaXN0LCBDb21tYW5kcy50cmFuc2Zvcm1CbG9jaywgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuUVVPVEUsIFNWR0ljb25zLnF1b3RlLmh0bWxFbGVtZW50LCBcIlF1b3RlXCIpKTtcclxuICAgICAgICAvL3R1cm5JbnRvQmFyTGlzdC5hcHBlbmQobmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKFwidHVybkludG9PcHRpb25IZWFkaW5nMVwiLCB0dXJuSW50b0Jhckxpc3QsIENvbW1hbmRzLnRyYW5zZm9ybUJsb2NrLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5IRUFERVJfMSwgU1ZHSWNvbnMuaGVhZDEuaHRtbEVsZW1lbnQsIFwiSGVhZGluZyAxXCIsIFwiQ3RybCtBbHQrMVwiKSk7XHJcbiAgICAgICAgdHVybkludG9CYXJMaXN0LmFwcGVuZChuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oXCJ0dXJuSW50b09wdGlvbkhlYWRpbmcyXCIsIHR1cm5JbnRvQmFyTGlzdCwgQ29tbWFuZHMudHJhbnNmb3JtQmxvY2ssIEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkhFQURFUl8yLCBTVkdJY29ucy5oZWFkMi5odG1sRWxlbWVudCwgXCJIZWFkaW5nIDJcIiwgXCJDdHJsK0FsdCsyXCIpKTtcclxuICAgICAgICB0dXJuSW50b0Jhckxpc3QuYXBwZW5kKG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbShcInR1cm5JbnRvT3B0aW9uSGVhZGluZzNcIiwgdHVybkludG9CYXJMaXN0LCBDb21tYW5kcy50cmFuc2Zvcm1CbG9jaywgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuSEVBREVSXzMsIFNWR0ljb25zLmhlYWQzLmh0bWxFbGVtZW50LCBcIkhlYWRpbmcgM1wiLCBcIkN0cmwrQWx0KzNcIikpO1xyXG4gICAgICAgIHR1cm5JbnRvQmFyTGlzdC5hcHBlbmQobmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKFwidHVybkludG9PcHRpb25IZWFkaW5nNFwiLCB0dXJuSW50b0Jhckxpc3QsIENvbW1hbmRzLnRyYW5zZm9ybUJsb2NrLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5IRUFERVJfNCwgU1ZHSWNvbnMuaGVhZDQuaHRtbEVsZW1lbnQsIFwiSGVhZGluZyA0XCIsIFwiQ3RybCtBbHQrNFwiKSk7XHJcbiAgICAgICAgLy90dXJuSW50b0Jhckxpc3QuYXBwZW5kKG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbShcInR1cm5JbnRvT3B0aW9uSGVhZGluZzVcIiwgdHVybkludG9CYXJMaXN0LCBDb21tYW5kcy50cmFuc2Zvcm1CbG9jaywgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuSEVBREVSXzUsIFNWR0ljb25zLmhlYWQ1Lmh0bWxFbGVtZW50LCBcIkhlYWRpbmcgNVwiLCBcIkN0cmwrQWx0KzVcIikpO1xyXG4gICAgICAgIC8vdHVybkludG9CYXJMaXN0LmFwcGVuZChuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oXCJ0dXJuSW50b09wdGlvbkhlYWRpbmc2XCIsIHR1cm5JbnRvQmFyTGlzdCwgQ29tbWFuZHMudHJhbnNmb3JtQmxvY2ssIEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkhFQURFUl82LCBTVkdJY29ucy5oZWFkNi5odG1sRWxlbWVudCwgXCJIZWFkaW5nIDZcIiwgXCJDdHJsK0FsdCs2XCIpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHR1cm5JbnRvRHJvcGRvd247XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNlcGFyYXRvcihpZDogc3RyaW5nKTogRmxvYXRpbmdUb29sYmFyU2VwYXJhdG9yIHtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0aW5nVG9vbGJhclNlcGFyYXRvcihpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGJ1dHRvbkdyb3VwKCk6IEJ1dHRvbkdyb3VwIHtcclxuICAgICAgICBjb25zdCBncm91cEJ1dHRvbiA9IG5ldyBCdXR0b25Hcm91cCgpO1xyXG5cclxuICAgICAgICBjb25zdCBsaW5rID0gQnV0dG9uR3JvdXBJdGVtLmNyZWF0ZShDb21tYW5kcy50b2dnbGVMaW5rLCBcIkxpbmtcIiwgU1ZHSWNvbi5jcmVhdGUoSWNvbnMuTGluaywgU2l6ZXMubGFyZ2UpKTtcclxuICAgICAgICBsaW5rLnNldElkKEJ1dHRvbklEcy5MaW5rKTtcclxuICAgICAgICBsaW5rLmFwcGVuZFRvKGdyb3VwQnV0dG9uKTtcclxuXHJcbiAgICAgICAgY29uc3QgYm9sZCA9IEJ1dHRvbkdyb3VwSXRlbS5jcmVhdGUoQ29tbWFuZHMudG9nZ2xlQm9sZCwgXCJCb2xkXCIsIFNWR0ljb24uY3JlYXRlKEljb25zLkJvbGQsIFNpemVzLmxhcmdlKSk7XHJcbiAgICAgICAgYm9sZC5zZXRJZChCdXR0b25JRHMuQm9sZCk7XHJcbiAgICAgICAgYm9sZC5hcHBlbmRUbyhncm91cEJ1dHRvbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgaXRhbGljID0gQnV0dG9uR3JvdXBJdGVtLmNyZWF0ZShDb21tYW5kcy50b2dnbGVJdGFsaWMsIFwiSXRhbGljXCIsIFNWR0ljb24uY3JlYXRlKEljb25zLkl0YWxpYywgU2l6ZXMubGFyZ2UpKTtcclxuICAgICAgICBpdGFsaWMuc2V0SWQoQnV0dG9uSURzLkl0YWxpYyk7XHJcbiAgICAgICAgaXRhbGljLmFwcGVuZFRvKGdyb3VwQnV0dG9uKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB1bmRlcmxpbmUgPSBCdXR0b25Hcm91cEl0ZW0uY3JlYXRlKENvbW1hbmRzLnRvZ2dsZVVuZGVybGluZSwgXCJVbmRlcmxpbmVcIiwgU1ZHSWNvbi5jcmVhdGUoSWNvbnMuVW5kZXJsaW5lLCBTaXplcy5sYXJnZSkpO1xyXG4gICAgICAgIHVuZGVybGluZS5zZXRJZChCdXR0b25JRHMuVW5kZXJsaW5lKTtcclxuICAgICAgICB1bmRlcmxpbmUuYXBwZW5kVG8oZ3JvdXBCdXR0b24pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGlubGluZUNvZGUgPSBCdXR0b25Hcm91cEl0ZW0uY3JlYXRlKENvbW1hbmRzLnRvZ2dsZUlubGluZUNvZGUsIFwiQ29kZVwiLCBTVkdJY29uLmNyZWF0ZShJY29ucy5JbmxpbmVDb2RlLCBTaXplcy5sYXJnZSkpO1xyXG4gICAgICAgIGlubGluZUNvZGUuc2V0SWQoQnV0dG9uSURzLklubGluZUNvZGUpO1xyXG4gICAgICAgIGlubGluZUNvZGUuYXBwZW5kVG8oZ3JvdXBCdXR0b24pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHN0cmlrZXRocm91Z2ggPSBCdXR0b25Hcm91cEl0ZW0uY3JlYXRlKENvbW1hbmRzLnRvZ2dsZVN0cmlrZVRocm91Z2gsIFwiU3RyaWtlLXRocm91Z2hcIiwgU1ZHSWNvbi5jcmVhdGUoSWNvbnMuU3RyaWtlVGhyb3VnaCwgU2l6ZXMubGFyZ2UpKTtcclxuICAgICAgICBzdHJpa2V0aHJvdWdoLnNldElkKEJ1dHRvbklEcy5TdHJpa2V0aHJvdWdoKTtcclxuICAgICAgICBzdHJpa2V0aHJvdWdoLmFwcGVuZFRvKGdyb3VwQnV0dG9uKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGdyb3VwQnV0dG9uO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjb2xvckRyb3Bkb3duKCk6IERyb3Bkb3duTWVudSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbG9yRHJvcGRvd25MaXN0ID0gbmV3IERyb3Bkb3duTWVudUxpc3QoRHJvcGRvd25MaXN0SURzLkNvbG9yVGV4dE9wdGlvblNlbGVjdCk7XHJcbiAgICAgICAgY29uc3QgY29sb3JCdXR0b24gPSBuZXcgRHJvcGRvd25NZW51QnV0dG9uKFwiY29sb3JUZXh0QnV0dG9uXCIsIG5ldyBDb2xvckljb24oXCJ3aGl0ZVwiKS5odG1sRWxlbWVudCwgY29sb3JEcm9wZG93bkxpc3QpO1xyXG4gICAgICAgIGNvbnN0IGNvbG9yRHJvcGRvd24gPSBuZXcgRHJvcGRvd25NZW51KERyb3Bkb3duTWVudUlEcy5Db2xvclRleHRPcHRpb25zTWVudSwgY29sb3JCdXR0b24sIGNvbG9yRHJvcGRvd25MaXN0KTtcclxuXHJcbiAgICAgICAgY29sb3JEcm9wZG93bkxpc3QuYXBwZW5kKG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbVRpdGxlKGNvbG9yRHJvcGRvd25MaXN0LCBcIkhpZ2hsaWdodFwiKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGhpbGl0ZUNvbG9yUmVkID0gbmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKERyb3Bkb3duSXRlbUlEcy5CYWNrZ3JvdW5kT3B0aW9uUmVkLCBjb2xvckRyb3Bkb3duTGlzdCwgQ29tbWFuZHMudG9nZ2xlSGlsaXRlQ29sb3IsIENvbG9ycy5IaWxpdGVDb2xvclJlZCwgbmV3IENvbG9ySWNvbihDb2xvcnMuSGlsaXRlQ29sb3JSZWQpLmh0bWxFbGVtZW50LCBcIlJlZFwiKTtcclxuICAgICAgICBoaWxpdGVDb2xvclJlZC5hZGRDbGFzcyhcImhpbGl0ZUNvbG9yXCIpO1xyXG5cclxuICAgICAgICBjb25zdCBoaWxpdGVDb2xvckdyZWVuID0gbmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKERyb3Bkb3duSXRlbUlEcy5CYWNrZ3JvdW5kT3B0aW9uR3JlZW4sIGNvbG9yRHJvcGRvd25MaXN0LCBDb21tYW5kcy50b2dnbGVIaWxpdGVDb2xvciwgQ29sb3JzLkhpbGl0ZUNvbG9yR3JlZW4sIG5ldyBDb2xvckljb24oQ29sb3JzLkhpbGl0ZUNvbG9yR3JlZW4pLmh0bWxFbGVtZW50LCBcIkdyZWVuXCIpO1xyXG4gICAgICAgIGhpbGl0ZUNvbG9yR3JlZW4uYWRkQ2xhc3MoXCJoaWxpdGVDb2xvclwiKTtcclxuXHJcbiAgICAgICAgY29uc3QgaGlsaXRlQ29sb3JCbHVlID0gbmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKERyb3Bkb3duSXRlbUlEcy5CYWNrZ3JvdW5kT3B0aW9uQmx1ZSwgY29sb3JEcm9wZG93bkxpc3QsIENvbW1hbmRzLnRvZ2dsZUhpbGl0ZUNvbG9yLCBDb2xvcnMuSGlsaXRlQ29sb3JCbHVlLCBuZXcgQ29sb3JJY29uKENvbG9ycy5IaWxpdGVDb2xvckJsdWUpLmh0bWxFbGVtZW50LCBcIkJsdWVcIik7XHJcbiAgICAgICAgaGlsaXRlQ29sb3JCbHVlLmFkZENsYXNzKFwiaGlsaXRlQ29sb3JcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IGhpbGl0ZUNvbG9yWWVsbG93ID0gbmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKERyb3Bkb3duSXRlbUlEcy5CYWNrZ3JvdW5kT3B0aW9uWWVsbG93LCBjb2xvckRyb3Bkb3duTGlzdCwgQ29tbWFuZHMudG9nZ2xlSGlsaXRlQ29sb3IsIENvbG9ycy5IaWxpdGVDb2xvclllbGxvdywgbmV3IENvbG9ySWNvbihDb2xvcnMuSGlsaXRlQ29sb3JZZWxsb3cpLmh0bWxFbGVtZW50LCBcIlllbGxvd1wiKTtcclxuICAgICAgICBoaWxpdGVDb2xvclllbGxvdy5hZGRDbGFzcyhcImhpbGl0ZUNvbG9yXCIpO1xyXG5cclxuICAgICAgICBjb25zdCBoaWxpdGVDb2xvckdyZXkgPSBuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oRHJvcGRvd25JdGVtSURzLkJhY2tncm91bmRPcHRpb25HcmV5LCBjb2xvckRyb3Bkb3duTGlzdCwgQ29tbWFuZHMudG9nZ2xlSGlsaXRlQ29sb3IsIENvbG9ycy5IaWxpdGVDb2xvckdyZXksIG5ldyBDb2xvckljb24oQ29sb3JzLkhpbGl0ZUNvbG9yR3JleSkuaHRtbEVsZW1lbnQsIFwiR3JleVwiKTtcclxuICAgICAgICBoaWxpdGVDb2xvckdyZXkuYWRkQ2xhc3MoXCJoaWxpdGVDb2xvclwiKTtcclxuXHJcbiAgICAgICAgY29uc3QgaGlsaXRlQ29sb3JOb25lID0gbmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKERyb3Bkb3duSXRlbUlEcy5CYWNrZ3JvdW5kT3B0aW9uTm9uZSwgY29sb3JEcm9wZG93bkxpc3QsIENvbW1hbmRzLnRvZ2dsZUhpbGl0ZUNvbG9yLCBDb2xvcnMuSGlsaXRlQ29sb3JOb25lLCBuZXcgQ29sb3JJY29uKENvbG9ycy5IaWxpdGVDb2xvck5vbmUpLmh0bWxFbGVtZW50LCBcIk5vbmVcIik7XHJcbiAgICAgICAgaGlsaXRlQ29sb3JOb25lLmFkZENsYXNzKFwiaGlsaXRlQ29sb3JcIik7XHJcblxyXG4gICAgICAgIGNvbG9yRHJvcGRvd25MaXN0LmFwcGVuZChoaWxpdGVDb2xvclJlZCk7XHJcbiAgICAgICAgY29sb3JEcm9wZG93bkxpc3QuYXBwZW5kKGhpbGl0ZUNvbG9yR3JlZW4pO1xyXG4gICAgICAgIGNvbG9yRHJvcGRvd25MaXN0LmFwcGVuZChoaWxpdGVDb2xvckJsdWUpO1xyXG4gICAgICAgIGNvbG9yRHJvcGRvd25MaXN0LmFwcGVuZChoaWxpdGVDb2xvclllbGxvdyk7XHJcbiAgICAgICAgY29sb3JEcm9wZG93bkxpc3QuYXBwZW5kKGhpbGl0ZUNvbG9yR3JleSk7XHJcbiAgICAgICAgY29sb3JEcm9wZG93bkxpc3QuYXBwZW5kKGhpbGl0ZUNvbG9yTm9uZSk7XHJcblxyXG4gICAgICAgIGNvbG9yRHJvcGRvd25MaXN0LmFwcGVuZChuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW1UaXRsZShjb2xvckRyb3Bkb3duTGlzdCwgXCJUZXh0XCIpKTtcclxuXHJcbiAgICAgICAgY29uc3QgZm9yZUNvbG9yUmVkID0gbmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKFwiY29sb3JPcHRpb25SZWRcIiwgY29sb3JEcm9wZG93bkxpc3QsIENvbW1hbmRzLnRvZ2dsZUZvcmVDb2xvciwgQ29sb3JzLkZvcmVDb2xvclJlZCwgbmV3IFNWR0ljb24oXCJpY29uLW1hdGVyaWFsLWZvcm1hdFwiLCBTaXplcy5sYXJnZSkuaHRtbEVsZW1lbnQsIFwiUmVkXCIpO1xyXG4gICAgICAgIGZvcmVDb2xvclJlZC5hZGRDbGFzcyhcImZvcmVDb2xvclwiKTtcclxuXHJcbiAgICAgICAgY29uc3QgZm9yZUNvbG9yR3JlZW4gPSBuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oXCJjb2xvck9wdGlvbkdyZWVuXCIsIGNvbG9yRHJvcGRvd25MaXN0LCBDb21tYW5kcy50b2dnbGVGb3JlQ29sb3IsIENvbG9ycy5Gb3JlQ29sb3JHcmVlbiwgbmV3IFNWR0ljb24oXCJpY29uLW1hdGVyaWFsLWZvcm1hdFwiLCBTaXplcy5sYXJnZSkuaHRtbEVsZW1lbnQsIFwiR3JlZW5cIik7XHJcbiAgICAgICAgZm9yZUNvbG9yR3JlZW4uYWRkQ2xhc3MoXCJmb3JlQ29sb3JcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IGZvcmVDb2xvckJsdWUgPSBuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oXCJjb2xvck9wdGlvbkJsdWVcIiwgY29sb3JEcm9wZG93bkxpc3QsIENvbW1hbmRzLnRvZ2dsZUZvcmVDb2xvciwgQ29sb3JzLkZvcmVDb2xvckJsdWUsIG5ldyBTVkdJY29uKFwiaWNvbi1tYXRlcmlhbC1mb3JtYXRcIiwgU2l6ZXMubGFyZ2UpLmh0bWxFbGVtZW50LCBcIkJsdWVcIik7XHJcbiAgICAgICAgZm9yZUNvbG9yQmx1ZS5hZGRDbGFzcyhcImZvcmVDb2xvclwiKTtcclxuXHJcbiAgICAgICAgY29uc3QgZm9yZUNvbG9yWWVsbG93ID0gbmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKFwiY29sb3JPcHRpb25ZZWxsb3dcIiwgY29sb3JEcm9wZG93bkxpc3QsIENvbW1hbmRzLnRvZ2dsZUZvcmVDb2xvciwgQ29sb3JzLkZvcmVDb2xvclllbGxvdywgbmV3IFNWR0ljb24oXCJpY29uLW1hdGVyaWFsLWZvcm1hdFwiLCBTaXplcy5sYXJnZSkuaHRtbEVsZW1lbnQsIFwiWWVsbG93XCIpO1xyXG4gICAgICAgIGZvcmVDb2xvclllbGxvdy5hZGRDbGFzcyhcImZvcmVDb2xvclwiKTtcclxuXHJcbiAgICAgICAgY29uc3QgZm9yZUNvbG9yR3JleSA9IG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbShcImNvbG9yT3B0aW9uR3JleVwiLCBjb2xvckRyb3Bkb3duTGlzdCwgQ29tbWFuZHMudG9nZ2xlRm9yZUNvbG9yLCBDb2xvcnMuRm9yZUNvbG9yR3JleSwgbmV3IFNWR0ljb24oXCJpY29uLW1hdGVyaWFsLWZvcm1hdFwiLCBTaXplcy5sYXJnZSkuaHRtbEVsZW1lbnQsIFwiR3JleVwiKTtcclxuICAgICAgICBmb3JlQ29sb3JHcmV5LmFkZENsYXNzKFwiZm9yZUNvbG9yXCIpO1xyXG5cclxuICAgICAgICBjb25zdCBmb3JlQ29sb3JOb25lID0gbmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKFwiY29sb3JPcHRpb25Ob25lXCIsIGNvbG9yRHJvcGRvd25MaXN0LCBDb21tYW5kcy50b2dnbGVGb3JlQ29sb3IsIENvbG9ycy5Gb3JlQ29sb3JJbml0aWFsLCBuZXcgU1ZHSWNvbihcImljb24tbWF0ZXJpYWwtZm9ybWF0XCIsIFNpemVzLmxhcmdlKS5odG1sRWxlbWVudCwgXCJOb25lXCIpO1xyXG4gICAgICAgIGZvcmVDb2xvck5vbmUuYWRkQ2xhc3MoXCJmb3JlQ29sb3JcIik7XHJcblxyXG4gICAgICAgIGNvbG9yRHJvcGRvd25MaXN0LmFwcGVuZChmb3JlQ29sb3JSZWQpO1xyXG4gICAgICAgIGNvbG9yRHJvcGRvd25MaXN0LmFwcGVuZChmb3JlQ29sb3JHcmVlbik7XHJcbiAgICAgICAgY29sb3JEcm9wZG93bkxpc3QuYXBwZW5kKGZvcmVDb2xvckJsdWUpO1xyXG4gICAgICAgIGNvbG9yRHJvcGRvd25MaXN0LmFwcGVuZChmb3JlQ29sb3JZZWxsb3cpO1xyXG4gICAgICAgIGNvbG9yRHJvcGRvd25MaXN0LmFwcGVuZChmb3JlQ29sb3JHcmV5KTtcclxuICAgICAgICBjb2xvckRyb3Bkb3duTGlzdC5hcHBlbmQoZm9yZUNvbG9yTm9uZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjb2xvckRyb3Bkb3duO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBtb3JlT3B0aW9uc0Ryb3Bkb3duKCk6IERyb3Bkb3duTWVudSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGljb24gPSBuZXcgU1ZHSWNvbihcImljb24tbWF0ZXJpYWwtbW9yZVwiLCBTaXplcy5sYXJnZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1vcmVPcHRpb25zTGlzdCA9IG5ldyBEcm9wZG93bk1lbnVMaXN0KFwibW9yZVRleHRPcHRpb25TZWxlY3RcIik7XHJcbiAgICAgICAgY29uc3QgbW9yZU9wdGlvbnNCdXR0b24gPSBuZXcgRHJvcGRvd25NZW51QnV0dG9uKFwibW9yZVRleHRPcHRpb25CdXR0b25cIiwgaWNvbi5odG1sRWxlbWVudCwgbW9yZU9wdGlvbnNMaXN0LCBmYWxzZSk7XHJcbiAgICAgICAgY29uc3QgbW9yZU9wdGlvbnNEcm9wZG93biA9IG5ldyBEcm9wZG93bk1lbnUoXCJtb3JlVGV4dE9wdGlvbnNNZW51XCIsIG1vcmVPcHRpb25zQnV0dG9uLCBtb3JlT3B0aW9uc0xpc3QpO1xyXG5cclxuICAgICAgICBtb3JlT3B0aW9uc0xpc3QuYXBwZW5kKG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbVRpdGxlKG1vcmVPcHRpb25zTGlzdCwgXCJNb3JlIG9wdGlvbnNcIikpO1xyXG5cclxuICAgICAgICBtb3JlT3B0aW9uc0xpc3QuYXBwZW5kKG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbShcImNvcHlPcHRpb25cIiwgbW9yZU9wdGlvbnNMaXN0LCBDb21tYW5kcy5jb3B5U2VsZWN0ZWQsIG51bGwsIFNWR0ljb25zLmNvcHkuaHRtbEVsZW1lbnQsIFwiQ29weVwiLCBcIkN0cmwrQ1wiKSk7XHJcbiAgICAgICAgbW9yZU9wdGlvbnNMaXN0LmFwcGVuZChuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oXCJjdXRPcHRpb25cIiwgbW9yZU9wdGlvbnNMaXN0LCBDb21tYW5kcy5jdXRTZWxlY3RlZCwgbnVsbCwgU1ZHSWNvbnMuY3V0Lmh0bWxFbGVtZW50LCBcIkN1dFwiLCBcIkN0cmwrWFwiKSk7XHJcbiAgICAgICAgbW9yZU9wdGlvbnNMaXN0LmFwcGVuZChuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oXCJwYXN0ZU9wdGlvblwiLCBtb3JlT3B0aW9uc0xpc3QsIENvbW1hbmRzLnBhc3QsIG51bGwsIFNWR0ljb25zLnBhc3RlLmh0bWxFbGVtZW50LCBcIlJlcGxhY2VcIiwgXCJDdHJsK1ZcIikpO1xyXG4gICAgICAgIG1vcmVPcHRpb25zTGlzdC5hcHBlbmQobmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKFwiZHVwbGljYXRlT3B0aW9uXCIsIG1vcmVPcHRpb25zTGlzdCwgQ29tbWFuZHMuZHVwbGljYXRlQmxvY2ssIG51bGwsIFNWR0ljb25zLmR1cGxpY2F0ZS5odG1sRWxlbWVudCwgXCJDbG9uZVwiLCBcIkN0cmwrRFwiKSk7XHJcbiAgICAgICAgbW9yZU9wdGlvbnNMaXN0LmFwcGVuZChuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oXCJyZXNldE9wdGlvblwiLCBtb3JlT3B0aW9uc0xpc3QsIENvbW1hbmRzLnJlbW92ZUZvcm1hdCwgbnVsbCwgU1ZHSWNvbnMuZXJhc2VyLmh0bWxFbGVtZW50LCBcIlJlc2V0IFN0eWxlXCIsIFwiQ3RybCtcXFxcXCIpKTtcclxuXHJcbiAgICAgICAgY29uc3QgZGVsZXRlSXRlbSA9IG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbShcImRlbGV0ZU9wdGlvblwiLCBtb3JlT3B0aW9uc0xpc3QsIENvbW1hbmRzLmRlbGV0ZUJsb2NrLCBudWxsLCBTVkdJY29ucy5kZWxldGUuaHRtbEVsZW1lbnQsIFwiRGVsZXRlXCIsIFwiU2hpZnQrRGVsXCIpO1xyXG4gICAgICAgIGRlbGV0ZUl0ZW0uYWRkQ3NzQ2xhc3MoXCJkYW5nZXItb3B0aW9uXCIpO1xyXG5cclxuICAgICAgICBtb3JlT3B0aW9uc0xpc3QuYXBwZW5kKGRlbGV0ZUl0ZW0pO1xyXG5cclxuICAgICAgICByZXR1cm4gbW9yZU9wdGlvbnNEcm9wZG93bjtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgU1ZHSWNvbnM6IGFueSA9IHtcclxuXHJcbiAgICBwYXJhZ3JhcGg6IG5ldyBTVkdJY29uKFwiaWNvbi1tYXRlcmlhbC1mb3JtYXRcIiwgXCIxLjI1cmVtXCIpLFxyXG4gICAgdG9kb19saXN0OiBuZXcgU1ZHSWNvbihcImljb24tbWF0ZXJpYWwtY2hlY2stbGlzdC0yXCIsIFNpemVzLmxhcmdlKSxcclxuICAgIGJfbGlzdDogbmV3IFNWR0ljb24oXCJpY29uLXdvcmRwcmVzcy1idWxsZXRlZC1saXN0XCIsIFNpemVzLmxhcmdlKSxcclxuICAgIG5fbGlzdDogbmV3IFNWR0ljb24oXCJpY29uLXdvcmRwcmVzcy1udW1iZXJlZC1saXN0XCIsIFNpemVzLmxhcmdlKSxcclxuICAgIGNvZGU6IG5ldyBTVkdJY29uKFwiaWNvbi13b3JkcHJlc3MtY29kZS1tYXJrXCIsIFNpemVzLmxhcmdlKSxcclxuICAgIHF1b3RlOiBuZXcgU1ZHSWNvbihcImljb24td29yZHByZXNzLXF1b3RlXCIsIFNpemVzLmxhcmdlKSxcclxuICAgIGhlYWQxOiBuZXcgU1ZHSWNvbihcImljb24tanVsaWEtaGVhZC0xXCIsIFNpemVzLmxhcmdlKSxcclxuICAgIGhlYWQyOiBuZXcgU1ZHSWNvbihcImljb24tanVsaWEtaGVhZC0yXCIsIFNpemVzLmxhcmdlKSxcclxuICAgIGhlYWQzOiBuZXcgU1ZHSWNvbihcImljb24tanVsaWEtaGVhZC0zXCIsIFNpemVzLmxhcmdlKSxcclxuICAgIGhlYWQ0OiBuZXcgU1ZHSWNvbihcImljb24tanVsaWEtaGVhZC00XCIsIFNpemVzLmxhcmdlKSxcclxuICAgIGhlYWQ1OiBuZXcgU1ZHSWNvbihcImljb24tanVsaWEtaGVhZC01XCIsIFNpemVzLmxhcmdlKSxcclxuICAgIGhlYWQ2OiBuZXcgU1ZHSWNvbihcImljb24tanVsaWEtaGVhZC02XCIsIFNpemVzLmxhcmdlKSxcclxuICAgIGR1cGxpY2F0ZTogbmV3IFNWR0ljb24oXCJpY29uLW1hdGVyaWFsLWR1cGxpY2F0ZVwiLCBTaXplcy5sYXJnZSksXHJcbiAgICBkZWxldGU6IG5ldyBTVkdJY29uKFwiaWNvbi1tYXRlcmlhbC10cmFzaFwiLCBTaXplcy5sYXJnZSksXHJcbiAgICBlcmFzZXI6IG5ldyBTVkdJY29uKFwiaWNvbi1tYXRlcmlhbC1jbGVhclwiLCBTaXplcy5sYXJnZSksXHJcbiAgICBjb3B5OiBuZXcgU1ZHSWNvbihcImljb24tbWF0ZXJpYWwtY29weVwiLCBTaXplcy5sYXJnZSksXHJcbiAgICBjdXQ6IG5ldyBTVkdJY29uKFwiaWNvbi1tYXRlcmlhbC1jdXRcIiwgU2l6ZXMubGFyZ2UpLFxyXG4gICAgcGFzdGU6IG5ldyBTVkdJY29uKFwiaWNvbi1tYXRlcmlhbC1wYXN0ZVwiLCBTaXplcy5sYXJnZSlcclxufSIsImltcG9ydCB7IEJhc2VVSUNvbXBvbmVudCB9IGZyb20gJy4uL2NvbW1vbi9CYXNlVUlDb21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFF1aWNrTWVudUVtcHR5IGV4dGVuZHMgQmFzZVVJQ29tcG9uZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoe30pO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKTogSFRNTEVsZW1lbnQge1xyXG5cclxuICAgICAgICBjb25zdCBodG1sRW1wdHlJbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblxyXG4gICAgICAgIGh0bWxFbXB0eUluZGljYXRvci5pbm5lclRleHQgPSAnTm8gbWF0Y2hpbmcgYmxvY2sgdHlwZXMgZm91bmQuJztcclxuICAgICAgICBodG1sRW1wdHlJbmRpY2F0b3IuY2xhc3NMaXN0LmFkZCgnZW1wdHktYmxvY2stb3B0aW9ucycpO1xyXG4gICAgICAgIGh0bWxFbXB0eUluZGljYXRvci5zdHlsZS5wYWRkaW5nID0gJzEwcHgnO1xyXG4gICAgICAgIGh0bWxFbXB0eUluZGljYXRvci5zdHlsZS5jb2xvciA9ICdyZ2JhKDU1LCA1MywgNDcsIDAuNjUpJztcclxuICAgICAgICBodG1sRW1wdHlJbmRpY2F0b3Iuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICAgICAgcmV0dXJuIGh0bWxFbXB0eUluZGljYXRvcjtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFF1aWNrTWVudVNlY3Rpb24gfSBmcm9tICcuL1F1aWNrTWVudVNlY3Rpb24nO1xuaW1wb3J0IHsgUXVpY2tNZW51RW1wdHkgfSBmcm9tICcuL1F1aWNrTWVudUVtcHR5JztcbmltcG9ydCB7IFF1aWNrTWVudUl0ZW0gfSBmcm9tICcuL1F1aWNrTWVudUl0ZW0nO1xuaW1wb3J0IHsgQmFzZVVJQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tbW9uL0Jhc2VVSUNvbXBvbmVudCc7XG5pbXBvcnQgeyBDaXJjdWxhckRvdWJseUxpbmtlZExpc3QgfSBmcm9tICcuLi8uLi9jb21tb24vQ2lyY3VsYXJEb3VibHlMaW5rZWRMaXN0JztcbmltcG9ydCB7IEpOb2RlIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9KTm9kZVwiO1xuaW1wb3J0IHsgRGVwZW5kZW5jeUNvbnRhaW5lciB9IGZyb20gJ0AvY29yZS9EZXBlbmRlbmN5Q29udGFpbmVyJztcbmltcG9ydCB7IElGb2N1c1N0YWNrIH0gZnJvbSAnQC9jb3JlL0lGb2N1c1N0YWNrJztcbmltcG9ydCB7IElRdWlja01lbnUgfSBmcm9tICcuL0lRdWlja01lbnUnO1xuaW1wb3J0IHsgSUNvbW1hbmRFdmVudERldGFpbCB9IGZyb20gJ0AvY29tbWFuZHMvSUNvbW1hbmRFdmVudERldGFpbCc7XG5pbXBvcnQgeyBDdXN0b21FdmVudHMgfSBmcm9tICdAL2NvbW1vbi9DdXN0b21FdmVudHMnO1xuaW1wb3J0IHsgQ29tbWFuZHMgfSBmcm9tICdAL2NvbW1hbmRzL0NvbW1hbmRzJztcbmltcG9ydCB7IERPTVV0aWxzIH0gZnJvbSAnQC91dGlsaXRpZXMvRE9NVXRpbHMnO1xuaW1wb3J0IHsgWkluZGV4IH0gZnJvbSAnQC9jb21tb24vWkluZGV4JztcblxuZXhwb3J0IGNsYXNzIFF1aWNrTWVudSBleHRlbmRzIEJhc2VVSUNvbXBvbmVudCBpbXBsZW1lbnRzIElRdWlja01lbnUge1xuXG4gICAgc3RhdGljIGlkID0gXCJxdWlja01lbnVcIjtcblxuICAgIHByaXZhdGUgY3VycmVudEZvY3VzZWRNZW51SXRlbTogSk5vZGU8UXVpY2tNZW51SXRlbT4gfCBudWxsO1xuICAgIHByaXZhdGUgbWVudVNlY3Rpb25zOiBDaXJjdWxhckRvdWJseUxpbmtlZExpc3Q8UXVpY2tNZW51U2VjdGlvbj47XG4gICAgcHJpdmF0ZSBxdWlja01lbnVFbXB0eTogUXVpY2tNZW51RW1wdHk7XG4gICAgcHJpdmF0ZSBmaWx0ZXJJbnB1dDogc3RyaW5nO1xuICAgIHByaXZhdGUgZm9jdXNTdGFjazogSUZvY3VzU3RhY2s7XG5cbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogUXVpY2tNZW51IHwgbnVsbDtcblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoZm9jdXNTdGFjazogSUZvY3VzU3RhY2spIHtcblxuICAgICAgICBjb25zdCBxdWlja01lbnVFbXB0eSA9IG5ldyBRdWlja01lbnVFbXB0eSgpO1xuXG4gICAgICAgIHN1cGVyKHsgcXVpY2tNZW51RW1wdHk6IHF1aWNrTWVudUVtcHR5IH0pO1xuXG4gICAgICAgIHRoaXMuY3VycmVudEZvY3VzZWRNZW51SXRlbSA9IG51bGw7XG4gICAgICAgIHRoaXMubWVudVNlY3Rpb25zID0gbmV3IENpcmN1bGFyRG91Ymx5TGlua2VkTGlzdDxRdWlja01lbnVTZWN0aW9uPigpO1xuICAgICAgICB0aGlzLnF1aWNrTWVudUVtcHR5ID0gcXVpY2tNZW51RW1wdHk7XG4gICAgICAgIHRoaXMuZm9jdXNTdGFjayA9IGZvY3VzU3RhY2s7XG5cbiAgICAgICAgdGhpcy5hdHRhY2hFdmVudHMoKTtcbiAgICAgICAgdGhpcy5maWx0ZXJJbnB1dCA9IFwiXCI7XG4gICAgfVxuXG4gICAgaW5pdCgpOiBIVE1MRWxlbWVudCB7XG5cbiAgICAgICAgY29uc3QgaHRtbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgaHRtbEVsZW1lbnQuaWQgPSBRdWlja01lbnUuaWQ7XG4gICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLnpJbmRleCA9IFpJbmRleC5TbGlnaHRseUltcG9ydGFudDtcblxuICAgICAgICBodG1sRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdibG9jay1vcHRpb25zLXdyYXBwZXInLCAnc29mdC1ib3gtc2hhZG93Jyk7XG4gICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgY29uc3QgYmxvY2tPcHRpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGJsb2NrT3B0aW9ucy5jbGFzc0xpc3QuYWRkKCdibG9jay1vcHRpb25zJyk7XG4gICAgICAgIGJsb2NrT3B0aW9ucy5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG5cbiAgICAgICAgYmxvY2tPcHRpb25zLmFwcGVuZENoaWxkKHRoaXMucHJvcHMucXVpY2tNZW51RW1wdHkuaHRtbEVsZW1lbnQpO1xuXG4gICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZENoaWxkKGJsb2NrT3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIGh0bWxFbGVtZW50O1xuICAgIH1cblxuICAgIGFwcGVuZChtZW51SXRlbTogUXVpY2tNZW51U2VjdGlvbik6IHZvaWQge1xuICAgICAgICB0aGlzLm1lbnVTZWN0aW9ucy5hcHBlbmQobWVudUl0ZW0pO1xuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ibG9jay1vcHRpb25zJykhLmFwcGVuZENoaWxkKG1lbnVJdGVtLmh0bWxFbGVtZW50KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IFF1aWNrTWVudSB7XG5cbiAgICAgICAgY29uc3QgZm9jdXNTdGFjayA9IERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVzb2x2ZTxJRm9jdXNTdGFjaz4oXCJJRm9jdXNTdGFja1wiKTtcblxuICAgICAgICBpZiAoIVF1aWNrTWVudS5pbnN0YW5jZSkge1xuICAgICAgICAgICAgUXVpY2tNZW51Lmluc3RhbmNlID0gbmV3IFF1aWNrTWVudShmb2N1c1N0YWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBRdWlja01lbnUuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgc3dpdGNoVmlzdWFsRm9jdXMoaXRlbTogSk5vZGU8UXVpY2tNZW51SXRlbT4pOiB2b2lkIHtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Rm9jdXNlZE1lbnVJdGVtID09IGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRGb2N1c2VkTWVudUl0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEZvY3VzZWRNZW51SXRlbS52YWx1ZS5yZW1vdmVGb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50Rm9jdXNlZE1lbnVJdGVtID0gaXRlbTtcbiAgICAgICAgdGhpcy5jdXJyZW50Rm9jdXNlZE1lbnVJdGVtLnZhbHVlLmZvY3VzKCk7XG5cbiAgICAgICAgdGhpcy5mb2N1c1N0YWNrLnBlZWsoKT8uZm9jdXMoKTtcbiAgICB9XG5cbiAgICBmb2N1c09uVGhlRmlyc3RWaXNpYmxlSXRlbSgpOiB2b2lkIHtcblxuICAgICAgICBjb25zdCBmaXJzdFNlY3Rpb25Ob2RlOiBKTm9kZTxRdWlja01lbnVTZWN0aW9uPiB8IG51bGwgPSB0aGlzLm1lbnVTZWN0aW9ucy5nZXRGaXJzdCgpO1xuXG4gICAgICAgIGxldCBjdXJyZW50U2VjdGlvbk5vZGU6IEpOb2RlPFF1aWNrTWVudVNlY3Rpb24+IHwgbnVsbCA9IGZpcnN0U2VjdGlvbk5vZGU7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnRTZWN0aW9uTm9kZSkge1xuXG4gICAgICAgICAgICBjb25zdCBpdGVtTm9kZTogSk5vZGU8UXVpY2tNZW51SXRlbT4gfCBudWxsID0gY3VycmVudFNlY3Rpb25Ob2RlLnZhbHVlLm1lbnVJdGVtcy5maW5kRmlyc3QoaXRlbSA9PiBpdGVtLmlzVmlzaWJsZSk7XG5cbiAgICAgICAgICAgIGlmIChpdGVtTm9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoVmlzdWFsRm9jdXMoaXRlbU5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudFNlY3Rpb25Ob2RlID0gY3VycmVudFNlY3Rpb25Ob2RlLm5leHROb2RlO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudFNlY3Rpb25Ob2RlID09IGZpcnN0U2VjdGlvbk5vZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb2N1c1ByZXZpb3VzVmlzaWJsZUl0ZW0oKTogdm9pZCB7XG5cbiAgICAgICAgbGV0IHByZXZpb3VzVmlzaWJsZUl0ZW06IEpOb2RlPFF1aWNrTWVudUl0ZW0+IHwgbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Rm9jdXNlZE1lbnVJdGVtKSB7XG4gICAgICAgICAgICBwcmV2aW91c1Zpc2libGVJdGVtID0gdGhpcy5jdXJyZW50Rm9jdXNlZE1lbnVJdGVtLmdldFByZXZpb3VzU2F0aXNmeWluZyhpdGVtID0+IGl0ZW0uaXNWaXNpYmxlKTtcbiAgICAgICAgICAgIGlmICghcHJldmlvdXNWaXNpYmxlSXRlbSkge1xuXG4gICAgICAgICAgICAgICAgbGV0IHByZXZpb3VzVmlzaWJsZVNlY3Rpb25Ob2RlOiBKTm9kZTxRdWlja01lbnVTZWN0aW9uPiB8IG51bGwgPSB0aGlzLm1lbnVTZWN0aW9ucy5maW5kKHRoaXMuY3VycmVudEZvY3VzZWRNZW51SXRlbS52YWx1ZS5pbW1lZGlhdGVQYXJlbnQpIS5nZXRQcmV2aW91c1NhdGlzZnlpbmcoc2VjdGlvbiA9PiBzZWN0aW9uLmlzVmlzaWJsZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXByZXZpb3VzVmlzaWJsZVNlY3Rpb25Ob2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmlvdXNWaXNpYmxlSXRlbSA9IHByZXZpb3VzVmlzaWJsZVNlY3Rpb25Ob2RlLnZhbHVlLm1lbnVJdGVtcy5maW5kTGFzdChpdGVtID0+IGl0ZW0uaXNWaXNpYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBsYXN0VmlzaWJsZVNlY3Rpb25Ob2RlOiBKTm9kZTxRdWlja01lbnVTZWN0aW9uPiB8IG51bGwgPSB0aGlzLm1lbnVTZWN0aW9ucy5maW5kTGFzdChzZWN0aW9uID0+IHNlY3Rpb24uaXNWaXNpYmxlKTtcblxuICAgICAgICAgICAgaWYgKCFsYXN0VmlzaWJsZVNlY3Rpb25Ob2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldmlvdXNWaXNpYmxlSXRlbSA9IGxhc3RWaXNpYmxlU2VjdGlvbk5vZGUudmFsdWUubWVudUl0ZW1zLmZpbmRMYXN0KGl0ZW0gPT4gaXRlbS5pc1Zpc2libGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3dpdGNoVmlzdWFsRm9jdXMocHJldmlvdXNWaXNpYmxlSXRlbSEpO1xuICAgIH1cblxuICAgIGZvY3VzTmV4dFZpc2libGVJdGVtKCk6IHZvaWQge1xuXG4gICAgICAgIGxldCBuZXh0VmlzaWJsZUl0ZW06IEpOb2RlPFF1aWNrTWVudUl0ZW0+IHwgbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Rm9jdXNlZE1lbnVJdGVtKSB7XG4gICAgICAgICAgICBuZXh0VmlzaWJsZUl0ZW0gPSB0aGlzLmN1cnJlbnRGb2N1c2VkTWVudUl0ZW0uZ2V0TmV4dFNhdGlzZnlpbmcoaXRlbSA9PiBpdGVtLmlzVmlzaWJsZSk7XG4gICAgICAgICAgICBpZiAoIW5leHRWaXNpYmxlSXRlbSkge1xuXG4gICAgICAgICAgICAgICAgbGV0IG5leHRWaXNpYmxlU2VjdGlvbk5vZGU6IEpOb2RlPFF1aWNrTWVudVNlY3Rpb24+IHwgbnVsbCA9IHRoaXMubWVudVNlY3Rpb25zLmZpbmQodGhpcy5jdXJyZW50Rm9jdXNlZE1lbnVJdGVtLnZhbHVlLmltbWVkaWF0ZVBhcmVudCkhLmdldE5leHRTYXRpc2Z5aW5nKHNlY3Rpb24gPT4gc2VjdGlvbi5pc1Zpc2libGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0VmlzaWJsZVNlY3Rpb25Ob2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV4dFZpc2libGVJdGVtID0gbmV4dFZpc2libGVTZWN0aW9uTm9kZS52YWx1ZS5tZW51SXRlbXMuZmluZEZpcnN0KGl0ZW0gPT4gaXRlbS5pc1Zpc2libGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZmlyc3RWaXNpYmxlU2VjdGlvbk5vZGU6IG51bGwgfCBKTm9kZTxRdWlja01lbnVTZWN0aW9uPiA9IHRoaXMubWVudVNlY3Rpb25zLmZpbmRGaXJzdChzZWN0aW9uID0+IHNlY3Rpb24uaXNWaXNpYmxlKTtcbiAgICAgICAgICAgIGlmICghZmlyc3RWaXNpYmxlU2VjdGlvbk5vZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0VmlzaWJsZUl0ZW0gPSBmaXJzdFZpc2libGVTZWN0aW9uTm9kZS52YWx1ZS5tZW51SXRlbXMuZmluZEZpcnN0KGl0ZW0gPT4gaXRlbS5pc1Zpc2libGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zd2l0Y2hWaXN1YWxGb2N1cyhuZXh0VmlzaWJsZUl0ZW0hKTtcbiAgICB9XG5cbiAgICBmaWx0ZXJJdGVtcygpOiB2b2lkIHtcblxuICAgICAgICB0aGlzLm1lbnVTZWN0aW9ucy5mb3JFYWNoKHNlY3Rpb24gPT4ge1xuICAgICAgICAgICAgc2VjdGlvbi5maWx0ZXJTZWN0aW9uKHRoaXMuZmlsdGVySW5wdXQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXRoaXMubWVudVNlY3Rpb25zLmFueShzZWN0aW9uID0+IHNlY3Rpb24uaXNWaXNpYmxlKSkge1xuICAgICAgICAgICAgdGhpcy5xdWlja01lbnVFbXB0eS5zaG93KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnF1aWNrTWVudUVtcHR5LmhpZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZm9jdXNPblRoZUZpcnN0VmlzaWJsZUl0ZW0oKTtcbiAgICB9XG5cbiAgICBzaG93KCkge1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cbiAgICAgICAgICAgIGlmICghYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZGlzcGxheSB0aGUgcXVpY2tNZW51OiBubyBhY3RpdmUgZWxlbWVudCBmb3VuZC5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmZvY3VzU3RhY2sucHVzaChhY3RpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50KTtcblxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuXG4gICAgICAgICAgICBpZiAoIXNlbGVjdGlvbiB8fCBzZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc2VsZWN0aW9uIGZvdW5kLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xuICAgICAgICAgICAgY29uc3QgcmVjdCA9IHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG5cbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRXaWR0aCA9IHRoaXMuaHRtbEVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICBsZXQgbGVmdFBvc2l0aW9uID0gcmVjdC5sZWZ0ICsgd2luZG93LnNjcm9sbFg7XG5cbiAgICAgICAgICAgIGlmIChsZWZ0UG9zaXRpb24gKyBlbGVtZW50V2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgIGxlZnRQb3NpdGlvbiA9IHdpbmRvdy5pbm5lcldpZHRoIC0gZWxlbWVudFdpZHRoIC0gMjA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRIZWlnaHQgPSB0aGlzLmh0bWxFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIGxldCB0b3BQb3NpdGlvbiA9IHJlY3QuYm90dG9tICsgd2luZG93LnNjcm9sbFkgKyAxMDtcblxuICAgICAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7bGVmdFBvc2l0aW9ufXB4YDtcbiAgICAgICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUudG9wID0gYCR7dG9wUG9zaXRpb259cHhgO1xuXG4gICAgICAgICAgICBzdXBlci5zaG93KCk7XG5cbiAgICAgICAgICAgIHRoaXMuZm9jdXNPblRoZUZpcnN0VmlzaWJsZUl0ZW0oKTtcbiAgICAgICAgICAgIHRoaXMuZm9jdXNTdGFjay5wZWVrKCk/LmZvY3VzKCk7XG5cbiAgICAgICAgfSwgMTApO1xuXG4gICAgfVxuXG4gICAgcmVzdG9yZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWx0ZXJJbnB1dCA9IFwiXCI7XG5cbiAgICAgICAgdGhpcy5tZW51U2VjdGlvbnMuZm9yRWFjaChzZWN0aW9uID0+IHtcbiAgICAgICAgICAgIHNlY3Rpb24ucmVzdG9yZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuXG4gICAgICAgIHRoaXMucmVzdG9yZSgpO1xuICAgICAgICB0aGlzLmZvY3VzU3RhY2sucGVlaygpPy5mb2N1cygpO1xuXG4gICAgICAgIHN1cGVyLmhpZGUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGF0dGFjaEV2ZW50cygpIHtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKEN1c3RvbUV2ZW50cy5lbWl0dGVkQ29tbWFuZCwgKChldmVudDogQ3VzdG9tRXZlbnQ8SUNvbW1hbmRFdmVudERldGFpbD4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29tbWFuZCB9ID0gZXZlbnQuZGV0YWlsO1xuXG4gICAgICAgICAgICBpZiAoY29tbWFuZCA9PSBDb21tYW5kcy50cmFuc2Zvcm1CbG9jaykge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pIGFzIEV2ZW50TGlzdGVuZXIpO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcblxuICAgICAgICAgICAgY29uc3QgYmxvY2sgPSBET01VdGlscy5maW5kQ2xvc2VzdEFuY2VzdG9yT2ZBY3RpdmVFbGVtZW50QnlDbGFzcyhcImJsb2NrXCIpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNWaXNpYmxlICYmIGV2ZW50LmtleSA9PT0gJy8nICYmICFldmVudC5jdHJsS2V5ICYmICFldmVudC5zaGlmdEtleSAmJiAhZXZlbnQuYWx0S2V5ICYmIGJsb2NrKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHNob3cgcXVpY2tNZW51XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDZWxsID0gdGFyZ2V0LmNsb3Nlc3QoXCIuaWdub3JlLXF1aWNrLW1lbnVcIikgYXMgSFRNTFRhYmxlQ2VsbEVsZW1lbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENlbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzVmlzaWJsZSAmJiBldmVudC5rZXkgPT09ICdBcnJvd0xlZnQnICYmICFldmVudC5jdHJsS2V5ICYmICFldmVudC5zaGlmdEtleSAmJiAhZXZlbnQuYWx0S2V5KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1Zpc2libGUgJiYgZXZlbnQua2V5ID09PSAnQXJyb3dSaWdodCcgJiYgIWV2ZW50LmN0cmxLZXkgJiYgIWV2ZW50LnNoaWZ0S2V5ICYmICFldmVudC5hbHRLZXkpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5pc1Zpc2libGUgJiYgZXZlbnQua2V5ID09PSAnQXJyb3dEb3duJyAmJiAhZXZlbnQuY3RybEtleSAmJiAhZXZlbnQuc2hpZnRLZXkgJiYgIWV2ZW50LmFsdEtleSkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mb2N1c05leHRWaXNpYmxlSXRlbSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzVmlzaWJsZSAmJiBldmVudC5rZXkgPT09ICdBcnJvd1VwJyAmJiAhZXZlbnQuY3RybEtleSAmJiAhZXZlbnQuc2hpZnRLZXkgJiYgIWV2ZW50LmFsdEtleSkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mb2N1c1ByZXZpb3VzVmlzaWJsZUl0ZW0oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1Zpc2libGUgJiYgL15bYS16MC05IF0kL2kudGVzdChldmVudC5rZXkpICYmICFldmVudC5jdHJsS2V5ICYmICFldmVudC5zaGlmdEtleSAmJiAhZXZlbnQuYWx0S2V5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25jYXRGaWx0ZXJJbnB1dChldmVudC5rZXkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVySXRlbXMoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1Zpc2libGUgJiYgZXZlbnQua2V5ID09PSAnQmFja3NwYWNlJykge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlsdGVySW5wdXQgPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUxhc3RGaWx0ZXJJbnB1dENoYXJhY3RlcigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckl0ZW1zKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzVmlzaWJsZSAmJiBldmVudC5rZXkgPT09ICdFc2NhcGUnICYmICFldmVudC5jdHJsS2V5ICYmICFldmVudC5zaGlmdEtleSAmJiAhZXZlbnQuYWx0S2V5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUgJiYgIShldmVudC50YXJnZXQhIGFzIEhUTUxFbGVtZW50KS5jbG9zZXN0KGAjJHt0aGlzLmh0bWxFbGVtZW50LmlkfWApKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlICYmIGV2ZW50LmtleSA9PT0gJ0VudGVyJyAmJiAhZXZlbnQuY3RybEtleSAmJiAhZXZlbnQuc2hpZnRLZXkgJiYgIWV2ZW50LmFsdEtleSkge1xuXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IHRoaXMuY3VycmVudEZvY3VzZWRNZW51SXRlbT8udmFsdWUuYmxvY2tUeXBlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrVHlwZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtSHRtbEZvY3VzZWRFbGVtZW50QmVmb3JlT3BlblF1aWNrTWVudShibG9ja1R5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihDdXN0b21FdmVudHMuYmxvY2tUeXBlQ2hhbmdlZCwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBlbWl0Q29tbWFuZEV2ZW50KGJsb2NrVHlwZTogc3RyaW5nKTogdm9pZCB7XG5cbiAgICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQ8SUNvbW1hbmRFdmVudERldGFpbD4oQ3VzdG9tRXZlbnRzLmVtaXR0ZWRDb21tYW5kLCB7XG4gICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICBjb21tYW5kOiBDb21tYW5kcy50cmFuc2Zvcm1CbG9jayxcbiAgICAgICAgICAgICAgICB2YWx1ZTogYmxvY2tUeXBlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xuICAgIH1cblxuICAgIHRyYW5zZm9ybUh0bWxGb2N1c2VkRWxlbWVudEJlZm9yZU9wZW5RdWlja01lbnUoYmxvY2tUeXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKGJsb2NrVHlwZSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0Q29tbWFuZEV2ZW50KGJsb2NrVHlwZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbmNhdEZpbHRlcklucHV0KHN0Zzogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlsdGVySW5wdXQgKz0gc3RnLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVMYXN0RmlsdGVySW5wdXRDaGFyYWN0ZXIoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmZpbHRlcklucHV0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVySW5wdXQgPSB0aGlzLmZpbHRlcklucHV0LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlRG91Ymx5TGlua2VkTGlzdCB9IGZyb20gJy4vQmFzZURvdWJseUxpbmtlZExpc3QnO1xyXG5pbXBvcnQgeyBKTm9kZSB9IGZyb20gJy4vSk5vZGUnO1xyXG5cclxuZXhwb3J0IGNsYXNzIERvdWJseUxpbmtlZExpc3Q8VD4gZXh0ZW5kcyBCYXNlRG91Ymx5TGlua2VkTGlzdDxUPiB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBlbmQoZWxlbWVudDogVCk6IHZvaWQge1xyXG5cclxuICAgICAgICBjb25zdCBub2RlID0gbmV3IEpOb2RlKGVsZW1lbnQsIHRoaXMpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaGVhZCB8fCAhdGhpcy50YWlsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IG5vZGU7XHJcbiAgICAgICAgICAgIHRoaXMudGFpbCA9IG5vZGU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy50YWlsLnNldE5leHQobm9kZSk7XHJcbiAgICAgICAgICAgIG5vZGUuc2V0UHJldmlvdXModGhpcy50YWlsKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGFpbCA9IG5vZGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxlbmd0aCsrO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUXVpY2tNZW51IH0gZnJvbSAnLi9RdWlja01lbnUnO1xyXG5pbXBvcnQgeyBRdWlja01lbnVJdGVtIH0gZnJvbSBcIi4vUXVpY2tNZW51SXRlbVwiO1xyXG5pbXBvcnQgeyBEb3VibHlMaW5rZWRMaXN0IH0gZnJvbSAnLi4vLi4vY29tbW9uL0RvdWJseUxpbmtlZExpc3QnO1xyXG5pbXBvcnQgeyBCYXNlVUlDb21wb25lbnQgfSBmcm9tICcuLi9jb21tb24vQmFzZVVJQ29tcG9uZW50JztcclxuXHJcbmV4cG9ydCBjbGFzcyBRdWlja01lbnVTZWN0aW9uIGV4dGVuZHMgQmFzZVVJQ29tcG9uZW50IHtcclxuXHJcbiAgICBpbW1lZGlhdGVQYXJlbnQ6IFF1aWNrTWVudTtcclxuXHJcbiAgICBtZW51SXRlbXMgPSBuZXcgRG91Ymx5TGlua2VkTGlzdDxRdWlja01lbnVJdGVtPigpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFF1aWNrTWVudVNlY3Rpb25PcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKHtcclxuICAgICAgICAgICAgdGl0bGU6IG9wdGlvbnMudGl0bGUsXHJcbiAgICAgICAgICAgIGNsYXNzTGlzdDogb3B0aW9ucy5jbGFzc0xpc3RcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbW1lZGlhdGVQYXJlbnQgPSBvcHRpb25zLnF1aWNrTWVudUluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKTogSFRNTEVsZW1lbnQge1xyXG5cclxuICAgICAgICBjb25zdCBodG1sRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlY3Rpb24nKTtcclxuICAgICAgICBodG1sRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMucHJvcHMuY2xhc3NMaXN0KTtcclxuXHJcbiAgICAgICAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XHJcbiAgICAgICAgaGVhZGluZy50ZXh0Q29udGVudCA9IHRoaXMucHJvcHMudGl0bGU7XHJcbiAgICAgICAgaGVhZGluZy5jbGFzc0xpc3QuYWRkKFwibm8tc2VsZWN0aW9uXCIpO1xyXG5cclxuICAgICAgICBodG1sRWxlbWVudC5hcHBlbmRDaGlsZChoZWFkaW5nKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGh0bWxFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGVuZFF1aWNrTWVudUl0ZW1zKG1lbnVJdGVtczogUXVpY2tNZW51SXRlbVtdKTogdm9pZCB7XHJcblxyXG4gICAgICAgIG1lbnVJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hcHBlbmRRdWlja01lbnVJdGVtKGl0ZW0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwZW5kUXVpY2tNZW51SXRlbShtZW51SXRlbTogUXVpY2tNZW51SXRlbSk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLm1lbnVJdGVtcy5hcHBlbmQobWVudUl0ZW0pO1xyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQobWVudUl0ZW0uaHRtbEVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbHRlclNlY3Rpb24odGV4dDogc3RyaW5nKTogdm9pZCB7XHJcblxyXG4gICAgICAgIHRoaXMucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICBpZiAodGV4dCAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICB0aGlzLm1lbnVJdGVtcy5mb3JFYWNoKG1lbnVJdGVtID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIShtZW51SXRlbS5maWx0ZXJWYWx1ZS50b0xvY2FsZUxvd2VyQ2FzZSgpLmluY2x1ZGVzKHRleHQpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lbnVJdGVtLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgYXRMZWFkT25lSXRlbSA9IHRoaXMubWVudUl0ZW1zLmFueShpdGVtID0+IGl0ZW0uZmlsdGVyVmFsdWUudG9Mb2NhbGVMb3dlckNhc2UoKS5pbmNsdWRlcyh0ZXh0KSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWF0TGVhZE9uZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc3RvcmUoKSB7XHJcbiAgICAgICAgdGhpcy5zaG93KCk7XHJcblxyXG4gICAgICAgIHRoaXMubWVudUl0ZW1zLmZvckVhY2gobWVudUl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBtZW51SXRlbS5zaG93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUXVpY2tNZW51U2VjdGlvbk9wdGlvbnMge1xyXG4gICAgcXVpY2tNZW51SW5zdGFuY2U6IFF1aWNrTWVudTtcclxuICAgIHRpdGxlOiBzdHJpbmc7XHJcbiAgICBjbGFzc0xpc3Q6IHN0cmluZztcclxufSIsImltcG9ydCB7IFNWR0ljb24gfSBmcm9tICcuLi9jb21tb24vU1ZHSWNvbic7XHJcbmltcG9ydCB7IEJhc2VVSUNvbXBvbmVudCB9IGZyb20gJy4uL2NvbW1vbi9CYXNlVUlDb21wb25lbnQnO1xyXG5pbXBvcnQgeyBKTm9kZSB9IGZyb20gXCIuLi8uLi9jb21tb24vSk5vZGVcIjtcclxuaW1wb3J0IHsgUXVpY2tNZW51U2VjdGlvbiB9IGZyb20gJy4vUXVpY2tNZW51U2VjdGlvbic7XHJcbmltcG9ydCB7IElDb21tYW5kRXZlbnREZXRhaWwgfSBmcm9tICdAL2NvbW1hbmRzL0lDb21tYW5kRXZlbnREZXRhaWwnO1xyXG5pbXBvcnQgeyBDdXN0b21FdmVudHMgfSBmcm9tICdAL2NvbW1vbi9DdXN0b21FdmVudHMnO1xyXG5pbXBvcnQgeyBDb21tYW5kcyB9IGZyb20gJ0AvY29tbWFuZHMvQ29tbWFuZHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFF1aWNrTWVudUl0ZW0gZXh0ZW5kcyBCYXNlVUlDb21wb25lbnQge1xyXG5cclxuICAgIHByaXZhdGUgX2Jsb2NrVHlwZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBfZmlsdGVyVmFsdWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgX2ltbWVkaWF0ZVBhcmVudDogUXVpY2tNZW51U2VjdGlvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpbW1lZGlhdGVQYXJlbnQ6IFF1aWNrTWVudVNlY3Rpb24sIHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcsIGljb25JZDogc3RyaW5nLCBibG9ja1R5cGU6IHN0cmluZywgZmlsdGVyVmFsdWU6IHN0cmluZykge1xyXG5cclxuICAgICAgICBzdXBlcih7XHJcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBpY29uSWQ6IGljb25JZFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9ibG9ja1R5cGUgPSBibG9ja1R5cGU7XHJcbiAgICAgICAgdGhpcy5fZmlsdGVyVmFsdWUgPSBmaWx0ZXJWYWx1ZTtcclxuICAgICAgICB0aGlzLl9pbW1lZGlhdGVQYXJlbnQgPSBpbW1lZGlhdGVQYXJlbnQ7XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNoRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpOiBIVE1MRWxlbWVudCB7XHJcblxyXG4gICAgICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnb3B0aW9uJywgJ29wdGlvbi1ob3ZlcicsICdibG9jay1vcGVyYXRpb24nLCBcInBvaW50ZXJcIiwgXCJuby1zZWxlY3Rpb25cIik7XHJcblxyXG4gICAgICAgIGh0bWxFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1ibG9jay1vcGVyYXRpb24nLCAnYXBwbHktc2VsZWN0ZWQtYmxvY2stdHlwZScpO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IG9wdGlvbkltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgb3B0aW9uSW1hZ2UuY2xhc3NMaXN0LmFkZCgnb3B0aW9uLWltYWdlJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHN2ZyA9IG5ldyBTVkdJY29uKHRoaXMucHJvcHMuaWNvbklkLCAnMTAwJScpO1xyXG5cclxuICAgICAgICBvcHRpb25JbWFnZS5hcHBlbmRDaGlsZChzdmcuaHRtbEVsZW1lbnQpO1xyXG5cclxuICAgICAgICBodG1sRWxlbWVudC5hcHBlbmRDaGlsZChvcHRpb25JbWFnZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9wdGlvblRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBvcHRpb25UZXh0LmNsYXNzTGlzdC5hZGQoJ29wdGlvbi10ZXh0Jyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJsb2NrVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICAgICAgYmxvY2tUaXRsZS5jbGFzc0xpc3QuYWRkKCdibG9jay10aXRsZScpO1xyXG4gICAgICAgIGJsb2NrVGl0bGUuaW5uZXJUZXh0ID0gdGhpcy5wcm9wcy50aXRsZTtcclxuXHJcbiAgICAgICAgb3B0aW9uVGV4dC5hcHBlbmRDaGlsZChibG9ja1RpdGxlKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmxvY2tEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgICAgICBibG9ja0Rlc2NyaXB0aW9uLmNsYXNzTGlzdC5hZGQoJ2Jsb2NrLWRlc2NyaXB0aW9uJyk7XHJcbiAgICAgICAgYmxvY2tEZXNjcmlwdGlvbi5pbm5lclRleHQgPSB0aGlzLnByb3BzLmRlc2NyaXB0aW9uO1xyXG5cclxuXHJcbiAgICAgICAgb3B0aW9uVGV4dC5hcHBlbmRDaGlsZChibG9ja0Rlc2NyaXB0aW9uKTtcclxuXHJcbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQob3B0aW9uVGV4dCk7XHJcblxyXG4gICAgICAgIHJldHVybiBodG1sRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGlzcGxheSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnZmxleCc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZpbHRlclZhbHVlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbHRlclZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpbW1lZGlhdGVQYXJlbnQgKCk6IFF1aWNrTWVudVNlY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW1lZGlhdGVQYXJlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGJsb2NrVHlwZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ibG9ja1R5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgZm9jdXMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdvcHRpb24tZm9jdXNlZCcpO1xyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuZm9jdXMoKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVGb2N1cygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ29wdGlvbi1mb2N1c2VkJyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGVtaXRDb21tYW5kRXZlbnQoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQ8SUNvbW1hbmRFdmVudERldGFpbD4oQ3VzdG9tRXZlbnRzLmVtaXR0ZWRDb21tYW5kLCB7XHJcbiAgICAgICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgICAgICAgY29tbWFuZDogQ29tbWFuZHMudHJhbnNmb3JtQmxvY2ssXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5ibG9ja1R5cGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhdHRhY2hFdmVudHMoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgbm9kZTogSk5vZGU8UXVpY2tNZW51SXRlbT4gPSB0aGlzLl9pbW1lZGlhdGVQYXJlbnQubWVudUl0ZW1zLmZpbmQodGhpcykhO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5faW1tZWRpYXRlUGFyZW50LmltbWVkaWF0ZVBhcmVudC5zd2l0Y2hWaXN1YWxGb2N1cyhub2RlISk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lbWl0Q29tbWFuZEV2ZW50KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBRdWlja01lbnUgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9xdWljay1tZW51L1F1aWNrTWVudVwiO1xyXG5pbXBvcnQgeyBRdWlja01lbnVTZWN0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvcXVpY2stbWVudS9RdWlja01lbnVTZWN0aW9uXCI7XHJcbmltcG9ydCB7IFF1aWNrTWVudUl0ZW0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9xdWljay1tZW51L1F1aWNrTWVudUl0ZW1cIjtcclxuaW1wb3J0IHsgRWxlbWVudEZhY3RvcnlTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2VsZW1lbnQtZmFjdG9yeS9FbGVtZW50RmFjdG9yeVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgSWNvbnMgfSBmcm9tIFwiQC9jb21tb24vSWNvbnNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBRdWlja01lbnVCdWlsZGVyIHtcclxuXHJcbiAgICBzdGF0aWMgYnVpbGQoKTogUXVpY2tNZW51IHtcclxuXHJcbiAgICAgICAgY29uc3QgcXVpY2tNZW51OiBRdWlja01lbnUgPSBRdWlja01lbnUuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFzaWNCbG9ja3NTZWN0aW9uOiBRdWlja01lbnVTZWN0aW9uID0gbmV3IFF1aWNrTWVudVNlY3Rpb24oeyBxdWlja01lbnVJbnN0YW5jZTogcXVpY2tNZW51LCB0aXRsZTogJ0Jhc2ljJywgY2xhc3NMaXN0OiAnYmFzaWMtc2VjdGlvbicgfSk7XHJcblxyXG4gICAgICAgIGJhc2ljQmxvY2tzU2VjdGlvbi5hcHBlbmRRdWlja01lbnVJdGVtcyhbXHJcbiAgICAgICAgICAgIG5ldyBRdWlja01lbnVJdGVtKGJhc2ljQmxvY2tzU2VjdGlvbiwgJ1RleHQnLCAnU3RhcnQgd3JpdGluZyBpbiBwbGFpbiB0ZXh0LicsICdpY29uLW1hdGVyaWFsLWZvcm1hdCcsIEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLlBBUkFHUkFQSCwgXCJwYXJhZ3JhcGggdGV4dCBwXCIpLFxyXG4gICAgICAgICAgICBuZXcgUXVpY2tNZW51SXRlbShiYXNpY0Jsb2Nrc1NlY3Rpb24sICdCdWxsZXRlZCBsaXN0JywgJ09yZ2FuaXplIGl0ZW1zIHdpdGggYnVsbGV0IHBvaW50cy4nLCAnaWNvbi13b3JkcHJlc3MtYnVsbGV0ZWQtbGlzdCcsIEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkJVTExFVEVEX0xJU1QsIFwiYnVsbGV0ZWQgbGlzdCB1bm9yZGVyZWQgbGlzdCB1bFwiKSxcclxuICAgICAgICAgICAgbmV3IFF1aWNrTWVudUl0ZW0oYmFzaWNCbG9ja3NTZWN0aW9uLCAnTnVtYmVyZWQgbGlzdCcsICdMaXN0IGl0ZW1zIGluIGEgbnVtYmVyZWQgZm9ybWF0LicsICdpY29uLXdvcmRwcmVzcy1udW1iZXJlZC1saXN0JywgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuTlVNQkVSRURfTElTVCwgXCJudW1iZXJlZCBsaXN0IG51bWJlciBsaXN0IHNlcXVlbnRpYWwgbGlzdCBvbCBlbnVtZXJhdGVkIGxpc3Qgb3JkZXJlZCBsaXN0XCIpLFxyXG4gICAgICAgICAgICBuZXcgUXVpY2tNZW51SXRlbShiYXNpY0Jsb2Nrc1NlY3Rpb24sICdUYWJsZScsICdPcmdhbml6ZSBkYXRhIGluIHJvd3MgYW5kIGNvbHVtbnMuJywgJ2ljb24tbWF0ZXJpYWwtdGFibGUnLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5UQUJMRSwgXCJ0YWJsZSB0ciB0aFwiKSxcclxuICAgICAgICAgICAgbmV3IFF1aWNrTWVudUl0ZW0oYmFzaWNCbG9ja3NTZWN0aW9uLCAnQ2FsbG91dCcsICdFbXBoYXNpemUga2V5IHBvaW50cyB3aXRoIGEgY2FsbG91dCBib3guJywgSWNvbnMuQ2FsbG91dCwgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuQ0FMTE9VVCwgXCJjYWxsb3V0IG5vdGUgc3BvdGxpZ2h0XCIpLFxyXG4gICAgICAgICAgICBuZXcgUXVpY2tNZW51SXRlbShiYXNpY0Jsb2Nrc1NlY3Rpb24sICdDb2RlJywgJ0luY2x1ZGUgYSBjb2RlIHNuaXBwZXQuJywgJ2ljb24td29yZHByZXNzLWNvZGUtbWFyaycsIEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkNPREUsIFwiY29kZSBzY3JpcHQgc291cmNlIG1hcmt1cFwiKSxcclxuICAgICAgICAgICAgbmV3IFF1aWNrTWVudUl0ZW0oYmFzaWNCbG9ja3NTZWN0aW9uLCAnUXVvdGUnLCAnSGlnaGxpZ2h0IHRleHQgYXMgYSBxdW90ZS4nLCAnaWNvbi13b3JkcHJlc3MtcXVvdGUnLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5RVU9URSwgXCJxdW90ZSBibG9ja3F1b3RlIGNpdGF0aW9uIHF1b3RhdGlvbiBjaXRlXCIpLFxyXG4gICAgICAgICAgICBuZXcgUXVpY2tNZW51SXRlbShiYXNpY0Jsb2Nrc1NlY3Rpb24sICdIZWFkaW5nIDInLCAnTWVkaXVtIGhlYWRlciBmb3Igc2VjdGlvbnMuJywgJ2ljb24tanVsaWEtaGVhZC0yJywgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuSEVBREVSXzIsIFwiaGVhZGVyIDIgaGVhZGluZyAyIGgyXCIpLFxyXG4gICAgICAgICAgICBuZXcgUXVpY2tNZW51SXRlbShiYXNpY0Jsb2Nrc1NlY3Rpb24sICdIZWFkaW5nIDMnLCAnU21hbGwgaGVhZGVyIGZvciBzdWJzZWN0aW9ucy4nLCAnaWNvbi1qdWxpYS1oZWFkLTInLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5IRUFERVJfMywgXCJoZWFkZXIgMyBoZWFkaW5nIDMgaDNcIiksXHJcbiAgICAgICAgICAgIG5ldyBRdWlja01lbnVJdGVtKGJhc2ljQmxvY2tzU2VjdGlvbiwgJ1NlcGFyYXRvcicsICdWaXN1YWxseSBkaXZpZGUgYmxvY2tzLicsICdpY29uLXdvcmRwcmVzcy1zZXBhcmF0b3InLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5TRVBBUkFUT1IsIFwic2VwYXJhdG9yIGRpdmlkZXIgcnVsZSBsaW5lIGhyXCIpXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIHF1aWNrTWVudS5hcHBlbmQoYmFzaWNCbG9ja3NTZWN0aW9uKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWVkaWFCbG9ja3NTZWN0aW9uID0gbmV3IFF1aWNrTWVudVNlY3Rpb24oeyBxdWlja01lbnVJbnN0YW5jZTogcXVpY2tNZW51LCB0aXRsZTogJ01lZGlhJywgY2xhc3NMaXN0OiAnbWVkaWEtc2VjdGlvbicgfSk7XHJcblxyXG4gICAgICAgIG1lZGlhQmxvY2tzU2VjdGlvbi5hcHBlbmRRdWlja01lbnVJdGVtcyhbXHJcbiAgICAgICAgICAgIG5ldyBRdWlja01lbnVJdGVtKG1lZGlhQmxvY2tzU2VjdGlvbiwgJ0ltYWdlJywgJ1VwbG9hZCBvciBlbWJlZCBhbiBpbWFnZS4nLCBJY29ucy5JbWFnZTIsIEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLklNQUdFLCBcImltYWdlIGZpZ3VyZSBwaG90byBpbGx1c3RyYXRpb24gcGljdHVyZSBtZWRpYSB1cGxvYWRcIiksXHJcbiAgICAgICAgICAgIG5ldyBRdWlja01lbnVJdGVtKG1lZGlhQmxvY2tzU2VjdGlvbiwgJ1lvdVR1YmUnLCAnRW1iZWQgYSBZb3VUdWJlIHZpZGVvLicsIEljb25zLllvdVR1YmUsICd2aWRlbycsIFwidmlkZW8gZW1iZWQgeW91dHViZSBjbGlwIGZpbG0gbW92aWUgdGFwZVwiKVxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICBxdWlja01lbnUuYXBwZW5kKG1lZGlhQmxvY2tzU2VjdGlvbik7XHJcblxyXG4gICAgICAgIGNvbnN0IGhlYWRpbmdCbG9ja3NTZWN0aW9uID0gbmV3IFF1aWNrTWVudVNlY3Rpb24oeyBxdWlja01lbnVJbnN0YW5jZTogcXVpY2tNZW51LCB0aXRsZTogJ0hlYWRpbmcnLCBjbGFzc0xpc3Q6ICdoZWFkaW5nLXNlY3Rpb24nIH0pO1xyXG5cclxuICAgICAgICBoZWFkaW5nQmxvY2tzU2VjdGlvbi5hcHBlbmRRdWlja01lbnVJdGVtcyhbXHJcbiAgICAgICAgICAgIG5ldyBRdWlja01lbnVJdGVtKGhlYWRpbmdCbG9ja3NTZWN0aW9uLCAnSGVhZGluZyAxJywgJ0xhcmdlIGhlYWRlciBmb3IgbWFpbiB0b3BpY3MuJywgJ2ljb24tanVsaWEtaGVhZC0xJywgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuSEVBREVSXzEsIFwiaGVhZGVyIDEgaGVhZGluZyAxIGgxXCIpLFxyXG4gICAgICAgICAgICBuZXcgUXVpY2tNZW51SXRlbShoZWFkaW5nQmxvY2tzU2VjdGlvbiwgJ0hlYWRpbmcgMicsICdNZWRpdW0gaGVhZGVyIGZvciBzZWN0aW9ucy4nLCAnaWNvbi1qdWxpYS1oZWFkLTInLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5IRUFERVJfMiwgXCJoZWFkZXIgMiBoZWFkaW5nIDIgaDJcIiksXHJcbiAgICAgICAgICAgIG5ldyBRdWlja01lbnVJdGVtKGhlYWRpbmdCbG9ja3NTZWN0aW9uLCAnSGVhZGluZyAzJywgJ1NtYWxsIGhlYWRlciBmb3Igc3Vic2VjdGlvbnMuJywgJ2ljb24tanVsaWEtaGVhZC0zJywgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuSEVBREVSXzMsIFwiaGVhZGVyIDMgaGVhZGluZyAzIGgzXCIpLFxyXG4gICAgICAgICAgICBuZXcgUXVpY2tNZW51SXRlbShoZWFkaW5nQmxvY2tzU2VjdGlvbiwgJ0hlYWRpbmcgNCcsICdEZXRhaWxlZCBoZWFkZXIgZm9yIHN1YnRvcGljcy4nLCAnaWNvbi1qdWxpYS1oZWFkLTQnLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5IRUFERVJfNCwgXCJoZWFkZXIgNCBoZWFkaW5nIDQgaDRcIiksXHJcbiAgICAgICAgICAgIG5ldyBRdWlja01lbnVJdGVtKGhlYWRpbmdCbG9ja3NTZWN0aW9uLCAnSGVhZGluZyA1JywgJ01pbm9yIGhlYWRlciBmb3Igc3BlY2lmaWNzLicsICdpY29uLWp1bGlhLWhlYWQtNScsIEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkhFQURFUl81LCBcImhlYWRlciA1IGhlYWRpbmcgNSBoNVwiKSxcclxuICAgICAgICAgICAgbmV3IFF1aWNrTWVudUl0ZW0oaGVhZGluZ0Jsb2Nrc1NlY3Rpb24sICdIZWFkaW5nIDYnLCAnU21hbGxlc3QgaGVhZGVyIGZvciBmaW5lIGRldGFpbHMuJywgJ2ljb24tanVsaWEtaGVhZC02JywgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuSEVBREVSXzYsIFwiaGVhZGVyIDYgaGVhZGluZyA2IGg2XCIpLFxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICBxdWlja01lbnUuYXBwZW5kKGhlYWRpbmdCbG9ja3NTZWN0aW9uKTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGxpc3RCbG9ja3NTZWN0aW9uID0gbmV3IFF1aWNrTWVudVNlY3Rpb24oeyBxdWlja01lbnVJbnN0YW5jZTogcXVpY2tNZW51LCB0aXRsZTogJ0xpc3QnLCBjbGFzc0xpc3Q6ICdsaXN0LXNlY3Rpb24nIH0pO1xyXG5cclxuICAgICAgICBsaXN0QmxvY2tzU2VjdGlvbi5hcHBlbmRRdWlja01lbnVJdGVtcyhbXHJcbiAgICAgICAgICAgIG5ldyBRdWlja01lbnVJdGVtKGxpc3RCbG9ja3NTZWN0aW9uLCAnVG9kbyBsaXN0JywgJ1RyYWNrIHRhc2tzIHdpdGggY2hlY2tib3hlcy4nLCAnaWNvbi1tYXRlcmlhbC1jaGVjay1saXN0LTInLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5DSEVDS19MSVNULCBcInRvZG8gbGlzdCB0YXNrIGxpc3QgY2hlY2tsaXN0XCIpLFxyXG4gICAgICAgICAgICBuZXcgUXVpY2tNZW51SXRlbShsaXN0QmxvY2tzU2VjdGlvbiwgJ0J1bGxldGVkIGxpc3QnLCAnT3JnYW5pemUgaXRlbXMgd2l0aCBidWxsZXQgcG9pbnRzLicsICdpY29uLXdvcmRwcmVzcy1idWxsZXRlZC1saXN0JywgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuQlVMTEVURURfTElTVCwgXCJidWxsZXRlZCBsaXN0IHVub3JkZXJlZCBsaXN0IHVsXCIpLFxyXG4gICAgICAgICAgICBuZXcgUXVpY2tNZW51SXRlbShsaXN0QmxvY2tzU2VjdGlvbiwgJ051bWJlcmVkIGxpc3QnLCAnTGlzdCBpdGVtcyBpbiBhIG51bWJlcmVkIGZvcm1hdC4nLCAnaWNvbi13b3JkcHJlc3MtbnVtYmVyZWQtbGlzdCcsIEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLk5VTUJFUkVEX0xJU1QsIFwibnVtYmVyZWQgbGlzdCBudW1iZXIgbGlzdCBzZXF1ZW50aWFsIGxpc3Qgb2wgZW51bWVyYXRlZCBsaXN0IG9yZGVyZWQgbGlzdFwiKVxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICBxdWlja01lbnUuYXBwZW5kKGxpc3RCbG9ja3NTZWN0aW9uKTtcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBlbWJlZFNlY3Rpb24gPSBuZXcgUXVpY2tNZW51U2VjdGlvbih7IHF1aWNrTWVudUluc3RhbmNlOiBxdWlja01lbnUsIHRpdGxlOiAnRW1iZWQnLCBjbGFzc0xpc3Q6ICdlbWJlZC1zZWN0aW9uJyB9KTtcclxuXHJcbiAgICAgICAgZW1iZWRTZWN0aW9uLmFwcGVuZFF1aWNrTWVudUl0ZW1zKFtcclxuICAgICAgICAgICAgbmV3IFF1aWNrTWVudUl0ZW0oZW1iZWRTZWN0aW9uLCAnR2l0SHViIEdpc3QnLCAnRW1iZWQgYSBHaXRIdWIgR2lzdC4nLCBJY29ucy5HaXRIdWIsICdnaXRodWItZ2lzdCcsIFwiY29kZSBnaXN0IGdpdGh1YiBzbmlwcGV0IGdpdFwiKSxcclxuICAgICAgICAgICAgLy8gbmV3IFF1aWNrTWVudUl0ZW0oZW1iZWRTZWN0aW9uLCAnR2l0TGFiIFNuaXBwZXQgJywgJ0xpc3QgaXRlbXMgaW4gYSBudW1iZXJlZCBmb3JtYXQuJywgSWNvbnMuR2l0TGFiLCAnZ2l0bGFiLXNuaXBwZXQnLCBcImNvZGUgZ2l0IGdpdGxhYiBzbmlwcGV0IGdpc3RcIiksXHJcbiAgICAgICAgICAgIC8vIG5ldyBRdWlja01lbnVJdGVtKGVtYmVkU2VjdGlvbiwgJ0dpdExhYiBTbmlwcGV0ICcsICdMaXN0IGl0ZW1zIGluIGEgbnVtYmVyZWQgZm9ybWF0LicsICdpY29uLXdvcmRwcmVzcy1udW1iZXJlZC1saXN0JywgJ251bWJlcmVkLWxpc3QnLCBcIm51bWJlcmVkIGxpc3QgbnVtYmVyIGxpc3Qgc2VxdWVudGlhbCBsaXN0IG9sIGVudW1lcmF0ZWQgbGlzdCBvcmRlcmVkIGxpc3RcIiksXHJcbiAgICAgICAgICAgIG5ldyBRdWlja01lbnVJdGVtKGVtYmVkU2VjdGlvbiwgJ0NvZGVQZW4nLCAnRW1iZWQgYSBDb2RlUGVuIHdlYiBkZW1vLicsIEljb25zLkNvZGVQZW4sICdjb2RlcGVuJywgXCJjb2RlIGNvZGVwZW5cIiksXHJcbiAgICAgICAgICAgIC8vIG5ldyBRdWlja01lbnVJdGVtKGVtYmVkU2VjdGlvbiwgJ0dvb2dsZSBNYXBzJywgJ0xpc3QgaXRlbXMgaW4gYSBudW1iZXJlZCBmb3JtYXQuJywgJ2ljb24td29yZHByZXNzLW51bWJlcmVkLWxpc3QnLCAnbnVtYmVyZWQtbGlzdCcsIFwibnVtYmVyZWQgbGlzdCBudW1iZXIgbGlzdCBzZXF1ZW50aWFsIGxpc3Qgb2wgZW51bWVyYXRlZCBsaXN0IG9yZGVyZWQgbGlzdFwiKSxcclxuICAgICAgICAgICAgbmV3IFF1aWNrTWVudUl0ZW0oZW1iZWRTZWN0aW9uLCAnU3BvdGlmeScsICdFbWJlZCBhIFNwb3RpZnkgYXVkaW8gdHJhY2suJywgSWNvbnMuU3BvdGlmeSwgJ3Nwb3RpZnknLCBcIm1wMyBzb3VuZCBhdWRpbyBtdXNpYyBzcG90aWZ5IHRyYWNrXCIpLFxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICBxdWlja01lbnUuYXBwZW5kKGVtYmVkU2VjdGlvbik7XHJcblxyXG4gICAgICAgIHJldHVybiBxdWlja01lbnU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBCYXNlVUlDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tbW9uL0Jhc2VVSUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBDdXN0b21FdmVudHMgfSBmcm9tIFwiQC9jb21tb24vQ3VzdG9tRXZlbnRzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGl0bGUgZXh0ZW5kcyBCYXNlVUlDb21wb25lbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoe1xyXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk6IEhUTUxFbGVtZW50IHtcclxuXHJcbiAgICAgICAgY29uc3QgaHRtbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0aXRsZVwiKTtcclxuXHJcbiAgICAgICAgY29uc3QgaDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XHJcbiAgICAgICAgaDEuc2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICBoMS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlaG9sZGVyXCIsIFwiVW50aXRsZWRcIik7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIGgxLnRleHRDb250ZW50ID0gdGhpcy5wcm9wcy52YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZENoaWxkKGgxKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGh0bWxFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjcmVhdGUodmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCk6IFRpdGxlIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRpdGxlKHZhbHVlKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFRpdGxlIH0gZnJvbSBcIkAvY29tcG9uZW50cy90aXRsZS9UaXRsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRpdGxlQnVpbGRlciB7XHJcbiAgICBzdGF0aWMgYnVpbGQoKTogVGl0bGUge1xyXG4gICAgICAgIHJldHVybiBUaXRsZS5jcmVhdGUod2luZG93LmVkaXRvckNvbmZpZz8udGl0bGUpXHJcbiAgICB9XHJcbn0iLCIvKipcclxuICogRW51bSBmb3Iga2V5Ym9hcmQgYXJyb3cgZGlyZWN0aW9ucy5cclxuICogQGVudW0ge3N0cmluZ31cclxuICovXHJcbmV4cG9ydCBlbnVtIERpcmVjdGlvbnMge1xyXG4gICAgLyoqIFJlcHJlc2VudHMgdGhlICdBcnJvd1VwJyBrZXksIHVzZWQgdG8gbmF2aWdhdGUgdXB3YXJkcyBpbiB0aGUgRWRpdG9yLiAqL1xyXG4gICAgQXJyb3dVcCA9IFwiQXJyb3dVcFwiLFxyXG4gICAgLyoqIFJlcHJlc2VudHMgdGhlICdBcnJvd0Rvd24nIGtleSwgdXNlZCB0byBuYXZpZ2F0ZSBkb3dud2FyZHMgaW4gdGhlIEVkaXRvci4gKi9cclxuICAgIEFycm93RG93biA9IFwiQXJyb3dEb3duXCIsXHJcbiAgICAvKiogUmVwcmVzZW50cyB0aGUgJ0Fycm93TGVmdCcga2V5LCB1c2VkIHRvIG5hdmlnYXRlIGxlZnQgaW4gdGhlIEVkaXRvci4gKi9cclxuICAgIEFycm93TGVmdCA9IFwiQXJyb3dMZWZ0XCIsXHJcbiAgICAvKiogUmVwcmVzZW50cyB0aGUgJ0Fycm93UmlnaHQnIGtleSwgdXNlZCB0byBuYXZpZ2F0ZSByaWdodCBpbiB0aGUgRWRpdG9yLiAqL1xyXG4gICAgQXJyb3dSaWdodCA9IFwiQXJyb3dSaWdodFwiLFxyXG59XHJcbiIsImV4cG9ydCBlbnVtIFRhYmxlU2NvcGVzIHtcclxuICAgIENvbHVtbiA9IFwiQ29sdW1uXCIsXHJcbiAgICBSb3cgPSBcIlJvd1wiLFxyXG4gICAgQ2VsbCA9IFwiQ2VsbFwiLFxyXG4gICAgU2VsZWN0ZWRDZWxscyA9IFwiU2VsZWN0ZWRDZWxsc1wiXHJcbn0iLCJleHBvcnQgZW51bSBTZWxlY3Rpb25Nb2RlcyB7XHJcbiAgICBUZXh0ID0gXCJUZXh0XCIsXHJcbiAgICBDZWxsID0gXCJDZWxsXCIsXHJcbiAgICBCbG9jayA9IFwiQmxvY2tcIlxyXG59IiwiaW1wb3J0IHsgQ29tbW9uQ2xhc3NlcyB9IGZyb20gXCJAL2NvbW1vbi9Db21tb25DbGFzc2VzXCI7XHJcbmltcG9ydCB7IFRvb2xib3hPcHRpb25zIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvYmxvY2stdG9vbGJveC9Ub29sYm94T3B0aW9uc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVtYmVkVG9vbCB7XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIGVtYmVkSW1hZ2UodXJsT2JqOiBzdHJpbmcsIGxhc3RGb2N1c2VkRWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHVybE9iaik7XHJcblxyXG4gICAgICAgIGlmICghYXdhaXQgRW1iZWRUb29sLnZhbGlkYXRlSW1hZ2UodXJsLnRvU3RyaW5nKCkpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgaW1hZ2VcIilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY3JlYXRlRW1iZWRDb250YWluZXIoKTtcclxuXHJcbiAgICAgICAgLy8gY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJ4LXJlc2l6YWJsZVwiKTtcclxuICAgICAgICBjb250YWluZXIuc3R5bGUubWF4V2lkdGggPSBcIjEwMCVcIjtcclxuICAgICAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSAnZml0LWNvbnRlbnQnO1xyXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XHJcblxyXG4gICAgICAgIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcblxyXG4gICAgICAgIGltYWdlLnNyYyA9IHVybC50b1N0cmluZygpO1xyXG4gICAgICAgIGltYWdlLmFsdCA9ICcnO1xyXG4gICAgICAgIGltYWdlLnN0eWxlLm1heFdpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgIGltYWdlLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgIGltYWdlLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcclxuXHJcbiAgICAgICAgY29udGFpbmVyLnByZXBlbmQoaW1hZ2UpO1xyXG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFRvb2xib3hPcHRpb25zLkFsaWduVG9vbENsYXNzKTtcclxuICAgICAgICBFbWJlZFRvb2wuZmluYWxpemVFbWJlZChjb250YWluZXIsIFtUb29sYm94T3B0aW9ucy5BbGlnblRvb2xDbGFzcywgXCJmaXQtY29udGVudFwiXSwgbGFzdEZvY3VzZWRFbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdmFsaWRhdGVJbWFnZSh1cmxUb0NoZWNrOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG5cclxuICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGltYWdlLm9uZXJyb3IgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGltYWdlLnNyYyA9IHVybFRvQ2hlY2s7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGVtYmVkR29vZ2xlU2hlZXQodXJsT2JqOiBVUkwsIGxhc3RGb2N1c2VkRWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBzaGVldElkID0gdXJsT2JqLnBhdGhuYW1lLnNwbGl0KCcvJylbM107XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gRW1iZWRUb29sLmNyZWF0ZUVtYmVkQ29udGFpbmVyKFtcImVtYmVkLWNvbnRhaW5lclwiXSk7XHJcbiAgICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNhZmVTaGVldElkID0gZW5jb2RlVVJJQ29tcG9uZW50KHNoZWV0SWQpO1xyXG5cclxuICAgICAgICBpZnJhbWUuc3JjID0gYGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kL2UvJHtzYWZlU2hlZXRJZH0vcHViaHRtbD93aWRnZXQ9dHJ1ZSZhbXA7aGVhZGVycz1mYWxzZWA7XHJcbiAgICAgICAgaWZyYW1lLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgIGlmcmFtZS5zdHlsZS5oZWlnaHQgPSAnNDUwcHgnO1xyXG4gICAgICAgIGlmcmFtZS5mcmFtZUJvcmRlciA9ICcwJztcclxuICAgICAgICBpZnJhbWUuYWxsb3dGdWxsc2NyZWVuID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlmcmFtZSk7XHJcbiAgICAgICAgRW1iZWRUb29sLmZpbmFsaXplRW1iZWQoY29udGFpbmVyLCBbXCJ4LXJlc2l6YWJsZVwiXSwgbGFzdEZvY3VzZWRFbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZW1iZWRZb3VUdWJlVmlkZW9Bc0lmcmFtZSh1cmxPYmo6IFVSTCwgZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuXHJcbiAgICAgICAgY29uc3QgdmlkZW9JZCA9IHVybE9iai5zZWFyY2hQYXJhbXMuZ2V0KCd2Jyk7XHJcbiAgICAgICAgaWYgKHZpZGVvSWQpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY3JlYXRlRW1iZWRDb250YWluZXIoW1wiZW1iZWQtY29udGFpbmVyXCJdKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc2FmZVZpZGVvSWQgPSBlbmNvZGVVUklDb21wb25lbnQodmlkZW9JZCk7XHJcblxyXG4gICAgICAgICAgICBpZnJhbWUuc3JjID0gYGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyR7c2FmZVZpZGVvSWR9YDtcclxuICAgICAgICAgICAgaWZyYW1lLmZyYW1lQm9yZGVyID0gXCIwXCI7XHJcbiAgICAgICAgICAgIGlmcmFtZS5hbGxvdyA9IFwiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkLW1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZVwiO1xyXG4gICAgICAgICAgICBpZnJhbWUuYWxsb3dGdWxsc2NyZWVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlmcmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFRvb2xib3hPcHRpb25zLkFsaWduVG9vbENsYXNzKTtcclxuICAgICAgICAgICAgdGhpcy5maW5hbGl6ZUVtYmVkKGNvbnRhaW5lciwgW1wieC1yZXNpemFibGVcIiwgVG9vbGJveE9wdGlvbnMuQWxpZ25Ub29sQ2xhc3NdLCBlbGVtZW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIFlvdVR1YmUgdmlkZW8gVVJMJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBlbWJlZFlvdVR1YmVTaG9ydEFzSWZyYW1lKHVybE9iajogVVJMLCBlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHBhdGhTZWdtZW50cyA9IHVybE9iai5wYXRobmFtZS5zcGxpdCgnLycpO1xyXG4gICAgICAgIGNvbnN0IHNob3J0SWQgPSBwYXRoU2VnbWVudHNbcGF0aFNlZ21lbnRzLmxlbmd0aCAtIDFdO1xyXG5cclxuICAgICAgICBpZiAoc2hvcnRJZCkge1xyXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBFbWJlZFRvb2wuY3JlYXRlRW1iZWRDb250YWluZXIoW1wiZW1iZWQtY29udGFpbmVyXCJdKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc2FmZVNob3J0SWRJZCA9IGVuY29kZVVSSUNvbXBvbmVudChzaG9ydElkKTtcclxuXHJcbiAgICAgICAgICAgIGlmcmFtZS5zcmMgPSBgaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJHtzYWZlU2hvcnRJZElkfWA7XHJcbiAgICAgICAgICAgIGlmcmFtZS5mcmFtZUJvcmRlciA9IFwiMFwiO1xyXG4gICAgICAgICAgICBpZnJhbWUuYWxsb3cgPSBcImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmVcIjtcclxuICAgICAgICAgICAgaWZyYW1lLmFsbG93RnVsbHNjcmVlbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpZnJhbWUpO1xyXG4gICAgICAgICAgICBFbWJlZFRvb2wuZmluYWxpemVFbWJlZChjb250YWluZXIsIFtcIngtcmVzaXphYmxlXCIsIFRvb2xib3hPcHRpb25zLkFsaWduVG9vbENsYXNzXSwgZWxlbWVudCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBZb3VUdWJlIFNob3J0cyBVUkwnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGVtYmVkWW91VHViZVBsYXlsaXN0QXNJZnJhbWUodXJsT2JqOiBVUkwsIGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgbGlzdElkID0gdXJsT2JqLnNlYXJjaFBhcmFtcy5nZXQoJ2xpc3QnKTtcclxuICAgICAgICBpZiAobGlzdElkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IEVtYmVkVG9vbC5jcmVhdGVFbWJlZENvbnRhaW5lcihbXCJlbWJlZC1jb250YWluZXJcIl0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc2FmZUxpc3RJZCA9IGVuY29kZVVSSUNvbXBvbmVudChsaXN0SWQpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XHJcbiAgICAgICAgICAgIGlmcmFtZS5zcmMgPSBgaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvdmlkZW9zZXJpZXM/bGlzdD0ke3NhZmVMaXN0SWR9YDtcclxuICAgICAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcImFsbG93ZnVsbHNjcmVlblwiLCBcInRydWVcIik7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpZnJhbWUpO1xyXG4gICAgICAgICAgICBFbWJlZFRvb2wuZmluYWxpemVFbWJlZChjb250YWluZXIsIFtcIngtcmVzaXphYmxlXCIsIFRvb2xib3hPcHRpb25zLkFsaWduVG9vbENsYXNzXSwgZWxlbWVudCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBZb3VUdWJlIHBsYXlsaXN0IFVSTCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZW1iZWRTcG90aWZ5Q29udGVudCh1cmxPYmo6IFVSTCwgZWxlbWVudDogSFRNTEVsZW1lbnQsIHR5cGU6IEVtYmVkVHlwZXMpIHtcclxuICAgICAgICBjb25zdCBjb250ZW50SWQgPSB1cmxPYmoucGF0aG5hbWUuc3BsaXQoJy8nKS5wb3AoKTtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNyZWF0ZUVtYmVkQ29udGFpbmVyKFtcImVtYmVkLWNvbnRhaW5lclwiXSk7XHJcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJzcG90aWZ5LWVtYmVkXCIsIFRvb2xib3hPcHRpb25zLkFsaWduVG9vbENsYXNzKTtcclxuXHJcblxyXG4gICAgICAgIGlmICghY29udGVudElkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJjb250ZW50SWQgaXMgZW1wdHlcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHNhZmVDb250ZW50SWQgPSBlbmNvZGVVUklDb21wb25lbnQoY29udGVudElkKTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xyXG4gICAgICAgIGlmcmFtZS5jbGFzc0xpc3QuYWRkKFwic3BvdGlmeS1lbWJlZFwiKTtcclxuICAgICAgICBpZnJhbWUuc3JjID0gYGh0dHBzOi8vb3Blbi5zcG90aWZ5LmNvbS9lbWJlZC8ke3R5cGV9LyR7c2FmZUNvbnRlbnRJZH1gO1xyXG4gICAgICAgIGlmcmFtZS5mcmFtZUJvcmRlciA9IFwiMFwiO1xyXG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJzY3JvbGxpbmdcIiwgXCJub1wiKTtcclxuXHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRW1iZWRUeXBlcy5TcG90aWZ5VHJhY2s6XHJcbiAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUuaGVpZ2h0ID0gXCI4MHB4XCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBFbWJlZFR5cGVzLlNwb3RpZnlQbGF5bGlzdDpcclxuICAgICAgICAgICAgY2FzZSBFbWJlZFR5cGVzLlNwb3RpZnlTaG93OlxyXG4gICAgICAgICAgICBjYXNlIEVtYmVkVHlwZXMuU3BvdGlmeUVwaXNvZGU6XHJcbiAgICAgICAgICAgIGNhc2UgRW1iZWRUeXBlcy5TcG90aWZ5QXJ0aXN0OlxyXG4gICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9IFwiMzgwcHhcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9IFwiMzAwcHhcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpZnJhbWUpO1xyXG4gICAgICAgIHRoaXMuZmluYWxpemVFbWJlZChjb250YWluZXIsIFtcIngtcmVzaXphYmxlXCIsIFRvb2xib3hPcHRpb25zLkFsaWduVG9vbENsYXNzXSwgZWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIGVtYmVkR2lzdEFzU2NyaXB0KHVybE9iajogVVJMLCBlbGVtZW50OiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGdpc3RJZCA9IHVybE9iai5wYXRobmFtZS5zcGxpdCgnLycpLnBvcCgpO1xyXG4gICAgICAgIGlmICghZ2lzdElkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIEdpc3QgSURcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHNoYWRvd0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHNoYWRvd0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcInNoYWRvdy1lbGVtZW50XCIpO1xyXG5cclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBFbWJlZFRvb2wuY3JlYXRlRW1iZWRDb250YWluZXIoW1wiZ2lzdC1lbWJlZC1jb250YWluZXJcIiwgXCJmaWd1cmUtZW1iZWQtY29udGFpbmVyXCIsIFwiaWdub3JlLXRleHQtZmxvYXRpbmctdG9vbGJhclwiXSk7XHJcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLm1pbkhlaWdodCA9IFwiMTAwcHhcIjtcclxuICAgICAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XHJcblxyXG5cclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc2hhZG93RWxlbWVudCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNoYWRvd1Jvb3QgPSBzaGFkb3dFbGVtZW50LmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2FmZUdpc3RJZCA9IGVuY29kZVVSSUNvbXBvbmVudChnaXN0SWQpO1xyXG5cclxuICAgICAgICBjb25zdCBzY3JpcHRTcmMgPSBgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vJHtzYWZlR2lzdElkfS5qc2A7XHJcbiAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICAgICAgc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcclxuICAgICAgICBzY3JpcHQuc3JjID0gc2NyaXB0U3JjO1xyXG4gICAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XHJcblxyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsV3JpdGUgPSBkb2N1bWVudC53cml0ZTtcclxuICAgICAgICBsZXQgc2NyaXB0T3V0cHV0ID0gJyc7XHJcbiAgICAgICAgZG9jdW1lbnQud3JpdGUgPSAoY29udGVudDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIHNjcmlwdE91dHB1dCArPSBjb250ZW50O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNjcmlwdC5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LndyaXRlID0gb3JpZ2luYWxXcml0ZTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgdGVtcERpdi5pbm5lckhUTUwgPSBzY3JpcHRPdXRwdXQ7XHJcblxyXG4gICAgICAgICAgICBBcnJheS5mcm9tKHRlbXBEaXYuY2hpbGROb2RlcykuZm9yRWFjaChub2RlID0+IHtcclxuICAgICAgICAgICAgICAgIHNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQobm9kZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJHaXN0IGxvYWRlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LndyaXRlID0gb3JpZ2luYWxXcml0ZTtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBsb2FkIHRoZSBHaXN0XCIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuXHJcbiAgICAgICAgRW1iZWRUb29sLmZpbmFsaXplRW1iZWQoY29udGFpbmVyLCBbXSwgZWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGVtYmVkQ29kZXBlbkFzSWZyYW1lKHVybE9iajogVVJMLCBlbGVtZW50OiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IHBhcnRzID0gdXJsT2JqLnBhdGhuYW1lLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA8IDQgfHwgcGFydHNbMV0gPT09ICcnIHx8IHBhcnRzWzNdID09PSAnJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIFVSTDogRXhwZWN0ZWQgZm9ybWF0IC91c2VyL3t1c2VybmFtZX0vcGVuL3twZW5JZH0nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB1c2VyID0gcGFydHNbMV07XHJcbiAgICAgICAgY29uc3QgcGVuID0gcGFydHNbM107XHJcblxyXG4gICAgICAgIGNvbnN0IHNhZmVVc2VyID0gZW5jb2RlVVJJQ29tcG9uZW50KHVzZXIpO1xyXG4gICAgICAgIGNvbnN0IHNhZmVQZW4gPSBlbmNvZGVVUklDb21wb25lbnQocGVuKTtcclxuXHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gRW1iZWRUb29sLmNyZWF0ZUVtYmVkQ29udGFpbmVyKFtcImVtYmVkLWNvbnRhaW5lclwiXSk7XHJcbiAgICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XHJcbiAgICAgICAgaWZyYW1lLnNyYyA9IGBodHRwczovL2NvZGVwZW4uaW8vJHtzYWZlVXNlcn0vZW1iZWQvJHtzYWZlUGVufT9oZWlnaHQ9MjY1JnRoZW1lLWlkPWxpZ2h0JmRlZmF1bHQtdGFiPWpzLHJlc3VsdGA7XHJcbiAgICAgICAgaWZyYW1lLnN0eWxlLmJvcmRlciA9IFwibm9uZVwiO1xyXG4gICAgICAgIGlmcmFtZS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBpZnJhbWUuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuICAgICAgICBpZnJhbWUuc3R5bGUub3ZlcmZsb3cgPSBcInZpc2libGVcIjtcclxuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdzYW5kYm94JywgJ2FsbG93LXNjcmlwdHMgYWxsb3ctc2FtZS1vcmlnaW4nLCk7XHJcblxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpZnJhbWUpO1xyXG4gICAgICAgIEVtYmVkVG9vbC5maW5hbGl6ZUVtYmVkKGNvbnRhaW5lciwgW1wieS1yZXNpemFibGVcIl0sIGVsZW1lbnQpO1xyXG5cclxuICAgICAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihlbnRyaWVzID0+IHtcclxuICAgICAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgZW50cmllcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBoZWlnaHQgfSA9IGVudHJ5LmNvbnRlbnRSZWN0O1xyXG4gICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFyZW50ID0gY29udGFpbmVyLmNsb3Nlc3QoXCIuam9oYW5uZXMtY29udGVudC1lbGVtZW50XCIpO1xyXG4gICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5hZGQoXCJvdmVyZmxvdy1oaWRkZW5cIik7XHJcbiAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUocGFyZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY3JlYXRlRW1iZWRDb250YWluZXIoY2xhc3Nlczogc3RyaW5nW10gPSBbXSk6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBmaWd1cmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmaWd1cmUnKTtcclxuICAgICAgICBmaWd1cmUuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzKTtcclxuXHJcbiAgICAgICAgY29uc3QgZmlnY2FwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZpZ2NhcHRpb24nKTtcclxuICAgICAgICBmaWdjYXB0aW9uLnNldEF0dHJpYnV0ZShcImRhdGEtcGxhY2Vob2xkZXJcIiwgXCJUeXBlIGEgY2FwdGlvbiBmb3IgdGhpcyBpbWFnZVwiKTtcclxuICAgICAgICBmaWdjYXB0aW9uLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCBcInRydWVcIik7XHJcbiAgICAgICAgZmlnY2FwdGlvbi5jbGFzc0xpc3QuYWRkKFwiZWRpdGFibGVcIiwgXCJoaWRlLXR1cm5pbnRvXCIsIFwiaGlkZS1tb3Jlb3B0aW9uc1wiLCBcImhpZGUtaW5saW5lQ29kZVwiKTtcclxuXHJcbiAgICAgICAgZmlndXJlLmFwcGVuZENoaWxkKGZpZ2NhcHRpb24pO1xyXG5cclxuICAgICAgICByZXR1cm4gZmlndXJlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGZpbmFsaXplRW1iZWQoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgY29udGVudEVsZW1lbnRDbGFzc2VzOiBzdHJpbmdbXSA9IFtdLCBsYXN0Rm9jdXNlZEVsZW1lbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBsYXN0Rm9jdXNlZEVsZW1lbnQuY2xvc2VzdChgLiR7Q29tbW9uQ2xhc3Nlcy5Db250ZW50RWxlbWVudH1gKTtcclxuICAgICAgICBpZiAoY29udGVudCkge1xyXG4gICAgICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5hZGQoLi4uY29udGVudEVsZW1lbnRDbGFzc2VzKTtcclxuICAgICAgICAgICAgd2hpbGUgKGNvbnRlbnQuZmlyc3RDaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgY29udGVudC5yZW1vdmVDaGlsZChjb250ZW50LmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGJsb2NrID0gY29udGVudC5jbG9zZXN0KFwiLmJsb2NrXCIpO1xyXG4gICAgICAgICAgICBjb25zdCB0b29sYmFyV3JhcHBlciA9IGJsb2NrPy5xdWVyeVNlbGVjdG9yKFwiLmJsb2NrLXRvb2xiYXItd3JhcHBlclwiKTtcclxuICAgICAgICAgICAgdG9vbGJhcldyYXBwZXI/LnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGRldGVybWluZUVtYmVkVHlwZSh1cmw6IHN0cmluZyk6IEVtYmVkVHlwZXMgfCBudWxsIHtcclxuICAgICAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybCk7XHJcbiAgICAgICAgY29uc3QgZG9tYWluID0gdXJsT2JqLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9IHVybE9iai5wYXRobmFtZS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgICBpZiAoL14oPzouKlxcLik/c3BvdGlmeVxcLmNvbSQvLnRlc3QoZG9tYWluKSkge1xyXG4gICAgICAgICAgICBpZiAocGF0aC5pbmNsdWRlcyhcIi90cmFja1wiKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVtYmVkVHlwZXMuU3BvdGlmeVRyYWNrO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhdGguaW5jbHVkZXMoXCIvcGxheWxpc3RcIikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBFbWJlZFR5cGVzLlNwb3RpZnlQbGF5bGlzdDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXRoLmluY2x1ZGVzKFwiL2FydGlzdFwiKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVtYmVkVHlwZXMuU3BvdGlmeUFydGlzdDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXRoLmluY2x1ZGVzKFwiL2VwaXNvZGVcIikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBFbWJlZFR5cGVzLlNwb3RpZnlFcGlzb2RlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhdGguaW5jbHVkZXMoXCIvc2hvd1wiKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVtYmVkVHlwZXMuU3BvdGlmeVNob3c7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKC9eKD86LipcXC4pPyh5b3V0dWJlXFwuY29tfHlvdXR1XFwuYmUpJC8udGVzdChkb21haW4pKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXRoLmluY2x1ZGVzKFwiL3dhdGNoXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodXJsT2JqLnNlYXJjaFBhcmFtcy5oYXMoXCJsaXN0XCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVtYmVkVHlwZXMuWW91VHViZVBsYXlsaXN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVtYmVkVHlwZXMuWW91VHViZVZpZGVvO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhdGguaW5jbHVkZXMoXCIvcGxheWxpc3RcIikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBFbWJlZFR5cGVzLllvdVR1YmVQbGF5bGlzdDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXRoLmluY2x1ZGVzKFwiL3Nob3J0c1wiKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVtYmVkVHlwZXMuWW91VHViZVNob3J0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChkb21haW4gPT09IFwidmltZW8uY29tXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEVtYmVkVHlwZXMuVmltZW9WaWRlbztcclxuICAgICAgICB9IGVsc2UgaWYgKGRvbWFpbiA9PT0gXCJkb2NzLmdvb2dsZS5jb21cIiAmJiBwYXRoLmluY2x1ZGVzKFwiL3NwcmVhZHNoZWV0c1wiKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gRW1iZWRUeXBlcy5Hb29nbGVTaGVldDtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvbWFpbiA9PT0gXCJ0d2l0dGVyLmNvbVwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBFbWJlZFR5cGVzLlR3ZWV0O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZG9tYWluID09PSBcImdvb2dsZS5jb21cIiAmJiBwYXRoLmluY2x1ZGVzKFwiL21hcHNcIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEVtYmVkVHlwZXMuR29vZ2xlTWFwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZG9tYWluID09PSBcImdpc3QuZ2l0aHViLmNvbVwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBFbWJlZFR5cGVzLkdpdEh1Ykdpc3Q7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkb21haW4gPT09IFwiZ2l0bGFiLmNvbVwiICYmIHBhdGguaW5jbHVkZXMoXCIvc25pcHBldHNcIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEVtYmVkVHlwZXMuR2l0TGFiU25pcHBldDtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvbWFpbiA9PT0gXCJjb2RlcGVuLmlvXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEVtYmVkVHlwZXMuQ29kZVBlbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZW51bSBFbWJlZFR5cGVzIHtcclxuICAgIFNwb3RpZnlUcmFjayA9IFwidHJhY2tcIixcclxuICAgIFNwb3RpZnlQbGF5bGlzdCA9IFwicGxheWxpc3RcIixcclxuICAgIFNwb3RpZnlBcnRpc3QgPSBcImFydGlzdFwiLFxyXG4gICAgU3BvdGlmeUVwaXNvZGUgPSBcImVwaXNvZGVcIixcclxuICAgIFNwb3RpZnlTaG93ID0gXCJzaG93XCIsXHJcbiAgICBZb3VUdWJlVmlkZW8gPSBcInZpZGVvXCIsXHJcbiAgICBZb3VUdWJlUGxheWxpc3QgPSBcInBsYXlsaXN0XCIsXHJcbiAgICBZb3VUdWJlU2hvcnQgPSBcInNob3J0XCIsXHJcbiAgICBWaW1lb1ZpZGVvID0gXCJ2aWRlb1wiLFxyXG4gICAgR29vZ2xlU2hlZXQgPSBcInNoZWV0XCIsXHJcbiAgICBUd2VldCA9IFwidHdlZXRcIixcclxuICAgIEdvb2dsZU1hcCA9IFwibWFwXCIsXHJcbiAgICBHaXRIdWJHaXN0ID0gXCJnaXN0XCIsXHJcbiAgICBHaXRMYWJTbmlwcGV0ID0gXCJzbmlwcGV0XCIsXHJcbiAgICBDb2RlUGVuID0gXCJwZW5cIlxyXG59IiwiZXhwb3J0IGVudW0gVG9vbGJhcklEcyB7XHJcbiAgICBUYWJsZVRvb2xiYXIgPSBcInRhYmxlRmxvYXRpbmdUb29sYmFyXCIsXHJcbiAgICBUZXh0VG9vbGJhciA9IFwidGV4dEZsb2F0aW5nVG9vbGJhclwiXHJcbn0iLCIvKipcclxuICogRW51bSBmb3Igc3BlY2lmeWluZyBib3VuZGFyaWVzIHdpdGhpbiBhbiBlbGVtZW50LlxyXG4gKiBAZW51bSB7c3RyaW5nfVxyXG4gKi9cclxuZXhwb3J0IGVudW0gQm91bmRhcmllcyB7XHJcbiAgICAvKiogUmVwcmVzZW50cyB0aGUgZmlyc3QgbGluZSBvZiBhbiBlbGVtZW50LCBpbXBvcnRhbnQgZm9yIGRldGVybWluaW5nIGlmIHRoZSBjdXJzb3IgaXMgYXQgdGhlIHN0YXJ0aW5nIGJvdW5kYXJ5LiAqL1xyXG4gICAgRmlyc3QgPSBcIkZpcnN0XCIsXHJcbiAgICAvKiogUmVwcmVzZW50cyB0aGUgbGFzdCBsaW5lIG9mIGFuIGVsZW1lbnQsIGltcG9ydGFudCBmb3IgZGV0ZXJtaW5pbmcgaWYgdGhlIGN1cnNvciBpcyBhdCB0aGUgZW5kaW5nIGJvdW5kYXJ5LiAqL1xyXG4gICAgTGFzdCA9IFwiTGFzdFwiXHJcbn0iLCJpbXBvcnQgeyBEaXJlY3Rpb25zIH0gZnJvbSBcIkAvY29tbW9uL0RpcmVjdGlvbnNcIjtcclxuaW1wb3J0IHsgVGFibGVTY29wZXMgfSBmcm9tIFwiQC9zZXJ2aWNlcy90YWJsZS1vcGVyYXRpb25zL1RhYmxlU2NvcGVzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGFibGVVdGlscyB7XHJcblxyXG4gICAgc3RhdGljIGFkZFJvdyh0YWJsZTogSFRNTFRhYmxlRWxlbWVudCwgcG9zaXRpb246IG51bWJlciB8IG51bGwgPSBudWxsKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgaW5zZXJ0UG9zaXRpb24gPSAocG9zaXRpb24gIT09IG51bGwgJiYgcG9zaXRpb24gPj0gMCAmJiBwb3NpdGlvbiA8PSB0YWJsZS5yb3dzLmxlbmd0aCkgPyBwb3NpdGlvbiA6IHRhYmxlLnJvd3MubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IG5ld1JvdyA9IHRhYmxlLmluc2VydFJvdyhpbnNlcnRQb3NpdGlvbik7XHJcblxyXG4gICAgICAgIGNvbnN0IG51bUNvbHVtbnMgPSBBcnJheS5mcm9tKHRhYmxlLnJvd3MpLnJlZHVjZSgobWF4LCByb3cpID0+IE1hdGgubWF4KG1heCwgcm93LmNlbGxzLmxlbmd0aCksIDApO1xyXG4gICAgICAgIGxldCBhZmZlY3RlZENlbGxzID0gW107ICAvLyBBcnJheSB0byBob2xkIHJlZmVyZW5jZXMgdG8gbmV3IGNlbGxzXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQ29sdW1uczsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBuZXdSb3cuaW5zZXJ0Q2VsbCgpO1xyXG4gICAgICAgICAgICBjZWxsLmNvbnRlbnRFZGl0YWJsZSA9IFwidHJ1ZVwiO1xyXG4gICAgICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZShcImRhdGEtcGxhY2Vob2xkZXJcIiwgXCJFbnRlciB0ZXh0XCIpO1xyXG4gICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJlZGl0YWJsZVwiKTtcclxuICAgICAgICAgICAgYWZmZWN0ZWRDZWxscy5wdXNoKGNlbGwpOyAgLy8gQWRkIGNlbGwgcmVmZXJlbmNlIHRvIGFycmF5XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgYWZmZWN0ZWRDZWxscy5mb3JFYWNoKGNlbGwgPT4gY2VsbC5jbGFzc0xpc3QucmVtb3ZlKFwidGVtcG9yYXJ5LXNoYWRvd1wiKSk7XHJcbiAgICAgICAgfSwgNzAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYWRkQ29sdW1uKHRhYmxlOiBIVE1MVGFibGVFbGVtZW50LCBwb3NpdGlvbjogbnVtYmVyIHwgbnVsbCA9IG51bGwpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBpbnNlcnRQb3NpdGlvbiA9IHBvc2l0aW9uICE9PSBudWxsID8gcG9zaXRpb24gOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgbGV0IGFmZmVjdGVkQ2VsbHMgPSBbXTsgIC8vIEFycmF5IHRvIGhvbGQgcmVmZXJlbmNlcyB0byBuZXcgY2VsbHNcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWJsZS5yb3dzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbGwgPSB0YWJsZS5yb3dzW2ldLmluc2VydENlbGwoaW5zZXJ0UG9zaXRpb24pO1xyXG4gICAgICAgICAgICBjZWxsLmNvbnRlbnRFZGl0YWJsZSA9IFwidHJ1ZVwiO1xyXG4gICAgICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZShcImRhdGEtcGxhY2Vob2xkZXJcIiwgXCJjZWxsXCIpO1xyXG4gICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJlZGl0YWJsZVwiKTtcclxuICAgICAgICAgICAgYWZmZWN0ZWRDZWxscy5wdXNoKGNlbGwpOyAgLy8gQWRkIGNlbGwgcmVmZXJlbmNlIHRvIGFycmF5XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgYWZmZWN0ZWRDZWxscy5mb3JFYWNoKGNlbGwgPT4gY2VsbC5jbGFzc0xpc3QucmVtb3ZlKFwidGVtcG9yYXJ5LXNoYWRvd1wiKSk7XHJcbiAgICAgICAgfSwgNzAwKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGlzTGFzdENvbHVtbih0YWJsZTogSFRNTFRhYmxlRWxlbWVudCwgY2VsbDogSFRNTFRhYmxlQ2VsbEVsZW1lbnQpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIXRhYmxlLmNvbnRhaW5zKGNlbGwpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNlbGxSb3cgPSBjZWxsLnBhcmVudEVsZW1lbnQgYXMgSFRNTFRhYmxlUm93RWxlbWVudDtcclxuICAgICAgICBjb25zdCBsYXN0Q2VsbEluUm93ID0gY2VsbFJvdy5jZWxsc1tjZWxsUm93LmNlbGxzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIHJldHVybiBjZWxsID09PSBsYXN0Q2VsbEluUm93O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpc0xhc3RSb3codGFibGU6IEhUTUxUYWJsZUVsZW1lbnQsIGNlbGw6IEhUTUxUYWJsZUNlbGxFbGVtZW50KTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCF0YWJsZS5jb250YWlucyhjZWxsKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjZWxsUm93ID0gY2VsbC5wYXJlbnRFbGVtZW50IGFzIEhUTUxUYWJsZVJvd0VsZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgbGFzdFJvd0luVGFibGUgPSB0YWJsZS5yb3dzW3RhYmxlLnJvd3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgcmV0dXJuIGNlbGxSb3cgPT09IGxhc3RSb3dJblRhYmxlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZW1vdmVDb2x1bW5CeUNlbGwoY2VsbDogSFRNTFRhYmxlQ2VsbEVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBpZiAoY2VsbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwidGRcIiAmJiBjZWxsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJ0aFwiKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBwcm92aWRlZCBlbGVtZW50IGlzIG5vdCBhIHRhYmxlIGNlbGwuXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgcm93ID0gY2VsbC5wYXJlbnRFbGVtZW50IGFzIEhUTUxUYWJsZVJvd0VsZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgdGFibGUgPSByb3cucGFyZW50RWxlbWVudCBhcyBIVE1MVGFibGVFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IGNvbHVtbkluZGV4ID0gY2VsbC5jZWxsSW5kZXg7XHJcblxyXG4gICAgICAgIC8vIEFkZCBmYWRlLW91dCBjbGFzcyB0byBhbGwgY2VsbHMgaW4gdGhlIGNvbHVtblxyXG4gICAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGFibGUucm93cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vICAgICBpZiAoY29sdW1uSW5kZXggPCB0YWJsZS5yb3dzW2ldLmNlbGxzLmxlbmd0aCkge1xyXG4gICAgICAgIC8vICAgICAgICAgdGFibGUucm93c1tpXS5jZWxsc1tjb2x1bW5JbmRleF0uY2xhc3NMaXN0LmFkZChcImZhZGUtb3V0XCIpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAvLyBEZWxheSB0aGUgY29sdW1uIHJlbW92YWwgZm9yIDMwMCBtaWxsaXNlY29uZHNcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWJsZS5yb3dzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2x1bW5JbmRleCA8IHRhYmxlLnJvd3NbaV0uY2VsbHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0YWJsZS5yb3dzW2ldLmRlbGV0ZUNlbGwoY29sdW1uSW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWJsZS5yb3dzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoY29sdW1uSW5kZXggPCB0YWJsZS5yb3dzW2ldLmNlbGxzLmxlbmd0aCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRhYmxlLnJvd3NbaV0uZGVsZXRlQ2VsbChjb2x1bW5JbmRleCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9LCA5MDApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZW1vdmVSb3dCeUNlbGwoY2VsbDogSFRNTFRhYmxlQ2VsbEVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBpZiAoY2VsbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwidGRcIiAmJiBjZWxsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJ0aFwiKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBwcm92aWRlZCBlbGVtZW50IGlzIG5vdCBhIHRhYmxlIGNlbGwuXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgcm93ID0gY2VsbC5wYXJlbnRFbGVtZW50IGFzIEhUTUxUYWJsZVJvd0VsZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgdGFibGUgPSByb3cucGFyZW50RWxlbWVudCBhcyBIVE1MVGFibGVFbGVtZW50O1xyXG5cclxuICAgICAgICAvLyBBZGQgZmFkZS1vdXQgY2xhc3MgdG8gYWxsIGNlbGxzIGluIHRoZSByb3dcclxuICAgICAgICAvLyBBcnJheS5mcm9tKHJvdy5jZWxscykuZm9yRWFjaChjZWxsID0+IHtcclxuICAgICAgICAvLyAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwiZmFkZS1vdXRcIik7XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIC8vIERlbGF5IHRoZSByb3cgcmVtb3ZhbCBmb3IgMzAwIG1pbGxpc2Vjb25kc1xyXG5cclxuICAgICAgICB0YWJsZS5kZWxldGVSb3cocm93LnJvd0luZGV4KTtcclxuXHJcbiAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIHRhYmxlLmRlbGV0ZVJvdyhyb3cucm93SW5kZXgpO1xyXG4gICAgICAgIC8vIH0sIDkwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEFjdGl2ZVRhYmxlQ2VsbCgpOiBIVE1MVGFibGVDZWxsRWxlbWVudCB8IG51bGwge1xyXG4gICAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xyXG5cclxuICAgICAgICBpZiAoYWN0aXZlRWxlbWVudD8udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVFbGVtZW50IGFzIEhUTUxUYWJsZUNlbGxFbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnQ/LmNsb3Nlc3QoJ3RkJykgYXMgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgfHwgbnVsbDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gc3RhdGljIGlzQWN0aXZlQ2VsbEJhY2tncm91bmRDb2xvcih0YXJnZXRIZXhDb2xvcjogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAvLyAgICAgY29uc3QgYWN0aXZlQ2VsbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XHJcblxyXG4gICAgLy8gICAgIGlmICghYWN0aXZlQ2VsbCB8fCBhY3RpdmVDZWxsLnRhZ05hbWUgIT09ICdURCcgfHwgIWFjdGl2ZUNlbGwuaGFzQXR0cmlidXRlKCdkYXRhLXBsYWNlaG9sZGVyJykpIHtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGFjdGl2ZUNlbGwpO1xyXG4gICAgLy8gICAgIGNvbnN0IGN1cnJlbnRCYWNrZ3JvdW5kQ29sb3IgPSBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2JhY2tncm91bmQtY29sb3InKTtcclxuXHJcbiAgICAvLyAgICAgY29uc3QgaGV4QmFja2dyb3VuZENvbG9yID0gVXRpbHMucmdiVG9IZXgoY3VycmVudEJhY2tncm91bmRDb2xvcik7XHJcblxyXG4gICAgLy8gICAgIHJldHVybiBoZXhCYWNrZ3JvdW5kQ29sb3IudG9VcHBlckNhc2UoKSA9PT0gdGFyZ2V0SGV4Q29sb3IudG9VcHBlckNhc2UoKTtcclxuICAgIC8vIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGdldExhc3RUYWJsZUNlbGwodGFibGU6IEhUTUxUYWJsZUVsZW1lbnQpOiBIVE1MRWxlbWVudCB8IG51bGwge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSB0YWJsZS5yb3dzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRhYmxlLnJvd3NbaV07XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSByb3cuY2VsbHMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSByb3cuY2VsbHNbal07XHJcbiAgICAgICAgICAgICAgICBpZiAoY2VsbC5pc0NvbnRlbnRFZGl0YWJsZSkgcmV0dXJuIGNlbGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEZpcnN0VGFibGVDZWxsKHRhYmxlOiBIVE1MVGFibGVFbGVtZW50KTogSFRNTEVsZW1lbnQgfCBudWxsIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhYmxlLnJvd3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgcm93ID0gdGFibGUucm93c1tpXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByb3cuY2VsbHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSByb3cuY2VsbHNbal07XHJcbiAgICAgICAgICAgICAgICBpZiAoY2VsbC5pc0NvbnRlbnRFZGl0YWJsZSkgcmV0dXJuIGNlbGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldE5laWdoYm9yQ2VsbCh0YWJsZTogSFRNTFRhYmxlRWxlbWVudCwgY2VsbDogSFRNTFRhYmxlQ2VsbEVsZW1lbnQsIGRpcmVjdGlvbjogRGlyZWN0aW9ucyk6IEhUTUxUYWJsZUNlbGxFbGVtZW50IHwgbnVsbCB7XHJcblxyXG4gICAgICAgIGlmICghY2VsbC5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgcm93SW5kZXggPSAoY2VsbC5wYXJlbnRFbGVtZW50IGFzIEhUTUxUYWJsZVJvd0VsZW1lbnQpLnJvd0luZGV4O1xyXG4gICAgICAgIGNvbnN0IGNlbGxJbmRleCA9IGNlbGwuY2VsbEluZGV4O1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIERpcmVjdGlvbnMuQXJyb3dSaWdodDpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoY2VsbC5wYXJlbnRFbGVtZW50IGFzIEhUTUxUYWJsZVJvd0VsZW1lbnQpLmNlbGxzW2NlbGxJbmRleCArIDFdID8/IG51bGw7XHJcbiAgICAgICAgICAgIGNhc2UgRGlyZWN0aW9ucy5BcnJvd0xlZnQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKGNlbGwucGFyZW50RWxlbWVudCBhcyBIVE1MVGFibGVSb3dFbGVtZW50KS5jZWxsc1tjZWxsSW5kZXggLSAxXSA/PyBudWxsO1xyXG4gICAgICAgICAgICBjYXNlIERpcmVjdGlvbnMuQXJyb3dVcDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5yb3dzW3Jvd0luZGV4IC0gMV0/LmNlbGxzW2NlbGxJbmRleF0gPz8gbnVsbDtcclxuICAgICAgICAgICAgY2FzZSBEaXJlY3Rpb25zLkFycm93RG93bjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5yb3dzW3Jvd0luZGV4ICsgMV0/LmNlbGxzW2NlbGxJbmRleF0gPz8gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdGF0aWMgY2hhbmdlQ2VsbEJvcmRlckNvbG9yKFxyXG4gICAgICAgIHRhYmxlOiBIVE1MVGFibGVFbGVtZW50LFxyXG4gICAgICAgIHNjb3BlOiBUYWJsZVNjb3BlcyxcclxuICAgICAgICBjb2xvcjogc3RyaW5nXHJcbiAgICApIHtcclxuICAgICAgICBsZXQgY2VsbHNUb0NoYW5nZTogTm9kZUxpc3RPZjxIVE1MVGFibGVDZWxsRWxlbWVudD4gfCBIVE1MQ29sbGVjdGlvbk9mPEhUTUxUYWJsZUNlbGxFbGVtZW50PiB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHNjb3BlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVGFibGVTY29wZXMuQ29sdW1uOlxyXG4gICAgICAgICAgICAgICAgY29uc3QgY29sdW1uSW5kZXggPSAodGFibGUucXVlcnlTZWxlY3RvcihcInRkLnNlbGVjdGVkXCIpIGFzIEhUTUxUYWJsZUNlbGxFbGVtZW50KT8uY2VsbEluZGV4O1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbkluZGV4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsc1RvQ2hhbmdlID0gdGFibGUucXVlcnlTZWxlY3RvckFsbChgdGQ6bnRoLWNoaWxkKCR7Y29sdW1uSW5kZXggKyAxfSlgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFRhYmxlU2NvcGVzLlJvdzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ2VsbCA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoXCJ0ZC5zZWxlY3RlZFwiKSBhcyBIVE1MVGFibGVDZWxsRWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZENlbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByb3cgPSBzZWxlY3RlZENlbGwucGFyZW50RWxlbWVudCBhcyBIVE1MVGFibGVSb3dFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGxzVG9DaGFuZ2UgPSByb3cuY2VsbHM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBUYWJsZVNjb3Blcy5DZWxsOlxyXG4gICAgICAgICAgICAgICAgY2VsbHNUb0NoYW5nZSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0ZC5zZWxlY3RlZFwiKSBhcyBOb2RlTGlzdE9mPEhUTUxUYWJsZUNlbGxFbGVtZW50PjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFRhYmxlU2NvcGVzLlNlbGVjdGVkQ2VsbHM6XHJcbiAgICAgICAgICAgICAgICBjZWxsc1RvQ2hhbmdlID0gdGFibGUucXVlcnlTZWxlY3RvckFsbChcInRkLnNlbGVjdGVkXCIpIGFzIE5vZGVMaXN0T2Y8SFRNTFRhYmxlQ2VsbEVsZW1lbnQ+O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNjb3BlLlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjZWxsc1RvQ2hhbmdlKSB7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIEFycmF5LmZyb20oY2VsbHNUb0NoYW5nZSkuZm9yRWFjaCgoY2VsbCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNlbGwuc3R5bGUuYm9yZGVyID0gYDFweCBkb3VibGUgJHtjb2xvcn1gO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc3Qgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoY2VsbCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGNlbGwuc3R5bGUuYm9yZGVyID0gYDFweCBkb3VibGUgJHtjb2xvcn1gO1xyXG4gICAgICAgICAgICAgICAgLy8gY2VsbC5zdHlsZS5ib3hTaGFkb3cgPSBgMCAwIDAgMXB4ICR7Y29sb3J9IGluc2V0YDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBib3hTaGFkb3cgPSBzdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnYm94LXNoYWRvdycpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgYm9yZGVyID0gc3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ2JvcmRlcicpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiYmJiXCIpO1xyXG4gICAgICAgICAgICAgICAgLy8gY2VsbC5zdHlsZS5ib3JkZXIgPSBib3JkZXI7XHJcbiAgICAgICAgICAgICAgICAvLyBjZWxsLnN0eWxlLmJveFNoYWRvdyA9IGJveFNoYWRvdztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQm94IFNoYWRvdzonLCBib3hTaGFkb3cpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0JvcmRlcjonLCBib3JkZXIpO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgc3RhdGljIG1vdmVGb2N1c1RvQmVsb3dDZWxsKHRhYmxlOiBIVE1MVGFibGVFbGVtZW50LCBjZWxsOiBIVE1MVGFibGVDZWxsRWxlbWVudCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IG5leHRSb3cgPSBjZWxsLnBhcmVudEVsZW1lbnQ/Lm5leHRFbGVtZW50U2libGluZyBhcyBIVE1MVGFibGVSb3dFbGVtZW50IHwgbnVsbDtcclxuICAgICAgICBpZiAoIW5leHRSb3cpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBObyBjZWxsIGJlbG93XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjZWxsSW5kZXggPSBjZWxsLmNlbGxJbmRleDtcclxuICAgICAgICBjb25zdCBiZWxvd0NlbGwgPSBuZXh0Um93LmNlbGxzW2NlbGxJbmRleF07XHJcbiAgICAgICAgaWYgKCFiZWxvd0NlbGwgfHwgIWJlbG93Q2VsbC5pc0NvbnRlbnRFZGl0YWJsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIE5vIGVkaXRhYmxlIGNlbGwgYmVsb3dcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJlbG93Q2VsbC5mb2N1cygpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IEVsZW1lbnRGYWN0b3J5U2VydmljZSB9IGZyb20gXCJAL3NlcnZpY2VzL2VsZW1lbnQtZmFjdG9yeS9FbGVtZW50RmFjdG9yeVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQmFzZVVJQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbW1vbi9CYXNlVUlDb21wb25lbnRcIjtcclxuaW1wb3J0IHsgQ3VzdG9tRXZlbnRzIH0gZnJvbSBcIkAvY29tbW9uL0N1c3RvbUV2ZW50c1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kcyB9IGZyb20gXCJAL2NvbW1hbmRzL0NvbW1hbmRzXCI7XHJcbmltcG9ydCB7IElDb21tYW5kRXZlbnREZXRhaWwgfSBmcm9tIFwiQC9jb21tYW5kcy9JQ29tbWFuZEV2ZW50RGV0YWlsXCI7XHJcbmltcG9ydCB7IERlcGVuZGVuY3lDb250YWluZXIgfSBmcm9tIFwiQC9jb3JlL0RlcGVuZGVuY3lDb250YWluZXJcIjtcclxuaW1wb3J0IHsgSVF1aWNrTWVudSB9IGZyb20gXCIuLi9xdWljay1tZW51L0lRdWlja01lbnVcIjtcclxuaW1wb3J0IHsgSVNob3J0Y3V0TGlzdGVuZXJzIH0gZnJvbSBcIkAvY29yZS9JU2hvcnRjdXRMaXN0ZW5lcnNcIjtcclxuaW1wb3J0IHsgSVRhYmxlTGlzdGVuZXJzIH0gZnJvbSBcIkAvY29yZS9saXN0ZW5lcnMvSVRhYmxlTGlzdGVuZXJzXCI7XHJcbmltcG9ydCB7IElUYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXIgfSBmcm9tIFwiLi4vZmxvYXRpbmctdG9vbGJhci9JVGFibGVDb250ZXh0RmxvYXRpbmdUb29sYmFyXCI7XHJcbmltcG9ydCB7IERPTVV0aWxzIH0gZnJvbSBcIkAvdXRpbGl0aWVzL0RPTVV0aWxzXCI7XHJcbmltcG9ydCB7IFRhYmxlVXRpbHMgfSBmcm9tIFwiQC91dGlsaXRpZXMvVGFibGVVdGlsc1wiO1xyXG5pbXBvcnQgeyBEZWZhdWx0SlNFdmVudHMgfSBmcm9tIFwiQC9jb21tb24vRGVmYXVsdEpTRXZlbnRzXCI7XHJcbmltcG9ydCB7IEtleWJvYXJkS2V5cyB9IGZyb20gXCJAL2NvbW1vbi9LZXlib2FyZEtleXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb250ZW50IGV4dGVuZHMgQmFzZVVJQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBzdXBlcih7fSk7XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNoRXZlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk6IEhUTUxFbGVtZW50IHtcclxuXHJcbiAgICAgICAgY29uc3QgaHRtbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjb250ZW50XCIpO1xyXG5cclxuICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5tYXJnaW5Ub3AgPSBcIjEuM3JlbVwiO1xyXG5cclxuICAgICAgICBpZiAod2luZG93LmVkaXRvckNvbmZpZz8uaW5jbHVkZUZpcnN0UGFyYWdyYXBoIHx8IHRydWUpIHtcclxuICAgICAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kKEVsZW1lbnRGYWN0b3J5U2VydmljZS5ibG9ja1BhcmFncmFwaCgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBodG1sRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ2xlYXJzIHRleHQgc2VsZWN0aW9uIHdoZW4gaW5pdGlhdGluZyBhIGRyYWcgZnJvbSBlbGVtZW50cyB3aXRoIHRoZSBgLmRyYWctaGFuZGxlcmAgY2xhc3MuXHJcbiAgICAqIFRoaXMgZnVuY3Rpb24gYXR0YWNoZXMgYSBgbW91c2Vkb3duYCBldmVudCBsaXN0ZW5lciB0byB0aGUgZW50aXJlIGRvY3VtZW50LiBXaGVuIGEgbW91c2Vkb3duXHJcbiAgICAqIGV2ZW50IG9jY3VycyBvbiBhbiBlbGVtZW50IHRoYXQgaXMgYSBjaGlsZCBvZiBhIGAuZHJhZy1oYW5kbGVyYCBvciBvbiB0aGUgYC5kcmFnLWhhbmRsZXJgIGl0c2VsZixcclxuICAgICogaXQgY2hlY2tzIGlmIHRoZSB0YXJnZXQgb3IgaXRzIHBhcmVudCBpcyBhIGRlc2lnbmF0ZWQgZHJhZyBoYW5kbGVyLiBJZiB0cnVlLCBpdCBjbGVhcnMgYW55IGN1cnJlbnQgdGV4dCBzZWxlY3Rpb25zLlxyXG4gICAgKiBUaGlzIHByZXZlbnRzIHRleHQgZnJvbSBiZWluZyBhY2NpZGVudGFsbHkgc2VsZWN0ZWQgZHVyaW5nIGRyYWctYW5kLWRyb3AgaW50ZXJhY3Rpb25zLCBlbmhhbmNpbmcgVVggaW4gZHJhZ2dhYmxlIGludGVyZmFjZXMuXHJcbiAgICAqIFxyXG4gICAgKiBAZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb25PbkRyYWdcclxuICAgICovXHJcbiAgICBjbGVhclNlbGVjdGlvbk9uRHJhZygpIHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5Nb3VzZWRvd24sIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50OiBFbGVtZW50IHwgbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PSBOb2RlLlRFWFRfTk9ERSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gZWxlbWVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC5jbG9zZXN0KFwiLmRyYWctaGFuZGxlclwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKT8ucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgYXR0YWNoRXZlbnQoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb25PbkRyYWcoKTtcclxuICAgICAgICB0aGlzLnJlUmVuZGVyUGxhY2Vob2xkZXIoKTtcclxuXHJcblxyXG4gICAgICAgIC8vIEV2ZW50IHNlbGVjdG9yXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihEZWZhdWx0SlNFdmVudHMuQ2xpY2ssIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgYSBjbGFzc2UgJ2Jsb2NrLXNlbGVjdGVkJyBkZSBxdWFscXVlciBibG9jbyBwcmV2aWFtZW50ZSBzZWxlY2lvbmFkb1xyXG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c1NlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcGFyYXRvci1zZWxlY3RlZCcpO1xyXG5cclxuICAgICAgICAgICAgcHJldmlvdXNTZWxlY3RlZC5mb3JFYWNoKHNlbGVjdGVkID0+IHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoJ3NlcGFyYXRvci1zZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpOyAvLyBSZW1vdmUgdGFiaW5kZXggcXVhbmRvIG7Do28gZXN0w6EgbWFpcyBzZWxlY2lvbmFkb1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFZlcmlmaWNhIHNlIG8gZWxlbWVudG8gY2xpY2FkbyDDqSB1bSBmaWxobyBkZSB1bSAnc2VwYXJhdG9yJ1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudEVsZW1lbnQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7IC8vIENhc3QgZG8gdGFyZ2V0IHBhcmEgSFRNTEVsZW1lbnRcclxuXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudCAmJiBjdXJyZW50RWxlbWVudC5jbG9zZXN0KFwiLnNlcGFyYXRvci13cmFwcGVyXCIpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBwYXJlbnRCbG9jayA9IGN1cnJlbnRFbGVtZW50LmNsb3Nlc3QoJy5zZXBhcmF0b3Itd3JhcHBlcicpIGFzIEhUTUxFbGVtZW50OyAvLyBDYXN0IHBhcmEgSFRNTEVsZW1lbnRcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEJsb2NrLmNsYXNzTGlzdC5hZGQoJ3NlcGFyYXRvci1zZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEJsb2NrLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTsgLy8gQWRpY2lvbmEgdGFiaW5kZXggcGFyYSBwZXJtaXRpciBmb2NvXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRCbG9jay5mb2N1cygpOyAvLyBDb2xvY2EgbyBmb2NvIG5vIGJsb2NvIHNlbGVjaW9uYWRvXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgNTApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5CbHVyLCAoZXZlbnQ6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIE5vZGU7XHJcblxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgdGFyZ2V0LmNsb3Nlc3QoJy5zZXBhcmF0b3Itc2VsZWN0ZWQnKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VwYXJhdG9yID0gdGFyZ2V0LmNsb3Nlc3QoJy5zZXBhcmF0b3Itc2VsZWN0ZWQnKSE7XHJcblxyXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ3NlcGFyYXRvci1zZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yLnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTsgLy8gTGltcGEgbyBhdHJpYnV0byBwYXJhIG7Do28gaW50ZXJmZXJpciBjb20gYSBuYXZlZ2HDp8OjbyBub3JtYWxcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZWFwbGljYXIgYXRyaWJ1dG9zIHF1ZSBnYXJhbnRlbSBvIGZvY29cclxuICAgICAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHNlcGFyYXRvci5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XHJcbiAgICAgICAgICAgICAgICAvLyB9LCA1MCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0cnVlKTtcclxuICAgICAgICAvL2VuZCBldmVudCBzZWxlY3RvclxyXG5cclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNvcGllZFRleHRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb3B5RWxlbWVudEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvcHlPcHRpb24gLnRleHQtb3B0aW9uIHNwYW5cIikgYXMgSFRNTFNwYW5FbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAoY29weUVsZW1lbnRJdGVtKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29weUVsZW1lbnRJdGVtLnRleHRDb250ZW50ID0gXCJDb3BpZWQhXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29weUVsZW1lbnRJdGVtLnRleHRDb250ZW50ID0gXCJDb3B5XCI7XHJcbiAgICAgICAgICAgICAgICB9LCAxNTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0ZvY3VzIG9uIFAgd2hlbiBsb2FkXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZWRpdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpvaGFubmVzLWVkaXRvcicpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGVkaXRvcikge1xyXG4gICAgICAgICAgICAgICAgbGV0IGJsb2NrcyA9IGVkaXRvci5xdWVyeVNlbGVjdG9yQWxsKCcuYmxvY2snKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2tzLmxlbmd0aCA9PSAxKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBibG9ja3NbMF0ucXVlcnlTZWxlY3RvcignLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCcpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwLmlubmVyVGV4dCA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5LZXlkb3duLCAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyAmJiAhZXZlbnQuc2hpZnRLZXkgJiYgRE9NVXRpbHMuaXNFdmVudFRhcmdldERlc2NlbmRhbnRPZihldmVudCwgXCIjam9oYW5uZXNFZGl0b3IgLmNvbnRlbnQtd3JhcHBlciAudGl0bGVcIikpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChDdXN0b21FdmVudHMucHJlc3NlZEVudGVyT25UaXRsZSwge30pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRydWUpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5LZXlkb3duLCBhc3luYyAoZXZlbnQpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGlmIChET01VdGlscy5pc0V2ZW50VGFyZ2V0RGVzY2VuZGFudE9mKGV2ZW50LCBcIi5pZ25vcmUtZXZlbnRzXCIpICYmIGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgcXVpY2tNZW51ID0gRGVwZW5kZW5jeUNvbnRhaW5lci5JbnN0YW5jZS5yZXNvbHZlPElRdWlja01lbnU+KFwiSVF1aWNrTWVudVwiKTtcclxuICAgICAgICAgICAgY29uc3QgdGFibGVUb29sYmFyID0gRGVwZW5kZW5jeUNvbnRhaW5lci5JbnN0YW5jZS5yZXNvbHZlPElUYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXI+KFwiSVRhYmxlQ29udGV4dEZsb2F0aW5nVG9vbGJhclwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LmFsdEtleSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gS2V5Ym9hcmRLZXlzLkVudGVyICYmICFldmVudC5zaGlmdEtleSAmJiAhcXVpY2tNZW51LmlzVmlzaWJsZSAmJiAhdGFibGVUb29sYmFyLmlzVmlzaWJsZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGlmKERPTVV0aWxzLmZpbmRDbG9zZXN0QW5jZXN0b3JPZkFjdGl2ZUVsZW1lbnRCeUNsYXNzKFwiLmpvaGFubmVzLWNvZGVcIikpe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlQ29udHJvbGxlciA9IChldmVudC50YXJnZXQgYXMgRWxlbWVudCkuY2xvc2VzdChcIi50YWJsZS1jb250cm9sbGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhYmxlQ29udHJvbGxlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUNlbGwgPSAoZXZlbnQudGFyZ2V0IGFzIEVsZW1lbnQpLmNsb3Nlc3QoXCJ0ZCwgdGhcIikgYXMgSFRNTFRhYmxlQ2VsbEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFibGUgPSB0YWJsZUNvbnRyb2xsZXIucXVlcnlTZWxlY3RvcihcInRhYmxlXCIpIGFzIEhUTUxUYWJsZUVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUNlbGwpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvY3VzZWRCZWxvdyA9IFRhYmxlVXRpbHMubW92ZUZvY3VzVG9CZWxvd0NlbGwodGFibGUsIGFjdGl2ZUNlbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZvY3VzZWRCZWxvdykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50PElDb21tYW5kRXZlbnREZXRhaWw+KEN1c3RvbUV2ZW50cy5lbWl0dGVkQ29tbWFuZCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBDb21tYW5kcy5mb2N1c09uTmV4dEJsb2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoKGV2ZW50LnRhcmdldCBhcyBFbGVtZW50KS5jbG9zZXN0KFwiLmpvaGFubmVzLWNvZGVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgZGVmYXVsdCBibG9jayB3aGVuIHByZXNzIEVudGVyXHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQ8SUNvbW1hbmRFdmVudERldGFpbD4oQ3VzdG9tRXZlbnRzLmVtaXR0ZWRDb21tYW5kLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IENvbW1hbmRzLmluc2VydE5ldyxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gS2V5Ym9hcmRLZXlzLkJhY2tzcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZXBhcmF0b3Itd3JhcHBlcicpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudDxJQ29tbWFuZEV2ZW50RGV0YWlsPihDdXN0b21FdmVudHMuZW1pdHRlZENvbW1hbmQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBDb21tYW5kcy5kZWxldGVCbG9ja0FuZEZvY3VzT25QcmV2aW91cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LmNsb3Nlc3QoXCIuam9oYW5uZXMtY29udGVudC1lbGVtZW50XCIpICYmIHRhcmdldC50ZXh0Q29udGVudD8udHJpbSgpID09PSAnJykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQ8SUNvbW1hbmRFdmVudERldGFpbD4oQ3VzdG9tRXZlbnRzLmVtaXR0ZWRDb21tYW5kLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogQ29tbWFuZHMuZGVsZXRlQmxvY2tBbmRGb2N1c09uUHJldmlvdXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuY2xvc2VzdCgnLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCcpICYmIHRhcmdldC50ZXh0Q29udGVudD8udHJpbSgpICE9PSAnJykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGF0U3RhcnQsIGF0RW5kIH0gPSBET01VdGlscy5nZXRTZWxlY3Rpb25UZXh0SW5mbyh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ29udGVudCA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpPy50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXRTdGFydCAmJiBzZWxlY3RlZENvbnRlbnQ/Lmxlbmd0aCA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50PElDb21tYW5kRXZlbnREZXRhaWw+KEN1c3RvbUV2ZW50cy5lbWl0dGVkQ29tbWFuZCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogQ29tbWFuZHMubWVyZ2VXaXRoUHJldmlvdXNCbG9jayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSBLZXlib2FyZEtleXMuRGVsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlcGFyYXRvci13cmFwcGVyJykpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50PElDb21tYW5kRXZlbnREZXRhaWw+KEN1c3RvbUV2ZW50cy5lbWl0dGVkQ29tbWFuZCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IENvbW1hbmRzLmRlbGV0ZUJsb2NrQW5kRm9jdXNPbk5leHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pvaGFubmVzLWNvbnRlbnQtZWxlbWVudCcpICYmIHRhcmdldC50ZXh0Q29udGVudD8udHJpbSgpID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudDxJQ29tbWFuZEV2ZW50RGV0YWlsPihDdXN0b21FdmVudHMuZW1pdHRlZENvbW1hbmQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBDb21tYW5kcy5kZWxldGVCbG9ja0FuZEZvY3VzT25OZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuY2xvc2VzdCgnLmpvaGFubmVzLWNvbnRlbnQtZWxlbWVudCcpICYmIHRhcmdldC50ZXh0Q29udGVudD8udHJpbSgpICE9PSAnJykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGF0U3RhcnQsIGF0RW5kIH0gPSBET01VdGlscy5nZXRTZWxlY3Rpb25UZXh0SW5mbyh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ29udGVudCA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpPy50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXRFbmQgJiYgc2VsZWN0ZWRDb250ZW50Py5sZW5ndGggPT0gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudDxJQ29tbWFuZEV2ZW50RGV0YWlsPihDdXN0b21FdmVudHMuZW1pdHRlZENvbW1hbmQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IENvbW1hbmRzLm1lcmdlV2l0aE5leHRCbG9jayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICdBcnJvd1JpZ2h0JyAmJiBDb250ZW50LmlzQ3Vyc29yQXRFbmQoZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5ibG9ja09wZXJhdGlvbnNTZXJ2aWNlLmV4ZWNDb21tYW5kKEJsb2NrT3BlcmF0aW9uc1NlcnZpY2UuQkxPQ0tfT1BFUkFUSU9OUy5GT0NVU19PTl9ORVhULCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSAnQXJyb3dMZWZ0JyAmJiBDb250ZW50LmlzQ3Vyc29yQXRTdGFydChldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmJsb2NrT3BlcmF0aW9uc1NlcnZpY2UuZXhlY0NvbW1hbmQoQmxvY2tPcGVyYXRpb25zU2VydmljZS5CTE9DS19PUEVSQVRJT05TLkZPQ1VTX09OX1BSRVZJT1VTLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSAnQXJyb3dEb3duJyAmJiBDb250ZW50LmlzQ3Vyc29yT25MYXN0TGluZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmJsb2NrT3BlcmF0aW9uc1NlcnZpY2UuZXhlY0NvbW1hbmQoQmxvY2tPcGVyYXRpb25zU2VydmljZS5CTE9DS19PUEVSQVRJT05TLkZPQ1VTX09OX05FWFQsIGZhbHNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICdBcnJvd1VwJyAmJiBDb250ZW50LmlzQ3Vyc29yT25GaXJzdExpbmUoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5ibG9ja09wZXJhdGlvbnNTZXJ2aWNlLmV4ZWNDb21tYW5kKEJsb2NrT3BlcmF0aW9uc1NlcnZpY2UuQkxPQ0tfT1BFUkFUSU9OUy5GT0NVU19PTl9QUkVWSU9VUywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gJ1RhYicpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoRE9NVXRpbHMuaXNFdmVudFRhcmdldERlc2NlbmRhbnRPZihldmVudCwgXCIuam9oYW5uZXMtY29kZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFiQ2hhcmFjdGVyID0gJ1xcdTAwYTBcXHUwMGEwXFx1MDBhMFxcdTAwYTAnO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdpbnNlcnRUZXh0JywgZmFsc2UsIHRhYkNoYXJhY3Rlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLkJsdXIsIChldmVudDogRXZlbnQpID0+IHRoaXMuc2FuaXRpemVFbGVtZW50RXZlbnRIYW5kbGVyKGV2ZW50KSwgdHJ1ZSlcclxuICAgIH1cclxuXHJcblxyXG4gICAgc2FuaXRpemVFbGVtZW50RXZlbnRIYW5kbGVyKGV2ZW50OiBFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIHRhcmdldC5jb250ZW50RWRpdGFibGUgPT09IFwidHJ1ZVwiKSB7XHJcbiAgICAgICAgICAgIERPTVV0aWxzLnNhbml0aXplQ29udGVudEVkaXRhYmxlKHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogQWRkcyBhbiBpbnB1dCBldmVudCBsaXN0ZW5lciB0byB0aGUgZW50aXJlIGRvY3VtZW50IHRvIGhhbmRsZSBwbGFjZWhvbGRlciBiZWhhdmlvciBmb3IgY29udGVudEVkaXRhYmxlIGVsZW1lbnRzLlxyXG4gICAgKiBUaGlzIHdvcmthcm91bmQgaXMgc3BlY2lmaWNhbGx5IGRlc2lnbmVkIHRvIGFkZHJlc3MgYSBrbm93biBpc3N1ZSBpbiBGaXJlZm94IHdoZXJlIGNvbnRlbnRFZGl0YWJsZSBlbGVtZW50c1xyXG4gICAgKiBkbyBub3QgcHJvcGVybHkgcmVzZXQgdGhlaXIgcGxhY2Vob2xkZXJzIGFmdGVyIHRoZSBjb250ZW50IGlzIGRlbGV0ZWQgYnkgdGhlIHVzZXIuXHJcbiAgICAqIFxyXG4gICAgKiBUaGUgZXZlbnQgbGlzdGVuZXIgY2hlY2tzIGlmIHRoZSB0YXJnZXQgb2YgdGhlIGlucHV0IGV2ZW50IGlzIGEgY29udGVudEVkaXRhYmxlIGVsZW1lbnQgYW5kIHdoZXRoZXIgaXQgaGFzIGFcclxuICAgICogY3VzdG9tICdkYXRhLXBsYWNlaG9sZGVyJyBhdHRyaWJ1dGUuIElmIHRoZSBlbGVtZW50J3MgY29udGVudCBpcyBlbXB0eSAoaWdub3Jpbmcgd2hpdGUgc3BhY2VzKSwgdGhlIGZ1bmN0aW9uXHJcbiAgICAqIHJlc2V0cyB0aGUgJ2RhdGEtcGxhY2Vob2xkZXInIHRvIGVuc3VyZSBpdCBkaXNwbGF5cyBjb3JyZWN0bHksIGFuZCBjbGVhcnMgYW55IHJlc2lkdWFsIHRleHQgY29udGVudCB0aGF0IG1pZ2h0XHJcbiAgICAqIGludGVyZmVyZSB3aXRoIHRoZSBwbGFjZWhvbGRlciBkaXNwbGF5LlxyXG4gICAgKiBcclxuICAgICogQGV4YW1wbGVcclxuICAgICogLy8gVG8gdXRpbGl6ZSB0aGlzIHdvcmthcm91bmQsIGVuc3VyZSB5b3VyIGNvbnRlbnRFZGl0YWJsZSBlbGVtZW50cyBoYXZlIGEgJ2RhdGEtcGxhY2Vob2xkZXInIGF0dHJpYnV0ZS5cclxuICAgICogLy8gPGRpdiBjb250ZW50RWRpdGFibGU9XCJ0cnVlXCIgZGF0YS1wbGFjZWhvbGRlcj1cIkVudGVyIHRleHQgaGVyZS4uLlwiPjwvZGl2PlxyXG4gICAgKiBcclxuICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgaW5wdXQgZXZlbnQgdHJpZ2dlcmVkIGJ5IHVzZXIgaW50ZXJhY3Rpb24gd2l0aCB0aGUgZG9jdW1lbnQncyBpbnB1dC1jYXBhYmxlIGVsZW1lbnRzLlxyXG4gICAgKi9cclxuICAgIHJlUmVuZGVyUGxhY2Vob2xkZXIoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihEZWZhdWx0SlNFdmVudHMuSW5wdXQsIGZ1bmN0aW9uIChldmVudDogRXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlZGl0YWJsZUVsZW1lbnQgPSBldmVudC50YXJnZXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRhYmxlRWxlbWVudC5pc0NvbnRlbnRFZGl0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlZGl0YWJsZUVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLXBsYWNlaG9sZGVyJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VzdG9tUGxhY2Vob2xkZXIgPSBlZGl0YWJsZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBsYWNlaG9sZGVyJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdGFibGVFbGVtZW50LnRleHRDb250ZW50Py50cmltKCkgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZUVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXBsYWNlaG9sZGVyJywgY3VzdG9tUGxhY2Vob2xkZXIgfHwgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGVFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaXNDdXJzb3JBdEVuZCh0YXJnZXQ6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgZm9jdXNhYmxlUGFyZW50ID0gdGFyZ2V0LmNsb3Nlc3QoJy5mb2N1c2FibGUnKTtcclxuICAgICAgICBpZiAoIWZvY3VzYWJsZVBhcmVudCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkhO1xyXG4gICAgICAgIGlmICghc2VsZWN0aW9uLnJhbmdlQ291bnQpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcclxuICAgICAgICBsZXQgZW5kTm9kZTogTm9kZSB8IG51bGwgPSByYW5nZS5lbmRDb250YWluZXI7XHJcbiAgICAgICAgaWYgKGVuZE5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XHJcbiAgICAgICAgICAgIGVuZE5vZGUgPSBlbmROb2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByYW5nZS5jb2xsYXBzZWQgJiYgZW5kTm9kZSA9PT0gZm9jdXNhYmxlUGFyZW50ICYmIHJhbmdlLmVuZE9mZnNldCA9PT0gKHJhbmdlLmVuZENvbnRhaW5lci50ZXh0Q29udGVudCB8fCAnJykubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpc0N1cnNvckF0U3RhcnQodGFyZ2V0OiBIVE1MRWxlbWVudCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IGZvY3VzYWJsZVBhcmVudCA9IHRhcmdldC5jbG9zZXN0KCcuZm9jdXNhYmxlJyk7XHJcbiAgICAgICAgaWYgKCFmb2N1c2FibGVQYXJlbnQpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpITtcclxuICAgICAgICBpZiAoIXNlbGVjdGlvbi5yYW5nZUNvdW50KSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XHJcblxyXG4gICAgICAgIGxldCBzdGFydE5vZGU6IE5vZGUgfCBudWxsID0gcmFuZ2Uuc3RhcnRDb250YWluZXI7XHJcbiAgICAgICAgaWYgKHN0YXJ0Tm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcclxuICAgICAgICAgICAgc3RhcnROb2RlID0gc3RhcnROb2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByYW5nZS5jb2xsYXBzZWQgJiYgc3RhcnROb2RlID09PSBmb2N1c2FibGVQYXJlbnQgJiYgcmFuZ2Uuc3RhcnRPZmZzZXQgPT09IDA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGlzQXRGaXJzdFZpc2libGVMaW5lKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpITtcclxuICAgICAgICBpZiAoIXNlbGVjdGlvbi5yYW5nZUNvdW50KSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKS5jbG9uZVJhbmdlKCk7XHJcbiAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XHJcbiAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoZWxlbWVudCwgMCk7XHJcbiAgICAgICAgY29uc3QgcmFuZ2VUb3AgPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudFRvcCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuICAgICAgICByZXR1cm4gcmFuZ2VUb3AgPT09IGVsZW1lbnRUb3A7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGlzQXRMYXN0VmlzaWJsZUxpbmUoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkhO1xyXG4gICAgICAgIGlmICghc2VsZWN0aW9uLnJhbmdlQ291bnQpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApLmNsb25lUmFuZ2UoKTtcclxuICAgICAgICByYW5nZS5jb2xsYXBzZShmYWxzZSk7XHJcbiAgICAgICAgcmFuZ2Uuc2V0RW5kKGVsZW1lbnQsIGVsZW1lbnQuY2hpbGROb2Rlcy5sZW5ndGgpO1xyXG4gICAgICAgIGNvbnN0IHJhbmdlQm90dG9tID0gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRCb3R0b20gPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJhbmdlQm90dG9tID09PSBlbGVtZW50Qm90dG9tO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdGF0aWMgZGlkQ3Vyc29yTW92ZShldmVudDogS2V5Ym9hcmRFdmVudCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSE7XHJcbiAgICAgICAgaWYgKCFzZWxlY3Rpb24ucmFuZ2VDb3VudCkgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmYWxzZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsUmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKS5jbG9uZVJhbmdlKCk7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxSZWN0ID0gb3JpZ2luYWxSYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPGJvb2xlYW4+KHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1JhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCkuY2xvbmVSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UmVjdCA9IG5ld1JhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpZE1vdmUgPSAhKG9yaWdpbmFsUmVjdC50b3AgPT09IG5ld1JlY3QudG9wICYmIG9yaWdpbmFsUmVjdC5sZWZ0ID09PSBuZXdSZWN0LmxlZnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFkaWRNb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc29sdmUoZGlkTW92ZSk7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpc0N1cnNvck9uRmlyc3RMaW5lKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICBpZiAoIXNlbGVjdGlvbiB8fCAhc2VsZWN0aW9uLnJhbmdlQ291bnQpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJhbmdlLnN0YXJ0T2Zmc2V0ID09PSAwICYmIHJhbmdlLnN0YXJ0Q29udGFpbmVyID09PSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaXNDdXJzb3JPbkxhc3RMaW5lKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICBpZiAoIXNlbGVjdGlvbiB8fCAhc2VsZWN0aW9uLnJhbmdlQ291bnQpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJhbmdlLmVuZE9mZnNldCA9PT0gcmFuZ2UuZW5kQ29udGFpbmVyLnRleHRDb250ZW50Py5sZW5ndGggJiYgcmFuZ2UuZW5kQ29udGFpbmVyID09PSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogQ29udGVudCB7XHJcblxyXG4gICAgICAgIGNvbnN0IHNob3J0Y3V0TGlzdGVuZXIgPSBEZXBlbmRlbmN5Q29udGFpbmVyLkluc3RhbmNlLnJlc29sdmU8SVNob3J0Y3V0TGlzdGVuZXJzPihcIklTaG9ydGN1dExpc3RlbmVyc1wiKTtcclxuICAgICAgICBjb25zdCB0YWJsZUxpc3RlbmVycyA9IERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVzb2x2ZTxJVGFibGVMaXN0ZW5lcnM+KFwiSVRhYmxlTGlzdGVuZXJzXCIpO1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29udGVudCgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29udGVudCB9IGZyb20gXCJAL2NvbXBvbmVudHMvY29udGVudC9Db250ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udGVudEJ1aWxkZXIge1xyXG4gICAgc3RhdGljIGJ1aWxkKCk6IENvbnRlbnQge1xyXG4gICAgICAgIHJldHVybiBDb250ZW50LmdldEluc3RhbmNlKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBGbG9hdGluZ1Rvb2xiYXIgfSBmcm9tIFwiLi9GbG9hdGluZ1Rvb2xiYXJcIjtcclxuaW1wb3J0IHsgSUZvY3VzU3RhY2sgfSBmcm9tIFwiQC9jb3JlL0lGb2N1c1N0YWNrXCI7XHJcbmltcG9ydCB7IERlcGVuZGVuY3lDb250YWluZXIgfSBmcm9tIFwiQC9jb3JlL0RlcGVuZGVuY3lDb250YWluZXJcIjtcclxuaW1wb3J0IHsgSVRhYmxlQ29udGV4dEZsb2F0aW5nVG9vbGJhciB9IGZyb20gXCIuL0lUYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXJcIjtcclxuaW1wb3J0IHsgWkluZGV4IH0gZnJvbSBcIkAvY29tbW9uL1pJbmRleFwiO1xyXG5pbXBvcnQgeyBEaXJlY3Rpb25zIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9EaXJlY3Rpb25zXCI7XHJcbmltcG9ydCB7IERlZmF1bHRKU0V2ZW50cyB9IGZyb20gXCIuLi8uLi9jb21tb24vRGVmYXVsdEpTRXZlbnRzXCI7XHJcbmltcG9ydCB7IERPTUVsZW1lbnRzIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9ET01FbGVtZW50c1wiO1xyXG5pbXBvcnQgeyBUYWJsZVV0aWxzIH0gZnJvbSBcIkAvdXRpbGl0aWVzL1RhYmxlVXRpbHNcIjtcclxuaW1wb3J0IHsgS2V5Ym9hcmRLZXlzIH0gZnJvbSBcIkAvY29tbW9uL0tleWJvYXJkS2V5c1wiO1xyXG5pbXBvcnQgeyBUZXh0Q29udGV4dEZsb2F0aW5nVG9vbGJhciB9IGZyb20gXCIuL1RleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyXCI7XHJcbmltcG9ydCB7IFNlbGVjdGlvbk1vZGVzIH0gZnJvbSBcIi4vU2VsZWN0aW9uTW9kZVwiO1xyXG5pbXBvcnQgeyBDb2xvcnMgfSBmcm9tIFwiQC9jb21tb24vQ29sb3JzXCI7XHJcbmltcG9ydCB7IERPTVV0aWxzIH0gZnJvbSBcIkAvdXRpbGl0aWVzL0RPTVV0aWxzXCI7XHJcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gXCJAL2NvbW1hbmRzL0V2ZW50RW1pdHRlclwiO1xyXG5pbXBvcnQgeyBJVGFibGVPcGVyYXRpb25zU2VydmljZSB9IGZyb20gXCJAL3NlcnZpY2VzL3RhYmxlLW9wZXJhdGlvbnMvSVRhYmxlT3BlcmF0aW9uc1NlcnZpY2VcIjtcclxuaW1wb3J0IHsgQ3VzdG9tVUlFdmVudHMgfSBmcm9tIFwiQC9jb21tb24vQ3VzdG9tVUlFdmVudHNcIjtcclxuaW1wb3J0IHsgSVVJRXZlbnREZXRhaWwgfSBmcm9tIFwiQC9jb21tYW5kcy9JVUlFdmVudERldGFpbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhYmxlQ29udGV4dEZsb2F0aW5nVG9vbGJhciBleHRlbmRzIEZsb2F0aW5nVG9vbGJhciBpbXBsZW1lbnRzIElUYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXIge1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGlkOiBzdHJpbmcgPSBcInRhYmxlRmxvYXRpbmdUb29sYmFyXCI7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogVGFibGVDb250ZXh0RmxvYXRpbmdUb29sYmFyO1xyXG5cclxuICAgIGZvY3VzU3RhY2s6IElGb2N1c1N0YWNrO1xyXG4gICAgc2VsZWN0ZWRDZWxsczogSFRNTFRhYmxlQ2VsbEVsZW1lbnRbXSA9IFtdO1xyXG4gICAgYWN0dWFsRm9jdXNlZENlbGw6IEhUTUxUYWJsZUNlbGxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgdGFibGVPcGVyYXRpb25zU2VydmljZTogSVRhYmxlT3BlcmF0aW9uc1NlcnZpY2U7XHJcbiAgICBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XHJcblxyXG5cclxuICAgIC8vIFRoZSBzZWxlY3Rpb24gbW9kZSBhbmQgc2VsZWN0aW9uQWN0aXZlRmxhZyB3b3JrIHRvZ2V0aGVyIHdoZW4gd2Ugc3RhcnQgc2VsZWN0aW5nIHRleHQgaW5zaWRlIGEgY2VsbCBvciBwcmVzcyBzaGlmdCB0byBhY3RpdmF0ZSB0aGUgc2VsZWN0aW9uQWN0aXZlRmxhZy5cclxuICAgIC8vIEFmdGVyIGFjdGl2YXRpbmcgdGhlIGZsYWcsIHdlIGNhbiBzZWxlY3QgdGV4dCBpbnNpZGUgYSBjZWxsLiBJZiB3ZSByZWFjaCB0aGUgZW5kIG9mIHRoZSB0ZXh0IGluc2lkZSB0aGUgY2VsbCB1c2luZyBzaGlmdCArIGRpcmVjdGlvbmFsIGtleXMgb3IgcGxhY2UgdGhlIGN1cnNvciBvdXRzaWRlXHJcbiAgICAvLyB0aGUgYWN0aXZlIGNlbGwsIGl0IGluZGljYXRlcyB0aGF0IHdlIHdhbnQgdG8gZW50ZXIgY2VsbCBzZWxlY3Rpb24gbW9kZS4gV2UgY2hhbmdlIHRoZSBzZWxlY3Rpb24gbW9kZSBpbiB0aGVzZSBjYXNlcy5cclxuICAgIHNlbGVjdGlvbk1vZGU6IFNlbGVjdGlvbk1vZGVzID0gU2VsZWN0aW9uTW9kZXMuVGV4dDsgLy8gVGhlIGRlZmF1bHQgc2VsZWN0aW9uIG1vZGVcclxuICAgIHNlbGVjdGlvbkZsYWc6IGJvb2xlYW4gPSBmYWxzZTsgLy8gRmxhZyB0byB0cmFjayB3aGV0aGVyIHRleHQgc2VsZWN0aW9uIGlzIGFjdGl2ZVxyXG4gICAgc2VsZWN0ZWRUZXh0OiBzdHJpbmcgPSBcIlwiOyAvLyBTdG9yYWdlIGZvciB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHRleHRcclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGZvY3VzU3RhY2s6IElGb2N1c1N0YWNrLCB0YWJsZU9wZXJhdGlvbnNTZXJ2aWNlOiBJVGFibGVPcGVyYXRpb25zU2VydmljZSkge1xyXG5cclxuICAgICAgICBpZiAoVGFibGVDb250ZXh0RmxvYXRpbmdUb29sYmFyLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZSBUYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXIuZ2V0SW5zdGFuY2UoKSB0byBnZXQgaW5zdGFuY2UuXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3VwZXIoVGFibGVDb250ZXh0RmxvYXRpbmdUb29sYmFyLmlkKTtcclxuICAgICAgICB0aGlzLmNsZWFyQW5kSGlkZSA9IHRoaXMuY2xlYXJBbmRIaWRlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS56SW5kZXggPSBaSW5kZXguTW9kZXJhdGVseUltcG9ydGFudDtcclxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XHJcbiAgICAgICAgdGhpcy5mb2N1c1N0YWNrID0gZm9jdXNTdGFjaztcclxuICAgICAgICB0aGlzLnRhYmxlT3BlcmF0aW9uc1NlcnZpY2UgPSB0YWJsZU9wZXJhdGlvbnNTZXJ2aWNlO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIGF0dGFjaEV2ZW50cygpOiB2b2lkIHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5Nb3VzZWRvd24sIHRoaXMuaGFuZGxlTW91c2VEb3duLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLk1vdXNlbW92ZSwgdGhpcy5oYW5kbGVNb3VzZU1vdmUuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihEZWZhdWx0SlNFdmVudHMuTW91c2V1cCwgdGhpcy5oYW5kbGVNb3VzZVVwLmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5LZXlkb3duLCB0aGlzLmhhbmRsZVN0YXJ0U2VsZWN0aW9uSW5DZWxsS2V5RG93bi5iaW5kKHRoaXMpKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5LZXlkb3duLCB0aGlzLmhhbmRsZUNlbGxTZWxlY3Rpb25Db250aW51YXRpb25PbktleURvd24uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihEZWZhdWx0SlNFdmVudHMuS2V5ZG93biwgdGhpcy5oYW5kbGVLZXlEb3duLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLktleXVwLCB0aGlzLmhhbmRsZUtleVVwLmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFjaFVJRXZlbnQoKTtcclxuXHJcbiAgICAgICAgc3VwZXIuYXR0YWNoRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZU1vdXNlRG93bihldmVudDogTW91c2VFdmVudCkge1xyXG5cclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgY2VsbCA9IHRhcmdldC5jbG9zZXN0KERPTUVsZW1lbnRzLlREKSBhcyBIVE1MVGFibGVDZWxsRWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKGNlbGwgJiYgIWNlbGwubWF0Y2hlcygnLmZpZ3VyZS1lbWJlZC1jb250YWluZXIgdGQnKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk1vdXNlRG93biBldmVudCBvbjogXCIsIGV2ZW50LnRhcmdldCk7XHJcblxyXG4gICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNlbGwgIT0gdGhpcy5hY3R1YWxGb2N1c2VkQ2VsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJBbGwoKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTZWxlY3RlZENlbGwoY2VsbCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uRmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uTW9kZSA9IFNlbGVjdGlvbk1vZGVzLlRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGFuZGxlTW91c2VNb3ZlKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uRmxhZykge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zdCBjZWxsID0gdGFyZ2V0LmNsb3Nlc3QoRE9NRWxlbWVudHMuVEQpIGFzIEhUTUxUYWJsZUNlbGxFbGVtZW50O1xyXG5cclxuICAgICAgICAgICAgaWYgKGNlbGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2VsZWN0aW9uTW9kZUJ5TW91c2VFdmVudChldmVudCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlID09IFNlbGVjdGlvbk1vZGVzLkNlbGwpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FuSGlkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkU2VsZWN0ZWRDZWxsKGNlbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldFNlbGVjdGlvbigpPy5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZU1vdXNlVXAoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZENlbGxzLmxlbmd0aCA+IDAgJiYgdGhpcy5zZWxlY3Rpb25GbGFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRTZWxlY3Rpb25TdGF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVLZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBjb25zdCBjdXJyZW50Q2VsbCA9IHRhcmdldC5jbG9zZXN0KERPTUVsZW1lbnRzLlREKSBhcyBIVE1MVGFibGVDZWxsRWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnRDZWxsICYmICFjdXJyZW50Q2VsbC5tYXRjaGVzKCcuZ2lzdCB0ZCcpKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09IEtleWJvYXJkS2V5cy5FbnRlciAmJiAhZXZlbnQuc2hpZnRLZXkgJiYgIWV2ZW50LmN0cmxLZXkgJiYgIWV2ZW50Lm1ldGFLZXkgJiYgIWV2ZW50LmFsdEtleSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBhbGVydChcImp1bXAgdG8gbmV4dCBsaW5lXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PSBLZXlib2FyZEtleXMuRXNjYXBlICYmIHRoaXMuY2FuSGlkZSAmJiAhVGV4dENvbnRleHRGbG9hdGluZ1Rvb2xiYXIuZ2V0SW5zdGFuY2UoKS5pc1Zpc2libGUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW5IaWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyQWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIDEwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZVN0YXJ0U2VsZWN0aW9uSW5DZWxsS2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCkge1xyXG5cclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgY3VycmVudENlbGwgPSB0YXJnZXQuY2xvc2VzdChET01FbGVtZW50cy5URCkgYXMgSFRNTFRhYmxlQ2VsbEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmIChjdXJyZW50Q2VsbCAmJiAhY3VycmVudENlbGwubWF0Y2hlcygnLmdpc3QgdGQnKSkge1xyXG4gICAgICAgICAgICBpZiAoIWV2ZW50LnJlcGVhdCAmJiBldmVudC5rZXkgPT09IEtleWJvYXJkS2V5cy5TaGlmdCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25GbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uTW9kZSA9IFNlbGVjdGlvbk1vZGVzLlRleHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFNlbGVjdGVkQ2VsbChjdXJyZW50Q2VsbCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGFuZGxlQ2VsbFNlbGVjdGlvbkNvbnRpbnVhdGlvbk9uS2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbkZsYWcpIHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q2VsbCA9IHRhcmdldC5jbG9zZXN0KERPTUVsZW1lbnRzLlREKSBhcyBIVE1MVGFibGVDZWxsRWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50Q2VsbCAmJiAhY3VycmVudENlbGwubWF0Y2hlcygnLmdpc3QgdGQnKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uTW9kZSA9PSBTZWxlY3Rpb25Nb2Rlcy5DZWxsICYmIGV2ZW50LnNoaWZ0S2V5ICYmIGV2ZW50LmtleS5zdGFydHNXaXRoKCdBcnJvdycpICYmICFldmVudC5yZXBlYXQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFibGUgPSBjdXJyZW50Q2VsbC5jbG9zZXN0KERPTUVsZW1lbnRzLlRBQkxFKSE7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dENlbGwgPSBUYWJsZVV0aWxzLmdldE5laWdoYm9yQ2VsbCh0YWJsZSwgY3VycmVudENlbGwsIGV2ZW50LmtleSBhcyBEaXJlY3Rpb25zKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRTZWxlY3RlZENlbGwoY3VycmVudENlbGwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dENlbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRTZWxlY3RlZENlbGwobmV4dENlbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBub3JtYWxpemVUZXh0KHRleHQ6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiB0ZXh0XHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcclxuICAgICAgICAgICAgLnRyaW0oKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVXBkYXRlcyB0aGUgc2VsZWN0aW9uIG1vZGUgYnkgY29tcGFyaW5nIHRoZSBjdXJyZW50IHRleHQgc2VsZWN0aW9uIGZyb20gdGhlIGRvY3VtZW50XHJcbiAgICAqIHdpdGggdGhlIHN0b3JlZCBzZWxlY3RlZCB0ZXh0LiBJZiB0aGUgY3VycmVudCBzZWxlY3Rpb24gbWF0Y2hlcyB0aGUgcHJldmlvdXNseSBzdG9yZWRcclxuICAgICogc2VsZWN0aW9uLCBpdCBzd2l0Y2hlcyB0aGUgc2VsZWN0aW9uIG1vZGUgdG8gY2VsbCBzZWxlY3Rpb24gYW5kIHJlc2V0cyB0aGUgc2VsZWN0ZWQgdGV4dC5cclxuICAgICogSWYgdGhlcmUgaXMgYSBuZXcgc2VsZWN0aW9uIChhY3R1YWxTZWxlY3Rpb24gaXMgbm90IGVtcHR5KSwgaXQgdXBkYXRlcyB0aGUgc3RvcmVkIHNlbGVjdGVkIHRleHRcclxuICAgICogdG8gcmVmbGVjdCB0aGUgY3VycmVudCBzZWxlY3Rpb24uXHJcbiAgICAqXHJcbiAgICAqL1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVUaGVTZWxlY3Rpb25Nb2RlQnlDdXJyZW50U2VsZWN0aW9uU3RhdGUoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25GbGFnKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY3R1YWxTZWxlY3Rpb24gPSB0aGlzLm5vcm1hbGl6ZVRleHQoc2VsZWN0aW9uLnRvU3RyaW5nKCkudHJpbSgpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDZWxsID0gdGFyZ2V0LmNsb3Nlc3QoRE9NRWxlbWVudHMuVEQpIGFzIEhUTUxUYWJsZUNlbGxFbGVtZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q2VsbC5tYXRjaGVzKCcuZ2lzdCB0ZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDZWxsVGV4dCA9IHRoaXMubm9ybWFsaXplVGV4dCgoY3VycmVudENlbGwudGV4dENvbnRlbnQgfHwgXCJcIikudHJpbSgpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGF0U3RhcnQsIGF0RW5kIH0gPSBET01VdGlscy5nZXRTZWxlY3Rpb25UZXh0SW5mbyhjdXJyZW50Q2VsbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpbnRlcmFjdGlvbiBrZWVwcyB0aGUgbWVudSB2aXNpYmxlIGFmdGVyIGFsbCB0ZXh0IGlzIHNlbGVjdGVkLCBlbmhhbmNpbmcgdXNlciBlbmdhZ2VtZW50LiBcclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIHByZXNzZXMgYSBkaXJlY3Rpb25hbCBrZXkgYWdhaW4gYmV5b25kIHRoaXMgcG9pbnQsIHRoZSBtZW51IGlzIGhpZGRlbiBhbmQgY2VsbCBzZWxlY3Rpb24gbW9kZSBpcyBpbml0aWF0ZWQsIFxyXG4gICAgICAgICAgICAgICAgLy8gc3RyZWFtbGluaW5nIHRoZSBpbnRlcmZhY2UgYW5kIGZvY3VzaW5nIG9uIHN1YnNlcXVlbnQgdGFza3MuXHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENlbGxUZXh0ID09PSBcIlwiIHx8IChhY3R1YWxTZWxlY3Rpb24gPT09IHRoaXMuc2VsZWN0ZWRUZXh0LnRyaW0oKSAmJiAoYXRTdGFydCB8fCBhdEVuZCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25Nb2RlID0gU2VsZWN0aW9uTW9kZXMuQ2VsbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FuSGlkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdHVhbFNlbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gYWN0dWFsU2VsZWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHByaXZhdGUgdXBkYXRlVGhlU2VsZWN0aW9uTW9kZUJ5Q3VycmVudFNlbGVjdGlvblN0YXRlKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICAvLyAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbGVjdGlvbiBmbGFnIGlzIHNldCwgaW5kaWNhdGluZyB0aGF0IHNlbGVjdGlvbiB1cGRhdGVzIHNob3VsZCBiZSBtb25pdG9yZWRcclxuICAgIC8vICAgICBpZiAodGhpcy5zZWxlY3Rpb25GbGFnKSB7XHJcbiAgICAvLyAgICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBzZWxlY3Rpb24gZnJvbSB0aGUgZG9jdW1lbnRcclxuICAgIC8vICAgICAgICAgY29uc3QgYWN0dWFsU2VsZWN0aW9uID0gdGhpcy5ub3JtYWxpemVUZXh0KGRvY3VtZW50LmdldFNlbGVjdGlvbigpPy50b1N0cmluZygpLnRyaW0oKSB8fCBcIlwiKTtcclxuXHJcbiAgICAvLyAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgIC8vICAgICAgICAgY29uc3QgY3VycmVudENlbGwgPSB0YXJnZXQuY2xvc2VzdChET01FbGVtZW50cy5URCkgYXMgSFRNTFRhYmxlQ2VsbEVsZW1lbnQ7XHJcblxyXG4gICAgLy8gICAgICAgICBjb25zdCBjdXJyZW50Q2VsbFRleHQgPSB0aGlzLm5vcm1hbGl6ZVRleHQoKGN1cnJlbnRDZWxsLnRleHRDb250ZW50IHx8IFwiXCIpLnRyaW0oKSk7XHJcblxyXG4gICAgLy8gICAgICAgICBsZXQgaXNUaGVFbmQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAvLyAgICAgICAgIGlmIChhY3R1YWxTZWxlY3Rpb24pIHtcclxuICAgIC8vICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpO1xyXG4gICAgLy8gICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uUmFuZ2UgPSBzZWxlY3Rpb24/LmdldFJhbmdlQXQoMCk7XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgaWYgKHNlbGVjdGlvblJhbmdlKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uU3RhcnRPZmZzZXQgPSBzZWxlY3Rpb25SYW5nZS5zdGFydE9mZnNldDtcclxuICAgIC8vICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3Rpb25FbmRPZmZzZXQgPSBzZWxlY3Rpb25SYW5nZS5lbmRPZmZzZXQ7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgY29uc3QgY2VsbFRleHRMZW5ndGggPSBjdXJyZW50Q2VsbFRleHQubGVuZ3RoO1xyXG5cclxuICAgIC8vICAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBEaXJlY3Rpb25zLkFycm93UmlnaHQgfHwgZXZlbnQua2V5ID09PSBEaXJlY3Rpb25zLkFycm93RG93bikge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAvLyBDb25zaWRlciB0aGUgY2FyZXQgYmVpbmcgYXQgdGhlIGVuZCBvZiB0aGUgY2VsbCB0ZXh0XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGlzVGhlRW5kID0gc2VsZWN0aW9uRW5kT2Zmc2V0ID49IGNlbGxUZXh0TGVuZ3RoO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSBEaXJlY3Rpb25zLkFycm93TGVmdCB8fCBldmVudC5rZXkgPT09IERpcmVjdGlvbnMuQXJyb3dVcCkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAvLyBDb25zaWRlciB0aGUgY2FyZXQgYmVpbmcgYXQgdGhlIHN0YXJ0IG9mIHRoZSBjZWxsIHRleHRcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgaXNUaGVFbmQgPSBzZWxlY3Rpb25TdGFydE9mZnNldCA9PT0gMDtcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBtYXRjaGVzIHRoZSBzdG9yZWQgc2VsZWN0ZWQgdGV4dFxyXG4gICAgLy8gICAgICAgICBpZiAoY3VycmVudENlbGxUZXh0ID09PSBcIlwiIHx8IChhY3R1YWxTZWxlY3Rpb24gPT09IHRoaXMuc2VsZWN0ZWRUZXh0LnRyaW0oKSAmJiBpc1RoZUVuZCkpIHtcclxuICAgIC8vICAgICAgICAgICAgIC8vIElmIHRoZXkgYXJlIHRoZSBzYW1lLCBpdCBpbmRpY2F0ZXMgdGhhdCB0aGUgc2VsZWN0aW9uIGhhc24ndCBjaGFuZ2VkLFxyXG4gICAgLy8gICAgICAgICAgICAgLy8gc28gc3dpdGNoIHRvIGNlbGwgc2VsZWN0aW9uIG1vZGUgYW5kIHJlc2V0IHRoZSBzdG9yZWQgdGV4dFxyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25Nb2RlID0gU2VsZWN0aW9uTW9kZXMuQ2VsbDtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gXCJcIjtcclxuICAgIC8vICAgICAgICAgfSBlbHNlIGlmIChhY3R1YWxTZWxlY3Rpb24pIHtcclxuICAgIC8vICAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgbmV3IHNlbGVjdGlvbiwgdXBkYXRlIHRoZSBzdG9yZWQgc2VsZWN0ZWQgdGV4dCB0byB0aGUgbmV3IHZhbHVlXHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9IGFjdHVhbFNlbGVjdGlvbjtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVXBkYXRlcyB0aGUgc2VsZWN0aW9uIG1vZGUgYmFzZWQgb24gdGhlIGN1cnJlbnQgbW91c2UgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIGFjdHVhbCBmb2N1c2VkIGNlbGwuXHJcbiAgICAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIGlmIHRoZSBtb3VzZSBpcyBvdXRzaWRlIHRoZSBib3VuZHMgb2YgdGhlIGZvY3VzZWQgY2VsbCwgYW5kIGlmIHNvLCBzd2l0Y2hlcyB0aGVcclxuICAgICogc2VsZWN0aW9uIG1vZGUgdG8gY2VsbCBzZWxlY3Rpb24gbW9kZS5cclxuICAgICogXHJcbiAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgLSBUaGUgbW91c2UgZXZlbnQgdGhhdCB0cmlnZ2VycyB0aGlzIGZ1bmN0aW9uLCB0eXBpY2FsbHkgaW52b2x2aW5nIG1vdXNlIG1vdmVtZW50LlxyXG4gICAgKi9cclxuICAgIHByaXZhdGUgdXBkYXRlU2VsZWN0aW9uTW9kZUJ5TW91c2VFdmVudChldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25GbGFnICYmIHRoaXMuYWN0dWFsRm9jdXNlZENlbGwpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNlbGxSZWN0ID0gdGhpcy5hY3R1YWxGb2N1c2VkQ2VsbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlWCA9IGV2ZW50LmNsaWVudFg7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlWSA9IGV2ZW50LmNsaWVudFk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIShtb3VzZVggPj0gY2VsbFJlY3QubGVmdCAmJiBtb3VzZVggPD0gY2VsbFJlY3QucmlnaHQgJiYgbW91c2VZID49IGNlbGxSZWN0LnRvcCAmJiBtb3VzZVkgPD0gY2VsbFJlY3QuYm90dG9tKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25Nb2RlID0gU2VsZWN0aW9uTW9kZXMuQ2VsbDtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbkhpZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZUtleVVwKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBjb25zdCBjdXJyZW50Q2VsbCA9IHRhcmdldC5jbG9zZXN0KERPTUVsZW1lbnRzLlREKSBhcyBIVE1MVGFibGVDZWxsRWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnRDZWxsKSB7XHJcblxyXG4gICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGhlU2VsZWN0aW9uTW9kZUJ5Q3VycmVudFNlbGVjdGlvblN0YXRlKGV2ZW50KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IEtleWJvYXJkS2V5cy5TaGlmdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFNlbGVjdGlvblN0YXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDZWxscy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRTZWxlY3RlZENlbGwoY2VsbDogSFRNTFRhYmxlQ2VsbEVsZW1lbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZENlbGxzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ2VsbHMucHVzaChjZWxsKTtcclxuICAgICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xyXG5cclxuICAgICAgICAgICAgLy9DaGFuZ2UgdGhlIGFjdHVhbCBmb2N1c2VkIGNlbGwgb25seSBpZiBhdCBzYW1lIHRhYmxlXHJcbiAgICAgICAgICAgIHRoaXMuYWN0dWFsRm9jdXNlZENlbGwgPSBjZWxsO1xyXG4gICAgICAgICAgICBjZWxsLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0U2VsZWN0ZWRDZWxsID0gdGhpcy5zZWxlY3RlZENlbGxzW3RoaXMuc2VsZWN0ZWRDZWxscy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgY29uc3QgbGFzdFNlbGVjdGVkQ2VsbFRhYmxlID0gbGFzdFNlbGVjdGVkQ2VsbC5jbG9zZXN0KCd0YWJsZScpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q2VsbFRhYmxlID0gY2VsbC5jbG9zZXN0KCd0YWJsZScpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxhc3RTZWxlY3RlZENlbGxUYWJsZSA9PT0gY3VycmVudENlbGxUYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnNlbGVjdGVkQ2VsbHMuaW5kZXhPZihjZWxsKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ2VsbHMucHVzaChjZWxsKTtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vQ2hhbmdlIHRoZSBhY3R1YWwgZm9jdXNlZCBjZWxsIG9ubHkgaWYgYXQgc2FtZSB0YWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0dWFsRm9jdXNlZENlbGwgPSBjZWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9DZWx1bGEgasOhIGZheiBwYXJ0ZSBkYSBsaXN0YSBhcGVuYXMgZm9jYSBlIGNvbnRpbnVhXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3R1YWxGb2N1c2VkQ2VsbCA9IGNlbGw7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgYXR0YWNoVUlFdmVudCgpIHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKEN1c3RvbVVJRXZlbnRzLkNsb3NlRWxlbWVudCwgdGhpcy5oYW5kbGVDbG9zZUVsZW1lbnRFdmVudC5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDbG9zZUVsZW1lbnRFdmVudChldmVudDogRXZlbnQpIHtcclxuXHJcbiAgICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBldmVudCBhcyBDdXN0b21FdmVudDxJVUlFdmVudERldGFpbD47XHJcbiAgICAgICAgY29uc3QgZGV0YWlscyA9IGN1c3RvbUV2ZW50LmRldGFpbDtcclxuXHJcbiAgICAgICAgaWYgKFRhYmxlQ29udGV4dEZsb2F0aW5nVG9vbGJhci5pZCA9PSBkZXRhaWxzLnRhcmdldElkISkge1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFyQW5kSGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG93KCk6IHZvaWQge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuYWN0dWFsRm9jdXNlZENlbGwpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gZm9jdXNlZCBjZWxsIGZvdW5kJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVzZXRBYm9ydENvbnRyb2xsZXIoKTtcclxuICAgICAgICB0aGlzLmZvY3VzU3RhY2sucHVzaCh0aGlzLmFjdHVhbEZvY3VzZWRDZWxsKTtcclxuICAgICAgICB0aGlzLmNoYW5nZVRvb2xiYXJQb3NpdGlvblRvQmVDbG9zZWRUbyh0aGlzLmFjdHVhbEZvY3VzZWRDZWxsKTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NTZWxlY3Rpb25DaGFuZ2VFZmZlY3RzKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJsb2NrID0gdGhpcy5hY3R1YWxGb2N1c2VkQ2VsbC5jbG9zZXN0KFwiLmJsb2NrXCIpO1xyXG4gICAgICAgIGxldCBibG9ja1Rvb2xiYXI6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChibG9jaykge1xyXG4gICAgICAgICAgICBibG9ja1Rvb2xiYXIgPSBibG9jay5xdWVyeVNlbGVjdG9yKFwiLmJsb2NrLXRvb2xiYXJcIikgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGJsb2NrVG9vbGJhci5jbGFzc0xpc3QuYWRkKFwiZC1ub25lXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3VwZXIuc2hvdygpO1xyXG5cclxuICAgICAgICB0aGlzLmFjdHVhbEZvY3VzZWRDZWxsLmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLkJsdXIsICgpID0+IHRoaXMuY2xlYXJBbmRIaWRlKGJsb2NrVG9vbGJhciksIHsgc2lnbmFsOiB0aGlzLmNvbnRyb2xsZXIuc2lnbmFsIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLy8gZXhlY0NlbGxCYWNrZ3JvdW5kQ29sb3IodmFsdWU6IHN0cmluZyk6IHZvaWQge1xyXG5cclxuICAgIC8vICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7XHJcblxyXG4gICAgLy8gICAgIEV2ZW50RW1pdHRlci5lbWl0UmVzZXRBY3RpdmVCdXR0b25zRWxlbWVudEV2ZW50KFwiYmFja2dyb3VuZENvbG9yXCIpO1xyXG5cclxuICAgIC8vICAgICBjb25zdCBhY3RpdmVDZWxsID0gVGFibGVVdGlscy5nZXRBY3RpdmVUYWJsZUNlbGwoKTtcclxuXHJcbiAgICAvLyAgICAgaWYgKGFjdGl2ZUNlbGwpIHtcclxuICAgIC8vICAgICAgICAgY29uc3QgdGFibGUgPSBhY3RpdmVDZWxsLmNsb3Nlc3QoJ3RhYmxlJykhO1xyXG5cclxuICAgIC8vICAgICAgICAgY29uc3Qgc2VsZWN0ZWRDZWxscyA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLnNlbGVjdGVkJyk7XHJcblxyXG4gICAgLy8gICAgICAgICBzZWxlY3RlZENlbGxzLmZvckVhY2goY2VsbCA9PiB7XHJcbiAgICAvLyAgICAgICAgICAgICAoY2VsbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdmFsdWU7XHJcbiAgICAvLyAgICAgICAgIH0pO1xyXG5cclxuICAgIC8vICAgICAgICAgRXZlbnRFbWl0dGVyLmVtaXRTaG93SGlkZUFjdGl2ZUVsZW1lbnRFdmVudChcImJhY2tncm91bmRDb2xvclwiLCB2YWx1ZSwgXCJzaG93XCIpO1xyXG5cclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICBjb25zb2xlLmVycm9yKFwiY2VsbCBub3QgZm91bmRcIik7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIHByb2Nlc3NTZWxlY3Rpb25DaGFuZ2VFZmZlY3RzKCkge1xyXG5cclxuICAgICAgICBFdmVudEVtaXR0ZXIuZW1pdFJlc2V0QWN0aXZlQnV0dG9uc0VsZW1lbnRFdmVudChcImJhY2tncm91bmRDb2xvclwiKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZENvbG9yczogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3JzW0NvbG9ycy5CYWNrZ3JvdW5kQ29sb3JSZWRdID0gdGhpcy50YWJsZU9wZXJhdGlvbnNTZXJ2aWNlLnF1ZXJ5QWxsU3RhdGVDZWxsQmFja2dyb3VuZENvbG9yKHRoaXMuc2VsZWN0ZWRDZWxscywgQ29sb3JzLkJhY2tncm91bmRDb2xvclJlZCk7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yc1tDb2xvcnMuQmFja2dyb3VuZENvbG9yR3JlZW5dID0gdGhpcy50YWJsZU9wZXJhdGlvbnNTZXJ2aWNlLnF1ZXJ5QWxsU3RhdGVDZWxsQmFja2dyb3VuZENvbG9yKHRoaXMuc2VsZWN0ZWRDZWxscywgQ29sb3JzLkJhY2tncm91bmRDb2xvckdyZWVuKTtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3JzW0NvbG9ycy5CYWNrZ3JvdW5kQ29sb3JCbHVlXSA9IHRoaXMudGFibGVPcGVyYXRpb25zU2VydmljZS5xdWVyeUFsbFN0YXRlQ2VsbEJhY2tncm91bmRDb2xvcih0aGlzLnNlbGVjdGVkQ2VsbHMsIENvbG9ycy5CYWNrZ3JvdW5kQ29sb3JCbHVlKTtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3JzW0NvbG9ycy5CYWNrZ3JvdW5kQ29sb3JZZWxsb3ddID0gdGhpcy50YWJsZU9wZXJhdGlvbnNTZXJ2aWNlLnF1ZXJ5QWxsU3RhdGVDZWxsQmFja2dyb3VuZENvbG9yKHRoaXMuc2VsZWN0ZWRDZWxscywgQ29sb3JzLkJhY2tncm91bmRDb2xvclllbGxvdyk7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yc1tDb2xvcnMuQmFja2dyb3VuZENvbG9yR3JleV0gPSB0aGlzLnRhYmxlT3BlcmF0aW9uc1NlcnZpY2UucXVlcnlBbGxTdGF0ZUNlbGxCYWNrZ3JvdW5kQ29sb3IodGhpcy5zZWxlY3RlZENlbGxzLCBDb2xvcnMuQmFja2dyb3VuZENvbG9yR3JleSk7XHJcblxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGJhY2tncm91bmRDb2xvcnMpLmZvckVhY2goKFtjb2xvciwgYWN0aXZlXSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBFdmVudEVtaXR0ZXIuZW1pdFNob3dIaWRlQWN0aXZlRWxlbWVudEV2ZW50KFwiYmFja2dyb3VuZENvbG9yXCIsIGNvbG9yLCBcInNob3dcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gcmVzZXRDaGVja2VkQ29sb3IoKSB7XHJcblxyXG4gICAgLy8gICAgIGNvbnN0IGRyb3Bkb3duQ29sb3IgPSB0aGlzLmRyb3Bkb3ducy5maW5kKGUgPT4gZS5pZCA9PSBcInRhYmxlQ29sb3JPcHRpb25zTWVudVwiKSE7XHJcblxyXG4gICAgLy8gICAgIGRyb3Bkb3duQ29sb3IuZHJvcGRvd25MaXN0LmRyb3Bkb3duSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuXHJcbiAgICAvLyAgICAgICAgIGl0ZW0ucmVzZXRBY3RpdmVJY29uKCk7XHJcbiAgICAvLyAgICAgfSk7XHJcblxyXG4gICAgLy8gICAgIGRyb3Bkb3duQ29sb3IuZHJvcGRvd25MaXN0LmRyb3Bkb3duSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuXHJcbiAgICAvLyAgICAgICAgIGNvbnN0IGNvbG9yID0gaXRlbS5nZXRMZWZ0SWNvbkJhY2tncm91bmRDb2xvcigpO1xyXG5cclxuICAgIC8vICAgICAgICAgaWYgKGNvbG9yICYmIHRoaXMuYXJlQWxsU2VsZWN0ZWRDZWxsc1NhbWVCZ0NvbG9yKGNvbG9yKSAmJiBjb2xvciAhPSBcInRyYW5zcGFyZW50XCIpIHtcclxuICAgIC8vICAgICAgICAgICAgIGl0ZW0uY2hhbmdlQWN0aXZlSWNvblRvVmlzaWJsZSgpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgY2hhbmdlVG9vbGJhclBvc2l0aW9uVG9CZUNsb3NlZFRvKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuXHJcbiAgICAgICAgY29uc3QgZWxlbWVudFdpZHRoID0gdGhpcy5odG1sRWxlbWVudC5vZmZzZXRXaWR0aDtcclxuICAgICAgICBsZXQgbGVmdFBvc2l0aW9uID0gcmVjdC5sZWZ0ICsgd2luZG93LnNjcm9sbFggKyAwO1xyXG5cclxuICAgICAgICBpZiAobGVmdFBvc2l0aW9uICsgZWxlbWVudFdpZHRoID4gd2luZG93LmlubmVyV2lkdGgpIHtcclxuICAgICAgICAgICAgbGVmdFBvc2l0aW9uID0gd2luZG93LmlubmVyV2lkdGggLSBlbGVtZW50V2lkdGggLSAyMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRIZWlnaHQgPSB0aGlzLmh0bWxFbGVtZW50Lm9mZnNldEhlaWdodDtcclxuICAgICAgICBsZXQgdG9wUG9zaXRpb24gPSByZWN0LnRvcCArIHdpbmRvdy5zY3JvbGxZIC0gZWxlbWVudEhlaWdodCAtIDEwO1xyXG5cclxuICAgICAgICBpZiAodG9wUG9zaXRpb24gPCAwKSB7XHJcbiAgICAgICAgICAgIHRvcFBvc2l0aW9uID0gcmVjdC5ib3R0b20gKyB3aW5kb3cuc2Nyb2xsWSArIDEwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7bGVmdFBvc2l0aW9ufXB4YDtcclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnN0eWxlLnRvcCA9IGAke3RvcFBvc2l0aW9ufXB4YDtcclxuICAgIH1cclxuXHJcbiAgICByZXNldFNlbGVjdGlvblN0YXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uTW9kZSA9IFNlbGVjdGlvbk1vZGVzLlRleHQ7XHJcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25GbGFnID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyQWxsKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYWN0dWFsRm9jdXNlZENlbGwgPSBudWxsO1xyXG4gICAgICAgIGNvbnN0IGFsbFRhYmxlQ2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCd0ZCcpO1xyXG4gICAgICAgIGFsbFRhYmxlQ2VsbHMuZm9yRWFjaChjZWxsID0+IGNlbGwuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKSk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZENlbGxzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5jYW5IaWRlKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJBbmRIaWRlKGJsb2NrVG9vbGJhcjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbCk6IHZvaWQge1xyXG5cclxuICAgICAgICBpZiAoYmxvY2tUb29sYmFyKSB7XHJcbiAgICAgICAgICAgIGJsb2NrVG9vbGJhci5jbGFzc0xpc3QucmVtb3ZlKFwiZC1ub25lXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jbGVhckFsbCgpO1xyXG4gICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVzZXRBYm9ydENvbnRyb2xsZXIoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcclxuICAgICAgICBjb25zdCBmb2N1c1N0YWNrID0gRGVwZW5kZW5jeUNvbnRhaW5lci5JbnN0YW5jZS5yZXNvbHZlPElGb2N1c1N0YWNrPihcIklGb2N1c1N0YWNrXCIpO1xyXG4gICAgICAgIGNvbnN0IHRhYmxlT3BlcmF0aW9uc1NlcnZpY2UgPSBEZXBlbmRlbmN5Q29udGFpbmVyLkluc3RhbmNlLnJlc29sdmU8SVRhYmxlT3BlcmF0aW9uc1NlcnZpY2U+KFwiSVRhYmxlT3BlcmF0aW9uc1NlcnZpY2VcIik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXIoZm9jdXNTdGFjaywgdGFibGVPcGVyYXRpb25zU2VydmljZSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb21tYW5kcyB9IGZyb20gXCJAL2NvbW1hbmRzL0NvbW1hbmRzXCI7XHJcbmltcG9ydCB7IENvbG9ycyB9IGZyb20gXCJAL2NvbW1vbi9Db2xvcnNcIjtcclxuaW1wb3J0IHsgU2l6ZXMgfSBmcm9tIFwiQC9jb21tb24vU2l6ZXNcIjtcclxuaW1wb3J0IHsgU1ZHSWNvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvY29tbW9uL1NWR0ljb25cIjtcclxuaW1wb3J0IHsgQ29sb3JJY29uIH0gZnJvbSBcIkAvY29tcG9uZW50cy9mbG9hdGluZy10b29sYmFyL2Ryb3Bkb3duLXRvb2wvQ29sb3JJY29uXCI7XHJcbmltcG9ydCB7IERyb3Bkb3duTWVudSB9IGZyb20gXCJAL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9kcm9wZG93bi10b29sL0Ryb3Bkb3duTWVudVwiO1xyXG5pbXBvcnQgeyBEcm9wZG93bk1lbnVCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL2Zsb2F0aW5nLXRvb2xiYXIvZHJvcGRvd24tdG9vbC9Ecm9wZG93bk1lbnVCdXR0b25cIjtcclxuaW1wb3J0IHsgRHJvcGRvd25NZW51TGlzdCB9IGZyb20gXCJAL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9kcm9wZG93bi10b29sL0Ryb3Bkb3duTWVudUxpc3RcIjtcclxuaW1wb3J0IHsgRHJvcGRvd25NZW51TGlzdEl0ZW0gfSBmcm9tIFwiQC9jb21wb25lbnRzL2Zsb2F0aW5nLXRvb2xiYXIvZHJvcGRvd24tdG9vbC9Ecm9wZG93bk1lbnVMaXN0SXRlbVwiO1xyXG5pbXBvcnQgeyBEcm9wZG93bk1lbnVMaXN0SXRlbVRpdGxlIH0gZnJvbSBcIkAvY29tcG9uZW50cy9mbG9hdGluZy10b29sYmFyL2Ryb3Bkb3duLXRvb2wvRHJvcGRvd25NZW51TGlzdEl0ZW1UaXRsZVwiO1xyXG5pbXBvcnQgeyBGbG9hdGluZ1Rvb2xiYXJTZXBhcmF0b3IgfSBmcm9tIFwiQC9jb21wb25lbnRzL2Zsb2F0aW5nLXRvb2xiYXIvc2VwYXJhdG9yL0Zsb2F0aW5nVG9vbGJhclNlcGFyYXRvclwiO1xyXG5pbXBvcnQgeyBUYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL2Zsb2F0aW5nLXRvb2xiYXIvVGFibGVDb250ZXh0RmxvYXRpbmdUb29sYmFyXCI7XHJcbmltcG9ydCB7IERlcGVuZGVuY3lDb250YWluZXIgfSBmcm9tIFwiQC9jb3JlL0RlcGVuZGVuY3lDb250YWluZXJcIjtcclxuaW1wb3J0IHsgRWxlbWVudEZhY3RvcnlTZXJ2aWNlIH0gZnJvbSBcIkAvc2VydmljZXMvZWxlbWVudC1mYWN0b3J5L0VsZW1lbnRGYWN0b3J5U2VydmljZVwiO1xyXG5pbXBvcnQgeyBJVGFibGVPcGVyYXRpb25zU2VydmljZSB9IGZyb20gXCJAL3NlcnZpY2VzL3RhYmxlLW9wZXJhdGlvbnMvSVRhYmxlT3BlcmF0aW9uc1NlcnZpY2VcIjtcclxuaW1wb3J0IHsgSWNvbnMgfSBmcm9tIFwiQC9jb21tb24vSWNvbnNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXJCdWlsZGVyIHtcclxuXHJcbiAgICBzdGF0aWMgYnVpbGQoKTogVGFibGVDb250ZXh0RmxvYXRpbmdUb29sYmFyIHtcclxuXHJcbiAgICAgICAgY29uc3QgdGFibGVPcGVyYXRpb25TZXJ2aWNlID0gRGVwZW5kZW5jeUNvbnRhaW5lci5JbnN0YW5jZS5yZXNvbHZlPElUYWJsZU9wZXJhdGlvbnNTZXJ2aWNlPihcIklUYWJsZU9wZXJhdGlvbnNTZXJ2aWNlXCIpO1xyXG5cclxuICAgICAgICBjb25zdCB0YWJsZVRvb2xiYXIgPSBUYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXIuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbiAgICAgICAgdGFibGVUb29sYmFyLmFwcGVuZERyb3Bkb3duKFRhYmxlQ29udGV4dEZsb2F0aW5nVG9vbGJhckJ1aWxkZXIudGFibGVPcHRpb25zKHRhYmxlT3BlcmF0aW9uU2VydmljZSkpO1xyXG4gICAgICAgIHRhYmxlVG9vbGJhci5hcHBlbmRTZXBhcmF0b3IoVGFibGVDb250ZXh0RmxvYXRpbmdUb29sYmFyQnVpbGRlci5zZXBhcmF0b3IoXCJ0YWJsZU9wZXJhdGlvbnNTZXBhcmF0b3JcIikpO1xyXG4gICAgICAgIHRhYmxlVG9vbGJhci5hcHBlbmREcm9wZG93bihUYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXJCdWlsZGVyLnRhYmxlQ29sb3JEcm9wZG93bigpKTtcclxuXHJcblxyXG4gICAgICAgIHJldHVybiB0YWJsZVRvb2xiYXI7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHRhYmxlT3B0aW9ucyh0YWJsZU9wZXJhdGlvbnNTZXJ2aWNlOiBJVGFibGVPcGVyYXRpb25zU2VydmljZSk6IERyb3Bkb3duTWVudSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHR1cm5JbnRvQmFyTGlzdCA9IG5ldyBEcm9wZG93bk1lbnVMaXN0KFwidGFibGVPcHRpb25zU2VsZWN0XCIpO1xyXG4gICAgICAgIGNvbnN0IHR1cm5JbnRvQmFyQnV0dG9uID0gbmV3IERyb3Bkb3duTWVudUJ1dHRvbihcInRhYmxlT3B0aW9uc1wiLCBcIk9wdGlvbnNcIiwgdHVybkludG9CYXJMaXN0KTtcclxuICAgICAgICBjb25zdCB0dXJuSW50b0Ryb3Bkb3duID0gbmV3IERyb3Bkb3duTWVudShcInRhYmxlT3B0aW9uc01lbnVcIiwgdHVybkludG9CYXJCdXR0b24sIHR1cm5JbnRvQmFyTGlzdCk7XHJcblxyXG4gICAgICAgIHR1cm5JbnRvQmFyTGlzdC5hcHBlbmQobmV3IERyb3Bkb3duTWVudUxpc3RJdGVtVGl0bGUodHVybkludG9CYXJMaXN0LCBcIkluc2VydCBDb2x1bW5cIikpO1xyXG5cclxuICAgICAgICB0dXJuSW50b0Jhckxpc3QuYXBwZW5kKG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbShcInR1cm5JbnRvT3B0aW9uVGV4dFwiLCB0dXJuSW50b0Jhckxpc3QsIENvbW1hbmRzLmluc2VydFRhYmxlQ29sdW1uTGVmdCwgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuUEFSQUdSQVBILCBTVkdJY29uLmNyZWF0ZShJY29ucy5Db2x1bW5MZWZ0LCBTaXplcy5tZWRpdW0pLmh0bWxFbGVtZW50LCBcIkxlZnRcIikpO1xyXG4gICAgICAgIHR1cm5JbnRvQmFyTGlzdC5hcHBlbmQobmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKFwidHVybkludG9PcHRpb25UZXh0XCIsIHR1cm5JbnRvQmFyTGlzdCwgQ29tbWFuZHMuaW5zZXJ0VGFibGVDb2x1bW5SaWdodCwgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuUEFSQUdSQVBILCBTVkdJY29uLmNyZWF0ZShJY29ucy5Db2x1bW5SaWdodCwgU2l6ZXMubWVkaXVtKS5odG1sRWxlbWVudCwgXCJSaWdodFwiKSk7XHJcblxyXG4gICAgICAgIHR1cm5JbnRvQmFyTGlzdC5hcHBlbmQobmV3IERyb3Bkb3duTWVudUxpc3RJdGVtVGl0bGUodHVybkludG9CYXJMaXN0LCBcIkluc2VydCBSb3dcIikpO1xyXG4gICAgICAgIHR1cm5JbnRvQmFyTGlzdC5hcHBlbmQobmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKFwidHVybkludG9PcHRpb25Ub2RvTGlzdFwiLCB0dXJuSW50b0Jhckxpc3QsIENvbW1hbmRzLmluc2VydFRhYmxlUm93QWJvdmUsIEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkNIRUNLX0xJU1QsIFNWR0ljb24uY3JlYXRlKEljb25zLlJvd0Fib3ZlLCBTaXplcy5tZWRpdW0pLmh0bWxFbGVtZW50LCBcIkFib3ZlXCIpKTtcclxuICAgICAgICB0dXJuSW50b0Jhckxpc3QuYXBwZW5kKG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbShcInR1cm5JbnRvT3B0aW9uVG9kb0xpc3RcIiwgdHVybkludG9CYXJMaXN0LCBDb21tYW5kcy5pbnNlcnRUYWJsZVJvd0JlbG93LCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5DSEVDS19MSVNULCBTVkdJY29uLmNyZWF0ZShJY29ucy5Sb3dCZWxvdywgU2l6ZXMubWVkaXVtKS5odG1sRWxlbWVudCwgXCJCZWxvd1wiKSk7XHJcblxyXG5cclxuICAgICAgICB0dXJuSW50b0Jhckxpc3QuYXBwZW5kKG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbVRpdGxlKHR1cm5JbnRvQmFyTGlzdCwgXCJSZW1vdmVcIikpO1xyXG5cclxuICAgICAgICBjb25zdCBkZWxldGVDb2x1bW5JdGVtID0gbmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKFwidHVybkludG9PcHRpb25UZXh0XCIsIHR1cm5JbnRvQmFyTGlzdCwgQ29tbWFuZHMucmVtb3ZlQ29sdW1uLCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5QQVJBR1JBUEgsIFNWR0ljb24uY3JlYXRlKEljb25zLmRlbGV0ZVN3ZWVwLCBTaXplcy5tZWRpdW0pLmh0bWxFbGVtZW50LCBcIkNvbHVtblwiKTtcclxuICAgICAgICBkZWxldGVDb2x1bW5JdGVtLmFkZENzc0NsYXNzKFwiZGFuZ2VyLW9wdGlvblwiKTtcclxuICAgICAgICAvLyBkZWxldGVDb2x1bW5JdGVtLmF0dGFjaE9uRm9jdXModGFibGVPcGVyYXRpb25zU2VydmljZS5lbWl0Q2hhbmdlVGFibGVCb3JkZXJDb2xvckV2ZW50LCBUYWJsZVNjb3Blcy5Db2x1bW4sIENvbG9ycy5Ub21hdG8pO1xyXG4gICAgICAgIC8vIGRlbGV0ZUNvbHVtbkl0ZW0uYXR0YWNoT25Mb3NlRm9jdXModGFibGVPcGVyYXRpb25zU2VydmljZS5lbWl0Q2hhbmdlVGFibGVCb3JkZXJDb2xvckV2ZW50LCBUYWJsZVNjb3Blcy5Db2x1bW4sIENvbG9ycy5PcmlnaW5hbFRhYmxlQ29sb3IpO1xyXG5cclxuICAgICAgICB0dXJuSW50b0Jhckxpc3QuYXBwZW5kKGRlbGV0ZUNvbHVtbkl0ZW0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGRlbGV0ZVJvd0l0ZW0gPSBuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oXCJ0dXJuSW50b09wdGlvblRvZG9MaXN0XCIsIHR1cm5JbnRvQmFyTGlzdCwgQ29tbWFuZHMucmVtb3ZlUm93LCBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5DSEVDS19MSVNULCBTVkdJY29uLmNyZWF0ZShJY29ucy5kZWxldGVTd2VlcCwgU2l6ZXMubWVkaXVtKS5odG1sRWxlbWVudCwgXCJSb3dcIik7XHJcbiAgICAgICAgZGVsZXRlUm93SXRlbS5hZGRDc3NDbGFzcyhcImRhbmdlci1vcHRpb25cIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gZGVsZXRlUm93SXRlbS5hdHRhY2hPbkZvY3VzKHRhYmxlT3BlcmF0aW9uc1NlcnZpY2UuZW1pdENoYW5nZVRhYmxlQm9yZGVyQ29sb3JFdmVudCwgVGFibGVTY29wZXMuUm93LCBDb2xvcnMuVG9tYXRvKTtcclxuICAgICAgICAvLyBkZWxldGVSb3dJdGVtLmF0dGFjaE9uTG9zZUZvY3VzKHRhYmxlT3BlcmF0aW9uc1NlcnZpY2UuZW1pdENoYW5nZVRhYmxlQm9yZGVyQ29sb3JFdmVudCwgVGFibGVTY29wZXMuUm93LCBDb2xvcnMuT3JpZ2luYWxUYWJsZUNvbG9yKTtcclxuXHJcbiAgICAgICAgdHVybkludG9CYXJMaXN0LmFwcGVuZChkZWxldGVSb3dJdGVtKTtcclxuXHJcblxyXG4gICAgICAgIHJldHVybiB0dXJuSW50b0Ryb3Bkb3duO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB0YWJsZUNvbG9yRHJvcGRvd24oKTogRHJvcGRvd25NZW51IHtcclxuXHJcbiAgICAgICAgY29uc3QgY29sb3JEcm9wZG93bkxpc3QgPSBuZXcgRHJvcGRvd25NZW51TGlzdChcImNvbG9yVGFibGVPcHRpb25TZWxlY3RcIik7XHJcbiAgICAgICAgY29uc3QgY29sb3JCdXR0b24gPSBuZXcgRHJvcGRvd25NZW51QnV0dG9uKFwiY29sb3JUYWJsZUJ1dHRvblwiLCBuZXcgQ29sb3JJY29uKFwid2hpdGVcIikuaHRtbEVsZW1lbnQsIGNvbG9yRHJvcGRvd25MaXN0KTtcclxuICAgICAgICBjb25zdCBjb2xvckRyb3Bkb3duID0gbmV3IERyb3Bkb3duTWVudShcInRhYmxlQ29sb3JPcHRpb25zTWVudVwiLCBjb2xvckJ1dHRvbiwgY29sb3JEcm9wZG93bkxpc3QpO1xyXG5cclxuICAgICAgICBjb2xvckRyb3Bkb3duTGlzdC5hcHBlbmQobmV3IERyb3Bkb3duTWVudUxpc3RJdGVtVGl0bGUoY29sb3JEcm9wZG93bkxpc3QsIFwiQmFja2dyb3VuZFwiKSk7XHJcblxyXG5cclxuICAgICAgICBjb25zdCBjZWxsQmFja2dyb3VuZENvbG9yUmVkID0gbmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKFwiYmFja2dyb3VuZE9wdGlvblJlZFwiLCBjb2xvckRyb3Bkb3duTGlzdCwgQ29tbWFuZHMudG9nZ2xlQ2VsbEhpbGl0ZUNvbG9yLCBDb2xvcnMuQmFja2dyb3VuZENvbG9yQ2VsbFJlZCwgbmV3IENvbG9ySWNvbihDb2xvcnMuSGlsaXRlQ29sb3JSZWQpLmh0bWxFbGVtZW50LCBcIlJlZFwiKTtcclxuICAgICAgICBjZWxsQmFja2dyb3VuZENvbG9yUmVkLmFkZENsYXNzKFwiYmFja2dyb3VuZENvbG9yXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNlbGxCYWNrZ3JvdW5kQ29sb3JHcmVlbiA9IG5ldyBEcm9wZG93bk1lbnVMaXN0SXRlbShcImJhY2tncm91bmRPcHRpb25HcmVlblwiLCBjb2xvckRyb3Bkb3duTGlzdCwgQ29tbWFuZHMudG9nZ2xlQ2VsbEhpbGl0ZUNvbG9yLCBDb2xvcnMuQmFja2dyb3VuZENvbG9yQ2VsbEdyZWVuLCBuZXcgQ29sb3JJY29uKENvbG9ycy5IaWxpdGVDb2xvckdyZWVuKS5odG1sRWxlbWVudCwgXCJHcmVlblwiKTtcclxuICAgICAgICBjZWxsQmFja2dyb3VuZENvbG9yR3JlZW4uYWRkQ2xhc3MoXCJiYWNrZ3JvdW5kQ29sb3JcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY2VsbEJhY2tncm91bmRDb2xvckJsdWUgPSBuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oXCJiYWNrZ3JvdW5kT3B0aW9uQmx1ZVwiLCBjb2xvckRyb3Bkb3duTGlzdCwgQ29tbWFuZHMudG9nZ2xlQ2VsbEhpbGl0ZUNvbG9yLCBDb2xvcnMuQmFja2dyb3VuZENvbG9yQ2VsbEJsdWUsIG5ldyBDb2xvckljb24oQ29sb3JzLkhpbGl0ZUNvbG9yQmx1ZSkuaHRtbEVsZW1lbnQsIFwiQmx1ZVwiKTtcclxuICAgICAgICBjZWxsQmFja2dyb3VuZENvbG9yQmx1ZS5hZGRDbGFzcyhcImJhY2tncm91bmRDb2xvclwiKTtcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjZWxsQmFja2dyb3VuZENvbG9yWWVsbG93ID0gbmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKFwiYmFja2dyb3VuZE9wdGlvblllbGxvd1wiLCBjb2xvckRyb3Bkb3duTGlzdCwgQ29tbWFuZHMudG9nZ2xlQ2VsbEhpbGl0ZUNvbG9yLCBDb2xvcnMuQmFja2dyb3VuZENvbG9yQ2VsbFllbGxvdywgbmV3IENvbG9ySWNvbihDb2xvcnMuSGlsaXRlQ29sb3JZZWxsb3cpLmh0bWxFbGVtZW50LCBcIlllbGxvd1wiKTtcclxuICAgICAgICBjZWxsQmFja2dyb3VuZENvbG9yWWVsbG93LmFkZENsYXNzKFwiYmFja2dyb3VuZENvbG9yXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNlbGxCYWNrZ3JvdW5kQ29sb3JHcmV5ID0gbmV3IERyb3Bkb3duTWVudUxpc3RJdGVtKFwiYmFja2dyb3VuZE9wdGlvbkdyZXlcIiwgY29sb3JEcm9wZG93bkxpc3QsIENvbW1hbmRzLnRvZ2dsZUNlbGxIaWxpdGVDb2xvciwgQ29sb3JzLkJhY2tncm91bmRDb2xvckNlbGxHcmV5LCBuZXcgQ29sb3JJY29uKENvbG9ycy5IaWxpdGVDb2xvckdyZXkpLmh0bWxFbGVtZW50LCBcIkdyZXlcIik7XHJcbiAgICAgICAgY2VsbEJhY2tncm91bmRDb2xvckdyZXkuYWRkQ2xhc3MoXCJiYWNrZ3JvdW5kQ29sb3JcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY2VsbEJhY2tncm91bmRDb2xvck5vbmUgPSBuZXcgRHJvcGRvd25NZW51TGlzdEl0ZW0oXCJiYWNrZ3JvdW5kT3B0aW9uTm9uZVwiLCBjb2xvckRyb3Bkb3duTGlzdCwgQ29tbWFuZHMudG9nZ2xlQ2VsbEhpbGl0ZUNvbG9yLCBDb2xvcnMuSGlsaXRlQ29sb3JOb25lLCBuZXcgQ29sb3JJY29uKENvbG9ycy5IaWxpdGVDb2xvck5vbmUpLmh0bWxFbGVtZW50LCBcIk5vbmVcIik7XHJcbiAgICAgICAgY2VsbEJhY2tncm91bmRDb2xvck5vbmUuYWRkQ2xhc3MoXCJiYWNrZ3JvdW5kQ29sb3JcIik7XHJcblxyXG4gICAgICAgIGNvbG9yRHJvcGRvd25MaXN0LmFwcGVuZChjZWxsQmFja2dyb3VuZENvbG9yUmVkKTtcclxuICAgICAgICBjb2xvckRyb3Bkb3duTGlzdC5hcHBlbmQoY2VsbEJhY2tncm91bmRDb2xvckdyZWVuKTtcclxuICAgICAgICBjb2xvckRyb3Bkb3duTGlzdC5hcHBlbmQoY2VsbEJhY2tncm91bmRDb2xvckJsdWUpO1xyXG4gICAgICAgIGNvbG9yRHJvcGRvd25MaXN0LmFwcGVuZChjZWxsQmFja2dyb3VuZENvbG9yWWVsbG93KTtcclxuICAgICAgICBjb2xvckRyb3Bkb3duTGlzdC5hcHBlbmQoY2VsbEJhY2tncm91bmRDb2xvckdyZXkpO1xyXG4gICAgICAgIGNvbG9yRHJvcGRvd25MaXN0LmFwcGVuZChjZWxsQmFja2dyb3VuZENvbG9yTm9uZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjb2xvckRyb3Bkb3duO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzZXBhcmF0b3IoaWQ6IHN0cmluZyk6IEZsb2F0aW5nVG9vbGJhclNlcGFyYXRvciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdGluZ1Rvb2xiYXJTZXBhcmF0b3IoaWQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQmFzZVVJQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbW1vbi9CYXNlVUlDb21wb25lbnRcIjtcbmltcG9ydCB7IElGb2N1c1N0YWNrIH0gZnJvbSBcIkAvY29yZS9JRm9jdXNTdGFja1wiO1xuaW1wb3J0IHsgRGVwZW5kZW5jeUNvbnRhaW5lciB9IGZyb20gXCJAL2NvcmUvRGVwZW5kZW5jeUNvbnRhaW5lclwiO1xuaW1wb3J0IHsgWkluZGV4IH0gZnJvbSBcIkAvY29tbW9uL1pJbmRleFwiO1xuaW1wb3J0IHsgRGVmYXVsdEpTRXZlbnRzIH0gZnJvbSBcIkAvY29tbW9uL0RlZmF1bHRKU0V2ZW50c1wiO1xuaW1wb3J0IHsgS2V5Ym9hcmRLZXlzIH0gZnJvbSBcIkAvY29tbW9uL0tleWJvYXJkS2V5c1wiO1xuaW1wb3J0IHsgRE9NVXRpbHMgfSBmcm9tIFwiQC91dGlsaXRpZXMvRE9NVXRpbHNcIjtcbmltcG9ydCB7IEVtYmVkVG9vbCwgRW1iZWRUeXBlcyB9IGZyb20gXCJAL2NvcmUvRW1iZWRUb29sXCI7XG5pbXBvcnQgeyBDb21tb25DbGFzc2VzIH0gZnJvbSBcIkAvY29tbW9uL0NvbW1vbkNsYXNzZXNcIjtcbmltcG9ydCB7IENvbnRlbnRUeXBlcyB9IGZyb20gXCJAL2NvbW1vbi9Db250ZW50VHlwZXNcIjtcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkAvdXRpbGl0aWVzL1V0aWxzXCI7XG5pbXBvcnQgeyBDdXN0b21FdmVudHMgfSBmcm9tIFwiQC9jb21tb24vQ3VzdG9tRXZlbnRzXCI7XG5pbXBvcnQgeyBJQ29tbWFuZEV2ZW50RGV0YWlsIH0gZnJvbSBcIkAvY29tbWFuZHMvSUNvbW1hbmRFdmVudERldGFpbFwiO1xuaW1wb3J0IHsgQ29tbWFuZHMgfSBmcm9tIFwiQC9jb21tYW5kcy9Db21tYW5kc1wiO1xuXG5leHBvcnQgY2xhc3MgTWVkaWFJbnB1dHRlciBleHRlbmRzIEJhc2VVSUNvbXBvbmVudCB7XG5cbiAgICBpZDogc3RyaW5nO1xuICAgIGZvY3VzU3RhY2s6IElGb2N1c1N0YWNrO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGlkID0gXCJtZWRpYUlucHV0dGVyXCI7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuZm9jdXNTdGFjayA9IERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVzb2x2ZTxJRm9jdXNTdGFjaz4oXCJJRm9jdXNTdGFja1wiKTtcblxuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50cygpO1xuICAgIH1cblxuICAgIGluaXQoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBodG1sRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGh0bWxFbGVtZW50LmlkID0gdGhpcy5wcm9wcy5pZDtcbiAgICAgICAgaHRtbEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRhYi1jb250YWluZXJcIiwgXCJzb2Z0LWJveC1zaGFkb3dcIik7XG4gICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUuekluZGV4ID0gWkluZGV4LkV4dHJlbWVseUltcG9ydGFudDtcblxuICAgICAgICBjb25zdCBoZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuICAgICAgICBoZWFkLmNsYXNzTGlzdC5hZGQoXCJuYXZcIiwgXCJuYXYtdW5kZXJsaW5lXCIpO1xuXG4gICAgICAgIGNvbnN0IHVwbG9hZFRhYiA9IHRoaXMuY3JlYXRlTmF2SXRlbShcInVwbG9hZFRhYlwiLCBcIlVwbG9hZFwiLCB0cnVlKTtcblxuICAgICAgICBjb25zdCBlbWJlZFRhYiA9IHRoaXMuY3JlYXRlTmF2SXRlbShcImVtYmVkVGFiXCIsIFwiRW1iZWRcIik7XG5cbiAgICAgICAgaGVhZC5hcHBlbmRDaGlsZCh1cGxvYWRUYWIpO1xuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGVtYmVkVGFiKTtcblxuICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29udGVudC5jbGFzc0xpc3QuYWRkKFwidGFiLWNvbnRlbnRcIik7XG5cbiAgICAgICAgY29uc3QgdXBsb2FkQ29udGVudCA9IHRoaXMuY3JlYXRlVXBsb2FkQ29udGVudCgpO1xuICAgICAgICBjb25zdCBlbWJlZENvbnRlbnQgPSB0aGlzLmNyZWF0ZUVtYmVkQ29udGVudCgpO1xuXG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodXBsb2FkQ29udGVudCk7XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoZW1iZWRDb250ZW50KTtcblxuICAgICAgICBodG1sRWxlbWVudC5hcHBlbmRDaGlsZChoZWFkKTtcbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGVudCk7XG5cbiAgICAgICAgcmV0dXJuIGh0bWxFbGVtZW50O1xuICAgIH1cblxuICAgIGNyZWF0ZU5hdkl0ZW0oaWQ6IHN0cmluZywgdGV4dDogc3RyaW5nLCBhY3RpdmU6IGJvb2xlYW4gPSBmYWxzZSk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoXCJuYXYtaXRlbVwiKTtcbiAgICAgICAgbGkuaWQgPSBpZDtcblxuICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgIGEuY2xhc3NMaXN0LmFkZChcIm5hdi1saW5rXCIpO1xuICAgICAgICBhLmlubmVyVGV4dCA9IHRleHQ7XG4gICAgICAgIGxpLmFwcGVuZENoaWxkKGEpO1xuXG4gICAgICAgIHJldHVybiBsaTtcbiAgICB9XG5cbiAgICBjcmVhdGVVcGxvYWRDb250ZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGl2LmlkID0gXCJ1cGxvYWRDb250ZW50XCI7XG4gICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKFwidXBsb2FkLWNvbnRlbnRcIiwgXCJjb250ZW50LWRhdGFcIik7XG4gICAgXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dC50eXBlID0gXCJmaWxlXCI7XG4gICAgICAgIGlucHV0LmFjY2VwdCA9IFwiaW1hZ2UvKlwiO1xuICAgICAgICBpbnB1dC5pZCA9IFwiZmlsZUlucHV0XCI7XG4gICAgICAgIGlucHV0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgXG4gICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKFwiYmx1ZS1idXR0b25cIik7XG4gICAgICAgIGxhYmVsLmh0bWxGb3IgPSBpbnB1dC5pZDtcbiAgICAgICAgbGFiZWwuaW5uZXJUZXh0ID0gXCJVcGxvYWQgZmlsZVwiO1xuICAgIFxuICAgICAgICBsYWJlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaW5wdXQuY2xpY2soKTtcbiAgICAgICAgfSk7XG4gICAgXG4gICAgICAgIGNvbnN0IHRleHRJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGV4dEluZm8uY2xhc3NMaXN0LmFkZChcInRleHQtaW5mb3JtYXRpb25cIik7XG4gICAgICAgIHRleHRJbmZvLmlubmVyVGV4dCA9IFwiTWF4aW11bSBmaWxlIHNpemU6IDVNQlwiO1xuICAgIFxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodGV4dEluZm8pO1xuICAgIFxuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIChldmVudCkgPT4gdGhpcy51cGxvYWRJbWFnZShldmVudCkpO1xuICAgIFxuICAgICAgICByZXR1cm4gZGl2O1xuICAgIH1cblxuICAgIGFzeW5jIHVwbG9hZEltYWdlKGV2ZW50OiBFdmVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICBpZiAoaW5wdXQuZmlsZXMgJiYgaW5wdXQuZmlsZXNbMF0pIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBpbnB1dC5maWxlc1swXTtcbiAgICBcbiAgICAgICAgICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ1BsZWFzZSBzZWxlY3QgYW4gaW1hZ2UgZmlsZS4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3JjID0gZS50YXJnZXQhLnJlc3VsdCBhcyBzdHJpbmc7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9jdXNlZEVsZW1lbnQgPSB0aGlzLmZvY3VzU3RhY2sucGVlaygpO1xuICAgICAgICAgICAgICAgIGlmIChmb2N1c2VkRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBFbWJlZFRvb2wuZW1iZWRJbWFnZShzcmMsIGZvY3VzZWRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlRW1iZWRDb250ZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGl2LmlkID0gXCJlbWJlZENvbnRlbnRcIjtcbiAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoXCJjb250ZW50LWRhdGFcIiwgXCJlbWJlZC1jb250ZW50XCIpO1xuXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dC50eXBlID0gXCJ0ZXh0XCI7XG5cbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJibHVlLWJ1dHRvblwiKTtcbiAgICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IFwiRW1iZWRcIjtcblxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcblxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihEZWZhdWx0SlNFdmVudHMuQ2xpY2ssICgpID0+IHRoaXMuZW1iZWRHZW5lcmljKGlucHV0KSk7XG5cbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihEZWZhdWx0SlNFdmVudHMuS2V5ZG93biwgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09IEtleWJvYXJkS2V5cy5FbnRlcikge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmVtYmVkR2VuZXJpYyhpbnB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoRGVmYXVsdEpTRXZlbnRzLkZvY3VzaW4sICgpID0+IHRoaXMucmVzZXRJbnB1dEJnQ29sb3IoaW5wdXQpKTtcblxuICAgICAgICByZXR1cm4gZGl2O1xuICAgIH1cblxuICAgIHJlc2V0SW5wdXRCZ0NvbG9yKGlucHV0OiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgIGlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiXCI7XG4gICAgfVxuXG4gICAgYXN5bmMgZW1iZWRHZW5lcmljKGlucHV0OiBIVE1MSW5wdXRFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XG5cbiAgICAgICAgY29uc3Qgc3RyaW5nVVJMID0gaW5wdXQudmFsdWU7XG4gICAgICAgIGNvbnN0IGZvY3VzZWRFbGVtZW50ID0gdGhpcy5mb2N1c1N0YWNrLnBlZWsoKTtcbiAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSBmb2N1c2VkRWxlbWVudD8uY2xvc2VzdChgLiR7Q29tbW9uQ2xhc3Nlcy5Db250ZW50RWxlbWVudH1gKT8uZ2V0QXR0cmlidXRlKFwiZGF0YS1jb250ZW50LXR5cGVcIik7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoc3RyaW5nVVJMKTtcblxuICAgICAgICAgICAgaWYgKCFVdGlscy5pc1ZhbGlkVXJsKHVybC50b1N0cmluZygpKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgVVJMXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWZvY3VzZWRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIm5vdCBlbGVtZW50IGZvdW5kXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbnRlbnRUeXBlID09IENvbnRlbnRUeXBlcy5JbWFnZSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IEVtYmVkVG9vbC5lbWJlZEltYWdlKHN0cmluZ1VSTCwgZm9jdXNlZEVsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb250ZW50VHlwZSA9PSBDb250ZW50VHlwZXMuSWZyYW1lKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBlbWJlZFR5cGUgPSBFbWJlZFRvb2wuZGV0ZXJtaW5lRW1iZWRUeXBlKHN0cmluZ1VSTCk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGVtYmVkVHlwZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRW1iZWRUeXBlcy5Zb3VUdWJlVmlkZW86XG4gICAgICAgICAgICAgICAgICAgICAgICBFbWJlZFRvb2wuZW1iZWRZb3VUdWJlVmlkZW9Bc0lmcmFtZSh1cmwsIGZvY3VzZWRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRW1iZWRUeXBlcy5Zb3VUdWJlUGxheWxpc3Q6XG4gICAgICAgICAgICAgICAgICAgICAgICBFbWJlZFRvb2wuZW1iZWRZb3VUdWJlUGxheWxpc3RBc0lmcmFtZSh1cmwsIGZvY3VzZWRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRW1iZWRUeXBlcy5Zb3VUdWJlU2hvcnQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBFbWJlZFRvb2wuZW1iZWRZb3VUdWJlU2hvcnRBc0lmcmFtZSh1cmwsIGZvY3VzZWRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRW1iZWRUeXBlcy5TcG90aWZ5VHJhY2s6XG4gICAgICAgICAgICAgICAgICAgICAgICBFbWJlZFRvb2wuZW1iZWRTcG90aWZ5Q29udGVudCh1cmwsIGZvY3VzZWRFbGVtZW50LCBlbWJlZFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFbWJlZFR5cGVzLlNwb3RpZnlQbGF5bGlzdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIEVtYmVkVG9vbC5lbWJlZFNwb3RpZnlDb250ZW50KHVybCwgZm9jdXNlZEVsZW1lbnQsIGVtYmVkVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIEVtYmVkVHlwZXMuU3BvdGlmeUFydGlzdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIEVtYmVkVG9vbC5lbWJlZFNwb3RpZnlDb250ZW50KHVybCwgZm9jdXNlZEVsZW1lbnQsIGVtYmVkVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIEVtYmVkVHlwZXMuU3BvdGlmeUVwaXNvZGU6XG4gICAgICAgICAgICAgICAgICAgICAgICBFbWJlZFRvb2wuZW1iZWRTcG90aWZ5Q29udGVudCh1cmwsIGZvY3VzZWRFbGVtZW50LCBlbWJlZFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFbWJlZFR5cGVzLlNwb3RpZnlTaG93OlxuICAgICAgICAgICAgICAgICAgICAgICAgRW1iZWRUb29sLmVtYmVkU3BvdGlmeUNvbnRlbnQodXJsLCBmb2N1c2VkRWxlbWVudCwgZW1iZWRUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRW1iZWRUeXBlcy5TcG90aWZ5UGxheWxpc3Q6XG4gICAgICAgICAgICAgICAgICAgICAgICBFbWJlZFRvb2wuZW1iZWRTcG90aWZ5Q29udGVudCh1cmwsIGZvY3VzZWRFbGVtZW50LCBlbWJlZFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFbWJlZFR5cGVzLkdpdEh1Ykdpc3Q6XG4gICAgICAgICAgICAgICAgICAgICAgICBFbWJlZFRvb2wuZW1iZWRHaXN0QXNTY3JpcHQodXJsLCBmb2N1c2VkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIEVtYmVkVHlwZXMuQ29kZVBlbjpcbiAgICAgICAgICAgICAgICAgICAgICAgIEVtYmVkVG9vbC5lbWJlZENvZGVwZW5Bc0lmcmFtZSh1cmwsIGZvY3VzZWRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudDxJQ29tbWFuZEV2ZW50RGV0YWlsPihDdXN0b21FdmVudHMuZW1pdHRlZENvbW1hbmQsIHtcbiAgICAgICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogQ29tbWFuZHMuY3JlYXRlRGVmYXVsdEJsb2NrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xuXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZW1iZWRDb250ZW50IGlucHV0XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYigyNTMsIDIyMiwgMjIyKVwiO1xuICAgICAgICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoXCJzaGFrZS1hbmltYXRpb25cIik7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShcInNoYWtlLWFuaW1hdGlvblwiKTtcbiAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgc2V0IGlucHV0VmFsdWUodmFsdWU6IHN0cmluZykge1xuICAgICAgICBjb25zdCBpbnB1dFRleHQgPSB0aGlzLmh0bWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcbiAgICAgICAgaWYgKGlucHV0VGV4dCkge1xuICAgICAgICAgICAgaW5wdXRUZXh0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgZGlzcGxheSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJmbGV4XCI7XG4gICAgfVxuXG5cbiAgICBhdHRhY2hFdmVudHMoKTogdm9pZCB7XG5cbiAgICAgICAgY29uc3QgdXBsb2FkVGFiID0gdGhpcy5odG1sRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI3VwbG9hZFRhYlwiKTtcbiAgICAgICAgdXBsb2FkVGFiPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVUYWIoJ3VwbG9hZFRhYicsICd1cGxvYWRDb250ZW50Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGVtYmVkVGFiID0gdGhpcy5odG1sRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2VtYmVkVGFiXCIpO1xuICAgICAgICBlbWJlZFRhYj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlVGFiKCdlbWJlZFRhYicsICdlbWJlZENvbnRlbnQnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihEZWZhdWx0SlNFdmVudHMuS2V5ZG93biwgdGhpcy5oYW5kbGVyS2V5ZG93bkV2ZW50cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihEZWZhdWx0SlNFdmVudHMuQ2xpY2ssIHRoaXMuaGFuZGxlckNsaWNrRXZlbnRzLmJpbmQodGhpcykpO1xuXG4gICAgICAgIHN1cGVyLmF0dGFjaFVJRXZlbnQoKTtcbiAgICB9XG5cbiAgICBoYW5kbGVyS2V5ZG93bkV2ZW50cyhldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09IEtleWJvYXJkS2V5cy5Fc2NhcGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbkhpZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZXJDbGlja0V2ZW50cyhldmVudDogTW91c2VFdmVudCkge1xuICAgICAgICAvLyBjb25zdCBlbWJlZEltYWdlID0gRE9NVXRpbHMuZmluZENsaWNrZWRFbGVtZW50T3JBbmNlc3RvckJ5SWQoZXZlbnQsIFwiZW1iZWRJbWFnZVwiKTtcbiAgICAgICAgLy8gaWYgKGVtYmVkSW1hZ2UpIHtcbiAgICAgICAgLy8gICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAvLyAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZm9jdXNTdGFjay5wZWVrKCk7XG4gICAgICAgIC8vICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuZW1iZWRJbWFnZShlbGVtZW50KTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHRoaXMuaGlkZU1lZGlhSW5wdXR0ZXJPbkV4dGVybmFsQ2xpY2soZXZlbnQpXG4gICAgICAgIHRoaXMuc2hvd01lZGlhSW5wdXR0ZXJPbk1lZGlhSW5wdXR0ZXJFbGVtZW50Q2xpY2soZXZlbnQpO1xuICAgIH1cblxuXG4gICAgaGlkZU1lZGlhSW5wdXR0ZXJPbkV4dGVybmFsQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgY29uc3QgbWVkaWFJbnB1dHRlciA9IERPTVV0aWxzLmZpbmRDbGlja2VkRWxlbWVudE9yQW5jZXN0b3JCeUlkKGV2ZW50LCB0aGlzLmlkKTtcbiAgICAgICAgY29uc3QgY2xpY2tlZE9uRWxlbWVudFdpdGhTaG93TWVkaWFJbnB1dENsYXNzID0gRE9NVXRpbHMuZmluZENsaWNrZWRFbGVtZW50T3JBbmNlc3RvckJ5Q2xhc3MoZXZlbnQsIENvbW1vbkNsYXNzZXMuU2hvd01lZGlhSW5wdXRPbkNsaWNrKTtcbiAgICAgICAgaWYgKCFtZWRpYUlucHV0dGVyICYmICFjbGlja2VkT25FbGVtZW50V2l0aFNob3dNZWRpYUlucHV0Q2xhc3MgJiYgdGhpcy5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaG93TWVkaWFJbnB1dHRlck9uTWVkaWFJbnB1dHRlckVsZW1lbnRDbGljayhldmVudDogTW91c2VFdmVudCkge1xuXG4gICAgICAgIGNvbnN0IGNsaWNrZWRPbkVsZW1lbnRXaXRoU2hvd01lZGlhSW5wdXRDbGFzcyA9IERPTVV0aWxzLmZpbmRDbGlja2VkRWxlbWVudE9yQW5jZXN0b3JCeUNsYXNzKGV2ZW50LCBDb21tb25DbGFzc2VzLlNob3dNZWRpYUlucHV0T25DbGljayk7XG4gICAgICAgIGlmIChjbGlja2VkT25FbGVtZW50V2l0aFNob3dNZWRpYUlucHV0Q2xhc3MpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdGhpcy5mb2N1c1N0YWNrLnB1c2goY2xpY2tlZE9uRWxlbWVudFdpdGhTaG93TWVkaWFJbnB1dENsYXNzKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGZpbmRDbGFzc1dpdGhTdWZmaXgoZWxlbWVudDogRWxlbWVudCwgc3VmZml4OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKGAuKiR7c3VmZml4fSRgKTtcblxuICAgICAgICBmb3IgKGxldCBjbGFzc05hbWUgb2YgZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgICAgIGlmIChyZWdleC50ZXN0KGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xhc3NOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG5cbiAgICBnZXRUYWIodGFiSWQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWJJZCk7XG4gICAgfVxuXG4gICAgZ2V0Q29udGVudChjb250ZW50SWQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250ZW50SWQpO1xuICAgIH1cblxuICAgIHNldEFjdGl2ZVRhYih0YWJJZDogc3RyaW5nLCBjb250ZW50SWQ6IHN0cmluZykge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2LWl0ZW0nKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250ZW50LWRhdGEnKS5mb3JFYWNoKGNvbnRlbnQgPT4ge1xuICAgICAgICAgICAgY29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmdldFRhYih0YWJJZCk/LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnRFbGVtZW50ID0gdGhpcy5nZXRDb250ZW50KGNvbnRlbnRJZCk7XG5cbiAgICAgICAgaWYgKGNvbnRlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICBjb250ZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBjb250ZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7XG5cbiAgICAgICAgICAgIGlmIChpbnB1dCkge1xuICAgICAgICAgICAgICAgIGlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIjtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaG93KCk6IHZvaWQge1xuXG4gICAgICAgIGNvbnN0IGxhc3RGb2N1c2VkID0gdGhpcy5mb2N1c1N0YWNrLnBlZWsoKTtcblxuICAgICAgICBjb25zdCBzaG93SW5wdXRNZWRpYSA9IGxhc3RGb2N1c2VkPy5xdWVyeVNlbGVjdG9yKGAuJHtDb21tb25DbGFzc2VzLlNob3dNZWRpYUlucHV0T25DbGlja31gKSB8fCBsYXN0Rm9jdXNlZD8uY2xvc2VzdChgLiR7Q29tbW9uQ2xhc3Nlcy5TaG93TWVkaWFJbnB1dE9uQ2xpY2t9YCk7XG5cbiAgICAgICAgaWYgKHNob3dJbnB1dE1lZGlhKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0UGxhY2Vob2xkZXIgPSB0aGlzLmZpbmRDbGFzc1dpdGhTdWZmaXgoc2hvd0lucHV0TWVkaWEsIFwiLWVtYmVkLXBsYWNlaG9sZGVyLXRleHRcIik7XG5cbiAgICAgICAgICAgIGlmICh0ZXh0UGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldElucHV0UGxhY2Vob2xkZXIodGV4dFBsYWNlaG9sZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYXN0Rm9jdXNlZCkge1xuXG4gICAgICAgICAgICBjb25zdCBhY3RpdmF0ZU1lZGlhVXBsb2FkID0gbGFzdEZvY3VzZWQucXVlcnlTZWxlY3RvcihgLiR7Q29tbW9uQ2xhc3Nlcy5TaG93TWVkaWFJbnB1dFVwbG9hZH1gKSB8fCBsYXN0Rm9jdXNlZC5jbG9zZXN0KGAuJHtDb21tb25DbGFzc2VzLlNob3dNZWRpYUlucHV0VXBsb2FkfWApO1xuICAgICAgICAgICAgY29uc3QgdXBsb2FkVGFiID0gdGhpcy5odG1sRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI3VwbG9hZFRhYlwiKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGVtYmVkVGFiID0gdGhpcy5odG1sRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2VtYmVkVGFiXCIpIGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICAgICAgICBjb25zdCB1cGxvYWRDb250ZW50ID0gdGhpcy5odG1sRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI3VwbG9hZENvbnRlbnRcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBlbWJlZENvbnRlbnQgPSB0aGlzLmh0bWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZW1iZWRDb250ZW50XCIpIGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICAgICAgICAvLyBJZiBtZWRpYSB1cGxvYWQgaXMgYWN0aXZlLCB0aGUgbWVkaWFJbnB1dHRlciB1c2VzIG1lZGlhIHVwbG9hZCBhcyB0aGUgZGVmYXVsdC5cbiAgICAgICAgICAgIGlmIChhY3RpdmF0ZU1lZGlhVXBsb2FkICYmIHVwbG9hZFRhYiAmJiB1cGxvYWRDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgdXBsb2FkVGFiLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZVwiO1xuXG4gICAgICAgICAgICAgICAgdXBsb2FkVGFiLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgdXBsb2FkQ29udGVudC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuXG4gICAgICAgICAgICAgICAgZW1iZWRDb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgZW1iZWRUYWIuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cGxvYWRUYWIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgICAgICAgICAgICAgdXBsb2FkVGFiLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgdXBsb2FkQ29udGVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuXG4gICAgICAgICAgICAgICAgZW1iZWRDb250ZW50LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgZW1iZWRUYWIuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuXG4gICAgICAgIGlmIChsYXN0Rm9jdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VUb29sYmFyUG9zaXRpb25Ub0JlQ2xvc2VkVG8obGFzdEZvY3VzZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIuc2hvdygpO1xuXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlbWJlZENvbnRlbnQgaW5wdXRcIikgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG4gICAgICAgIGlmIChpbnB1dCAmJiB0aGlzLmlzRWxlbWVudFZpc2libGUoaW5wdXQpKSB7XG5cbiAgICAgICAgICAgIGlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIjtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0SW5wdXRQbGFjZWhvbGRlcihlbWJlZDogc3RyaW5nKTogdm9pZCB7XG5cbiAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VtYmVkQ29udGVudCBpbnB1dFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG4gICAgICAgIGlmIChlbWJlZCA9PSBcImltYWdlLWVtYmVkLXBsYWNlaG9sZGVyLXRleHRcIikge1xuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIiwgXCJodHRwczovL2V4YW1wbGUuY29tL2ltYWdlLmpwZ1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbWJlZCA9PSBcInlvdXR1YmUtZW1iZWQtcGxhY2Vob2xkZXItdGV4dFwiKSB7XG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tLy4uLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbWJlZCA9PSBcInNwb3RpZnktZW1iZWQtcGxhY2Vob2xkZXItdGV4dFwiKSB7XG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcImh0dHBzOi8vb3Blbi5zcG90aWZ5LmNvbS8uLi5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW1iZWQgPT0gXCJnaXRodWItZ2lzdC1lbWJlZC1wbGFjZWhvbGRlci10ZXh0XCIpIHtcbiAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIFwiaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vLi4uXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVtYmVkID09IFwiY29kZXBlbi1lbWJlZC1wbGFjZWhvbGRlci10ZXh0XCIpIHtcbiAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIFwiaHR0cHM6Ly9jb2RlcGVuLmlvLy4uLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIFwiUGFzdGUgVVJMIGhlcmUuLi5cIik7XG4gICAgfVxuXG4gICAgaXNFbGVtZW50VmlzaWJsZShlbGVtZW50OiBIVE1MRWxlbWVudCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoZWxlbWVudC5vZmZzZXRQYXJlbnQgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHJlY3Qud2lkdGggPiAwICYmIHJlY3QuaGVpZ2h0ID4gMDtcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLmlucHV0VmFsdWUgPSBcIlwiO1xuICAgICAgICBzdXBlci5oaWRlKCk7XG4gICAgfVxuXG4gICAgY2hhbmdlVG9vbGJhclBvc2l0aW9uVG9CZUNsb3NlZFRvKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuXG4gICAgICAgIGNvbnN0IHRhcmdldE1pZHBvaW50ID0gcmVjdC5sZWZ0ICsgd2luZG93LnNjcm9sbFggKyAocmVjdC53aWR0aCAvIDIpO1xuICAgICAgICBsZXQgbGVmdFBvc2l0aW9uID0gdGFyZ2V0TWlkcG9pbnQgLSAodGhpcy5odG1sRWxlbWVudC5vZmZzZXRXaWR0aCAvIDIpO1xuICAgICAgICBsZXQgdG9wUG9zaXRpb24gPSByZWN0LmJvdHRvbSArIHdpbmRvdy5zY3JvbGxZICsgMTA7XG5cbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7bGVmdFBvc2l0aW9ufXB4YDtcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS50b3AgPSBgJHt0b3BQb3NpdGlvbn1weGA7XG4gICAgfVxufSIsImltcG9ydCB7IE1lZGlhSW5wdXR0ZXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL21lZGlhLWlucHV0dGVyL01lZGlhSW5wdXR0ZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNZWRpYUlucHV0dGVyQnVpbGRlciB7XHJcbiAgICBzdGF0aWMgYnVpbGQoKTogTWVkaWFJbnB1dHRlciB7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lZGlhSW5wdXR0ZXIgPSBuZXcgTWVkaWFJbnB1dHRlcigpO1xyXG5cclxuICAgICAgICByZXR1cm4gbWVkaWFJbnB1dHRlcjtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVkaXRvciB9IGZyb20gXCJAL2NvbXBvbmVudHMvZWRpdG9yL0VkaXRvclwiO1xyXG5pbXBvcnQgeyBBZGRCbG9ja0J1aWxkZXIgfSBmcm9tIFwiLi9BZGRCbG9ja0J1aWxkZXJcIjtcclxuaW1wb3J0IHsgVGV4dENvbnRleHRGbG9hdGluZ1Rvb2xiYXJCdWlsZGVyIH0gZnJvbSBcIi4vVGV4dENvbnRleHRGbG9hdGluZ1Rvb2xiYXJCdWlsZGVyXCI7XHJcbmltcG9ydCB7IFF1aWNrTWVudUJ1aWxkZXIgfSBmcm9tIFwiLi9RdWlja01lbnVCdWlsZGVyXCI7XHJcbmltcG9ydCB7IFRpdGxlQnVpbGRlciB9IGZyb20gXCIuL1RpdGxlQnVpbGRlclwiO1xyXG5pbXBvcnQgeyBDb250ZW50QnVpbGRlciB9IGZyb20gXCIuL0NvbnRlbnRCdWlsZGVyXCI7XHJcbmltcG9ydCB7IFRhYmxlQ29udGV4dEZsb2F0aW5nVG9vbGJhckJ1aWxkZXIgfSBmcm9tIFwiLi9UYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXJCdWlsZGVyXCI7XHJcbmltcG9ydCB7IE1lZGlhSW5wdXR0ZXJCdWlsZGVyIH0gZnJvbSBcIi4vTWVkaWFJbnB1dHRlckJ1aWxkZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFZGl0b3JCdWlsZGVyIHtcclxuXHJcbiAgICBzdGF0aWMgYnVpbGQoKTogRWRpdG9yIHtcclxuXHJcbiAgICAgICAgY29uc3QgZWRpdG9yID0gRWRpdG9yLmdldEluc3RhbmNlKFxyXG4gICAgICAgICAgICBUaXRsZUJ1aWxkZXIuYnVpbGQoKSxcclxuICAgICAgICAgICAgQ29udGVudEJ1aWxkZXIuYnVpbGQoKSxcclxuICAgICAgICAgICAgQWRkQmxvY2tCdWlsZGVyLmJ1aWxkKCksXHJcbiAgICAgICAgICAgIFRleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyQnVpbGRlci5idWlsZCgpLFxyXG4gICAgICAgICAgICBRdWlja01lbnVCdWlsZGVyLmJ1aWxkKCksXHJcbiAgICAgICAgICAgIFRhYmxlQ29udGV4dEZsb2F0aW5nVG9vbGJhckJ1aWxkZXIuYnVpbGQoKSxcclxuICAgICAgICAgICAgTWVkaWFJbnB1dHRlckJ1aWxkZXIuYnVpbGQoKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiBlZGl0b3I7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFZGl0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9lZGl0b3IvRWRpdG9yXCI7XHJcbmltcG9ydCBpY29ucyBmcm9tIFwiLi4vYXNzZXRzL2ltZy9pY29ucy5zdmdcIjtcclxuaW1wb3J0IHsgRWRpdG9yQnVpbGRlciB9IGZyb20gXCIuL0VkaXRvckJ1aWxkZXJcIjtcclxuXHJcbi8qKlxyXG4gKiBTaW5nbGV0b24gY2xhc3MgcmVzcG9uc2libGUgZm9yIGJ1aWxkaW5nIGFuZCBtYW5hZ2luZyB0aGUgdXNlciBpbnRlcmZhY2Ugb2YgdGhlIGVkaXRvci5cclxuICogRW5zdXJlcyB0aGF0IG9ubHkgb25lIGluc3RhbmNlIG9mIFVJQnVpbGRlciBjYW4gZXhpc3QsIG1hbmFnaW5nIHRoZSBjcmVhdGlvbiBhbmQgY29uZmlndXJhdGlvbiBvZiB0aGUgZWRpdG9yLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFVJQnVpbGRlciB7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFVJQnVpbGRlcjtcclxuXHJcbiAgICBwcml2YXRlIGVkaXRvcjogRWRpdG9yO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHJpdmF0ZSBjb25zdHJ1Y3RvciBmb3IgVUlCdWlsZGVyIHRvIGVuZm9yY2Ugc2luZ2xldG9uIHBhdHRlcm4uXHJcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgVUlCdWlsZGVyIGluc3RhbmNlIHdpdGggYSBnaXZlbiBlZGl0b3IuXHJcbiAgICAgKiBAcGFyYW0ge0VkaXRvcn0gZWRpdG9yIFRoZSBlZGl0b3IgaW5zdGFuY2UgdG8gYmUgbWFuYWdlZCBieSBVSUJ1aWxkZXIuXHJcbiAgICAgKiBAdGhyb3dzIHtFcnJvcn0gVGhyb3dzIGFuIGVycm9yIGlmIGFuIGluc3RhbmNlIG9mIFVJQnVpbGRlciBhbHJlYWR5IGV4aXN0cy5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihlZGl0b3I6IEVkaXRvcikge1xyXG5cclxuICAgICAgICBpZiAoVUlCdWlsZGVyLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XHJcblxyXG4gICAgICAgIFVJQnVpbGRlci5pbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGF0aWMgbWV0aG9kIHRvIGdldCBvciBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgVUlCdWlsZGVyLlxyXG4gICAgICogVGhpcyBtZXRob2QgaW1wbGVtZW50cyB0aGUgc2luZ2xldG9uIHBhdHRlcm4gYW5kIGVuc3VyZXMgdGhhdCBVSUJ1aWxkZXIgaXMgb25seSBpbnN0YW50aWF0ZWQgb25jZS5cclxuICAgICAqIEByZXR1cm5zIHtVSUJ1aWxkZXJ9IFJldHVybnMgdGhlIGV4aXN0aW5nIG9yIG5ldyBVSUJ1aWxkZXIgaW5zdGFuY2UuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBidWlsZCgpOiBVSUJ1aWxkZXIge1xyXG5cclxuICAgICAgICBpZiAoVUlCdWlsZGVyLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBVSUJ1aWxkZXIuaW5zdGFuY2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBidWlsZGVyID0gbmV3IFVJQnVpbGRlcihFZGl0b3JCdWlsZGVyLmJ1aWxkKCkpO1xyXG5cclxuICAgICAgICByZXR1cm4gYnVpbGRlcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIHRoZSBlZGl0b3IgYnkgaW5zZXJ0aW5nIG5lY2Vzc2FyeSBpY29ucyBhbmQgcmV0dXJuaW5nIHRoZSBlZGl0b3IgaW5zdGFuY2UuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIHRvIHN0YXJ0IHRoZSBlZGl0b3IgYW5kIHByZXBhcmUgYWxsIFVJIGNvbXBvbmVudHMuXHJcbiAgICAgKiBAcmV0dXJucyB7RWRpdG9yfSBUaGUgaW5pdGlhbGl6ZWQgZWRpdG9yIGluc3RhbmNlLlxyXG4gICAgICovXHJcbiAgICBzdGFydCgpOiBFZGl0b3Ige1xyXG5cclxuICAgICAgICB0aGlzLmluc2VydEljb25zKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmVkaXRvcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogSW5zZXJ0cyBhIGNvbnRhaW5lciB3aXRoIFNWRyBpY29ucyBpbnRvIHRoZSBkb2N1bWVudCBib2R5LiBUaGlzIG1ldGhvZCBlbnN1cmVzIHRoYXRcclxuICAgICogdGhlIGljb25zIGFyZSBvbmx5IGluc2VydGVkIG9uY2UgdG8gcHJldmVudCBkdXBsaWNhdGUgZW50cmllcy5cclxuICAgICovXHJcbiAgICBpbnNlcnRJY29ucygpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdmctaWNvbnMtY29udGFpbmVyJykpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3ZnQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgICAgICAgICBzdmdDb250YWluZXIuaW5uZXJIVE1MID0gaWNvbnM7XHJcbiAgICAgICAgICAgIHN2Z0NvbnRhaW5lci5jbGFzc05hbWUgPSAnc3ZnLWljb25zLWNvbnRhaW5lcic7XHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN2Z0NvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ3VzdG9tRXZlbnRzIH0gZnJvbSBcIkAvY29tbW9uL0N1c3RvbUV2ZW50c1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kcyB9IGZyb20gXCIuL0NvbW1hbmRzXCI7XHJcbmltcG9ydCB7IEJsb2NrT3BlcmF0aW9uc1NlcnZpY2UgfSBmcm9tIFwiQC9zZXJ2aWNlcy9ibG9jay1vcGVyYXRpb25zL0Jsb2NrT3BlcmF0aW9uc1NlcnZpY2VcIjtcclxuaW1wb3J0IHsgSUNvbW1hbmRFdmVudERldGFpbCB9IGZyb20gXCIuL0lDb21tYW5kRXZlbnREZXRhaWxcIjtcclxuaW1wb3J0IHsgRGVwZW5kZW5jeUNvbnRhaW5lciB9IGZyb20gXCJAL2NvcmUvRGVwZW5kZW5jeUNvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyBJQmxvY2tPcGVyYXRpb25zU2VydmljZSB9IGZyb20gXCJAL3NlcnZpY2VzL2Jsb2NrLW9wZXJhdGlvbnMvSUJsb2NrT3BlcmF0aW9uc1NlcnZpY2VcIjtcclxuaW1wb3J0IHsgSVRhYmxlT3BlcmF0aW9uc1NlcnZpY2UgfSBmcm9tIFwiQC9zZXJ2aWNlcy90YWJsZS1vcGVyYXRpb25zL0lUYWJsZU9wZXJhdGlvbnNTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IElUZXh0T3BlcmF0aW9uc1NlcnZpY2UgfSBmcm9tIFwiQC9zZXJ2aWNlcy90ZXh0LW9wZXJhdGlvbnMvSVRleHRPcGVyYXRpb25zU2VydmljZVwiO1xyXG5pbXBvcnQgeyBUYWJsZVNjb3BlcyB9IGZyb20gXCJAL3NlcnZpY2VzL3RhYmxlLW9wZXJhdGlvbnMvVGFibGVTY29wZXNcIjtcclxuaW1wb3J0IHsgQ29sb3JzIH0gZnJvbSBcIkAvY29tbW9uL0NvbG9yc1wiO1xyXG5pbXBvcnQgeyBET01VdGlscyB9IGZyb20gXCJAL3V0aWxpdGllcy9ET01VdGlsc1wiO1xyXG5cclxuLyoqXHJcbiAqIENlbnRyYWwgY29tbWFuZCBkaXNwYXRjaGVyIGNsYXNzIGZvciBoYW5kbGluZyB2YXJpb3VzIGVkaXRvciBjb21tYW5kcyByZWxhdGVkIHRvIHRleHQgYW5kIGJsb2NrIG1hbmlwdWxhdGlvbi5cclxuICogVGhpcyBjbGFzcyBlbmNhcHN1bGF0ZXMgdGhlIGxvZ2ljIG5lZWRlZCB0byBleGVjdXRlIGNvbW1hbmRzIHN1Y2ggYXMgYm9sZCwgaXRhbGljLCB1bmRlcmxpbmUsIGNvbG9yIGNoYW5nZXMsIGFuZCBzdHJ1Y3R1cmFsIG1vZGlmaWNhdGlvbnMgdG8gY29udGVudCBibG9ja3Mgd2l0aGluIGFuIGVkaXRvci5cclxuICpcclxuICogQGNsYXNzXHJcbiAqIEBzaW5nbGV0b25cclxuICogTWV0aG9kcyBpbiB0aGlzIGNsYXNzIGFyZSB0cmlnZ2VyZWQgYnkgZXZlbnQgbGlzdGVuZXJzIHRoYXQgbGlzdGVuIGZvciBjdXN0b20gZXZlbnRzIHdoaWNoIGRpY3RhdGUgdGhlIHR5cGUgb2YgY29tbWFuZCB0byBiZSBleGVjdXRlZC5cclxuICpcclxuICogRXhhbXBsZSB1c2FnZTpcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBjb25zdCBjb21tYW5kRGlzcGF0Y2hlciA9IENvbW1hbmREaXNwYXRjaGVyLmdldEluc3RhbmNlKCk7XHJcbiAqIGNvbW1hbmREaXNwYXRjaGVyLmxpc3RlbigpOyAgLy8gU3RhcnQgbGlzdGVuaW5nIGZvciBjb21tYW5kIGFuZCBzZWxlY3Rpb24gY2hhbmdlIGV2ZW50cy5cclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29tbWFuZERpc3BhdGNoZXIge1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBDb21tYW5kRGlzcGF0Y2hlciB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgYmxvY2tPcGVyYXRpb25zU2VydmljZTogSUJsb2NrT3BlcmF0aW9uc1NlcnZpY2U7XHJcbiAgICBwcml2YXRlIHRhYmxlT3BlcmF0aW9uc1NlcnZpY2U6IElUYWJsZU9wZXJhdGlvbnNTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSB0ZXh0T3BlcmF0aW9uc1NlcnZpY2U6IElUZXh0T3BlcmF0aW9uc1NlcnZpY2U7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcml2YXRlIGNvbnN0cnVjdG9yIHRvIGVuZm9yY2Ugc2luZ2xldG9uIHBhdHRlcm4uXHJcbiAgICAgKiBUaHJvd3MgYW4gZXJyb3IgaWYgYXR0ZW1wdGVkIHRvIGJlIGluc3RhbnRpYXRlZCBtb3JlIHRoYW4gb25jZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihcclxuICAgICAgICBibG9ja09wZXJhdGlvbnNTZXJ2aWNlOiBJQmxvY2tPcGVyYXRpb25zU2VydmljZSxcclxuICAgICAgICB0ZXh0T3BlcmF0aW9uU2VydmljZTogSVRleHRPcGVyYXRpb25zU2VydmljZSxcclxuICAgICAgICB0YWJsZU9wZXJhdGlvbnNTZXJ2aWNlOiBJVGFibGVPcGVyYXRpb25zU2VydmljZSkge1xyXG5cclxuICAgICAgICBpZiAoQ29tbWFuZERpc3BhdGNoZXIuaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdCB0byBpbnN0YW50aWF0ZSBzaW5nbGV0b24gYENvbW1hbmREaXNwYXRjaGVyYCBtb3JlIHRoYW4gb25jZS5cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmJsb2NrT3BlcmF0aW9uc1NlcnZpY2UgPSBibG9ja09wZXJhdGlvbnNTZXJ2aWNlO1xyXG4gICAgICAgIHRoaXMudGV4dE9wZXJhdGlvbnNTZXJ2aWNlID0gdGV4dE9wZXJhdGlvblNlcnZpY2U7XHJcbiAgICAgICAgdGhpcy50YWJsZU9wZXJhdGlvbnNTZXJ2aWNlID0gdGFibGVPcGVyYXRpb25zU2VydmljZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHJpZXZlcyBvciBjcmVhdGVzIGFuIGluc3RhbmNlIG9mIENvbW1hbmREaXNwYXRjaGVyLlxyXG4gICAgICogQHJldHVybnMge0NvbW1hbmREaXNwYXRjaGVyfSBUaGUgc2luZ2xldG9uIGluc3RhbmNlIG9mIHRoZSBDb21tYW5kRGlzcGF0Y2hlci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBDb21tYW5kRGlzcGF0Y2hlciB7XHJcblxyXG4gICAgICAgIGNvbnN0IGJsb2NrT3BlcmF0aW9uc1NlcnZpY2UgPSBEZXBlbmRlbmN5Q29udGFpbmVyLkluc3RhbmNlLnJlc29sdmU8SUJsb2NrT3BlcmF0aW9uc1NlcnZpY2U+KFwiSUJsb2NrT3BlcmF0aW9uc1NlcnZpY2VcIik7XHJcbiAgICAgICAgY29uc3QgdGV4dE9wZXJhdGlvblNlcnZpY2UgPSBEZXBlbmRlbmN5Q29udGFpbmVyLkluc3RhbmNlLnJlc29sdmU8SVRleHRPcGVyYXRpb25zU2VydmljZT4oXCJJVGV4dE9wZXJhdGlvbnNTZXJ2aWNlXCIpO1xyXG4gICAgICAgIGNvbnN0IHRhYmxlT3BlcmF0aW9uc1NlcnZpY2UgPSBEZXBlbmRlbmN5Q29udGFpbmVyLkluc3RhbmNlLnJlc29sdmU8SVRhYmxlT3BlcmF0aW9uc1NlcnZpY2U+KFwiSVRhYmxlT3BlcmF0aW9uc1NlcnZpY2VcIik7XHJcblxyXG4gICAgICAgIGlmICghQ29tbWFuZERpc3BhdGNoZXIuaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgQ29tbWFuZERpc3BhdGNoZXIuaW5zdGFuY2UgPSBuZXcgQ29tbWFuZERpc3BhdGNoZXIoYmxvY2tPcGVyYXRpb25zU2VydmljZSwgdGV4dE9wZXJhdGlvblNlcnZpY2UsIHRhYmxlT3BlcmF0aW9uc1NlcnZpY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQ29tbWFuZERpc3BhdGNoZXIuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplcyBsaXN0ZW5lcnMgZm9yIHZhcmlvdXMgZWRpdG9yLXJlbGF0ZWQgZXZlbnRzIHN1Y2ggYXMgY29tbWFuZCByZXF1ZXN0cyBhbmQgc2VsZWN0aW9uIGNoYW5nZXMuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBsaXN0ZW4oKTogdm9pZCB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihDdXN0b21FdmVudHMuZW1pdHRlZENvbW1hbmQsIHRoaXMuaGFuZGxlQ29tbWFuZEV2ZW50IGFzIEV2ZW50TGlzdGVuZXIpO1xyXG4gICAgICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoQ3VzdG9tRXZlbnRzLmZvY3VzT25GaXJzdFJlcXVlc3RlZCwgdGhpcy5oYW5kbGVGb2N1c09uRmlyc3RSZXF1ZXN0ZWRFdmVudCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihDdXN0b21FdmVudHMucHJlc3NlZEVudGVyT25UaXRsZSwgKCkgPT4gdGhpcy5ibG9ja09wZXJhdGlvbnNTZXJ2aWNlLmNyZWF0ZUFOZXdQYXJhZ3JhcGhGcm9tVGl0bGUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIGNvbW1hbmQgZXZlbnRzIGRpc3BhdGNoZWQgZnJvbSBVSSBjb21wb25lbnRzIG9yIG90aGVyIHBhcnRzIG9mIHRoZSBhcHBsaWNhdGlvbi5cclxuICAgICAqIEBwYXJhbSB7Q3VzdG9tRXZlbnQ8SUNvbW1hbmRFdmVudERldGFpbD59IGV2ZW50IC0gVGhlIGV2ZW50IG9iamVjdCBjb250YWluaW5nIGRldGFpbHMgYWJvdXQgdGhlIGNvbW1hbmQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaGFuZGxlQ29tbWFuZEV2ZW50ID0gKGV2ZW50OiBDdXN0b21FdmVudDxJQ29tbWFuZEV2ZW50RGV0YWlsPik6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgY29tbWFuZCwgc2hvd1VJLCB2YWx1ZSwgdGFyZ2V0QmxvY2tUeXBlLCBibG9jaywgc2NvcGUgfSA9IGV2ZW50LmRldGFpbDtcclxuXHJcbiAgICAgICAgc3dpdGNoIChjb21tYW5kKSB7XHJcblxyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRzLmxpbmtSZWFkeVRvSW5zZXJ0OlxyXG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtDb21tYW5kcy5saW5rUmVhZHlUb0luc2VydH0gcmVxdWlyZXMgdmFsdWVgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dE9wZXJhdGlvbnNTZXJ2aWNlLmV4ZWNJbnNlcnRMaW5rKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kcy50b2dnbGVMaW5rOlxyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0T3BlcmF0aW9uc1NlcnZpY2UuZXhlY1RvZ2dsZUxpbmsoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kcy50b2dnbGVCb2xkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0T3BlcmF0aW9uc1NlcnZpY2UuZXhlY0JvbGQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kcy50b2dnbGVJbmxpbmVDb2RlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0T3BlcmF0aW9uc1NlcnZpY2UuZXhlY0lubGluZUNvZGUoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kcy50b2dnbGVJdGFsaWM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRPcGVyYXRpb25zU2VydmljZS5leGVjSXRhbGljKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZHMudG9nZ2xlVW5kZXJsaW5lOlxyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0T3BlcmF0aW9uc1NlcnZpY2UuZXhlY1VuZGVybGluZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRzLnRvZ2dsZVN0cmlrZVRocm91Z2g6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRPcGVyYXRpb25zU2VydmljZS5leGVjU3RyaWtlVGhyb3VnaCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRzLnRvZ2dsZUhpbGl0ZUNvbG9yOlxyXG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtDb21tYW5kcy50b2dnbGVIaWxpdGVDb2xvcn0gcmVxdWlyZXMgYSBjb2xvciB2YWx1ZWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0T3BlcmF0aW9uc1NlcnZpY2UuZXhlY0hpbGl0ZUNvbG9yKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kcy50b2dnbGVGb3JlQ29sb3I6XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke0NvbW1hbmRzLnRvZ2dsZUZvcmVDb2xvcn0gcmVxdWlyZXMgYSBjb2xvciB2YWx1ZWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0T3BlcmF0aW9uc1NlcnZpY2UuZXhlY0ZvcmVDb2xvcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZHMudHJhbnNmb3JtQmxvY2s6XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke0NvbW1hbmRzLnRyYW5zZm9ybUJsb2NrfSByZXF1aXJlcyBhIHZhbHVlIHRoYXQgcmVwcmVzZW50cyB0aGUgdGFyZ2V0IGVsZW1lbnQgdHlwZS5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoIWJsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhyb3cgbmV3IEVycm9yKGAke0NvbW1hbmRzLnRyYW5zZm9ybUJsb2NrfSByZXF1aXJlcyBhIGJsb2NrLmApO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5ibG9ja09wZXJhdGlvbnNTZXJ2aWNlLnRyYW5zZm9ybUJsb2NrKHZhbHVlLCBibG9jayk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZHMuZHVwbGljYXRlQmxvY2s6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJsb2NrT3BlcmF0aW9uc1NlcnZpY2UuZXhlY0R1cGxpY2F0ZUJsb2NrKGJsb2NrKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kcy5kZWxldGVCbG9jazpcclxuICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tPcGVyYXRpb25zU2VydmljZS5leGVjRGVsZXRlQmxvY2soYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRzLmRlbGV0ZUJsb2NrQW5kRm9jdXNPblByZXZpb3VzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5ibG9ja09wZXJhdGlvbnNTZXJ2aWNlLmV4ZWNEZWxldGVGb2N1c09uUHJldmlvdXMoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kcy5kZWxldGVCbG9ja0FuZEZvY3VzT25OZXh0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5ibG9ja09wZXJhdGlvbnNTZXJ2aWNlLmV4ZWNEZWxldGVBbmRGb2N1c09uTmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRzLmZvY3VzT25OZXh0QmxvY2s6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJsb2NrT3BlcmF0aW9uc1NlcnZpY2UuZXhlY0ZvY3VzT25OZXh0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZHMucmVtb3ZlRm9ybWF0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5leGVjUmVtb3ZlRm9ybWF0KGNvbW1hbmQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRzLkp1c3RpZnlMZWZ0OlxyXG4gICAgICAgICAgICAgICAgaWYgKCFibG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtDb21tYW5kcy5KdXN0aWZ5TGVmdH0gcmVxdWlyZXMgYSBibG9jayB0byBqdXN0aWZ5LmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5ibG9ja09wZXJhdGlvbnNTZXJ2aWNlLmp1c3RpZnlMZWZ0KGJsb2NrKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kcy5KdXN0aWZ5Q2VudGVyOlxyXG4gICAgICAgICAgICAgICAgaWYgKCFibG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtDb21tYW5kcy5KdXN0aWZ5Q2VudGVyfSByZXF1aXJlcyBhIGJsb2NrIHRvIGp1c3RpZnkuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJsb2NrT3BlcmF0aW9uc1NlcnZpY2UuanVzdGlmeUNlbnRlcihibG9jayk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZHMuSnVzdGlmeVJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgaWYgKCFibG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtDb21tYW5kcy5KdXN0aWZ5UmlnaHR9IHJlcXVpcmVzIGEgYmxvY2sgdG8ganVzdGlmeS5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tPcGVyYXRpb25zU2VydmljZS5qdXN0aWZ5UmlnaHQoYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRzLmNoYW5nZUNvZGVCbG9ja0xhbmd1YWdlOlxyXG4gICAgICAgICAgICAgICAgaWYgKCFibG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtDb21tYW5kcy5jaGFuZ2VDb2RlQmxvY2tMYW5ndWFnZX0gcmVxdWlyZXMgYSBibG9jayB0byBjaGFuZ2UgYSBjb2RlIGJsb2NrIGxhbmd1YWdlLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7Q29tbWFuZHMuY2hhbmdlQ29kZUJsb2NrTGFuZ3VhZ2V9IHJlcXVpcmVzIGEgdmFsdWUgdG8gY2hhbmdlIGEgY29kZSBibG9jayBsYW5ndWFnZS5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tPcGVyYXRpb25zU2VydmljZS5jaGFuZ2VDb2RlQmxvY2tMYW5ndWFnZShibG9jaywgdmFsdWUpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZHMuY3JlYXRlRGVmYXVsdEJsb2NrOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5leGVjQ3JlYXRlRGVmYXVsdEJsb2NrKGNvbW1hbmQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRzLmluc2VydE5ldzpcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhlY0luc2VydE5ldyhjb21tYW5kKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kcy5mb2N1c09uUHJldmlvdXNCbG9jazpcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhlY0ZvY3VzT25QcmV2aW91c0Jsb2NrKGNvbW1hbmQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRzLm1lcmdlV2l0aE5leHRCbG9jazpcclxuICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tPcGVyYXRpb25zU2VydmljZS5leGVjTWVyZ2VXaXRoTmV4dEJsb2NrKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZHMubWVyZ2VXaXRoUHJldmlvdXNCbG9jazpcclxuICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tPcGVyYXRpb25zU2VydmljZS5leGVjTWVyZ2VXaXRoUHJldmlvdXNCbG9jaygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRzLmluc2VydFRhYmxlQ29sdW1uTGVmdDpcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGVPcGVyYXRpb25zU2VydmljZS5pbnNlcnRDb2x1bW5MZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZHMuaW5zZXJ0VGFibGVDb2x1bW5SaWdodDpcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGVPcGVyYXRpb25zU2VydmljZS5pbnNlcnRDb2x1bW5SaWdodChibG9jayB8fCBudWxsKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kcy5pbnNlcnRUYWJsZVJvd0Fib3ZlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZU9wZXJhdGlvbnNTZXJ2aWNlLmluc2VydFJvd0Fib3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZHMuaW5zZXJ0VGFibGVSb3dCZWxvdzpcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGVPcGVyYXRpb25zU2VydmljZS5pbnNlcnRSb3dCZWxvdyhibG9jayB8fCBudWxsKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kcy50b2dnbGVDZWxsSGlsaXRlQ29sb3I6XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke0NvbW1hbmRzLnRvZ2dsZUNlbGxIaWxpdGVDb2xvcn0gcmVxdWlyZXMgYSB2YWx1ZSB0aGF0IHJlcHJlc2VudHMgdGhlIGNlbGwgYmFja2dyb3VuZCBjb2xvci5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGVPcGVyYXRpb25zU2VydmljZS5leGVjQ2VsbEJhY2tncm91bmRDb2xvcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZHMuY2hhbmdlQ2FsbG91dEJhY2tncm91bmRDb2xvcjpcclxuICAgICAgICAgICAgICAgIGlmICghYmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7Q29tbWFuZHMuY2hhbmdlQ2FsbG91dEJhY2tncm91bmRDb2xvcn0gcmVxdWlyZXMgYSBibG9jay5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke0NvbW1hbmRzLmNoYW5nZUNhbGxvdXRCYWNrZ3JvdW5kQ29sb3J9IHJlcXVpcmVzIGEgdmFsdWUgdGhhdCByZXByZXNlbnRzIHRoZSBiYWNrZ3JvdW5kIGNvbG9yLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tPcGVyYXRpb25zU2VydmljZS5leGVjQ2hhbmdlQ2FsbG91dEJhY2tncm91bmQoYmxvY2ssIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kcy5yZW1vdmVDb2x1bW46XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlT3BlcmF0aW9uc1NlcnZpY2UucmVtb3ZlQ29sdW1uKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kcy5yZW1vdmVSb3c6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlT3BlcmF0aW9uc1NlcnZpY2UucmVtb3ZlUm93KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZHMucmVtb3ZlUm93OlxyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZU9wZXJhdGlvbnNTZXJ2aWNlLnJlbW92ZVJvdygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRzLmNoYW5nZVRhYmxlQm9yZGVyQ29sb3I6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlT3BlcmF0aW9uc1NlcnZpY2UuY2hhbmdlVGFibGVCb3JkZXJDb2xvcihzY29wZSBhcyBUYWJsZVNjb3BlcywgdmFsdWUgYXMgQ29sb3JzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIGNhc2UgQ29tbWFuZHMuc2hvd0luc2VydFRhYmxlQ29sdW1uRWxlbWVudDpcclxuICAgICAgICAgICAgLy8gICAgIGlmICghYmxvY2spIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7Q29tbWFuZHMuaW5zZXJ0VGFibGVDb2x1bW59IHJlcXVpcmVzIGEgYmxvY2sgd2l0aCBhIHRhcmdldCB0YWJsZSBpbnNpZGUuYCk7XHJcbiAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnRhYmxlT3BlcmF0aW9uc1NlcnZpY2Uuc2hvd0luc2VydENvbHVtbkVsZW1lbnQoYmxvY2spO1xyXG4gICAgICAgICAgICAvLyAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIGNhc2UgQ29tbWFuZHMuc2hvd0luc2VydFRhYmxlUm93RWxlbWVudDpcclxuICAgICAgICAgICAgLy8gICAgIGlmICghYmxvY2spIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7Q29tbWFuZHMuaW5zZXJ0VGFibGVDb2x1bW59IHJlcXVpcmVzIGEgYmxvY2sgd2l0aCBhIHRhcmdldCB0YWJsZSBpbnNpZGUuYCk7XHJcbiAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnRhYmxlT3BlcmF0aW9uc1NlcnZpY2Uuc2hvd0luc2VydExpbmVFbGVtZW50KGJsb2NrKTtcclxuICAgICAgICAgICAgLy8gICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBjYXNlIENvbW1hbmRzLmhpZGVJbnNlcnRUYWJsZUNvbHVtbkVsZW1lbnQ6XHJcbiAgICAgICAgICAgIC8vICAgICBpZiAoIWJsb2NrKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke0NvbW1hbmRzLmluc2VydFRhYmxlQ29sdW1ufSByZXF1aXJlcyBhIGJsb2NrIHdpdGggYSB0YXJnZXQgdGFibGUgaW5zaWRlLmApO1xyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy50YWJsZU9wZXJhdGlvbnNTZXJ2aWNlLmhpZGVJbnNlcnRDb2x1bW5FbGVtZW50KGJsb2NrKTtcclxuICAgICAgICAgICAgLy8gICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBjYXNlIENvbW1hbmRzLmhpZGVJbnNlcnRUYWJsZVJvd0VsZW1lbnQ6XHJcbiAgICAgICAgICAgIC8vICAgICBpZiAoIWJsb2NrKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke0NvbW1hbmRzLmluc2VydFRhYmxlQ29sdW1ufSByZXF1aXJlcyBhIGJsb2NrIHdpdGggYSB0YXJnZXQgdGFibGUgaW5zaWRlLmApO1xyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy50YWJsZU9wZXJhdGlvbnNTZXJ2aWNlLmhpZGVJbnNlcnRSb3dFbGVtZW50KGJsb2NrKTtcclxuICAgICAgICAgICAgLy8gICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgTm8gYWN0aW9uIGRlZmluZWQgZm9yIGNvbW1hbmQ6ICR7Y29tbWFuZH1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBleGVjVHJhbnNmb3JtQmxvY2sodGFyZ2V0QmxvY2tUeXBlOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIC8vICAgICB0aGlzLmJsb2NrT3BlcmF0aW9uc1NlcnZpY2UudHJhbnNmb3JtQmxvY2sodGFyZ2V0QmxvY2tUeXBlKTtcclxuICAgIC8vICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIC8vIH1cclxuXHJcbiAgICBwcml2YXRlIGV4ZWNSZW1vdmVGb3JtYXQoY29tbWFuZDogQ29tbWFuZHMpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBmb3JtYXQgPSB0aGlzLmJsb2NrT3BlcmF0aW9uc1NlcnZpY2UuZXhlY0NvbW1hbmQoY29tbWFuZCwgZmFsc2UpO1xyXG5cclxuICAgICAgICBjb25zdCBjb250ZW50ID0gRE9NVXRpbHMuZ2V0QWN0aXZlQ29udGVudEVkaXRhYmxlKCk7XHJcbiAgICAgICAgaWYgKGNvbnRlbnQpIHtcclxuICAgICAgICAgICAgY29udGVudC5ub3JtYWxpemUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmb3JtYXQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBleGVjQ3JlYXRlRGVmYXVsdEJsb2NrKGNvbW1hbmQ6IENvbW1hbmRzKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2tPcGVyYXRpb25zU2VydmljZS5leGVjQ29tbWFuZChjb21tYW5kLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBleGVjSW5zZXJ0TmV3KGNvbW1hbmQ6IENvbW1hbmRzKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2tPcGVyYXRpb25zU2VydmljZS5jcmVhdGVOZXdFbGVtZW50QW5kU3BsaXRDb250ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBleGVjRm9jdXNPblByZXZpb3VzQmxvY2soY29tbWFuZDogQ29tbWFuZHMpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ibG9ja09wZXJhdGlvbnNTZXJ2aWNlLmV4ZWNDb21tYW5kKGNvbW1hbmQsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwcml2YXRlIGhhbmRsZUZvY3VzT25GaXJzdFJlcXVlc3RlZEV2ZW50ID0gKGNvbW1hbmQ6IENvbW1hbmRzKTogdm9pZCA9PiB7XHJcbiAgICAvLyAgICAgLy8gYWxlcnQoXCJmb2N1cyBvbiBmaXJzdFwiKTtcclxuICAgIC8vICAgICB0aGlzLmJsb2NrT3BlcmF0aW9uc1NlcnZpY2UuZXhlY0NvbW1hbmQoY29tbWFuZCwgZmFsc2UpO1xyXG4gICAgLy8gfVxyXG59XHJcbiIsImltcG9ydCB7IENvbW1hbmRzIH0gZnJvbSBcIkAvY29tbWFuZHMvQ29tbWFuZHNcIjtcclxuaW1wb3J0IHsgSUNvbW1hbmRFdmVudERldGFpbCB9IGZyb20gXCJAL2NvbW1hbmRzL0lDb21tYW5kRXZlbnREZXRhaWxcIjtcclxuaW1wb3J0IHsgQ3VzdG9tRXZlbnRzIH0gZnJvbSBcIkAvY29tbW9uL0N1c3RvbUV2ZW50c1wiO1xyXG5pbXBvcnQgeyBFbGVtZW50RmFjdG9yeVNlcnZpY2UgfSBmcm9tIFwiQC9zZXJ2aWNlcy9lbGVtZW50LWZhY3RvcnkvRWxlbWVudEZhY3RvcnlTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IElTaG9ydGN1dExpc3RlbmVycyB9IGZyb20gXCIuL0lTaG9ydGN1dExpc3RlbmVyc1wiO1xyXG5cclxuLyoqXHJcbiAqIE1hbmFnZXMga2V5Ym9hcmQgc2hvcnRjdXQgbGlzdGVuaW5nIGZvciBhIHdlYiBhcHBsaWNhdGlvbi4gVGhpcyBjbGFzcyBpcyBpbXBsZW1lbnRlZCBhcyBhIHNpbmdsZXRvbiB0byBlbnN1cmVcclxuICogdGhhdCBrZXlib2FyZCBldmVudCBoYW5kbGluZyBpcyBjZW50cmFsaXplZCBhbmQgdGhhdCBtdWx0aXBsZSBpbnN0YW5jZXMgZG8gbm90IGR1cGxpY2F0ZSBldmVudCBsaXN0ZW5lcnMuXHJcbiAqIEl0IGludGVyY2VwdHMga2V5ZG93biBldmVudHMgYW5kIGRpc3BhdGNoZXMgY29tbWFuZHMgYmFzZWQgb24gc3BlY2lmaWMga2V5IGNvbWJpbmF0aW9ucywgZW5oYW5jaW5nIHRleHQgZWRpdGluZ1xyXG4gKiBjYXBhYmlsaXRpZXMgd2l0aGluIHRoZSBhcHBsaWNhdGlvbi5cclxuICogXHJcbiAqIFRoZSBjbGFzcyBpbml0aWFsaXplcyBpdHNlbGYgdGhlIGZpcnN0IHRpbWUgYGdldEluc3RhbmNlYCBpcyBjYWxsZWQgYW5kIHN1YnNlcXVlbnRseSBtYW5hZ2VzIGFsbCBrZXlib2FyZCBzaG9ydGN1dHNcclxuICogdGhyb3VnaCBhIHNpbmdsZSBpbnN0YW5jZS5cclxuICogXHJcbiAqIFVzYWdlIG9mIHRoaXMgY2xhc3Mgb3V0c2lkZSBvZiBpdHMgc2luZ2xldG9uIHBhdHRlcm4gaXMgcmVzdHJpY3RlZCB0byBwcmV2ZW50IG11bHRpcGxlIGluc3RhbmNlcywgd2hpY2ggaXMgZW5mb3JjZWRcclxuICogYnkgdGhyb3dpbmcgYW4gZXJyb3IgaWYgdGhlIGNvbnN0cnVjdG9yIGlzIGNhbGxlZCBkaXJlY3RseSBhZnRlciBpbml0aWFsaXphdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTaG9ydGN1dExpc3RlbmVycyBpbXBsZW1lbnRzIElTaG9ydGN1dExpc3RlbmVycyB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIb2xkcyB0aGUgc2luZ2xlIGluc3RhbmNlIG9mIFNob3J0Y3V0TGlzdGVuZXJzLCBlbnN1cmluZyB0aGUgc2luZ2xldG9uIHBhdHRlcm4uXHJcbiAgICAgKiBAdHlwZSB7U2hvcnRjdXRMaXN0ZW5lcnMgfCBudWxsfVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFNob3J0Y3V0TGlzdGVuZXJzIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcml2YXRlIGNvbnN0cnVjdG9yIHRvIHByZXZlbnQgaW5zdGFudGlhdGlvbiBvdXRzaWRlIG9mIHRoZSBzaW5nbGV0b24gY29udGV4dC4gSW5pdGlhbGl6ZXMgdGhlXHJcbiAgICAgKiBzaG9ydGN1dCBsaXN0ZW5lciBzZXR1cCBieSBjYWxsaW5nIHRoZSBgbGlzdGVuYCBtZXRob2QsIGVuc3VyaW5nIGl0IGlzIGNhbGxlZCBvbmx5IG9uY2UuXHJcbiAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgYW4gYXR0ZW1wdCBpcyBtYWRlIHRvIGRpcmVjdGx5IGluc3RhbnRpYXRlIHRoaXMgY2xhc3MuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgaWYgKFNob3J0Y3V0TGlzdGVuZXJzLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZSBTaG9ydGN1dExpc3RlbmVycy5nZXRJbnN0YW5jZSgpIHRvIGdldCBpbnN0YW5jZS5cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0TGlzdGVuKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwibGlzdGVuaW5nIGtleWJvYXJkIHNob3J0Y3V0c1wiKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByb3ZpZGVzIGFjY2VzcyB0byB0aGUgc2luZ2xldG9uIGluc3RhbmNlIG9mIHRoZSBTaG9ydGN1dExpc3RlbmVycyBjbGFzcy4gSWYgdGhlIGluc3RhbmNlIGRvZXMgbm90XHJcbiAgICAgKiBleGlzdCwgaXQgY3JlYXRlcyBhbmQgcmV0dXJucyBpdCwgZW5zdXJpbmcgdGhlcmUgaXMgb25seSBvbmUgaW5zdGFuY2UgdGhyb3VnaG91dCB0aGUgYXBwbGljYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge1Nob3J0Y3V0TGlzdGVuZXJzfSBUaGUgc2luZ2xlIHNoYXJlZCBpbnN0YW5jZSBvZiB0aGUgU2hvcnRjdXRMaXN0ZW5lcnMgY2xhc3MuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBTaG9ydGN1dExpc3RlbmVycyB7XHJcbiAgICAgICAgaWYgKFNob3J0Y3V0TGlzdGVuZXJzLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBTaG9ydGN1dExpc3RlbmVycy5pbnN0YW5jZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgU2hvcnRjdXRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQXR0YWNoZXMgYSBnbG9iYWwgZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGRvY3VtZW50IHRvIGludGVyY2VwdCBrZXlkb3duIGV2ZW50cyBhbmQgcGVyZm9ybSBzcGVjaWZpYyB0ZXh0IHRyYW5zZm9ybWF0aW9uXHJcbiAgICAqIGNvbW1hbmRzIGJhc2VkIG9uIHRoZSBjb21iaW5hdGlvbiBvZiBrZXlzIHByZXNzZWQuIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gZW5oYW5jZSB0ZXh0IGVkaXRpbmcgY2FwYWJpbGl0aWVzXHJcbiAgICAqIHdpdGhpbiBhIHdlYiBhcHBsaWNhdGlvbiBieSBwcm92aWRpbmcga2V5Ym9hcmQgc2hvcnRjdXRzIGZvciB2YXJpb3VzIHRleHQgZm9ybWF0dGluZyBhbmQgZWRpdGluZyBhY3Rpb25zLlxyXG4gICAgKlxyXG4gICAgKiBUaGUgZnVuY3Rpb24gdXNlcyBhIGNvbWJpbmF0aW9uIG9mIEN0cmwsIEFsdCAob3IgQWx0R3JhcGgpLCBTaGlmdCwgYW5kIHNwZWNpZmljIGtleXMgdG8gZGV0ZXJtaW5lIHRoZSBhY3Rpb24gdG8gYmVcclxuICAgICogdGFrZW4uIEl0IGhhbmRsZXMgdHJhbnNmb3JtYXRpb24gaW50byBkaWZmZXJlbnQgYmxvY2sgdHlwZXMgbGlrZSBwYXJhZ3JhcGhzLCBjaGVja2xpc3RzLCBudW1iZXJlZCBsaXN0cywgaGVhZGVycywgZXRjLixcclxuICAgICogYXMgd2VsbCBhcyBibG9jayBkdXBsaWNhdGlvbiBhbmQgZGVsZXRpb24uXHJcbiAgICAqXHJcbiAgICAqIFByZXZlbnREZWZhdWx0IGFuZCBzdG9wUHJvcGFnYXRpb24gYXJlIGNhbGxlZCB0byBwcmV2ZW50IHRoZSBkZWZhdWx0IGtleSBhY3Rpb25zIGFuZCBidWJibGluZyBvZiBldmVudHMsIGVuc3VyaW5nIHRoYXRcclxuICAgICogb25seSB0aGUgaW50ZW5kZWQgYWN0aW9ucyBhcmUgZXhlY3V0ZWQuXHJcbiAgICAqXHJcbiAgICAqIFN1cHBvcnRlZCBTaG9ydGN1dHM6XHJcbiAgICAqIC0gQ3RybCtTaGlmdCtFbnRlcjogVHJhbnNmb3JtcyB0aGUgY3VycmVudCBibG9jayBpbnRvIGEgcGFyYWdyYXBoLlxyXG4gICAgKiAtIEN0cmwrU2hpZnQrMSBvciBDdHJsK1NoaWZ0K051bXBhZDEgKE51bUxvY2sgb24pOiBUcmFuc2Zvcm1zIHRoZSBjdXJyZW50IGJsb2NrIGludG8gYSBjaGVja2xpc3QuXHJcbiAgICAqIC0gQ3RybCtTaGlmdCsuIDogVHJhbnNmb3JtcyB0aGUgY3VycmVudCBibG9jayBpbnRvIGEgYnVsbGV0ZWQgbGlzdC5cclxuICAgICogLSBDdHJsK1NoaWZ0Ky8gOiBUcmFuc2Zvcm1zIHRoZSBjdXJyZW50IGJsb2NrIGludG8gYSBudW1iZXJlZCBsaXN0LlxyXG4gICAgKiAtIEN0cmwrQWx0KzEgdGhyb3VnaCBDdHJsK0FsdCs2OiBUcmFuc2Zvcm1zIHRoZSBjdXJyZW50IGJsb2NrIGludG8gaGVhZGVycyAoSDEgdGhyb3VnaCBINikuXHJcbiAgICAqIC0gQ3RybCtEOiBEdXBsaWNhdGVzIHRoZSBjdXJyZW50IGJsb2NrLlxyXG4gICAgKiAtIFNoaWZ0K0RlbGV0ZSBvciBTaGlmdCtCYWNrc3BhY2U6IERlbGV0ZXMgdGhlIGN1cnJlbnQgYmxvY2suXHJcbiAgICAqIC0gQ3RybCtcXCA6IENsZWFycyBmb3JtYXR0aW5nIG9mIHRoZSBjdXJyZW50IGJsb2NrLlxyXG4gICAgKiAtIEN0cmwrQWx0K0RpZ2l0MTogUHJldmVudHMgY2hhcmFjdGVyIGluc2VydGlvbiB3aGVuIHVzaW5nIHRoZSB0b3Agcm93ICcxJywgc3BlY2lmaWMgdG8gbGF5b3V0IGNvbmZpZ3VyYXRpb25zLlxyXG4gICAgKlxyXG4gICAgKiBFYWNoIGFjdGlvbiBkaXNwYXRjaGVzIGEgY3VzdG9tIGV2ZW50IHdpdGggZGV0YWlscyBhYm91dCB0aGUgY29tbWFuZCB0byBiZSBleGVjdXRlZCwgd2hpY2ggc2hvdWxkIGJlIGhhbmRsZWQgYnlcclxuICAgICogQ29tbWFuZERpc3BhdGNoZXIuXHJcbiAgICAqXHJcbiAgICAqIEBleGFtcGxlXHJcbiAgICAqIC8vIEluaXRpYWxpemUgYW5kIGFjdGl2YXRlIHRoZSBzaG9ydGN1dHMgYWNyb3NzIHRoZSBkb2N1bWVudC5cclxuICAgICogY29uc3Qgc2hvcnRjdXRMaXN0ZW5lciA9IFNob3J0Y3V0TGlzdGVuZXJzLmdldEluc3RhbmNlKCk7XHJcbiAgICAqL1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW4oKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgS2V5OiAke2V2ZW50LmtleX0sIENvZGU6ICR7ZXZlbnQuY29kZX0sIEN0cmw6ICR7ZXZlbnQuY3RybEtleX0sIEFsdDogJHtldmVudC5hbHRLZXl9LCBBbHRHcjogJHtldmVudC5rZXkgPT09ICdBbHRHcmFwaCd9LCBOdW1Mb2NrOiAke2V2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ051bUxvY2snKX1gKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGlzTnVtUGFkID0gZXZlbnQuY29kZS5zdGFydHNXaXRoKFwiTnVtcGFkXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBudW1Mb2NrT24gPSBldmVudC5nZXRNb2RpZmllclN0YXRlKFwiTnVtTG9ja1wiKTtcclxuXHJcbiAgICAgICAgICAgIGlmICgoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSAmJiBldmVudC5zaGlmdEtleSAmJiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0cyB0byBwYXJhZ3JhcGggd2hlbiBwcmVzc2luZyBDdHJsK1NoaWZ0K0VudGVyXHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQ8SUNvbW1hbmRFdmVudERldGFpbD4oQ3VzdG9tRXZlbnRzLmVtaXR0ZWRDb21tYW5kLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IENvbW1hbmRzLnRyYW5zZm9ybUJsb2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCbG9ja1R5cGU6IEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLlBBUkFHUkFQSFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkgJiYgIWV2ZW50LmFsdEtleSAmJiAoZXZlbnQuY29kZSA9PT0gXCJEaWdpdDFcIiB8fCBldmVudC5jb2RlID09PSBcIk51bXBhZDFcIikpIHtcclxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnRzIHRvIGNoZWNrbGlzdCB3aGVuIHByZXNzaW5nICBDdHJsK1NoaWZ0KzFcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudDxJQ29tbWFuZEV2ZW50RGV0YWlsPihDdXN0b21FdmVudHMuZW1pdHRlZENvbW1hbmQsIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogQ29tbWFuZHMudHJhbnNmb3JtQmxvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJsb2NrVHlwZTogRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuQ0hFQ0tfTElTVFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkgJiYgIWV2ZW50LnNoaWZ0S2V5ICYmIGV2ZW50LmtleSA9PT0gXCIuXCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnRzIHRvIGJ1bGxldGVkIGxpc3Qgd2hlbiBwcmVzc2luZyAgQ3RybCtTaGlmdCsuXHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQ8SUNvbW1hbmRFdmVudERldGFpbD4oQ3VzdG9tRXZlbnRzLmVtaXR0ZWRDb21tYW5kLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IENvbW1hbmRzLnRyYW5zZm9ybUJsb2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCbG9ja1R5cGU6IEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkJVTExFVEVEX0xJU1RcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkgJiYgIWV2ZW50LnNoaWZ0S2V5ICYmIChldmVudC5rZXkgPT09IFwiL1wiKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQ29udmVydHMgdG8gbnVtYmVyZWQgbGlzdCB3aGVuIHByZXNzaW5nIEN0cmwrU2hpZnQrL1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50PElDb21tYW5kRXZlbnREZXRhaWw+KEN1c3RvbUV2ZW50cy5lbWl0dGVkQ29tbWFuZCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBDb21tYW5kcy50cmFuc2Zvcm1CbG9jayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QmxvY2tUeXBlOiBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5OVU1CRVJFRF9MSVNUXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKChldmVudC5jdHJsS2V5ICYmIGV2ZW50LmFsdEtleSAmJiAoKGV2ZW50LmNvZGUgPT09IFwiRGlnaXQxXCIpIHx8IChpc051bVBhZCAmJiBudW1Mb2NrT24gJiYgZXZlbnQuY29kZSA9PT0gXCJOdW1wYWQxXCIpKSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnRzIHRvIGgxIHdoZW4gcHJlc3NpbmcgQ3RybCtBbHQrMVxyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50PElDb21tYW5kRXZlbnREZXRhaWw+KEN1c3RvbUV2ZW50cy5lbWl0dGVkQ29tbWFuZCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBDb21tYW5kcy50cmFuc2Zvcm1CbG9jayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QmxvY2tUeXBlOiBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5IRUFERVJfMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgoZXZlbnQuY3RybEtleSAmJiBldmVudC5hbHRLZXkgJiYgKChldmVudC5jb2RlID09PSBcIkRpZ2l0MlwiKSB8fCAoaXNOdW1QYWQgJiYgbnVtTG9ja09uICYmIGV2ZW50LmNvZGUgPT09IFwiTnVtcGFkMlwiKSkpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0cyB0byBoMiB3aGVuIHByZXNzaW5nIEN0cmwrQWx0KzJcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudDxJQ29tbWFuZEV2ZW50RGV0YWlsPihDdXN0b21FdmVudHMuZW1pdHRlZENvbW1hbmQsIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogQ29tbWFuZHMudHJhbnNmb3JtQmxvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJsb2NrVHlwZTogRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuSEVBREVSXzJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGV2ZW50LmN0cmxLZXkgJiYgZXZlbnQuYWx0S2V5ICYmICgoZXZlbnQuY29kZSA9PT0gXCJEaWdpdDNcIikgfHwgKGlzTnVtUGFkICYmIG51bUxvY2tPbiAmJiBldmVudC5jb2RlID09PSBcIk51bXBhZDNcIikpKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQ29udmVydHMgdG8gaDMgd2hlbiBwcmVzc2luZyBDdHJsK0FsdCszXHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQ8SUNvbW1hbmRFdmVudERldGFpbD4oQ3VzdG9tRXZlbnRzLmVtaXR0ZWRDb21tYW5kLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IENvbW1hbmRzLnRyYW5zZm9ybUJsb2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCbG9ja1R5cGU6IEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkhFQURFUl8zXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKChldmVudC5jdHJsS2V5ICYmIGV2ZW50LmFsdEtleSAmJiAoKGV2ZW50LmNvZGUgPT09IFwiRGlnaXQ0XCIpIHx8IChpc051bVBhZCAmJiBudW1Mb2NrT24gJiYgZXZlbnQuY29kZSA9PT0gXCJOdW1wYWQ0XCIpKSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnRzIHRvIGg0IHdoZW4gcHJlc3NpbmcgQ3RybCtBbHQrNFxyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50PElDb21tYW5kRXZlbnREZXRhaWw+KEN1c3RvbUV2ZW50cy5lbWl0dGVkQ29tbWFuZCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBDb21tYW5kcy50cmFuc2Zvcm1CbG9jayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QmxvY2tUeXBlOiBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5IRUFERVJfNFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgoZXZlbnQuY3RybEtleSAmJiBldmVudC5hbHRLZXkgJiYgKChldmVudC5jb2RlID09PSBcIkRpZ2l0NVwiKSB8fCAoaXNOdW1QYWQgJiYgbnVtTG9ja09uICYmIGV2ZW50LmNvZGUgPT09IFwiTnVtcGFkNVwiKSkpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0cyB0byBoNSB3aGVuIHByZXNzaW5nIEN0cmwrQWx0KzVcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudDxJQ29tbWFuZEV2ZW50RGV0YWlsPihDdXN0b21FdmVudHMuZW1pdHRlZENvbW1hbmQsIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogQ29tbWFuZHMudHJhbnNmb3JtQmxvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJsb2NrVHlwZTogRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuSEVBREVSXzVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGV2ZW50LmN0cmxLZXkgJiYgZXZlbnQuYWx0S2V5ICYmICgoZXZlbnQuY29kZSA9PT0gXCJEaWdpdDZcIikgfHwgKGlzTnVtUGFkICYmIG51bUxvY2tPbiAmJiBldmVudC5jb2RlID09PSBcIk51bXBhZDZcIikpKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQ29udmVydHMgdG8gaDYgd2hlbiBwcmVzc2luZyBDdHJsK0FsdCs2XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQ8SUNvbW1hbmRFdmVudERldGFpbD4oQ3VzdG9tRXZlbnRzLmVtaXR0ZWRDb21tYW5kLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IENvbW1hbmRzLnRyYW5zZm9ybUJsb2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCbG9ja1R5cGU6IEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkhFQURFUl82XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKChldmVudC5rZXkgPT09IFwiRFwiIHx8IGV2ZW50LmtleSA9PT0gXCJkXCIpICYmIGV2ZW50LmN0cmxLZXkpIHtcclxuICAgICAgICAgICAgICAgIC8vIER1cGxpY2F0ZSBibG9jayB3aGVuIHByZXNzaW5nIEN0cmwrRFxyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50PElDb21tYW5kRXZlbnREZXRhaWw+KEN1c3RvbUV2ZW50cy5lbWl0dGVkQ29tbWFuZCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBDb21tYW5kcy5kdXBsaWNhdGVCbG9jayxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGV2ZW50LmtleSA9PT0gXCJEZWxldGVcIiB8fCBldmVudC5rZXkgPT09IFwiQmFja3NwYWNlXCIpICYmIGV2ZW50LnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBEZWxldGUgYmxvY2sgd2hlbiBwcmVzc2luZyBTaGlmdCtEZWxldGVcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudDxJQ29tbWFuZEV2ZW50RGV0YWlsPihDdXN0b21FdmVudHMuZW1pdHRlZENvbW1hbmQsIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogQ29tbWFuZHMuZGVsZXRlQmxvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCJcXFxcXCIgJiYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIENsZWFyIGZvcm1hdHRpbmcgd2hlbiBwcmVzc2luZyBDdHJsK1xcXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudDxJQ29tbWFuZEV2ZW50RGV0YWlsPihDdXN0b21FdmVudHMuZW1pdHRlZENvbW1hbmQsIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogQ29tbWFuZHMucmVtb3ZlRm9ybWF0LFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5jdHJsS2V5ICYmIGV2ZW50LmFsdEtleSAmJiBldmVudC5jb2RlID09PSBcIkRpZ2l0MVwiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGNoYXJhY3RlciBpbnNlcnRpb24gd2hlbiB1c2luZyB0b3Agcm93ICcxJ1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSUNvbW1hbmRFdmVudERldGFpbCB9IGZyb20gXCJAL2NvbW1hbmRzL0lDb21tYW5kRXZlbnREZXRhaWxcIjtcclxuaW1wb3J0IHsgSVRhYmxlTGlzdGVuZXJzIH0gZnJvbSBcIi4vSVRhYmxlTGlzdGVuZXJzXCI7XHJcbmltcG9ydCB7IEN1c3RvbUV2ZW50cyB9IGZyb20gXCJAL2NvbW1vbi9DdXN0b21FdmVudHNcIjtcclxuaW1wb3J0IHsgQ29tbWFuZHMgfSBmcm9tIFwiQC9jb21tYW5kcy9Db21tYW5kc1wiO1xyXG5pbXBvcnQgeyBET01VdGlscyB9IGZyb20gXCJAL3V0aWxpdGllcy9ET01VdGlsc1wiO1xyXG5pbXBvcnQgeyBUYWJsZVV0aWxzIH0gZnJvbSBcIkAvdXRpbGl0aWVzL1RhYmxlVXRpbHNcIjtcclxuaW1wb3J0IHsgRm9jdXNTdGFjayB9IGZyb20gXCIuLi9Gb2N1c1N0YWNrXCI7XHJcbmltcG9ydCB7IElGb2N1c1N0YWNrIH0gZnJvbSBcIi4uL0lGb2N1c1N0YWNrXCI7XHJcbmltcG9ydCB7IERlcGVuZGVuY3lDb250YWluZXIgfSBmcm9tIFwiLi4vRGVwZW5kZW5jeUNvbnRhaW5lclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhYmxlTGlzdGVuZXJzIGltcGxlbWVudHMgSVRhYmxlTGlzdGVuZXJzIHtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogVGFibGVMaXN0ZW5lcnMgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgICBmb2N1c1N0YWNrOiBJRm9jdXNTdGFjaztcclxuXHJcbiAgICBzaG93bkVsZW1lbnRzID0gbmV3IE1hcDxIVE1MVGFibGVDZWxsRWxlbWVudCwgSFRNTEVsZW1lbnQ+KCk7XHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihcclxuICAgICAgICBmb2N1c1N0YWNrOiBJRm9jdXNTdGFjaykge1xyXG5cclxuICAgICAgICBpZiAoVGFibGVMaXN0ZW5lcnMuaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVXNlIFRhYmxlRXZlbnRMaXN0ZW5lcnMuZ2V0SW5zdGFuY2UoKSB0byBnZXQgaW5zdGFuY2UuXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mb2N1c1N0YWNrID0gZm9jdXNTdGFjaztcclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW4oKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydExpc3RlbigpOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImxpc3RlbmluZyB0YWJsZSBjbGlja3NcIik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEluc3RhbmNlKCk6IFRhYmxlTGlzdGVuZXJzIHtcclxuXHJcbiAgICAgICAgY29uc3QgZm9jdXNTdGFjayA9IERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVzb2x2ZTxJRm9jdXNTdGFjaz4oXCJJRm9jdXNTdGFja1wiKTtcclxuICAgICAgICBpZiAoVGFibGVMaXN0ZW5lcnMuaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFRhYmxlTGlzdGVuZXJzLmluc3RhbmNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBUYWJsZUxpc3RlbmVycyhmb2N1c1N0YWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxpc3RlbigpIHtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50OiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBpZiAoKGV2ZW50LnRhcmdldCBhcyBOb2RlKS5ub2RlVHlwZSA9PSBOb2RlLlRFWFRfTk9ERSkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gKGV2ZW50LnRhcmdldCBhcyBOb2RlKS5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gKGV2ZW50LnRhcmdldCBhcyBFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHBhcmVudD8uY2xvc2VzdChcIi5hZGQtdGFibGUtY29sdW1uXCIpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQ8SUNvbW1hbmRFdmVudERldGFpbD4oQ3VzdG9tRXZlbnRzLmVtaXR0ZWRDb21tYW5kLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IENvbW1hbmRzLmluc2VydFRhYmxlQ29sdW1uUmlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrOiBwYXJlbnQuY2xvc2VzdChcIi5ibG9ja1wiKSBhcyBIVE1MRWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocGFyZW50Py5jbG9zZXN0KFwiLmFkZC10YWJsZS1yb3dcIikpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50PElDb21tYW5kRXZlbnREZXRhaWw+KEN1c3RvbUV2ZW50cy5lbWl0dGVkQ29tbWFuZCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBDb21tYW5kcy5pbnNlcnRUYWJsZVJvd0JlbG93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jazogcGFyZW50LmNsb3Nlc3QoXCIuYmxvY2tcIikgYXMgSFRNTEVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHJcbiAgICAgICAgLy8gICAgIC8vIEVuc3VyZSB0aGUgdGFyZ2V0IGlzIGEgdGFibGUgY2VsbCAodGQpIGFuZCBhIGNoaWxkIG9mIGFuIGVsZW1lbnQgd2l0aCBjbGFzcyAnYmxvY2snXHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGNlbGwgPSB0YXJnZXQuY2xvc2VzdChcInRkXCIpO1xyXG4gICAgICAgIC8vICAgICBpZiAoIWNlbGwgfHwgIWNlbGwuY2xvc2VzdChcIi5ibG9ja1wiKSkgcmV0dXJuOyBcclxuXHJcbiAgICAgICAgLy8gICAgIC8vIEdldCB0aGUgYXNzb2NpYXRlZCB0YWJsZSAoYXNzdW1pbmcgYSB0YWJsZSBleGlzdHMpXHJcbiAgICAgICAgLy8gICAgIGNvbnN0IHRhYmxlID0gY2VsbC5jbG9zZXN0KFwidGFibGVcIikgYXMgSFRNTFRhYmxlRWxlbWVudDtcclxuICAgICAgICAvLyAgICAgaWYgKCF0YWJsZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyAgICAgLy8gSWYgYW4gZWxlbWVudCBpcyBhbHJlYWR5IHNob3duIGZvciB0aGlzIGNlbGwsIGRvIG5vdGhpbmdcclxuICAgICAgICAvLyAgICAgaWYgKHRoaXMuc2hvd25FbGVtZW50cy5oYXMoY2VsbCkpIHJldHVybjsgLy8gUHJldmVudCBmbGlja2VyaW5nXHJcblxyXG4gICAgICAgIC8vICAgICAvLyBDaGVjayBpZiBpbiB0aGUgbGFzdCBjb2x1bW4gYW5kIGVtaXQgZXZlbnRcclxuICAgICAgICAvLyAgICAgaWYgKFRhYmxlVXRpbHMuaXNMYXN0Q29sdW1uKHRhYmxlLCBjZWxsKSkge1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgYmxvY2sgPSBjZWxsLmNsb3Nlc3QoXCIuYmxvY2tcIikgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudDxJQ29tbWFuZEV2ZW50RGV0YWlsPihDdXN0b21FdmVudHMuZW1pdHRlZENvbW1hbmQsIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBkZXRhaWw6IHsgY29tbWFuZDogQ29tbWFuZHMuc2hvd0luc2VydFRhYmxlQ29sdW1uRWxlbWVudCwgYmxvY2sgfSxcclxuICAgICAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgICAgIC8vICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnNob3duRWxlbWVudHMuc2V0KGNlbGwsIGJsb2NrKTsgLy8gVHJhY2sgdGhlIHNob3duIGVsZW1lbnRcclxuICAgICAgICAvLyAgICAgfVxyXG5cclxuICAgICAgICAvLyAgICAgLy8gQ2hlY2sgaWYgaW4gdGhlIGxhc3Qgcm93IGFuZCBlbWl0IGV2ZW50XHJcbiAgICAgICAgLy8gICAgIGlmIChUYWJsZVV0aWxzLmlzTGFzdFJvdyh0YWJsZSwgY2VsbCkpIHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnN0IGJsb2NrID0gY2VsbC5jbG9zZXN0KFwiLmJsb2NrXCIpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQ8SUNvbW1hbmRFdmVudERldGFpbD4oQ3VzdG9tRXZlbnRzLmVtaXR0ZWRDb21tYW5kLCB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgZGV0YWlsOiB7IGNvbW1hbmQ6IENvbW1hbmRzLnNob3dJbnNlcnRUYWJsZVJvd0VsZW1lbnQsIGJsb2NrIH0sXHJcbiAgICAgICAgLy8gICAgICAgICB9KTtcclxuICAgICAgICAvLyAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5zaG93bkVsZW1lbnRzLnNldChjZWxsLCBibG9jayk7IC8vIFRyYWNrIHRoZSBzaG93biBlbGVtZW50XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgIC8vICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IHJlbGF0ZWRUYXJnZXQgPSBldmVudC5yZWxhdGVkVGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG5cclxuICAgICAgICAvLyAgICAgLy8gRW5zdXJlIHRoZSB0YXJnZXQgaXMgYSB0YWJsZSBjZWxsICh0ZCkgYW5kIGEgY2hpbGQgb2YgYW4gZWxlbWVudCB3aXRoIGNsYXNzICdibG9jaydcclxuICAgICAgICAvLyAgICAgY29uc3QgY2VsbCA9IHRhcmdldC5jbG9zZXN0KFwidGRcIik7XHJcbiAgICAgICAgLy8gICAgIGlmICghY2VsbCB8fCAhY2VsbC5jbG9zZXN0KFwiLmJsb2NrXCIpKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vICAgICAvLyBHZXQgdGhlIGFzc29jaWF0ZWQgdGFibGUgKGFzc3VtaW5nIGEgdGFibGUgZXhpc3RzKVxyXG4gICAgICAgIC8vICAgICBjb25zdCB0YWJsZSA9IGNlbGwuY2xvc2VzdChcInRhYmxlXCIpIGFzIEhUTUxUYWJsZUVsZW1lbnQ7XHJcbiAgICAgICAgLy8gICAgIGlmICghdGFibGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gICAgIC8vIENoZWNrIGlmIHRoZSBtb3VzZSBpcyBsZWF2aW5nIHRoZSBsYXN0IGNvbHVtbiBjZWxsIGFuZCBub3QgZW50ZXJpbmcgdGhlIGFkZCBjb2x1bW4gYnV0dG9uXHJcbiAgICAgICAgLy8gICAgIGlmIChUYWJsZVV0aWxzLmlzTGFzdENvbHVtbih0YWJsZSwgY2VsbCkgJiYgIXJlbGF0ZWRUYXJnZXQ/LmNsYXNzTGlzdC5jb250YWlucyhcImFkZC10YWJsZS1jb2x1bW5cIikpIHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnN0IHNob3duRWxlbWVudCA9IHRoaXMuc2hvd25FbGVtZW50cy5nZXQoY2VsbCk7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoc2hvd25FbGVtZW50KSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQ8SUNvbW1hbmRFdmVudERldGFpbD4oQ3VzdG9tRXZlbnRzLmVtaXR0ZWRDb21tYW5kLCB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGRldGFpbDogeyBjb21tYW5kOiBDb21tYW5kcy5oaWRlSW5zZXJ0VGFibGVDb2x1bW5FbGVtZW50LCBibG9jazogc2hvd25FbGVtZW50IH0sXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5zaG93bkVsZW1lbnRzLmRlbGV0ZShjZWxsKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfVxyXG5cclxuICAgICAgICAvLyAgICAgLy8gQ2hlY2sgaWYgdGhlIG1vdXNlIGlzIGxlYXZpbmcgdGhlIGxhc3Qgcm93IGNlbGwgYW5kIG5vdCBlbnRlcmluZyB0aGUgYWRkIHJvdyBidXR0b25cclxuICAgICAgICAvLyAgICAgaWYgKFRhYmxlVXRpbHMuaXNMYXN0Um93KHRhYmxlLCBjZWxsKSAmJiAhcmVsYXRlZFRhcmdldD8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWRkLXRhYmxlLXJvd1wiKSkge1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc3Qgc2hvd25FbGVtZW50ID0gdGhpcy5zaG93bkVsZW1lbnRzLmdldChjZWxsKTtcclxuICAgICAgICAvLyAgICAgICAgIGlmIChzaG93bkVsZW1lbnQpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudDxJQ29tbWFuZEV2ZW50RGV0YWlsPihDdXN0b21FdmVudHMuZW1pdHRlZENvbW1hbmQsIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgZGV0YWlsOiB7IGNvbW1hbmQ6IENvbW1hbmRzLmhpZGVJbnNlcnRUYWJsZVJvd0VsZW1lbnQsIGJsb2NrOiBzaG93bkVsZW1lbnQgfSxcclxuICAgICAgICAvLyAgICAgICAgICAgICB9KTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcclxuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLnNob3duRWxlbWVudHMuZGVsZXRlKGNlbGwpO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJRm9jdXNTdGFjayB9IGZyb20gXCIuL0lGb2N1c1N0YWNrXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRm9jdXNTdGFjayBpbXBsZW1lbnRzIElGb2N1c1N0YWNrIHtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogRm9jdXNTdGFjaztcclxuICAgIHByaXZhdGUgc3RhY2s6IEhUTUxFbGVtZW50W107XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNhcGFjaXR5OiBudW1iZXIgPSAxMDtcclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuc3RhY2sgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IEZvY3VzU3RhY2sge1xyXG4gICAgICAgIGlmICghRm9jdXNTdGFjay5pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBGb2N1c1N0YWNrLmluc3RhbmNlID0gbmV3IEZvY3VzU3RhY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEZvY3VzU3RhY2suaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHB1c2goZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5zdGFjay5sZW5ndGggPj0gdGhpcy5jYXBhY2l0eSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0YWNrLnNoaWZ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhY2sucHVzaChlbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGVlaygpOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zdGFjayA9IFtdO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSUJsb2NrT3BlcmF0aW9uc1NlcnZpY2UgfSBmcm9tIFwiLi9JQmxvY2tPcGVyYXRpb25zU2VydmljZVwiO1xuaW1wb3J0IHsgSUVsZW1lbnRGYWN0b3J5U2VydmljZSB9IGZyb20gXCIuLi9lbGVtZW50LWZhY3RvcnkvSUVsZW1lbnRGYWN0b3J5U2VydmljZVwiO1xuaW1wb3J0IHsgRWxlbWVudEZhY3RvcnlTZXJ2aWNlIH0gZnJvbSBcIi4uL2VsZW1lbnQtZmFjdG9yeS9FbGVtZW50RmFjdG9yeVNlcnZpY2VcIjtcbmltcG9ydCB7IENvbnRlbnRUeXBlcyB9IGZyb20gXCJAL2NvbW1vbi9Db250ZW50VHlwZXNcIjtcbmltcG9ydCB7IERPTVV0aWxzIH0gZnJvbSBcIkAvdXRpbGl0aWVzL0RPTVV0aWxzXCI7XG5pbXBvcnQgeyBDdXN0b21FdmVudHMgfSBmcm9tIFwiQC9jb21tb24vQ3VzdG9tRXZlbnRzXCI7XG5pbXBvcnQgeyBEZXBlbmRlbmN5Q29udGFpbmVyIH0gZnJvbSBcIkAvY29yZS9EZXBlbmRlbmN5Q29udGFpbmVyXCI7XG5pbXBvcnQgeyBJRm9jdXNTdGFjayB9IGZyb20gXCJAL2NvcmUvSUZvY3VzU3RhY2tcIjtcbmltcG9ydCB7IElNZW1lbnRvIH0gZnJvbSBcIkAvY29yZS9JTWVtZW50b1wiO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSBcIkAvY29tbWFuZHMvRXZlbnRFbWl0dGVyXCI7XG5pbXBvcnQgeyBDb21tYW5kcyB9IGZyb20gXCJAL2NvbW1hbmRzL0NvbW1hbmRzXCI7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAL3V0aWxpdGllcy9VdGlsc1wiO1xuaW1wb3J0IHsgQ29tbW9uQ2xhc3NlcyB9IGZyb20gXCJAL2NvbW1vbi9Db21tb25DbGFzc2VzXCI7XG5pbXBvcnQgeyBJQ29tbWFuZEV2ZW50RGV0YWlsIH0gZnJvbSBcIkAvY29tbWFuZHMvSUNvbW1hbmRFdmVudERldGFpbFwiO1xuXG5leHBvcnQgY2xhc3MgQmxvY2tPcGVyYXRpb25zU2VydmljZSBpbXBsZW1lbnRzIElCbG9ja09wZXJhdGlvbnNTZXJ2aWNlIHtcblxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBCbG9ja09wZXJhdGlvbnNTZXJ2aWNlO1xuXG4gICAgcHJpdmF0ZSBlbGVtZW50RmFjdG9yeVNlcnZpY2U6IElFbGVtZW50RmFjdG9yeVNlcnZpY2U7XG4gICAgcHJpdmF0ZSBtZW1lbnRvOiBJTWVtZW50bztcbiAgICBwcml2YXRlIGZvY3VzU3RhY2s6IElGb2N1c1N0YWNrO1xuXG4gICAgLy8gc3RhdGljIEJMT0NLX09QRVJBVElPTlMgPSB7XG4gICAgLy8gICAgIFRVUk5fSU5UTzogXCJ0dXJuSW50b1wiLFxuICAgIC8vICAgICBDUkVBVEVfREVGQVVMVF9CTE9DSzogXCJDcmVhdGVEZWZhdWx0QmxvY2tcIixcbiAgICAvLyAgICAgREVMRVRFX0ZPQ1VTX09OX1BSRVZJT1VTOiBcIkRlbGV0ZUFuZEZvY3VzT25QcmV2aW91c1wiLFxuICAgIC8vICAgICBERUxFVEVfRk9DVVNfT05fTkVYVDogXCJEZWxldGVBbmRGb2N1c09uTmV4dFwiLFxuICAgIC8vICAgICBGT0NVU19PTl9GSVJTVDogXCJGb2N1c09uRmlyc3RcIixcbiAgICAvLyAgICAgRk9DVVNfT05fUFJFVklPVVM6IFwiRm9jdXNPblByZXZpb3VzXCIsXG4gICAgLy8gICAgIEZPQ1VTX09OX05FWFQ6IFwiRm9jdXNPbk5leHRcIixcbiAgICAvLyAgICAgREVMRVRFOiBcImRlbGV0ZVwiLFxuICAgIC8vICAgICBEVVBMSUNBVEU6IFwiZHVwbGljYXRlXCIsXG4gICAgLy8gICAgIENPUFk6IFwiY29weVwiLFxuICAgIC8vICAgICBQQVNURTogXCJwYXRlc1wiLFxuICAgIC8vICAgICBDVVQ6IFwiY3V0XCIsXG4gICAgLy8gICAgIFJFTU9WRV9GT1JNQVQ6IFwicmVtb3ZlRm9ybWF0XCIsXG4gICAgLy8gICAgIFRSQU5TRk9STV9CTE9DSzogXCJ0cmFuc2Zvcm1CbG9ja1wiXG4gICAgLy8gfTtcblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoXG4gICAgICAgIGVsZW1lbnRGYWN0b3J5U2VydmljZTogSUVsZW1lbnRGYWN0b3J5U2VydmljZSxcbiAgICAgICAgZm9jdXNTdGFjazogSUZvY3VzU3RhY2ssXG4gICAgICAgIG1lbWVudG86IElNZW1lbnRvKSB7XG5cbiAgICAgICAgaWYgKEJsb2NrT3BlcmF0aW9uc1NlcnZpY2UuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZSBCbG9ja09wZXJhdGlvbnNTZXJ2aWNlLmdldEluc3RhbmNlKCkgdG8gZ2V0IGluc3RhbmNlLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWxlbWVudEZhY3RvcnlTZXJ2aWNlID0gZWxlbWVudEZhY3RvcnlTZXJ2aWNlO1xuICAgICAgICB0aGlzLmZvY3VzU3RhY2sgPSBmb2N1c1N0YWNrO1xuICAgICAgICB0aGlzLm1lbWVudG8gPSBtZW1lbnRvO1xuXG4gICAgICAgIEJsb2NrT3BlcmF0aW9uc1NlcnZpY2UuaW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cblxuICAgIGV4ZWNDb21tYW5kKGNvbW1hbmQ6IHN0cmluZywgc2hvd1VJOiBib29sZWFuLCB2YWx1ZTogc3RyaW5nIHwgbnVsbCA9IG51bGwpOiBib29sZWFuIHtcblxuICAgICAgICBpZiAoY29tbWFuZCA9PSBDb21tYW5kcy5jb3B5U2VsZWN0ZWQpIHtcblxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldFNlbGVjdGlvbiAmJiBuYXZpZ2F0b3IuY2xpcGJvYXJkICYmIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi50b1N0cmluZygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRUZXh0ID0gc2VsZWN0aW9uLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoc2VsZWN0ZWRUZXh0KS50aGVuKCgpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29waWVkRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NvcGllZFRleHQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjb3BpZWRFdmVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnI6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd2hlbiBjb3B5IHRleHQnLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb21tYW5kID09IENvbW1hbmRzLmN1dFNlbGVjdGVkKSB7XG5cbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRTZWxlY3Rpb24gJiYgbmF2aWdhdG9yLmNsaXBib2FyZCAmJiBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24udG9TdHJpbmcoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkVGV4dCA9IHNlbGVjdGlvbi50b1N0cmluZygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5kZWxldGVGcm9tRG9jdW1lbnQoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBoaWRlRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoICdyZXF1ZXN0SGlkZUZsb2F0aW5nVG9vbGJhcicsIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIC8vIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoaGlkZUV2ZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChzZWxlY3RlZFRleHQpLnRoZW4oKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHdoZW4gY3V0IHRleHQ6ICcsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbW1hbmQgPT0gQ29tbWFuZHMucGFzdCkge1xuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5jbGlwYm9hcmQgJiYgbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCkge1xuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKS50aGVuKChwYXN0ZWRUZXh0OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ucmFuZ2VDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5kZWxldGVDb250ZW50cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZShkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShwYXN0ZWRUZXh0KSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbkV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdyZXF1ZXN0VXBkYXRlRmxvYXRpbmdUb29sYmFyJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoc2VsZWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHRleHQgc2VsZWN0ZWQgb3IgY2xpcGJvYXJkIGVtcHR5LicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHdoZW4gcGFzdGluZyB0ZXh0OiAnLCBlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tbWFuZCA9PSBDb21tYW5kcy50cmFuc2Zvcm1CbG9jaykge1xuXG4gICAgICAgICAgICBjb25zdCBibG9jayA9IHRoaXMuZ2V0Q3VycmVudFNlbGVjdGVkQmxvY2soKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIGlmIChibG9jayAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtQmxvY2sodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbW1hbmQgPT0gQ29tbWFuZHMucmVtb3ZlRm9ybWF0KSB7XG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZXhlY0NvbW1hbmQoQ29tbWFuZHMucmVtb3ZlRm9ybWF0LCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiAoY29tbWFuZCA9PSBDb21tYW5kcy5kZWxldGVCbG9jaykge1xuXG4gICAgICAgIC8vICAgICB0aGlzLmRlbGV0ZUFuZEZvY3VzT25OZXh0KCk7XG5cbiAgICAgICAgLy8gICAgIGNvbnN0IGhpZGVFdmVudCA9IG5ldyBDdXN0b21FdmVudChDdXN0b21FdmVudHMuYmxvY2tEZWxldGVkLCB7XG4gICAgICAgIC8vICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgLy8gICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgIC8vICAgICB9KTtcblxuICAgICAgICAvLyAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChoaWRlRXZlbnQpO1xuXG4gICAgICAgIC8vICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGlmIChjb21tYW5kID09IENvbW1hbmRzLmNyZWF0ZURlZmF1bHRCbG9jaykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgfHwgbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVEZWZhdWx0QmxvY2soZWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb21tYW5kID09IENvbW1hbmRzLmZvY3VzT25GaXJzdEJsb2NrKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvY3VzYWJsZVwiKTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbW1hbmQgPT0gQ29tbWFuZHMuZGVsZXRlQmxvY2tBbmRGb2N1c09uUHJldmlvdXMpIHtcblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVtb3ZlIGFsbCByZWZlcmVuY2UgdG8gdGhpcyBjb2RlXCIpO1xuICAgICAgICAgICAgdGhpcy5leGVjRGVsZXRlRm9jdXNPblByZXZpb3VzKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb21tYW5kID09IENvbW1hbmRzLmRlbGV0ZUJsb2NrQW5kRm9jdXNPbk5leHQpIHtcblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVtb3ZlIGFsbCByZWZlcmVuY2UgdG8gdGhpcyBjb2RlXCIpO1xuICAgICAgICAgICAgdGhpcy5leGVjRGVsZXRlQW5kRm9jdXNPbk5leHQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgKGNvbW1hbmQgPT0gQmxvY2tPcGVyYXRpb25zU2VydmljZS5CTE9DS19PUEVSQVRJT05TLkZPQ1VTX09OX1BSRVZJT1VTKSB7XG4gICAgICAgIC8vICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgICAgICAvLyAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmZvY3VzT25QcmV2aW91cyhlbGVtZW50KTtcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGlmIChjb21tYW5kID09IEJsb2NrT3BlcmF0aW9uc1NlcnZpY2UuQkxPQ0tfT1BFUkFUSU9OUy5GT0NVU19PTl9ORVhUKSB7XG4gICAgICAgIC8vICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgICAgICAvLyAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmZvY3VzT25OZXh0KGVsZW1lbnQpO1xuICAgICAgICAvLyAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gaWYgKGNvbW1hbmQgPT0gQmxvY2tPcGVyYXRpb25zU2VydmljZS5CTE9DS19PUEVSQVRJT05TLlRVUk5fSU5UTykge1xuXG4gICAgICAgIC8vICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIC8vICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgIC8vICAgICB9XG5cbiAgICAgICAgLy8gICAgIGNvbnN0IGVsZW1lbnQgPSBCbG9ja09wZXJhdGlvbnNTZXJ2aWNlLmdldERyYWdnYWJsZUVsZW1lbnRGcm9tU2VsZWN0aW9uKCk7XG5cbiAgICAgICAgLy8gICAgIHRoaXMuZm9ybWF0QmxvY2soZWxlbWVudCwgdmFsdWUpO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gY29uc3Qgc2VsZWN0aW9uRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ3JlcXVlc3RIaWRlRmxvYXRpbmdUb29sYmFyJywge1xuICAgICAgICAvLyAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgLy8gICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgLy8gZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChzZWxlY3Rpb25FdmVudCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcXVlcnlDb21tYW5kU3RhdGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBCbG9ja09wZXJhdGlvbnNTZXJ2aWNlIHtcblxuICAgICAgICBjb25zdCBlbGVtZW50RmFjdG9yeVNlcnZpY2UgPSBEZXBlbmRlbmN5Q29udGFpbmVyLkluc3RhbmNlLnJlc29sdmU8SUVsZW1lbnRGYWN0b3J5U2VydmljZT4oXCJJRWxlbWVudEZhY3RvcnlTZXJ2aWNlXCIpO1xuICAgICAgICBjb25zdCBmb2N1c1N0YWNrID0gRGVwZW5kZW5jeUNvbnRhaW5lci5JbnN0YW5jZS5yZXNvbHZlPElGb2N1c1N0YWNrPihcIklGb2N1c1N0YWNrXCIpO1xuICAgICAgICBjb25zdCBtZW1lbnRvID0gRGVwZW5kZW5jeUNvbnRhaW5lci5JbnN0YW5jZS5yZXNvbHZlPElNZW1lbnRvPihcIklNZW1lbnRvXCIpO1xuXG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBCbG9ja09wZXJhdGlvbnNTZXJ2aWNlKGVsZW1lbnRGYWN0b3J5U2VydmljZSwgZm9jdXNTdGFjaywgbWVtZW50byk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RHJhZ2dhYmxlRWxlbWVudEZyb21TZWxlY3Rpb24oKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ucmFuZ2VDb3VudCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG4gICAgICAgICAgICBsZXQgZWxlbWVudDogTm9kZSB8IG51bGwgPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2hpbGUgKGVsZW1lbnQgJiYgIShlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSBhcyBIVE1MRWxlbWVudCB8IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHJhZ2dhYmxlID0gZWxlbWVudC5jbG9zZXN0KCcuYmxvY2snKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZHJhZ2dhYmxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV0b3JuYXIgbnVsbCBzZSBuZW5odW1hIHNlbGXDp8OjbyB2w6FsaWRhIGZvciBlbmNvbnRyYWRhIG91IG5lbmh1bSBlbGVtZW50byBjb3JyZXNwb25kZW50ZVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICB9XG5cbiAgICAvLyBzdGF0aWMgZ2V0VGFnTmFtZUJ5Q29tbWFuZE5hbWUoY29tbWFuZE5hbWU6IHN0cmluZykge1xuICAgIC8vICAgICBzd2l0Y2ggKGNvbW1hbmROYW1lKSB7XG4gICAgLy8gICAgICAgICBjYXNlIFwidHVybkludG9QYXJhZ3JhcGhcIjpcbiAgICAvLyAgICAgICAgICAgICByZXR1cm4gXCJwXCI7XG4gICAgLy8gICAgICAgICBjYXNlIFwidHVybkludG9IMVwiOlxuICAgIC8vICAgICAgICAgICAgIHJldHVybiBcImgxXCI7XG4gICAgLy8gICAgICAgICBjYXNlIFwidHVybkludG9IMlwiOlxuICAgIC8vICAgICAgICAgICAgIHJldHVybiBcImgyXCI7XG4gICAgLy8gICAgICAgICBjYXNlIFwidHVybkludG9IM1wiOlxuICAgIC8vICAgICAgICAgICAgIHJldHVybiBcImgzXCI7XG4gICAgLy8gICAgICAgICBjYXNlIFwidHVybkludG9INFwiOlxuICAgIC8vICAgICAgICAgICAgIHJldHVybiBcImg0XCI7XG4gICAgLy8gICAgICAgICBjYXNlIFwidHVybkludG9INVwiOlxuICAgIC8vICAgICAgICAgICAgIHJldHVybiBcImg1XCI7XG4gICAgLy8gICAgICAgICBjYXNlIFwidHVybkludG9INlwiOlxuICAgIC8vICAgICAgICAgICAgIHJldHVybiBcImg2XCI7XG5cbiAgICAvLyAgICAgICAgIGRlZmF1bHQ6XG4gICAgLy8gICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJFcnJvclwiKTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuXG4gICAgZXhlY01lcmdlV2l0aFByZXZpb3VzQmxvY2soKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWVtZW50by5zYXZlU3RhdGUoKTtcblxuICAgICAgICBjb25zdCBjdXJyZW50Q29udGVudEVkaXRhYmxlID0gRE9NVXRpbHMuZ2V0QWN0aXZlQ29udGVudEVkaXRhYmxlKCk7XG4gICAgICAgIGlmICghY3VycmVudENvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJldmlvdXNDb250ZW50RWRpdGFibGUgPSBET01VdGlscy5nZXRQcmV2aW91c0NvbnRlbnRFZGl0YWJsZShjdXJyZW50Q29udGVudEVkaXRhYmxlKTtcbiAgICAgICAgaWYgKCFwcmV2aW91c0NvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgRE9NVXRpbHMuc2FuaXRpemVDb250ZW50RWRpdGFibGUoY3VycmVudENvbnRlbnRFZGl0YWJsZSk7XG4gICAgICAgIERPTVV0aWxzLnNhbml0aXplQ29udGVudEVkaXRhYmxlKHByZXZpb3VzQ29udGVudEVkaXRhYmxlKTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIERPTVV0aWxzLnBsYWNlQ3Vyc29yQXRFbmRPZkVkaXRhYmxlRWxlbWVudChwcmV2aW91c0NvbnRlbnRFZGl0YWJsZSk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhcmV0UG9zaXRpb24gPSBET01VdGlscy5zYXZlQ2FyZXRQb3NpdGlvbjJkKHByZXZpb3VzQ29udGVudEVkaXRhYmxlKTtcblxuICAgICAgICAgICAgICAgIHByZXZpb3VzQ29udGVudEVkaXRhYmxlLmlubmVySFRNTCA9IHByZXZpb3VzQ29udGVudEVkaXRhYmxlLmlubmVySFRNTCArIGN1cnJlbnRDb250ZW50RWRpdGFibGUuaW5uZXJIVE1MO1xuXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDb250ZW50RWRpdGFibGUuY2xvc2VzdChcImxpXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RJdGVtID0gY3VycmVudENvbnRlbnRFZGl0YWJsZS5jbG9zZXN0KFwibGlcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9jayA9IGN1cnJlbnRDb250ZW50RWRpdGFibGUuY2xvc2VzdChcIi5ibG9ja1wiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGFkanVzdGVkQ2FyZXRQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhckluZGV4OiBjYXJldFBvc2l0aW9uLmNoYXJJbmRleCArIHByZXZpb3VzQ29udGVudEVkaXRhYmxlLnRleHRDb250ZW50IS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIGhvcml6b250YWxQb3M6IGNhcmV0UG9zaXRpb24uaG9yaXpvbnRhbFBvc1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBET01VdGlscy5yZXN0b3JlQ2FyZXRQb3NpdGlvbjJkKHByZXZpb3VzQ29udGVudEVkaXRhYmxlLCBhZGp1c3RlZENhcmV0UG9zaXRpb24pO1xuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIGV4ZWNNZXJnZVdpdGhOZXh0QmxvY2soKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWVtZW50by5zYXZlU3RhdGUoKTtcblxuICAgICAgICBjb25zdCBjdXJyZW50Q29udGVudEVkaXRhYmxlID0gRE9NVXRpbHMuZ2V0QWN0aXZlQ29udGVudEVkaXRhYmxlKCk7XG4gICAgICAgIGlmICghY3VycmVudENvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbmV4dENvbnRlbnRFZGl0YWJsZSA9IERPTVV0aWxzLmdldE5leHRDb250ZW50RWRpdGFibGUoY3VycmVudENvbnRlbnRFZGl0YWJsZSk7XG4gICAgICAgIGlmICghbmV4dENvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgRE9NVXRpbHMuc2FuaXRpemVDb250ZW50RWRpdGFibGUoY3VycmVudENvbnRlbnRFZGl0YWJsZSk7XG4gICAgICAgIERPTVV0aWxzLnNhbml0aXplQ29udGVudEVkaXRhYmxlKG5leHRDb250ZW50RWRpdGFibGUpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgRE9NVXRpbHMucGxhY2VDdXJzb3JBdEVuZE9mRWRpdGFibGVFbGVtZW50KGN1cnJlbnRDb250ZW50RWRpdGFibGUpO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJldFBvc2l0aW9uID0gRE9NVXRpbHMuc2F2ZUNhcmV0UG9zaXRpb24yZChjdXJyZW50Q29udGVudEVkaXRhYmxlKTtcblxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZW50RWRpdGFibGUuaW5uZXJIVE1MID0gY3VycmVudENvbnRlbnRFZGl0YWJsZS5pbm5lckhUTUwgKyBuZXh0Q29udGVudEVkaXRhYmxlLmlubmVySFRNTDtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q29udGVudEVkaXRhYmxlLmNsb3Nlc3QoXCJsaVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaXN0SXRlbSA9IG5leHRDb250ZW50RWRpdGFibGUuY2xvc2VzdChcImxpXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RJdGVtLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvY2sgPSBuZXh0Q29udGVudEVkaXRhYmxlLmNsb3Nlc3QoXCIuYmxvY2tcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChibG9jaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBET01VdGlscy5yZXN0b3JlQ2FyZXRQb3NpdGlvbjJkKGN1cnJlbnRDb250ZW50RWRpdGFibGUsIGNhcmV0UG9zaXRpb24pO1xuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIGV4ZWNEdXBsaWNhdGVCbG9jayhibG9jaz86IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgICAgIGJsb2NrID0gKHRoaXMuZ2V0Q3VycmVudFNlbGVjdGVkQmxvY2soKSB8fCBET01VdGlscy5nZXRDdXJyZW50QWN0aXZlQmxvY2soKSkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjbG9uZSA9IGJsb2NrLmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICBjbG9uZS5xdWVyeVNlbGVjdG9yQWxsKCcuZXhjbHVkZS1mcm9tLWNsb25lJykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG5cbiAgICAgICAgY29uc3QgbmV4dEVsZW1lbnQgPSBibG9jay5uZXh0U2libGluZztcbiAgICAgICAgYmxvY2sucGFyZW50Tm9kZT8uaW5zZXJ0QmVmb3JlKGNsb25lLCBuZXh0RWxlbWVudCk7XG5cbiAgICAgICAgY2xvbmUuaWQgPSBgYi0ke1V0aWxzLmdlbmVyYXRlVW5pcXVlSWQoKX1gO1xuXG4gICAgICAgIGNvbnN0IGhpZGVFdmVudCA9IG5ldyBDdXN0b21FdmVudChDdXN0b21FdmVudHMuYmxvY2tDbG9uZWQsIHtcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoaGlkZUV2ZW50KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cblxuICAgIGV4ZWNEZWxldGVCbG9jayhibG9jaz86IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XG5cbiAgICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICAgICAgYmxvY2sgPSAodGhpcy5nZXRDdXJyZW50U2VsZWN0ZWRCbG9jaygpIHx8IERPTVV0aWxzLmdldEN1cnJlbnRBY3RpdmVCbG9jaygpKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZm9jdXNPbk5leHQoYmxvY2spO1xuICAgICAgICB0aGlzLmRlbGV0ZVRoZUN1cnJlbnRFbGVtZW50QW5kVGhlRHJhZ2dhYmxlQmxvY2tJZkVtcHR5KGJsb2NrKTtcblxuICAgICAgICBjb25zdCBoaWRlRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoQ3VzdG9tRXZlbnRzLmJsb2NrRGVsZXRlZCwge1xuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChoaWRlRXZlbnQpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIGV4ZWNEZWxldGVGb2N1c09uUHJldmlvdXMoKTogYm9vbGVhbiB7XG4gICAgLy8gICAgIHRoaXMuZGVsZXRlQW5kRm9jdXNPblByZXZpb3VzKCk7XG4gICAgLy8gICAgIHJldHVybiB0cnVlO1xuICAgIC8vIH1cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAvLyBhcHBseVNlbGVjdGVkQmxvY2tUeXBlKGRyYWdnYWJsZUJsb2NrOiBIVE1MRWxlbWVudCwgbmV3QmxvY2tUeXBlOiBzdHJpbmcpIHtcblxuICAgIC8vICAgICAvLyBjb25zdCBkcmFnZ2FibGVCbG9jayA9IHJlYWxGb2N1c2VkRWxlbWVudC5jbG9zZXN0KCcuYmxvY2snKTtcbiAgICAvLyAgICAgLy8gY29uc3QgbmV3QmxvY2tUeXBlID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5vcHRpb24nKSA/XG4gICAgLy8gICAgIC8vICAgICBldmVudC50YXJnZXQuY2xvc2VzdCgnLm9wdGlvbicpLmdldEF0dHJpYnV0ZSgnZGF0YS10eXBlJykgOlxuICAgIC8vICAgICAvLyAgICAgY3VycmVudEZha2VGb2N1c2VkT3B0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS10eXBlJyk7XG5cbiAgICAvLyAgICAgY29uc3QgbGFzdFNsYXNoSW5kZXggPSByZWFsRm9jdXNlZEVsZW1lbnQuaW5uZXJUZXh0Lmxhc3RJbmRleE9mKCcvJyk7XG4gICAgLy8gICAgIHJlYWxGb2N1c2VkRWxlbWVudC5pbm5lclRleHQgPSBsYXN0U2xhc2hJbmRleCAhPT0gLTEgPyByZWFsRm9jdXNlZEVsZW1lbnQuaW5uZXJUZXh0LnNsaWNlKDAsIGxhc3RTbGFzaEluZGV4KSA6IHJlYWxGb2N1c2VkRWxlbWVudC5pbm5lclRleHQ7XG5cblxuICAgIC8vICAgICB0cmFuc2Zvcm1CbG9jayhkcmFnZ2FibGVCbG9jaywgbmV3QmxvY2tUeXBlKTtcblxuICAgIC8vICAgICBoaWRlQW5kQ2xlYXJCbG9ja09wdGlvbnMoKTtcbiAgICAvLyAgICAgaGlkZUFsbERlcGVuZGVudEJveCgpO1xuICAgIC8vICAgICBoaWRlZmxvYXRpbmdUb29sYmFyKCk7XG4gICAgLy8gfVxuXG4gICAgLy8gZm9ybWF0QmxvY2soZWxlbWVudDogSFRNTEVsZW1lbnQsIGNvbnRlbnRUeXBlOiBzdHJpbmcpXG4gICAgdHJhbnNmb3JtQmxvY2sodHlwZTogc3RyaW5nLCBlbGVtZW50PzogSFRNTEVsZW1lbnQgfCBudWxsKSB7XG5cbiAgICAgICAgbGV0IGJsb2NrRWxlbWVudDogRWxlbWVudCB8IG51bGw7XG5cbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGJsb2NrRWxlbWVudCA9IGVsZW1lbnQuY2xvc2VzdChcIi5ibG9ja1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJsb2NrRWxlbWVudCA9IHRoaXMuZm9jdXNTdGFjay5wZWVrKCk/LmNsb3Nlc3QoXCIuYmxvY2tcIikgfHwgbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudCA9IERPTVV0aWxzLmZpbmRDbG9zZXN0QW5jZXN0b3JPZkFjdGl2ZUVsZW1lbnRCeUNsYXNzKFwiLmJsb2NrXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvbnRlbnRFbGVtZW50ID0gYmxvY2tFbGVtZW50IS5xdWVyeVNlbGVjdG9yKCcuc3dpdHRhYmxlJykgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgdGhpcy5mb2N1c1N0YWNrLnBlZWsoKT8uZm9jdXMoKTtcblxuICAgICAgICBET01VdGlscy5yZW1vdmVGaWx0ZXJUZXh0KCk7XG5cbiAgICAgICAgdGhpcy5tZW1lbnRvLnNhdmVTdGF0ZSgpO1xuXG4gICAgICAgIGxldCBjb250ZW50ID0gY29udGVudEVsZW1lbnQ/LmlubmVyVGV4dDtcblxuICAgICAgICBsZXQgZm9jdXNTdGFja1RvQWRkOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG5cbiAgICAgICAgbGV0IG5ld0NvbnRlbnRCbG9jaztcblxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuUEFSQUdSQVBIOiB7XG4gICAgICAgICAgICAgICAgbmV3Q29udGVudEJsb2NrID0gdGhpcy5lbGVtZW50RmFjdG9yeVNlcnZpY2UuY3JlYXRlKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLlBBUkFHUkFQSCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBlZGl0YWJsZUNvbnRlbnQgPSBET01VdGlscy5xdWVyeVNlbGVjdG9ySW5jbHVkaW5nU2VsZihjb250ZW50RWxlbWVudCwgJ1tjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdJyk7XG4gICAgICAgICAgICAgICAgaWYgKGVkaXRhYmxlQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50QmxvY2suaW5uZXJIVE1MID0gZWRpdGFibGVDb250ZW50LmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuSEVBREVSXzE6IHtcbiAgICAgICAgICAgICAgICBuZXdDb250ZW50QmxvY2sgPSB0aGlzLmVsZW1lbnRGYWN0b3J5U2VydmljZS5jcmVhdGUoRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuSEVBREVSXzEpO1xuICAgICAgICAgICAgICAgIG5ld0NvbnRlbnRCbG9jay5pbm5lclRleHQgPSBjb250ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkhFQURFUl8yOiB7XG4gICAgICAgICAgICAgICAgbmV3Q29udGVudEJsb2NrID0gdGhpcy5lbGVtZW50RmFjdG9yeVNlcnZpY2UuY3JlYXRlKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkhFQURFUl8yKTtcbiAgICAgICAgICAgICAgICBuZXdDb250ZW50QmxvY2suaW5uZXJUZXh0ID0gY29udGVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5IRUFERVJfMzoge1xuICAgICAgICAgICAgICAgIG5ld0NvbnRlbnRCbG9jayA9IHRoaXMuZWxlbWVudEZhY3RvcnlTZXJ2aWNlLmNyZWF0ZShFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5IRUFERVJfMyk7XG4gICAgICAgICAgICAgICAgbmV3Q29udGVudEJsb2NrLmlubmVyVGV4dCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuSEVBREVSXzQ6IHtcbiAgICAgICAgICAgICAgICBuZXdDb250ZW50QmxvY2sgPSB0aGlzLmVsZW1lbnRGYWN0b3J5U2VydmljZS5jcmVhdGUoRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuSEVBREVSXzQpO1xuICAgICAgICAgICAgICAgIG5ld0NvbnRlbnRCbG9jay5pbm5lclRleHQgPSBjb250ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkhFQURFUl81OiB7XG4gICAgICAgICAgICAgICAgbmV3Q29udGVudEJsb2NrID0gdGhpcy5lbGVtZW50RmFjdG9yeVNlcnZpY2UuY3JlYXRlKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkhFQURFUl81KTtcbiAgICAgICAgICAgICAgICBuZXdDb250ZW50QmxvY2suaW5uZXJUZXh0ID0gY29udGVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5IRUFERVJfNjoge1xuICAgICAgICAgICAgICAgIG5ld0NvbnRlbnRCbG9jayA9IHRoaXMuZWxlbWVudEZhY3RvcnlTZXJ2aWNlLmNyZWF0ZShFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5IRUFERVJfNik7XG4gICAgICAgICAgICAgICAgbmV3Q29udGVudEJsb2NrLmlubmVyVGV4dCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuQ09ERToge1xuICAgICAgICAgICAgICAgIG5ld0NvbnRlbnRCbG9jayA9IHRoaXMuZWxlbWVudEZhY3RvcnlTZXJ2aWNlLmNyZWF0ZShFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5DT0RFKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5RVU9URToge1xuICAgICAgICAgICAgICAgIG5ld0NvbnRlbnRCbG9jayA9IHRoaXMuZWxlbWVudEZhY3RvcnlTZXJ2aWNlLmNyZWF0ZShFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5RVU9URSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuQlVMTEVURURfTElTVDoge1xuICAgICAgICAgICAgICAgIG5ld0NvbnRlbnRCbG9jayA9IHRoaXMuZWxlbWVudEZhY3RvcnlTZXJ2aWNlLmNyZWF0ZShFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5CVUxMRVRFRF9MSVNULCBjb250ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5OVU1CRVJFRF9MSVNUOiB7XG4gICAgICAgICAgICAgICAgbmV3Q29udGVudEJsb2NrID0gdGhpcy5lbGVtZW50RmFjdG9yeVNlcnZpY2UuY3JlYXRlKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLk5VTUJFUkVEX0xJU1QsIGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkNIRUNLX0xJU1Q6IHtcbiAgICAgICAgICAgICAgICBuZXdDb250ZW50QmxvY2sgPSB0aGlzLmVsZW1lbnRGYWN0b3J5U2VydmljZS5jcmVhdGUoRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuQ0hFQ0tfTElTVCwgY29udGVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuU0VQQVJBVE9SOiB7XG4gICAgICAgICAgICAgICAgbmV3Q29udGVudEJsb2NrID0gdGhpcy5lbGVtZW50RmFjdG9yeVNlcnZpY2UuY3JlYXRlKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLlNFUEFSQVRPUik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuVEFCTEU6IHtcbiAgICAgICAgICAgICAgICBuZXdDb250ZW50QmxvY2sgPSB0aGlzLmVsZW1lbnRGYWN0b3J5U2VydmljZS5jcmVhdGUoRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuVEFCTEUsIFwiLCxcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuSU1BR0U6IHtcbiAgICAgICAgICAgICAgICBuZXdDb250ZW50QmxvY2sgPSB0aGlzLmVsZW1lbnRGYWN0b3J5U2VydmljZS5jcmVhdGUoRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuSU1BR0UsIGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGZvY3VzU3RhY2tUb0FkZCA9IG5ld0NvbnRlbnRCbG9jaztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5WSURFTzoge1xuICAgICAgICAgICAgICAgIG5ld0NvbnRlbnRCbG9jayA9IHRoaXMuZWxlbWVudEZhY3RvcnlTZXJ2aWNlLmNyZWF0ZShFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5WSURFTywgY29udGVudCk7XG4gICAgICAgICAgICAgICAgZm9jdXNTdGFja1RvQWRkID0gbmV3Q29udGVudEJsb2NrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLlNQT1RJRlk6IHtcbiAgICAgICAgICAgICAgICBuZXdDb250ZW50QmxvY2sgPSB0aGlzLmVsZW1lbnRGYWN0b3J5U2VydmljZS5jcmVhdGUoRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuU1BPVElGWSwgY29udGVudCk7XG4gICAgICAgICAgICAgICAgZm9jdXNTdGFja1RvQWRkID0gbmV3Q29udGVudEJsb2NrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkdJVEhVQl9HSVNUOiB7XG4gICAgICAgICAgICAgICAgbmV3Q29udGVudEJsb2NrID0gdGhpcy5lbGVtZW50RmFjdG9yeVNlcnZpY2UuY3JlYXRlKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkdJVEhVQl9HSVNULCBjb250ZW50KTtcbiAgICAgICAgICAgICAgICBmb2N1c1N0YWNrVG9BZGQgPSBuZXdDb250ZW50QmxvY2s7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuR0lUTEFCX1NOSVBQRVQ6IHtcbiAgICAgICAgICAgICAgICBuZXdDb250ZW50QmxvY2sgPSB0aGlzLmVsZW1lbnRGYWN0b3J5U2VydmljZS5jcmVhdGUoRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuR0lUTEFCX1NOSVBQRVQsIGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGZvY3VzU3RhY2tUb0FkZCA9IG5ld0NvbnRlbnRCbG9jaztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5DT0RFUEVOOiB7XG4gICAgICAgICAgICAgICAgbmV3Q29udGVudEJsb2NrID0gdGhpcy5lbGVtZW50RmFjdG9yeVNlcnZpY2UuY3JlYXRlKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkNPREVQRU4sIGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGZvY3VzU3RhY2tUb0FkZCA9IG5ld0NvbnRlbnRCbG9jaztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5DQUxMT1VUOiB7XG4gICAgICAgICAgICAgICAgbmV3Q29udGVudEJsb2NrID0gdGhpcy5lbGVtZW50RmFjdG9yeVNlcnZpY2UuY3JlYXRlKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkNBTExPVVQpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbG91dCA9IG5ld0NvbnRlbnRCbG9jay5xdWVyeVNlbGVjdG9yKFwiLmNhbGxvdXQtdGV4dFwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlZGl0YWJsZUNvbnRlbnQgPSBET01VdGlscy5xdWVyeVNlbGVjdG9ySW5jbHVkaW5nU2VsZihjb250ZW50RWxlbWVudCwgJ1tjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdJyk7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxvdXQgJiYgZWRpdGFibGVDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxvdXQuaW5uZXJIVE1MID0gZWRpdGFibGVDb250ZW50LmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5zdXBwb3J0ZWQgdHlwZScpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbmV3Q29udGVudEJsb2NrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBibG9ja0VsZW1lbnQhLnJlcGxhY2VDaGlsZChuZXdDb250ZW50QmxvY2ssIGNvbnRlbnRFbGVtZW50KTtcblxuICAgICAgICBjb25zdCBmb2N1c2FibGUgPSAobmV3Q29udGVudEJsb2NrLmNsb3Nlc3QoJy5mb2N1c2FibGUnKSB8fCBibG9ja0VsZW1lbnQhLnF1ZXJ5U2VsZWN0b3IoJy5mb2N1c2FibGUnKSkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGlmIChmb2N1c2FibGUpIHtcbiAgICAgICAgICAgIGZvY3VzYWJsZS5mb2N1cygpO1xuICAgICAgICAgICAgRE9NVXRpbHMucGxhY2VDdXJzb3JBdEVuZE9mRWRpdGFibGVFbGVtZW50KGZvY3VzYWJsZSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGlmIChmb2N1c1N0YWNrVG9BZGQpIHtcbiAgICAgICAgICAgIHRoaXMuZm9jdXNTdGFjay5wdXNoKChmb2N1c1N0YWNrVG9BZGQgYXMgSFRNTEVsZW1lbnQpISk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZSA9PSBcImltYWdlXCIgfHwgdHlwZSA9PSBcInZpZGVvXCIgfHwgdHlwZSA9PSBcInNwb3RpZnlcIiB8fCB0eXBlID09IFwiZ2l0aHViLWdpc3RcIiB8fCB0eXBlID09IFwiZ2l0bGFiLXNuaXBwZXRcIiB8fCB0eXBlID09IFwiY29kZXBlblwiKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gZm9jdXNTdGFja1RvQWRkPy5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnQtcGxhY2Vob2xkZXJcIik7XG4gICAgICAgICAgICBpZiAocGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvY3VzU3RhY2sucHVzaChwbGFjZWhvbGRlciBhcyBIVE1MRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBFdmVudEVtaXR0ZXIuZW1pdFNob3dFbGVtZW50RXZlbnQoXCJtZWRpYUlucHV0dGVyXCIpO1xuICAgICAgICB9XG5cblxuICAgICAgICBjb25zdCBibG9ja1Rvb2xiYXIgPSBibG9ja0VsZW1lbnQ/LnF1ZXJ5U2VsZWN0b3IoXCIuYmxvY2stdG9vbGJhci13cmFwcGVyXCIpO1xuICAgICAgICBpZiAoYmxvY2tUb29sYmFyKSB7XG4gICAgICAgICAgICBibG9ja1Rvb2xiYXIucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZSA9PSBFbGVtZW50RmFjdG9yeVNlcnZpY2UuRUxFTUVOVF9UWVBFUy5TRVBBUkFUT1IpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50PElDb21tYW5kRXZlbnREZXRhaWw+KEN1c3RvbUV2ZW50cy5lbWl0dGVkQ29tbWFuZCwge1xuICAgICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBDb21tYW5kcy5jcmVhdGVEZWZhdWx0QmxvY2tcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XG4gICAgICAgIH1cblxuXG5cbiAgICAgICAgLy8ncmVxdWVzdEhpZGVGbG9hdGluZ1Rvb2xiYXInXG4gICAgICAgIC8vIGNvbnN0IHNlbGVjdGlvbkV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KEN1c3RvbUV2ZW50cy5ibG9ja1R5cGVDaGFuZ2VkLCB7XG4gICAgICAgIC8vICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAvLyAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICAvLyB9KTtcblxuICAgICAgICAvLyBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KHNlbGVjdGlvbkV2ZW50KTtcbiAgICB9XG5cbiAgICAvL05PVyBUSEUgZm9ybWF0QmxvY2sgQU5EIHRyYW5zZm9ybUJsb2NrIElTIFRIRSBTQU1FLiBmb3JtYXRCbG9jayBJUyBERVBSRUNFVEVEIFVTRSB0cmFuc2Zvcm1CbG9jayBJTlNURURcbiAgICAvLyBmb3JtYXRCbG9jayhlbGVtZW50OiBIVE1MRWxlbWVudCwgY29udGVudFR5cGU6IHN0cmluZyk6IHZvaWQge1xuXG4gICAgLy8gICAgIGxldCBjb250ZW50RWxlbWVudCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXR0YWJsZScpIGFzIEhUTUxFbGVtZW50O1xuICAgIC8vICAgICBsZXQgY29udGVudCA9IGNvbnRlbnRFbGVtZW50LmlubmVyVGV4dDtcblxuICAgIC8vICAgICBsZXQgbmV3Q29udGVudEJsb2NrID0gdGhpcy5lbGVtZW50RmFjdG9yeVNlcnZpY2UuY3JlYXRlKGNvbnRlbnRUeXBlLCBjb250ZW50KTtcblxuICAgIC8vICAgICBlbGVtZW50LnJlcGxhY2VDaGlsZChuZXdDb250ZW50QmxvY2ssIGNvbnRlbnRFbGVtZW50KTtcblxuICAgIC8vICAgICBjb25zdCBmb2N1c2FibGUgPSBuZXdDb250ZW50QmxvY2suY2xvc2VzdCgnLmZvY3VzYWJsZScpIHx8IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmZvY3VzYWJsZScpO1xuXG4gICAgLy8gICAgIC8vIGZvY3VzT25UaGVFbmRPZlRoZVRleHQoZm9jdXNhYmxlKTtcbiAgICAvLyB9XG5cblxuXG4gICAgY3JlYXRlTmV3RWxlbWVudChldmVudDogRXZlbnQpIHtcblxuICAgICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7XG5cbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBFbGVtZW50O1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnRFbGVtZW50ID0gZWxlbWVudC5jbG9zZXN0KCcuam9oYW5uZXMtY29udGVudC1lbGVtZW50JykgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKGNvbnRlbnRFbGVtZW50ICYmIGNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnbGlzdCcpKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUxpc3RJdGVtKGNvbnRlbnRFbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRGVmYXVsdEJsb2NrKGNvbnRlbnRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUxpc3RJdGVtKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cbiAgICAgICAgdGhpcy5tZW1lbnRvLnNhdmVTdGF0ZSgpO1xuXG4gICAgICAgIGxldCBuZXdDb250ZW50RWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgbGV0IGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICBsZXQgY29udGVudEVsZW1lbnQgPSBlbGVtZW50LmNsb3Nlc3QoJy5qb2hhbm5lcy1jb250ZW50LWVsZW1lbnQnKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICBpZiAoY29udGVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2JveC1saXN0JykpIHtcbiAgICAgICAgICAgIG5ld0NvbnRlbnRFbGVtZW50ID0gdGhpcy5lbGVtZW50RmFjdG9yeVNlcnZpY2UuY3JlYXRlKFwiY2hlY2tib3hJdGVtXCIsIFwiXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnbGlzdCcpKSB7XG4gICAgICAgICAgICBuZXdDb250ZW50RWxlbWVudCA9IHRoaXMuZWxlbWVudEZhY3RvcnlTZXJ2aWNlLmNyZWF0ZShcImxpc3RJdGVtXCIsIFwiXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbmV3Q29udGVudEVsZW1lbnQgPSBjcmVhdGVOZXdEcmFnZ2FibGVQYXJhZ3JhcGhFbGVtZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXQgcGFyZW50QmxvY2sgPSBudWxsO1xuXG4gICAgICAgIC8vIGlmIChjb250ZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3QnKSkge1xuXG4gICAgICAgIC8vICAgICBwYXJlbnRCbG9jayA9IGNvbnRlbnRFbGVtZW50O1xuXG4gICAgICAgIC8vICAgICBjb25zdCB0ZXh0Q29udGVudCA9IGFjdGl2ZUVsZW1lbnQudGV4dENvbnRlbnQudHJpbSgpO1xuXG4gICAgICAgIC8vICAgICBpZiAodGV4dENvbnRlbnQgPT09ICcnKSB7XG5cbiAgICAgICAgLy8gICAgICAgICBwYXJlbnRCbG9jayA9IGVsZW1lbnQuY2xvc2VzdCgnLmJsb2NrJyk7XG5cbiAgICAgICAgLy8gICAgICAgICBlbGVtZW50LmNsb3Nlc3QoJy5kZWxldGFibGUnKS5yZW1vdmUoKTtcblxuICAgICAgICAvLyAgICAgICAgIG5ld0NvbnRlbnRFbGVtZW50ID0gY3JlYXRlTmV3RHJhZ2dhYmxlUGFyYWdyYXBoRWxlbWVudCgpO1xuICAgICAgICAvLyAgICAgICAgIHBhcmVudEJsb2NrLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBuZXdDb250ZW50RWxlbWVudCk7XG5cbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY2xvc2VzdCgnLmxpc3QtaXRlbScpO1xuICAgICAgICAvLyAgICAgICAgIGFjdGl2ZUVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIG5ld0NvbnRlbnRFbGVtZW50KTtcbiAgICAgICAgLy8gICAgIH1cblxuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgcGFyZW50QmxvY2sgPSBlbGVtZW50LmNsb3Nlc3QoJy5ibG9jaycpO1xuXG4gICAgICAgIC8vICAgICBpZiAocGFyZW50QmxvY2spIHtcbiAgICAgICAgLy8gICAgICAgICBpZiAocGFyZW50QmxvY2submV4dFNpYmxpbmcpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgcGFyZW50QmxvY2sucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Q29udGVudEVsZW1lbnQsIHBhcmVudEJsb2NrLm5leHRTaWJsaW5nKTtcbiAgICAgICAgLy8gICAgICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgICAgICAgICBwYXJlbnRCbG9jay5wYXJlbnROb2RlLmFwcGVuZENoaWxkKG5ld0NvbnRlbnRFbGVtZW50KTtcbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBmb2N1c09uVGhlRW5kT2ZUaGVUZXh0KG5ld0NvbnRlbnRFbGVtZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIENyZWF0ZXMgYSBuZXcgY29udGVudCBlbGVtZW50IChwYXJhZ3JhcGggb3IgbGlzdCBpdGVtKSBiYXNlZCBvbiB0aGUgY29udGVudCB0eXBlIG9mIHRoZSBhY3RpdmUgZWxlbWVudCBhbmQgc3BsaXRzIHRoZSBjb250ZW50IGFjY29yZGluZ2x5LlxuICAgICogVGhpcyBmdW5jdGlvbiBpcyB0cmlnZ2VyZWQgYnkgcHJlc3NpbmcgJ0VudGVyJyBpbiBhbiBlZGl0YWJsZSBjb250ZW50IGFyZWEsIGZhY2lsaXRhdGluZyBkeW5hbWljIGNvbnRlbnQgY3JlYXRpb24gYW5kIG9yZ2FuaXphdGlvblxuICAgICogd2l0aGluIHRoZSBkb2N1bWVudC4gSXQgc3VwcG9ydHMgZGlmZmVyZW50IGNvbnRlbnQgdHlwZXMgaW5jbHVkaW5nIGNoZWNrbGlzdHMsIGJ1bGxldGVkIGxpc3RzLCBudW1iZXJlZCBsaXN0cywgYW5kIGdlbmVyYWwgdGV4dCBibG9ja3MuXG4gICAgKlxuICAgICogQHJldHVybnMge2Jvb2xlYW59IEFsd2F5cyByZXR1cm5zIHRydWUgdG8gaW5kaWNhdGUgc3VjY2Vzc2Z1bCBleGVjdXRpb24sIHJlZ2FyZGxlc3Mgb2YgdGhlIHBhdGggdGFrZW4uXG4gICAgKlxuICAgICogQGV4YW1wbGVcbiAgICAqIC8vIFR5cGljYWxseSBjYWxsZWQgd2l0aGluIGFuIGV2ZW50IGhhbmRsZXIgZm9yIGtleXByZXNzIGV2ZW50c1xuICAgICogZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCAoZXZlbnQpID0+IHtcbiAgICAqICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgKiAgICAgICAgIGNyZWF0ZU5ld0VsZW1lbnRBbmRTcGxpdENvbnRlbnQoKTtcbiAgICAqICAgICB9XG4gICAgKiB9KTtcbiAgICAqXG4gICAgKiBAZGVzY3JpcHRpb25cbiAgICAqIFRoZSBmdW5jdGlvbiBvcGVyYXRlcyB1bmRlciBzZXZlcmFsIGNvbmRpdGlvbnMgYmFzZWQgb24gdGhlIGNvbnRlbnQgdHlwZTpcbiAgICAqIC0gRm9yIGxpc3QgaXRlbXMgKGNoZWNrbGlzdCwgYnVsbGV0ZWQsIGFuZCBudW1iZXJlZCk6XG4gICAgKiAgIDEuIEZpbmRzIHRoZSBjbG9zZXN0IGxpc3QgaXRlbSBhbmNlc3RvciBvZiB0aGUgYWN0aXZlIGVsZW1lbnQuXG4gICAgKiAgIDIuIElmIHRoZSBsaXN0IGl0ZW0gY29udGFpbnMgdGV4dCwgaXQgY2xvbmVzIHRoaXMgaXRlbSBhbmQgc3BsaXRzIHRoZSBjb250ZW50IGJldHdlZW4gdGhlIG9yaWdpbmFsIGFuZCB0aGUgY2xvbmUuXG4gICAgKiAgIDMuIElmIHRoZSBsaXN0IGl0ZW0gaXMgZW1wdHkgYW5kIGlzIHRoZSBvbmx5IGl0ZW0sIGl0IHJlbW92ZXMgdGhlIGVudGlyZSBibG9jayBhZnRlciBjcmVhdGluZyBhIG5ldyBwYXJhZ3JhcGguXG4gICAgKiAtIEZvciBvdGhlciBibG9ja3MgKGxpa2UgcGFyYWdyYXBocyk6XG4gICAgKiAgIDEuIENsb25lcyB0aGUgY3VycmVudCBibG9jayBhbmQgcmVhcnJhbmdlcyBjb250ZW50IGJldHdlZW4gdGhlIG9yaWdpbmFsIGFuZCB0aGUgbmV3IGNsb25lLlxuICAgICogICAyLiBTZXRzIHRoZSBmb2N1cyB0byB0aGUgc3RhcnQgb2YgdGhlIG5ldyBlbGVtZW50IHRvIGNvbnRpbnVlIGVkaXRpbmcuXG4gICAgKlxuICAgICogVGhpcyBtZXRob2QgZW5zdXJlcyB0aGF0IHRoZSBkb2N1bWVudCBzdHJ1Y3R1cmUgcmVtYWlucyBjb2hlcmVudCB3aGlsZSBwcm92aWRpbmcgYSBzZWFtbGVzcyB1c2VyIGV4cGVyaWVuY2UgaW4gdGV4dCBlZGl0aW5nIGVudmlyb25tZW50cy5cbiAgICAqL1xuICAgIGNyZWF0ZU5ld0VsZW1lbnRBbmRTcGxpdENvbnRlbnQoKTogYm9vbGVhbiB7XG5cbiAgICAgICAgdGhpcy5tZW1lbnRvLnNhdmVTdGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gRE9NVXRpbHMuZ2V0Q29udGVudFR5cGVGcm9tQWN0aXZlRWxlbWVudCgpO1xuXG4gICAgICAgIGlmIChjb250ZW50VHlwZSA9PSBDb250ZW50VHlwZXMuSW1hZ2UpIHtcblxuICAgICAgICAgICAgY29uc3QgYmxvY2sgPSBET01VdGlscy5maW5kQ2xvc2VzdEFuY2VzdG9yT2ZBY3RpdmVFbGVtZW50QnlDbGFzcyhcImJsb2NrXCIpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVEZWZhdWx0QmxvY2soYmxvY2spO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlID09IENvbnRlbnRUeXBlcy5UYWJsZSkge1xuICAgICAgICAgICAgLy8gVE9ETyBKdW1wIHRvIHRoZSBuZXh0IGxpbmUgaWYgZXhpc3RzXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBjb250ZW50VHlwZSA9PSBDb250ZW50VHlwZXMuQ2hlY2tMaXN0IHx8XG4gICAgICAgICAgICBjb250ZW50VHlwZSA9PSBDb250ZW50VHlwZXMuQnVsbGV0ZWRMaXN0IHx8XG4gICAgICAgICAgICBjb250ZW50VHlwZSA9PSBDb250ZW50VHlwZXMuTnVtYmVyZWRMaXN0KSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJdGVtID0gRE9NVXRpbHMuZmluZENsb3Nlc3RBbmNlc3Rvck9mQWN0aXZlRWxlbWVudEJ5Q2xhc3MoXCJsaXN0LWl0ZW1cIik7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50SXRlbSAmJiBET01VdGlscy5oYXNUZXh0Q29udGVudChjdXJyZW50SXRlbSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbG9uZSA9IERPTVV0aWxzLmNsb25lQW5kSW5zZXJ0QWZ0ZXIoY3VycmVudEl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmIChjbG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50Q3VycmVudCA9IGN1cnJlbnRJdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9jdXNhYmxlXCIpIGFzIE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRDbG9uZSA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoXCIuZm9jdXNhYmxlXCIpIGFzIE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIERPTVV0aWxzLnJlYXJyYW5nZUNvbnRlbnRBZnRlclNwbGl0KGNvbnRlbnRDdXJyZW50LCBjb250ZW50Q2xvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEl0ZW0pIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudEJsb2NrID0gY3VycmVudEl0ZW0uY2xvc2VzdChcIi5ibG9ja1wiKTtcblxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRCbG9jaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudGVyID0gcGFyZW50QmxvY2sucXVlcnlTZWxlY3RvckFsbChcIi5saXN0LWl0ZW1cIikubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQYXJhZ3JhcGggPSBFbGVtZW50RmFjdG9yeVNlcnZpY2UuYmxvY2tQYXJhZ3JhcGgoKTtcblxuICAgICAgICAgICAgICAgICAgICBET01VdGlscy5pbnNlcnRBZnRlcihuZXdQYXJhZ3JhcGgsIHBhcmVudEJsb2NrKTtcblxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50SXRlbS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ZXIgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50QmxvY2sucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb2N1c2FibGUgPSAobmV3UGFyYWdyYXBoIGFzIEhUTUxFbGVtZW50KS5xdWVyeVNlbGVjdG9yKFwicFwiKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgRE9NVXRpbHMucGxhY2VDdXJzb3JBdFN0YXJ0T2ZFZGl0YWJsZUVsZW1lbnQoZm9jdXNhYmxlIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRCbG9jayA9IERPTVV0aWxzLmZpbmRDbG9zZXN0QW5jZXN0b3JPZkFjdGl2ZUVsZW1lbnRCeUNsYXNzKFwiYmxvY2tcIik7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50QmxvY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbG9uZWRCbG9jayA9IERPTVV0aWxzLmNsb25lQW5kSW5zZXJ0QWZ0ZXIoY3VycmVudEJsb2NrKTtcblxuICAgICAgICAgICAgICAgIGlmIChjbG9uZWRCbG9jaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50Q3VycmVudCA9IGN1cnJlbnRCbG9jay5xdWVyeVNlbGVjdG9yKFwiLmZvY3VzYWJsZVwiKSBhcyBOb2RlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50Q2xvbmUgPSBjbG9uZWRCbG9jay5xdWVyeVNlbGVjdG9yKFwiLmZvY3VzYWJsZVwiKSBhcyBOb2RlO1xuICAgICAgICAgICAgICAgICAgICBET01VdGlscy5yZWFycmFuZ2VDb250ZW50QWZ0ZXJTcGxpdChjb250ZW50Q3VycmVudCwgY29udGVudENsb25lKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtQmxvY2soQ29udGVudFR5cGVzLlBhcmFncmFwaCwgY2xvbmVkQmxvY2spO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgZm9jdXNhYmxlID0gKGNsb25lZEJsb2NrIGFzIEhUTUxFbGVtZW50KS5xdWVyeVNlbGVjdG9yKFwiLmZvY3VzYWJsZVwiKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICBET01VdGlscy5wbGFjZUN1cnNvckF0U3RhcnRPZkVkaXRhYmxlRWxlbWVudChmb2N1c2FibGUgYXMgSFRNTEVsZW1lbnQpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cblxuICAgIGNyZWF0ZUFOZXdQYXJhZ3JhcGhGcm9tVGl0bGUoKTogdm9pZCB7XG5cbiAgICAgICAgdGhpcy5tZW1lbnRvLnNhdmVTdGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNqb2hhbm5lc0VkaXRvciAudGl0bGUgaDFcIikgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgY29uc3QgY2xvbmVkVGl0bGUgPSBET01VdGlscy5jbG9uZUFuZEluc2VydEFmdGVyKHRpdGxlKTtcbiAgICAgICAgaWYgKGNsb25lZFRpdGxlKSB7XG4gICAgICAgICAgICBET01VdGlscy5yZWFycmFuZ2VDb250ZW50QWZ0ZXJTcGxpdCh0aXRsZSBhcyBOb2RlLCBjbG9uZWRUaXRsZSBhcyBOb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5ld0Jsb2NrID0gdGhpcy5lbGVtZW50RmFjdG9yeVNlcnZpY2UuY3JlYXRlKEVsZW1lbnRGYWN0b3J5U2VydmljZS5FTEVNRU5UX1RZUEVTLkJMT0NLX1BBUkFHUkFQSCwgXCJcIik7XG4gICAgICAgIGNvbnN0IHAgPSBuZXdCbG9jay5xdWVyeVNlbGVjdG9yKGAuJHtDb21tb25DbGFzc2VzLkNvbnRlbnRFbGVtZW50fWApO1xuICAgICAgICBpZiAocCkge1xuICAgICAgICAgICAgcC5pbm5lckhUTUwgPSBjbG9uZWRUaXRsZT8uaW5uZXJIVE1MIHx8IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNqb2hhbm5lc0VkaXRvciAuY29udGVudFwiKTtcblxuICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgICAgY29udGVudC5wcmVwZW5kKG5ld0Jsb2NrKTtcbiAgICAgICAgICAgIGNvbnN0IGZvY3VzYWJsZSA9IChuZXdCbG9jayBhcyBIVE1MRWxlbWVudCkucXVlcnlTZWxlY3RvcihcIi5mb2N1c2FibGVcIikgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgICAgIERPTVV0aWxzLnBsYWNlQ3Vyc29yQXRTdGFydE9mRWRpdGFibGVFbGVtZW50KGZvY3VzYWJsZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9uZWRUaXRsZT8ucmVtb3ZlKCk7XG4gICAgfVxuXG5cblxuXG5cbiAgICAvLyBzcGxpdENvbnRlbnRBdEN1cnNvcigpOiB2b2lkIHtcbiAgICAvLyAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIC8vICAgICBpZiAoIXNlbGVjdGlvbiB8fCBzZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgLy8gICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG4gICAgLy8gICAgIGNvbnN0IGNvbnRhaW5lciA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyO1xuXG4gICAgLy8gICAgIC8vIENyaWFuZG8gcmFuZ2UgcGFyYSBvIGNvbnRlw7pkbyBhbnRlcyBkbyBjdXJzb3JcbiAgICAvLyAgICAgY29uc3QgcmFuZ2VCZWZvcmUgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIC8vICAgICByYW5nZUJlZm9yZS5zZWxlY3ROb2RlQ29udGVudHMoY29udGFpbmVyKTtcbiAgICAvLyAgICAgcmFuZ2VCZWZvcmUuc2V0RW5kKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCByYW5nZS5zdGFydE9mZnNldCk7XG5cbiAgICAvLyAgICAgLy8gQ3JpYW5kbyByYW5nZSBwYXJhIG8gY29udGXDumRvIGRlcG9pcyBkbyBjdXJzb3JcbiAgICAvLyAgICAgY29uc3QgcmFuZ2VBZnRlciA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgLy8gICAgIHJhbmdlQWZ0ZXIuc2VsZWN0Tm9kZUNvbnRlbnRzKGNvbnRhaW5lcik7XG4gICAgLy8gICAgIHJhbmdlQWZ0ZXIuc2V0U3RhcnQocmFuZ2UuZW5kQ29udGFpbmVyLCByYW5nZS5lbmRPZmZzZXQpO1xuXG4gICAgLy8gICAgIC8vIEV4ZW1wbG86IElzb2xhbmRvIG8gdGV4dG8gZGUgY2FkYSBwYXJ0ZVxuICAgIC8vICAgICBjb25zdCB0ZXh0QmVmb3JlID0gcmFuZ2VCZWZvcmUudG9TdHJpbmcoKTtcbiAgICAvLyAgICAgY29uc3QgdGV4dEFmdGVyID0gcmFuZ2VBZnRlci50b1N0cmluZygpO1xuXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKCdUZXh0byBhbnRlcyBkbyBjdXJzb3I6JywgdGV4dEJlZm9yZSk7XG4gICAgLy8gICAgIGNvbnNvbGUubG9nKCdUZXh0byBkZXBvaXMgZG8gY3Vyc29yOicsIHRleHRBZnRlcik7XG5cbiAgICAvLyAgICAgLy8gQXF1aSB2b2PDqiBwb2RlIG1hbmlwdWxhciBvIERPTSBjb21vIG5lY2Vzc8OhcmlvLCBwb3IgZXhlbXBsbzpcbiAgICAvLyAgICAgLy8gaW5zZXJpciBub3ZvcyBlbGVtZW50b3MsIG1vZGlmaWNhciBvIHRleHRvLCBldGMuXG4gICAgLy8gfVxuXG5cbiAgICBjcmVhdGVEZWZhdWx0QmxvY2soZXZlbnRQYXJhZ3JhcGg6IEVsZW1lbnQgfCBudWxsKTogSFRNTEVsZW1lbnQge1xuXG4gICAgICAgIHRoaXMubWVtZW50by5zYXZlU3RhdGUoKTtcbiAgICAgICAgY29uc3QgbmV3QmxvY2sgPSB0aGlzLmVsZW1lbnRGYWN0b3J5U2VydmljZS5jcmVhdGUoRWxlbWVudEZhY3RvcnlTZXJ2aWNlLkVMRU1FTlRfVFlQRVMuQkxPQ0tfUEFSQUdSQVBILCBcIlwiKTtcblxuICAgICAgICBpZiAoZXZlbnRQYXJhZ3JhcGggJiYgZXZlbnRQYXJhZ3JhcGguY2xvc2VzdCgnLmJsb2NrJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpYmxpbmcgPSBldmVudFBhcmFncmFwaC5jbG9zZXN0KCcuYmxvY2snKSE7XG4gICAgICAgICAgICBzaWJsaW5nLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBuZXdCbG9jayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2pvaGFubmVzRWRpdG9yIC5jb250ZW50XCIpIS5hcHBlbmRDaGlsZChuZXdCbG9jayk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmb2N1c2FibGUgPSBuZXdCbG9jay5xdWVyeVNlbGVjdG9yKCcuam9oYW5uZXMtY29udGVudC1lbGVtZW50JykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGZvY3VzYWJsZS5mb2N1cygpO1xuICAgICAgICB0aGlzLmZvY3VzU3RhY2sucHVzaChuZXdCbG9jayk7XG5cbiAgICAgICAgcmV0dXJuIG5ld0Jsb2NrO1xuXG4gICAgICAgIC8vIGZvY3VzT25UaGVFbmRPZlRoZVRleHQoZm9jdXNhYmxlKTtcbiAgICB9XG5cbiAgICBleGVjRm9jdXNPbk5leHQoKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBjdXJyZW50QWN0aXZlRWxlbWVudCA9IHRoaXMuZ2V0Q3VycmVudFNlbGVjdGVkQmxvY2soKSB8fCBET01VdGlscy5nZXRDdXJyZW50QWN0aXZlQmxvY2soKTtcblxuICAgICAgICBpZiAoIWN1cnJlbnRBY3RpdmVFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZvY3VzT25OZXh0KGN1cnJlbnRBY3RpdmVFbGVtZW50KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIH1cblxuXG4gICAgZXhlY0RlbGV0ZUZvY3VzT25QcmV2aW91cygpOiBib29sZWFuIHtcblxuICAgICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7XG5cbiAgICAgICAgY29uc3QgY3VycmVudEFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ITtcblxuICAgICAgICB0aGlzLmZvY3VzT25QcmV2aW91cyhjdXJyZW50QWN0aXZlRWxlbWVudCk7XG4gICAgICAgIHRoaXMuZGVsZXRlVGhlQ3VycmVudEVsZW1lbnRBbmRUaGVEcmFnZ2FibGVCbG9ja0lmRW1wdHkoY3VycmVudEFjdGl2ZUVsZW1lbnQpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGV4ZWNEZWxldGVBbmRGb2N1c09uTmV4dCgpOiBib29sZWFuIHtcblxuICAgICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7XG5cbiAgICAgICAgbGV0IGN1cnJlbnRBY3RpdmVFbGVtZW50ID0gdGhpcy5nZXRDdXJyZW50U2VsZWN0ZWRCbG9jaygpIHx8IERPTVV0aWxzLmdldEN1cnJlbnRBY3RpdmVCbG9jaygpO1xuXG4gICAgICAgIGlmICghY3VycmVudEFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZm9jdXNPbk5leHQoY3VycmVudEFjdGl2ZUVsZW1lbnQpO1xuICAgICAgICB0aGlzLmRlbGV0ZVRoZUN1cnJlbnRFbGVtZW50QW5kVGhlRHJhZ2dhYmxlQmxvY2tJZkVtcHR5KGN1cnJlbnRBY3RpdmVFbGVtZW50KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvY3VzT25QcmV2aW91cyhhY3R1YWxFbGVtZW50OiBFbGVtZW50LCBwb3NpdGlvbjogbnVtYmVyIHwgbnVsbCA9IG51bGwpOiB2b2lkIHtcblxuICAgICAgICBsZXQgdGFnID0gYWN0dWFsRWxlbWVudC50YWdOYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGxldCBmb2N1c2VkRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRhZyA9PT0gJ0xJJykge1xuICAgICAgICAgICAgbGV0IHByZXZpb3VzRWxlbWVudCA9IGFjdHVhbEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZztcblxuICAgICAgICAgICAgaWYgKCFwcmV2aW91c0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcmV2aW91c0VsZW1lbnQgJiYgcHJldmlvdXNFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZm9jdXNhYmxlJykpIHtcbiAgICAgICAgICAgICAgICBmb2N1c2VkRWxlbWVudCA9IHByZXZpb3VzRWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUN1cnNvclhFbmRQb3NpdGlvbihmb2N1c2VkRWxlbWVudCwgcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIERPTVV0aWxzLnBsYWNlQ3Vyc29yQXRFbmRPZkVkaXRhYmxlRWxlbWVudChmb2N1c2VkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJldHVybiBmb2N1c2VkRWxlbWVudDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKGFjdHVhbEVsZW1lbnQucGFyZW50Tm9kZSBhcyBIVE1MRWxlbWVudCkudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnTEknIC8qIGZvY3VzYWJsZSBTUEFOIGluc2lkZSBMSSovKSB7XG5cbiAgICAgICAgICAgIGxldCBwcmV2aW91c0VsZW1lbnQgPSBhY3R1YWxFbGVtZW50LmNsb3Nlc3QoJ2xpJyk/LnByZXZpb3VzRWxlbWVudFNpYmxpbmc/LnF1ZXJ5U2VsZWN0b3IoJy5mb2N1c2FibGUnKTtcblxuICAgICAgICAgICAgaWYgKHByZXZpb3VzRWxlbWVudCAmJiBwcmV2aW91c0VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmb2N1c2FibGUnKSkge1xuICAgICAgICAgICAgICAgIGZvY3VzZWRFbGVtZW50ID0gcHJldmlvdXNFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Q3Vyc29yWEVuZFBvc2l0aW9uKGZvY3VzZWRFbGVtZW50LCBwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgRE9NVXRpbHMucGxhY2VDdXJzb3JBdEVuZE9mRWRpdGFibGVFbGVtZW50KGZvY3VzZWRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIGZvY3VzZWRFbGVtZW50O1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwYXJlbnQgPSBhY3R1YWxFbGVtZW50LmNsb3Nlc3QoJy5ibG9jaycpO1xuXG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNpYmxpbmcgPSBwYXJlbnQucHJldmlvdXNFbGVtZW50U2libGluZztcblxuICAgICAgICB3aGlsZSAoc2libGluZykge1xuICAgICAgICAgICAgbGV0IGZvY3VzYWJsZUNhbmRpZGF0ZXMgPSBzaWJsaW5nLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb2N1c2FibGUnKTtcbiAgICAgICAgICAgIGlmIChmb2N1c2FibGVDYW5kaWRhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb2N1c2VkRWxlbWVudCA9IGZvY3VzYWJsZUNhbmRpZGF0ZXNbZm9jdXNhYmxlQ2FuZGlkYXRlcy5sZW5ndGggLSAxXSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUN1cnNvclhFbmRQb3NpdGlvbihmb2N1c2VkRWxlbWVudCwgcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIERPTVV0aWxzLnBsYWNlQ3Vyc29yQXRFbmRPZkVkaXRhYmxlRWxlbWVudChmb2N1c2VkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJldHVybiBmb2N1c2VkRWxlbWVudDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNpYmxpbmcgPSBzaWJsaW5nLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXR1cm4gZm9jdXNlZEVsZW1lbnQ7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFByZXZpb3VzRm9jdXNhYmxlRWxlbWVudChhY3R1YWxFbGVtZW50OiBFbGVtZW50KTogRWxlbWVudCB8IG51bGwge1xuXG4gICAgICAgIGxldCB0YWcgPSBhY3R1YWxFbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgbGV0IGZvY3VzZWRFbGVtZW50ID0gbnVsbDtcblxuICAgICAgICBpZiAodGFnID09PSAnTEknKSB7XG4gICAgICAgICAgICBsZXQgcHJldmlvdXNFbGVtZW50ID0gYWN0dWFsRWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuXG4gICAgICAgICAgICBpZiAoIXByZXZpb3VzRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50ICYmIHByZXZpb3VzRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZvY3VzYWJsZScpKSB7XG4gICAgICAgICAgICAgICAgZm9jdXNlZEVsZW1lbnQgPSBwcmV2aW91c0VsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvY3VzZWRFbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChhY3R1YWxFbGVtZW50LnBhcmVudE5vZGUgYXMgSFRNTEVsZW1lbnQpLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ0xJJyAvKiBmb2N1c2FibGUgU1BBTiBpbnNpZGUgTEkqLykge1xuXG4gICAgICAgICAgICBsZXQgcHJldmlvdXNFbGVtZW50ID0gYWN0dWFsRWxlbWVudC5jbG9zZXN0KCdsaScpPy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nPy5xdWVyeVNlbGVjdG9yKCcuZm9jdXNhYmxlJyk7XG5cbiAgICAgICAgICAgIGlmIChwcmV2aW91c0VsZW1lbnQgJiYgcHJldmlvdXNFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZm9jdXNhYmxlJykpIHtcbiAgICAgICAgICAgICAgICBmb2N1c2VkRWxlbWVudCA9IHByZXZpb3VzRWxlbWVudCBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmb2N1c2VkRWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwYXJlbnQgPSBhY3R1YWxFbGVtZW50LmNsb3Nlc3QoJy5ibG9jaycpO1xuXG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2libGluZyA9IHBhcmVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuXG4gICAgICAgIHdoaWxlIChzaWJsaW5nKSB7XG4gICAgICAgICAgICBsZXQgZm9jdXNhYmxlQ2FuZGlkYXRlcyA9IHNpYmxpbmcucXVlcnlTZWxlY3RvckFsbCgnLmZvY3VzYWJsZScpO1xuICAgICAgICAgICAgaWYgKGZvY3VzYWJsZUNhbmRpZGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvY3VzZWRFbGVtZW50ID0gZm9jdXNhYmxlQ2FuZGlkYXRlc1tmb2N1c2FibGVDYW5kaWRhdGVzLmxlbmd0aCAtIDFdIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBmb2N1c2VkRWxlbWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2libGluZyA9IHNpYmxpbmcucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb2N1c2VkRWxlbWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvY3VzT25OZXh0KGFjdHVhbEVsZW1lbnQ6IEVsZW1lbnQsIHBvc2l0aW9uOiBudW1iZXIgfCBudWxsID0gbnVsbCkge1xuICAgICAgICBsZXQgdGFnID0gYWN0dWFsRWxlbWVudC50YWdOYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGxldCBmb2N1c2VkRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRhZyA9PT0gJ0xJJykge1xuICAgICAgICAgICAgbGV0IG5leHRFbGVtZW50ID0gYWN0dWFsRWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XG5cbiAgICAgICAgICAgIGlmIChuZXh0RWxlbWVudCAmJiBuZXh0RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZvY3VzYWJsZScpKSB7XG4gICAgICAgICAgICAgICAgZm9jdXNlZEVsZW1lbnQgPSBuZXh0RWxlbWVudCBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Q3Vyc29yWFN0YXJ0UG9zaXRpb24oZm9jdXNlZEVsZW1lbnQsIHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBET01VdGlscy5wbGFjZUN1cnNvckF0U3RhcnRPZkVkaXRhYmxlRWxlbWVudChmb2N1c2VkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmb2N1c2VkRWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoYWN0dWFsRWxlbWVudC5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50KS50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdMSScgLyogZm9jdXNhYmxlIFNQQU4gaW5zaWRlIExJKi8pIHtcbiAgICAgICAgICAgIGxldCBuZXh0RWxlbWVudCA9IGFjdHVhbEVsZW1lbnQuY2xvc2VzdCgnbGknKT8ubmV4dEVsZW1lbnRTaWJsaW5nPy5xdWVyeVNlbGVjdG9yKCcuZm9jdXNhYmxlJyk7XG5cbiAgICAgICAgICAgIGlmIChuZXh0RWxlbWVudCAmJiBuZXh0RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZvY3VzYWJsZScpKSB7XG4gICAgICAgICAgICAgICAgZm9jdXNlZEVsZW1lbnQgPSBuZXh0RWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUN1cnNvclhTdGFydFBvc2l0aW9uKGZvY3VzZWRFbGVtZW50LCBwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgRE9NVXRpbHMucGxhY2VDdXJzb3JBdFN0YXJ0T2ZFZGl0YWJsZUVsZW1lbnQoZm9jdXNlZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZm9jdXNlZEVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcGFyZW50ID0gYWN0dWFsRWxlbWVudC5jbG9zZXN0KCcuYmxvY2snKTtcblxuICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNpYmxpbmcgPSBwYXJlbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuXG4gICAgICAgIHdoaWxlIChzaWJsaW5nKSB7XG4gICAgICAgICAgICBsZXQgZm9jdXNhYmxlQ2FuZGlkYXRlcyA9IHNpYmxpbmcucXVlcnlTZWxlY3RvckFsbCgnLmZvY3VzYWJsZScpO1xuICAgICAgICAgICAgaWYgKGZvY3VzYWJsZUNhbmRpZGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvY3VzZWRFbGVtZW50ID0gZm9jdXNhYmxlQ2FuZGlkYXRlc1swXSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUN1cnNvclhTdGFydFBvc2l0aW9uKGZvY3VzZWRFbGVtZW50LCBwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgRE9NVXRpbHMucGxhY2VDdXJzb3JBdFN0YXJ0T2ZFZGl0YWJsZUVsZW1lbnQoZm9jdXNlZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZm9jdXNlZEVsZW1lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNpYmxpbmcgPSBzaWJsaW5nLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb2N1c2VkRWxlbWVudDtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgZ2V0TmV4dEZvY3VzYWJsZUVsZW1lbnQoYWN0dWFsRWxlbWVudDogRWxlbWVudCk6IEVsZW1lbnQgfCBudWxsIHtcbiAgICAgICAgbGV0IHRhZyA9IGFjdHVhbEVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBsZXQgZm9jdXNlZEVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIGlmICh0YWcgPT09ICdMSScpIHtcbiAgICAgICAgICAgIGxldCBuZXh0RWxlbWVudCA9IGFjdHVhbEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuXG4gICAgICAgICAgICBpZiAobmV4dEVsZW1lbnQgJiYgbmV4dEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmb2N1c2FibGUnKSkge1xuICAgICAgICAgICAgICAgIGZvY3VzZWRFbGVtZW50ID0gbmV4dEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvY3VzZWRFbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChhY3R1YWxFbGVtZW50LnBhcmVudE5vZGUgYXMgSFRNTEVsZW1lbnQpLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ0xJJyAvKiBmb2N1c2FibGUgU1BBTiBpbnNpZGUgTEkqLykge1xuICAgICAgICAgICAgbGV0IG5leHRFbGVtZW50ID0gYWN0dWFsRWxlbWVudC5jbG9zZXN0KCdsaScpPy5uZXh0RWxlbWVudFNpYmxpbmc/LnF1ZXJ5U2VsZWN0b3IoJy5mb2N1c2FibGUnKTtcblxuICAgICAgICAgICAgaWYgKG5leHRFbGVtZW50ICYmIG5leHRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZm9jdXNhYmxlJykpIHtcbiAgICAgICAgICAgICAgICBmb2N1c2VkRWxlbWVudCA9IG5leHRFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBmb2N1c2VkRWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwYXJlbnQgPSBhY3R1YWxFbGVtZW50LmNsb3Nlc3QoJy5ibG9jaycpO1xuXG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzaWJsaW5nID0gcGFyZW50Lm5leHRFbGVtZW50U2libGluZztcblxuICAgICAgICB3aGlsZSAoc2libGluZykge1xuICAgICAgICAgICAgbGV0IGZvY3VzYWJsZUNhbmRpZGF0ZXMgPSBzaWJsaW5nLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb2N1c2FibGUnKTtcbiAgICAgICAgICAgIGlmIChmb2N1c2FibGVDYW5kaWRhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb2N1c2VkRWxlbWVudCA9IGZvY3VzYWJsZUNhbmRpZGF0ZXNbMF0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvY3VzZWRFbGVtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzaWJsaW5nID0gc2libGluZy5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm9jdXNlZEVsZW1lbnQ7XG4gICAgfVxuXG5cblxuICAgIGRlbGV0ZVRoZUN1cnJlbnRFbGVtZW50QW5kVGhlRHJhZ2dhYmxlQmxvY2tJZkVtcHR5KGN1cnJlbnRFbGVtZW50OiBFbGVtZW50KSB7XG5cbiAgICAgICAgY29uc3QgcGFyZW50QmxvY2sgPSBjdXJyZW50RWxlbWVudC5jbG9zZXN0KCcuYmxvY2snKTtcbiAgICAgICAgY29uc3QgYWN0dWFsID0gY3VycmVudEVsZW1lbnQuY2xvc2VzdCgnLmRlbGV0YWJsZScpO1xuXG4gICAgICAgIGFjdHVhbD8ucmVtb3ZlKCk7XG5cbiAgICAgICAgaWYgKHBhcmVudEJsb2NrICYmIHBhcmVudEJsb2NrLnF1ZXJ5U2VsZWN0b3JBbGwoJy5lZGl0YWJsZScpLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBwYXJlbnRCbG9jay5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cblxuICAgIGFwcGx5Q3Vyc29yWEVuZFBvc2l0aW9uKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCB4UG9zaXRpb246IG51bWJlcikge1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSE7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcblxuICAgICAgICBsZXQgY3VycmVudE5vZGUgPSBlbGVtZW50Lmxhc3RDaGlsZDtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG51bGw7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudE5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5hZGp1c3RDdXJzb3JPZmZzZXQoY3VycmVudE5vZGUsIHhQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnROb2RlLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdCUicpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLnByZXZpb3VzU2libGluZztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuY2xvc2VzdE5vZGUpIHtcbiAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KHJlc3VsdC5jbG9zZXN0Tm9kZSwgcmVzdWx0LmNsb3Nlc3RPZmZzZXQpO1xuICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG4gICAgICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGVsZW1lbnQpO1xuICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpO1xuICAgICAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFwcGx5Q3Vyc29yWFN0YXJ0UG9zaXRpb24oZWxlbWVudDogSFRNTEVsZW1lbnQsIHhQb3NpdGlvbjogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSE7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcblxuICAgICAgICBsZXQgY3VycmVudE5vZGUgPSBlbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGxldCByZXN1bHQgPSBudWxsO1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50Tm9kZSkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYWRqdXN0Q3Vyc29yT2Zmc2V0KGN1cnJlbnROb2RlLCB4UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5uZXh0U2libGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LmNsb3Nlc3ROb2RlKSB7XG4gICAgICAgICAgICByYW5nZS5zZXRTdGFydChyZXN1bHQuY2xvc2VzdE5vZGUsIHJlc3VsdC5jbG9zZXN0T2Zmc2V0KTtcbiAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbGVtZW50KTtcbiAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkanVzdEN1cnNvck9mZnNldChub2RlOiBOb2RlLCB4UG9zaXRpb246IG51bWJlcikge1xuICAgICAgICBsZXQgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICBsZXQgY2xvc2VzdE5vZGUgPSBub2RlO1xuICAgICAgICBsZXQgY2xvc2VzdE9mZnNldCA9IDA7XG4gICAgICAgIGxldCBjbG9zZXN0RGlmZiA9IEluZmluaXR5O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS50ZXh0Q29udGVudCEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIGkpO1xuICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIGkgKyAxKTtcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGNvbnN0IGxlZnREaWZmID0gTWF0aC5hYnMocmVjdC5sZWZ0IC0geFBvc2l0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0RGlmZiA9IE1hdGguYWJzKHJlY3QucmlnaHQgLSB4UG9zaXRpb24pO1xuXG4gICAgICAgICAgICBpZiAobGVmdERpZmYgPCBjbG9zZXN0RGlmZiB8fCByaWdodERpZmYgPCBjbG9zZXN0RGlmZikge1xuICAgICAgICAgICAgICAgIGNsb3Nlc3REaWZmID0gTWF0aC5taW4obGVmdERpZmYsIHJpZ2h0RGlmZik7XG4gICAgICAgICAgICAgICAgY2xvc2VzdE9mZnNldCA9IGkgKyAocmlnaHREaWZmIDwgbGVmdERpZmYgPyAxIDogMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeFBvc2l0aW9uID4gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQpIHtcbiAgICAgICAgICAgIGNsb3Nlc3RPZmZzZXQgPSBub2RlLnRleHRDb250ZW50IS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBjbG9zZXN0Tm9kZSwgY2xvc2VzdE9mZnNldCB9O1xuICAgIH1cblxuXG4gICAgLy8gZm9jdXNPblRoZUVuZE9mVGhlVGV4dChjb250ZW50QmxvY2s6IEhUTUxFbGVtZW50KSB7XG5cbiAgICAvLyAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcblxuICAgIC8vICAgICAgICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIC8vICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpITtcblxuICAgIC8vICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGNvbnRlbnRCbG9jayk7XG5cbiAgICAvLyAgICAgICAgIGxldCBsYXN0Q2hpbGQgPSBjb250ZW50QmxvY2s7XG5cbiAgICAvLyAgICAgICAgIHdoaWxlIChsYXN0Q2hpbGQubGFzdENoaWxkICYmIGxhc3RDaGlsZC5sYXN0Q2hpbGQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgLy8gICAgICAgICAgICAgbGFzdENoaWxkID0gbGFzdENoaWxkLmxhc3RDaGlsZCBhcyBIVE1MRWxlbWVudDtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIGlmIChsYXN0Q2hpbGQubGFzdENoaWxkKSB7XG4gICAgLy8gICAgICAgICAgICAgbGFzdENoaWxkID0gbGFzdENoaWxkLmxhc3RDaGlsZCBhcyBIVE1MRWxlbWVudDtcbiAgICAvLyAgICAgICAgIH1cblxuICAgIC8vICAgICAgICAgcmFuZ2Uuc2V0RW5kKGxhc3RDaGlsZCwgbGFzdENoaWxkLnRleHRDb250ZW50IS5sZW5ndGgpO1xuICAgIC8vICAgICAgICAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpO1xuXG4gICAgLy8gICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgLy8gICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuXG4gICAgLy8gICAgICAgICBjb250ZW50QmxvY2suZm9jdXMoKTtcbiAgICAvLyAgICAgfSk7XG4gICAgLy8gfVxuXG4gICAgLy8gZm9jdXNPblRoZVN0YXJ0T2ZUaGVUZXh0KGNvbnRlbnRCbG9jazogSFRNTEVsZW1lbnQpIHtcblxuICAgIC8vICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAvLyAgICAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAvLyAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSE7XG5cbiAgICAvLyAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhjb250ZW50QmxvY2spO1xuICAgIC8vICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG4gICAgLy8gICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgLy8gICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuXG4gICAgLy8gICAgICAgICBjb250ZW50QmxvY2suZm9jdXMoKTtcbiAgICAvLyAgICAgfSwgMTApO1xuICAgIC8vIH1cblxuXG5cblxuICAgIGdldEN1cnJlbnRTZWxlY3RlZEZvY3VzYWJsZSgpOiBFbGVtZW50IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgaWYgKCFzZWxlY3Rpb24gfHwgc2VsZWN0aW9uLnJhbmdlQ291bnQgPT09IDApIHJldHVybiBudWxsO1xuXG4gICAgICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG4gICAgICAgIGxldCBjb250YWluZXI6IE5vZGUgfCBudWxsID0gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG5cbiAgICAgICAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lci5wYXJlbnROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZm9jdXNhYmxlUGFyZW50ID0gKGNvbnRhaW5lciBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdChcIi5mb2N1c2FibGVcIik7XG5cbiAgICAgICAgcmV0dXJuIGZvY3VzYWJsZVBhcmVudDtcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50U2VsZWN0ZWRCbG9jaygpOiBFbGVtZW50IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgaWYgKCFzZWxlY3Rpb24gfHwgc2VsZWN0aW9uLnJhbmdlQ291bnQgPT09IDApIHJldHVybiBudWxsO1xuXG4gICAgICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG4gICAgICAgIGxldCBjb250YWluZXI6IE5vZGUgfCBudWxsID0gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG5cbiAgICAgICAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lci5wYXJlbnROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZm9jdXNhYmxlUGFyZW50ID0gKGNvbnRhaW5lciBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdChcIi5ibG9ja1wiKTtcblxuICAgICAgICByZXR1cm4gZm9jdXNhYmxlUGFyZW50O1xuICAgIH1cblxuXG4gICAganVzdGlmeUxlZnQoYmxvY2s6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cbiAgICAgICAgdGhpcy5tZW1lbnRvLnNhdmVTdGF0ZSgpO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlSnVzdGlmeShibG9jayk7XG4gICAgICAgIGJsb2NrLmNsYXNzTGlzdC5hZGQoXCJqdXN0aWZ5LWxlZnRcIik7XG4gICAgfVxuXG4gICAganVzdGlmeUNlbnRlcihibG9jazogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblxuICAgICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVKdXN0aWZ5KGJsb2NrKTtcbiAgICAgICAgYmxvY2suY2xhc3NMaXN0LmFkZChcImp1c3RpZnktY2VudGVyXCIpO1xuICAgIH1cblxuICAgIGp1c3RpZnlSaWdodChibG9jazogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblxuICAgICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVKdXN0aWZ5KGJsb2NrKTtcbiAgICAgICAgYmxvY2suY2xhc3NMaXN0LmFkZChcImp1c3RpZnktcmlnaHRcIik7XG4gICAgfVxuXG4gICAgY2hhbmdlQ29kZUJsb2NrTGFuZ3VhZ2UoYmxvY2s6IEhUTUxFbGVtZW50LCB2YWx1ZTogc3RyaW5nKTogdm9pZCB7XG5cbiAgICAgICAgdGhpcy5tZW1lbnRvLnNhdmVTdGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IGNvZGUgPSBibG9jay5xdWVyeVNlbGVjdG9yKFwiY29kZVwiKTtcblxuICAgICAgICBpZiAoY29kZSkge1xuICAgICAgICAgICAgRE9NVXRpbHMucmVtb3ZlQ2xhc3Nlc1dpdGhQcmVmaXgoY29kZSBhcyBFbGVtZW50LCBcImxhbmd1YWdlLVwiKTtcbiAgICAgICAgICAgIGNvZGUuY2xhc3NMaXN0LmFkZChgbGFuZ3VhZ2UtJHt2YWx1ZX1gKTtcbiAgICAgICAgICAgIGNvZGUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1oaWdobGlnaHRlZFwiKTtcblxuICAgICAgICAgICAgaGxqcy5oaWdobGlnaHRFbGVtZW50KGNvZGUpO1xuXG4gICAgICAgICAgICBFdmVudEVtaXR0ZXIuZW1pdENvZGVCbG9ja0xhbmd1YWdlQ2hhbmdlZEV2ZW50KFwiY29kZS1ibG9jay1sYW5ndWFnZS1tZW51XCIsIGJsb2NrLmlkLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZUp1c3RpZnkoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcblxuICAgICAgICBjb25zdCBjbGFzc0xpc3QgPSBlbGVtZW50LmNsYXNzTGlzdDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsYXNzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gY2xhc3NMaXN0W2ldO1xuICAgICAgICAgICAgaWYgKGNsYXNzTmFtZS5zdGFydHNXaXRoKFwianVzdGlmeS1cIikpIHtcbiAgICAgICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgZXhlY0NoYW5nZUNhbGxvdXRCYWNrZ3JvdW5kKGJsb2NrOiBIVE1MRWxlbWVudCwgY29sb3I6IHN0cmluZyk6IHZvaWQge1xuXG4gICAgICAgIGNvbnN0IGNhbGxvdXREaXYgPSBibG9jay5xdWVyeVNlbGVjdG9yKFwiLmNhbGxvdXQgPiBkaXZcIik7XG5cbiAgICAgICAgaWYgKGNhbGxvdXREaXYpIHtcbiAgICAgICAgICAgIERPTVV0aWxzLnJlbW92ZUNsYXNzZXNXaXRoUHJlZml4KGNhbGxvdXREaXYgYXMgRWxlbWVudCwgXCJjYWxsb3V0LWJhY2tncm91bmQtXCIpO1xuICAgICAgICAgICAgY2FsbG91dERpdi5jbGFzc0xpc3QuYWRkKGNvbG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxufSIsImltcG9ydCB7IENvbW1hbmRzIH0gZnJvbSBcIkAvY29tbWFuZHMvQ29tbWFuZHNcIjtcbmltcG9ydCB7IElUZXh0T3BlcmF0aW9uc1NlcnZpY2UgfSBmcm9tIFwiLi9JVGV4dE9wZXJhdGlvbnNTZXJ2aWNlXCI7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAL3V0aWxpdGllcy9VdGlsc1wiO1xuaW1wb3J0IHsgQ29sb3JzIH0gZnJvbSBcIkAvY29tbW9uL0NvbG9yc1wiO1xuaW1wb3J0IHsgSU1lbWVudG8gfSBmcm9tIFwiQC9jb3JlL0lNZW1lbnRvXCI7XG5pbXBvcnQgeyBEZXBlbmRlbmN5Q29udGFpbmVyIH0gZnJvbSBcIkAvY29yZS9EZXBlbmRlbmN5Q29udGFpbmVyXCI7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tIFwiQC9jb21tYW5kcy9FdmVudEVtaXR0ZXJcIjtcbmltcG9ydCB7IEJ1dHRvbklEcyB9IGZyb20gXCJAL2NvcmUvQnV0dG9uSURzXCI7XG5pbXBvcnQgeyBET01VdGlscyB9IGZyb20gXCJAL3V0aWxpdGllcy9ET01VdGlsc1wiO1xuXG50eXBlIFRhcmdldE5vZGUgPSB7XG4gICAgbm9kZVR5cGU6IHN0cmluZztcbiAgICBjbGFzc2VzPzogc3RyaW5nW107XG59O1xuXG5leHBvcnQgY2xhc3MgVGV4dE9wZXJhdGlvbnNTZXJ2aWNlIGltcGxlbWVudHMgSVRleHRPcGVyYXRpb25zU2VydmljZSB7XG5cbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogVGV4dE9wZXJhdGlvbnNTZXJ2aWNlO1xuXG4gICAgcHJpdmF0ZSBtZW1lbnRvOiBJTWVtZW50bztcblxuICAgIHRleHRPcGVyYXRpb25TZXJ2aWNlOiBhbnk7XG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKG1lbWVudG86IElNZW1lbnRvKSB7XG4gICAgICAgIGlmIChUZXh0T3BlcmF0aW9uc1NlcnZpY2UuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZSBUZXh0T3BlcmF0aW9uU2VydmljZS5nZXRJbnN0YW5jZSgpIHRvIGdldCBpbnN0YW5jZS5cIik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1lbWVudG8gPSBtZW1lbnRvO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBUZXh0T3BlcmF0aW9uc1NlcnZpY2Uge1xuXG4gICAgICAgIGNvbnN0IG1lbWVudG8gPSBEZXBlbmRlbmN5Q29udGFpbmVyLkluc3RhbmNlLnJlc29sdmU8SU1lbWVudG8+KFwiSU1lbWVudG9cIik7XG5cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IFRleHRPcGVyYXRpb25zU2VydmljZShtZW1lbnRvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xuICAgIH1cblxuICAgIGV4ZWNJbnNlcnRMaW5rKHVybDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWVtZW50by5zYXZlU3RhdGUoKTtcblxuICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChcImNyZWF0ZUxpbmtcIiwgZmFsc2UsIHVybCk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBFdmVudEVtaXR0ZXIuZW1pdENoYW5nZUNvbXBvbmVudENvbG9yRXZlbnQoQnV0dG9uSURzLkxpbmssIENvbG9ycy5JY29uQWN0aXZlQmx1ZSk7XG4gICAgICAgICAgICB0aGlzLm5vcm1hbGl6ZUFuY2hvcnMoKTtcbiAgICAgICAgfSwgNTApO1xuICAgIH1cblxuICAgIHByaXZhdGUgbm9ybWFsaXplQW5jaG9ycygpIHtcbiAgICAgICAgY29uc3QgYW5jaG9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjam9oYW5uZXNFZGl0b3IgLmNvbnRlbnQgYVwiKTtcblxuICAgICAgICBhbmNob3JzLmZvckVhY2goYW5jaG9yID0+IHtcbiAgICAgICAgICAgIGlmICghYW5jaG9yLmhhc0F0dHJpYnV0ZSgndGl0bGUnKSkge1xuICAgICAgICAgICAgICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgKGFuY2hvciBhcyBIVE1MQW5jaG9yRWxlbWVudCkuaHJlZik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFuY2hvci5ub3JtYWxpemUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBleGVjVG9nZ2xlTGluaygpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnF1ZXJ5QW5jaG9yQ29tbWFuZFN0YXRlKCkpIHtcbiAgICAgICAgICAgIEV2ZW50RW1pdHRlci5lbWl0U2hvd0VsZW1lbnRFdmVudChcImxpbmtCb3hcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgndW5saW5rJywgZmFsc2UpO1xuICAgICAgICAgICAgRXZlbnRFbWl0dGVyLmVtaXRDaGFuZ2VDb21wb25lbnRDb2xvckV2ZW50KFwibGlua0J1dHRvblwiLCBDb2xvcnMuSWNvbkRlZmF1bHRCbGFjayk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleGVjQm9sZCgpOiB2b2lkIHtcblxuICAgICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7XG5cbiAgICAgICAgaWYgKGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiYm9sZFwiKSkge1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKFwiYm9sZFwiKSkge1xuICAgICAgICAgICAgICAgIEV2ZW50RW1pdHRlci5lbWl0Q2hhbmdlQ29tcG9uZW50Q29sb3JFdmVudChCdXR0b25JRHMuQm9sZCwgQ29sb3JzLkljb25BY3RpdmVCbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgRXZlbnRFbWl0dGVyLmVtaXRDaGFuZ2VDb21wb25lbnRDb2xvckV2ZW50KEJ1dHRvbklEcy5Cb2xkLCBDb2xvcnMuSWNvbkRlZmF1bHRCbGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleGVjSW5saW5lQ29kZSgpOiB2b2lkIHtcblxuICAgICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMudG9nZ2xlSW5saW5lQ29kZSgpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5xdWVyeUlubGluZUNvZGVDb21tYW5kU3RhdGUoKSkge1xuICAgICAgICAgICAgICAgIEV2ZW50RW1pdHRlci5lbWl0Q2hhbmdlQ29tcG9uZW50Q29sb3JFdmVudChCdXR0b25JRHMuSW5saW5lQ29kZSwgQ29sb3JzLkljb25BY3RpdmVCbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgRXZlbnRFbWl0dGVyLmVtaXRDaGFuZ2VDb21wb25lbnRDb2xvckV2ZW50KEJ1dHRvbklEcy5JbmxpbmVDb2RlLCBDb2xvcnMuSWNvbkRlZmF1bHRCbGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0b2dnbGVJbmxpbmVDb2RlKCk6IGJvb2xlYW4ge1xuICAgIC8vICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgLy8gICAgIGlmICghc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5yYW5nZUNvdW50ID09PSAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcbiAgICAvLyAgICAgY29uc3Qgc2VsZWN0ZWRDb250ZW50ID0gcmFuZ2UuZXh0cmFjdENvbnRlbnRzKCk7XG5cbiAgICAvLyAgICAgaWYgKHNlbGVjdGlvbi5hbmNob3JOb2RlPy5wYXJlbnRFbGVtZW50Py50YWdOYW1lID09PSBcIkNPREVcIikge1xuICAgIC8vICAgICAgICAgY29uc3QgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzZWxlY3RlZENvbnRlbnQudGV4dENvbnRlbnQgfHwgJycpO1xuICAgIC8vICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZSh0ZXh0Tm9kZSk7XG4gICAgLy8gICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICBjb25zdCBjb2RlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjb2RlXCIpO1xuICAgIC8vICAgICAgICAgY29kZUVsZW1lbnQuYXBwZW5kQ2hpbGQoc2VsZWN0ZWRDb250ZW50KTtcbiAgICAvLyAgICAgICAgIHJhbmdlLmluc2VydE5vZGUoY29kZUVsZW1lbnQpO1xuICAgIC8vICAgICB9XG5cbiAgICAvLyAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgIC8vICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuXG4gICAgLy8gICAgIHJldHVybiB0cnVlO1xuICAgIC8vIH1cblxuICAgIHRvZ2dsZUlubGluZUNvZGUoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgaWYgKCFzZWxlY3Rpb24gfHwgc2VsZWN0aW9uLnJhbmdlQ291bnQgPT09IDApIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xuICAgICAgICBsZXQgc2VsZWN0ZWRDb250ZW50OiBEb2N1bWVudEZyYWdtZW50IHwgSFRNTFNwYW5FbGVtZW50ID0gcmFuZ2UuZXh0cmFjdENvbnRlbnRzKCk7XG5cbiAgICAgICAgbGV0IGlzQ29kZSA9IGZhbHNlO1xuICAgICAgICBjb25zdCBjb250YWluc0NvZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGNvbnRhaW5zQ29kZS5hcHBlbmRDaGlsZChzZWxlY3RlZENvbnRlbnQuY2xvbmVOb2RlKHRydWUpKTtcblxuICAgICAgICBpZiAoY29udGFpbnNDb2RlLnF1ZXJ5U2VsZWN0b3IoJ2NvZGUnKSkge1xuICAgICAgICAgICAgaXNDb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnRhaW5zQ29kZS5xdWVyeVNlbGVjdG9yQWxsKCdjb2RlJykuZm9yRWFjaChjb2RlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNvZGUudGV4dENvbnRlbnQgfHwgJycpO1xuICAgICAgICAgICAgICAgIGNvZGUucGFyZW50Tm9kZT8ucmVwbGFjZUNoaWxkKHRleHROb2RlLCBjb2RlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2VsZWN0ZWRDb250ZW50ID0gY29udGFpbnNDb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBhcmVudENvZGUgPSBzZWxlY3Rpb24uYW5jaG9yTm9kZTtcbiAgICAgICAgd2hpbGUgKHBhcmVudENvZGUgJiYgcGFyZW50Q29kZS5ub2RlTmFtZSAhPT0gXCJDT0RFXCIgJiYgcGFyZW50Q29kZS5ub2RlTmFtZSAhPT0gXCJCT0RZXCIpIHtcbiAgICAgICAgICAgIHBhcmVudENvZGUgPSBwYXJlbnRDb2RlLnBhcmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyZW50Q29kZSAmJiBwYXJlbnRDb2RlLm5vZGVOYW1lID09PSBcIkNPREVcIikge1xuICAgICAgICAgICAgaXNDb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocGFyZW50Q29kZS50ZXh0Q29udGVudCB8fCAnJyk7XG4gICAgICAgICAgICBwYXJlbnRDb2RlLnBhcmVudE5vZGU/LnJlcGxhY2VDaGlsZCh0ZXh0Tm9kZSwgcGFyZW50Q29kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzQ29kZSkge1xuICAgICAgICAgICAgY29uc3QgY29kZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY29kZVwiKTtcbiAgICAgICAgICAgIGNvZGVFbGVtZW50LmFwcGVuZENoaWxkKHNlbGVjdGVkQ29udGVudCk7XG4gICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKGNvZGVFbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJhbmdlLmluc2VydE5vZGUoY29udGFpbnNDb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcblxuXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBET01VdGlscy5nZXRBY3RpdmVDb250ZW50RWRpdGFibGUoKTtcbiAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIGNvbnRlbnQubm9ybWFsaXplKCk7XG5cbiAgICAgICAgICAgIERPTVV0aWxzLm1lcmdlSW5saW5lRWxlbWVudHMoY29udGVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBleGVjSXRhbGljKCk6IHZvaWQge1xuXG4gICAgICAgIHRoaXMubWVtZW50by5zYXZlU3RhdGUoKTtcblxuICAgICAgICBpZiAoZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJpdGFsaWNcIikpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShcIml0YWxpY1wiKSkge1xuICAgICAgICAgICAgICAgIEV2ZW50RW1pdHRlci5lbWl0Q2hhbmdlQ29tcG9uZW50Q29sb3JFdmVudChCdXR0b25JRHMuSXRhbGljLCBDb2xvcnMuSWNvbkFjdGl2ZUJsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBFdmVudEVtaXR0ZXIuZW1pdENoYW5nZUNvbXBvbmVudENvbG9yRXZlbnQoQnV0dG9uSURzLkl0YWxpYywgQ29sb3JzLkljb25EZWZhdWx0QmxhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhlY1N0cmlrZVRocm91Z2goKTogdm9pZCB7XG5cbiAgICAgICAgdGhpcy5tZW1lbnRvLnNhdmVTdGF0ZSgpO1xuXG4gICAgICAgIGlmIChkb2N1bWVudC5leGVjQ29tbWFuZChcInN0cmlrZVRocm91Z2hcIikpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShcInN0cmlrZVRocm91Z2hcIikpIHtcbiAgICAgICAgICAgICAgICBFdmVudEVtaXR0ZXIuZW1pdENoYW5nZUNvbXBvbmVudENvbG9yRXZlbnQoQnV0dG9uSURzLlN0cmlrZXRocm91Z2gsIENvbG9ycy5JY29uQWN0aXZlQmx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEV2ZW50RW1pdHRlci5lbWl0Q2hhbmdlQ29tcG9uZW50Q29sb3JFdmVudChCdXR0b25JRHMuU3RyaWtldGhyb3VnaCwgQ29sb3JzLkljb25EZWZhdWx0QmxhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhlY1VuZGVybGluZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tZW1lbnRvLnNhdmVTdGF0ZSgpO1xuXG4gICAgICAgIGlmIChkb2N1bWVudC5leGVjQ29tbWFuZChcInVuZGVybGluZVwiKSkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKFwidW5kZXJsaW5lXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIEV2ZW50RW1pdHRlci5lbWl0Q2hhbmdlQ29tcG9uZW50Q29sb3JFdmVudChCdXR0b25JRHMuVW5kZXJsaW5lLCBDb2xvcnMuSWNvbkFjdGl2ZUJsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEV2ZW50RW1pdHRlci5lbWl0Q2hhbmdlQ29tcG9uZW50Q29sb3JFdmVudChCdXR0b25JRHMuVW5kZXJsaW5lLCBDb2xvcnMuSWNvbkRlZmF1bHRCbGFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhlY0hpbGl0ZUNvbG9yKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcblxuICAgICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7XG5cbiAgICAgICAgRXZlbnRFbWl0dGVyLmVtaXRSZXNldEFjdGl2ZUJ1dHRvbnNFbGVtZW50RXZlbnQoXCJoaWxpdGVDb2xvclwiKTtcblxuICAgICAgICBpZiAoZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJoaWxpdGVDb2xvclwiLCBmYWxzZSwgdmFsdWUpKSB7XG4gICAgICAgICAgICBFdmVudEVtaXR0ZXIuZW1pdFNob3dIaWRlQWN0aXZlRWxlbWVudEV2ZW50KFwiaGlsaXRlQ29sb3JcIiwgdmFsdWUsIFwic2hvd1wiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4ZWNGb3JlQ29sb3IodmFsdWU6IHN0cmluZyk6IHZvaWQge1xuXG4gICAgICAgIHRoaXMubWVtZW50by5zYXZlU3RhdGUoKTtcblxuICAgICAgICBFdmVudEVtaXR0ZXIuZW1pdFJlc2V0QWN0aXZlQnV0dG9uc0VsZW1lbnRFdmVudChcImZvcmVDb2xvclwiKTtcblxuICAgICAgICBpZiAoZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJmb3JlQ29sb3JcIiwgZmFsc2UsIHZhbHVlKSkge1xuICAgICAgICAgICAgRXZlbnRFbWl0dGVyLmVtaXRTaG93SGlkZUFjdGl2ZUVsZW1lbnRFdmVudChcImZvcmVDb2xvclwiLCB2YWx1ZSwgXCJzaG93XCIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBxdWVyeUNvbW1hbmRTdGF0ZShjb21tYW5kOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBudWxsKTogYm9vbGVhbiB7XG5cbiAgICAgICAgaWYgKGNvbW1hbmQgPT09IENvbW1hbmRzLnRvZ2dsZUxpbmspIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5QW5jaG9yQ29tbWFuZFN0YXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tbWFuZCA9PT0gQ29tbWFuZHMudG9nZ2xlVW5kZXJsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5xdWVyeVVuZGVybGluZUNvbW1hbmRTdGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbW1hbmQgPT09IENvbW1hbmRzLnRvZ2dsZUhpbGl0ZUNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5xdWVyeUhpbGl0ZUNvbG9yKHZhbHVlISk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tbWFuZCA9PT0gQ29tbWFuZHMudG9nZ2xlRm9yZUNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5xdWVyeUZvcmVDb2xvcih2YWx1ZSEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbW1hbmQgPT09IENvbW1hbmRzLnRvZ2dsZUlubGluZUNvZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5SW5saW5lQ29kZUNvbW1hbmRTdGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKGNvbW1hbmQpO1xuICAgIH1cblxuICAgIC8vIHByaXZhdGUgcXVlcnlBbmNob3JDb21tYW5kU3RhdGUoKTogYm9vbGVhbiB7XG4gICAgLy8gICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAvLyAgICAgaWYgKCFzZWxlY3Rpb24gfHwgIXNlbGVjdGlvbi5yYW5nZUNvdW50KSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcbiAgICAvLyAgICAgbGV0IG5vZGU6IE5vZGUgfCBudWxsID0gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG5cbiAgICAvLyAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgLy8gICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIC8vICAgICB9XG5cbiAgICAvLyAgICAgLy8gVmVyaWZpY2Egc2UgYWxndW0gbsOzIHBhaSDDqSB1bWEgw6JuY29yYVxuICAgIC8vICAgICB3aGlsZSAobm9kZSkge1xuICAgIC8vICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgLy8gICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG5vZGUgYXMgSFRNTEVsZW1lbnQ7XG4gICAgLy8gICAgICAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PT0gJ0EnKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAgLy8gQSBzZWxlw6fDo28gZXN0w6EgZGVudHJvIGRlIHVtYSDDom5jb3JhXG4gICAgLy8gICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgICAgIGlmIChlbGVtZW50LmNsb3Nlc3QoJ2EnKSkge1xuICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgIC8vIEEgc2VsZcOnw6NvIGVzdMOhIGRlbnRybyBkZSBhbGdvIHF1ZSBlc3TDoSBkZW50cm8gZGUgdW1hIMOibmNvcmFcbiAgICAvLyAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIC8vICAgICB9XG5cbiAgICAvLyAgICAgLy8gVmVyaWZpY2Egc2UgYSBzZWxlw6fDo28gY29udMOpbSB1bWEgw6JuY29yYSBjb21wbGV0YVxuICAgIC8vICAgICBpZiAocmFuZ2Uuc3RhcnRDb250YWluZXIgPT09IHJhbmdlLmVuZENvbnRhaW5lcikge1xuICAgIC8vICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLmNoaWxkTm9kZXMpO1xuICAgIC8vICAgICAgICAgbGV0IHNlbGVjdGVkQW5jaG9yOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICAgIC8vICAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICAvLyAgICAgICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmIChjaGlsZCBhcyBIVE1MRWxlbWVudCkudGFnTmFtZSA9PT0gJ0EnKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGlmIChyYW5nZS5pbnRlcnNlY3RzTm9kZShjaGlsZCkpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQW5jaG9yID0gY2hpbGQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIGlmIChzZWxlY3RlZEFuY2hvciAmJiByYW5nZS50b1N0cmluZygpID09PSBzZWxlY3RlZEFuY2hvci50ZXh0Q29udGVudCkge1xuICAgIC8vICAgICAgICAgICAgIHJldHVybiB0cnVlOyAgLy8gQSBzZWxlw6fDo28gw6kgZXhhdGFtZW50ZSBvIHRleHRvIGRlIHVtYSDDom5jb3JhXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH1cblxuICAgIC8vICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gfVxuXG5cbiAgICAvL09SSUdJTkFMXG4gICAgLy8gcHJpdmF0ZSBxdWVyeUFuY2hvckNvbW1hbmRTdGF0ZSgpOiBib29sZWFuIHtcbiAgICAvLyAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIC8vICAgICBpZiAoIXNlbGVjdGlvbiB8fCAhc2VsZWN0aW9uLnJhbmdlQ291bnQpIHJldHVybiBmYWxzZTtcblxuICAgIC8vICAgICBsZXQgbm9kZTogTm9kZSB8IG51bGwgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcblxuICAgIC8vICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAvLyAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgLy8gICAgIH1cblxuICAgIC8vICAgICB3aGlsZSAobm9kZSAmJiBub2RlICE9PSBudWxsKSB7XG4gICAgLy8gICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiAobm9kZSBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdCgnYScpKSB7XG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIC8vICAgICB9XG5cbiAgICAvLyAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIH1cblxuICAgIC8vIG11bHRpcGxlcyBlbGVtZW50c1xuICAgIHByaXZhdGUgcXVlcnlBbmNob3JDb21tYW5kU3RhdGUoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgaWYgKCFzZWxlY3Rpb24gfHwgIXNlbGVjdGlvbi5yYW5nZUNvdW50KSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcbiAgICAgICAgY29uc3Qgc3RhcnRDb250YWluZXIgPSByYW5nZS5zdGFydENvbnRhaW5lcjtcbiAgICAgICAgY29uc3QgZW5kQ29udGFpbmVyID0gcmFuZ2UuZW5kQ29udGFpbmVyO1xuXG4gICAgICAgIC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIGEgbm9kZSBvciBpdHMgcGFyZW50cyBhcmUgYW4gPGE+IGVsZW1lbnRcbiAgICAgICAgY29uc3QgaXNOb2RlSW5zaWRlQW5jaG9yID0gKG5vZGU6IE5vZGUgfCBudWxsKTogYm9vbGVhbiA9PiB7XG4gICAgICAgICAgICB3aGlsZSAobm9kZSAmJiBub2RlICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmIChub2RlIGFzIEhUTUxFbGVtZW50KS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdhJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc3RhcnQgb3IgZW5kIG9mIHRoZSBzZWxlY3Rpb24gaXMgd2l0aGluIGFuIDxhPiBlbGVtZW50XG4gICAgICAgIGlmIChpc05vZGVJbnNpZGVBbmNob3Ioc3RhcnRDb250YWluZXIpIHx8IGlzTm9kZUluc2lkZUFuY2hvcihlbmRDb250YWluZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGFsbCBlbGVtZW50cyBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmQgaWYgbmVjZXNzYXJ5XG4gICAgICAgIGNvbnN0IG5vZGVzSW5SYW5nZSA9IHJhbmdlLmNsb25lQ29udGVudHMoKS5xdWVyeVNlbGVjdG9yQWxsKCdhJyk7XG4gICAgICAgIHJldHVybiBub2Rlc0luUmFuZ2UubGVuZ3RoID4gMDtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgcXVlcnlJbmxpbmVDb2RlQ29tbWFuZFN0YXRlKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIGlmICghc2VsZWN0aW9uIHx8ICFzZWxlY3Rpb24ucmFuZ2VDb3VudCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGxldCBub2RlOiBOb2RlIHwgbnVsbCA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO1xuXG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChub2RlICYmIG5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IE5vZGUuRUxFTUVOVF9OT0RFICYmIChub2RlIGFzIEhUTUxFbGVtZW50KS5jbG9zZXN0KCdjb2RlJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIHF1ZXJ5VW5kZXJsaW5lQ29tbWFuZFN0YXRlKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIGlmICghc2VsZWN0aW9uIHx8ICFzZWxlY3Rpb24ucmFuZ2VDb3VudCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGxldCBub2RlOiBOb2RlIHwgbnVsbCA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO1xuXG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChub2RlICYmIG5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IE5vZGUuRUxFTUVOVF9OT0RFICYmIChub2RlIGFzIEhUTUxFbGVtZW50KS5jbG9zZXN0KCd1JykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcXVlcnlGb3JlQ29sb3IoZXhwZWN0ZWRDb2xvcjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcblxuICAgICAgICBpZiAoIXNlbGVjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2VsZWN0aW9uLnJhbmdlQ291bnQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBsZXQgZWxlbWVudDogTm9kZSB8IG51bGwgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcblxuICAgICAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZighKGVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmb250Q29sb3IgPSAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdChcImZvbnRbY29sb3JdXCIpO1xuICAgICAgICBpZiAoIWZvbnRDb2xvcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZm9udENvbG9yKTtcbiAgICAgICAgY29uc3QgcmdiQ29sb3IgPSBzdHlsZS5jb2xvcjtcblxuICAgICAgICBjb25zdCBoZXhDb2xvciA9IFV0aWxzLnJnYlRvSGV4KHJnYkNvbG9yKTtcblxuICAgICAgICByZXR1cm4gaGV4Q29sb3IudG9VcHBlckNhc2UoKSA9PT0gZXhwZWN0ZWRDb2xvci50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIHF1ZXJ5SGlsaXRlQ29sb3IoZXhwZWN0ZWRDb2xvcjogc3RyaW5nKTogYm9vbGVhbiB7XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuXG4gICAgICAgIGlmICghc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWxlY3Rpb24ucmFuZ2VDb3VudCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGxldCBlbGVtZW50OiBOb2RlIHwgbnVsbCA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO1xuXG4gICAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCEoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNwYW5XaXRoQmFja2dyb3VuZCA9XG4gICAgICAgICAgICAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdChcInNwYW5bc3R5bGUqPSdiYWNrZ3JvdW5kLWNvbG9yJ11cIikgfHxcbiAgICAgICAgICAgIChlbGVtZW50IGFzIEhUTUxFbGVtZW50KS5jbG9zZXN0KFwiZm9udFtzdHlsZSo9J2JhY2tncm91bmQtY29sb3InXVwiKTtcblxuICAgICAgICBpZiAoIXNwYW5XaXRoQmFja2dyb3VuZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoc3BhbldpdGhCYWNrZ3JvdW5kKTtcbiAgICAgICAgY29uc3QgcmdiQ29sb3IgPSBzdHlsZS5iYWNrZ3JvdW5kQ29sb3I7XG5cbiAgICAgICAgY29uc3QgaGV4Q29sb3IgPSBVdGlscy5yZ2JUb0hleChyZ2JDb2xvcik7XG5cbiAgICAgICAgcmV0dXJuIGhleENvbG9yLnRvVXBwZXJDYXNlKCkgPT09IGV4cGVjdGVkQ29sb3IudG9VcHBlckNhc2UoKTtcbiAgICB9XG5cbiAgICBnZXRUYXJnZXRFbGVtZW50TWFwKGNvbW1hbmQ6IHN0cmluZyk6IGtleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgICAgIHN3aXRjaCAoY29tbWFuZCkge1xuXG4gICAgICAgICAgICBjYXNlIFwic3Ryb25nXCI6XG4gICAgICAgICAgICBjYXNlIFwiYm9sZFwiOlxuICAgICAgICAgICAgY2FzZSBcImJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3N0cm9uZyc7XG5cbiAgICAgICAgICAgIGNhc2UgXCJpdGFsaWNcIjpcbiAgICAgICAgICAgIGNhc2UgXCJpXCI6XG4gICAgICAgICAgICBjYXNlIFwiZW1cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJlbVwiO1xuXG4gICAgICAgICAgICBjYXNlIFwidW5kZXJsaW5lXCI6XG4gICAgICAgICAgICBjYXNlIFwidVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcInVcIjtcblxuICAgICAgICAgICAgY2FzZSBcInN0cmlrZXRocm91Z2hcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdzJztcblxuICAgICAgICAgICAgY2FzZSBcImJhY2tncm91bmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzcGFuXCI7XG5cbiAgICAgICAgICAgIGNhc2UgXCJjb2xvclwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcInNwYW5cIjtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXRTZWxlY3RlZEhUTUxFbGVtZW50KCk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcblxuICAgICAgICBpZiAoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcbiAgICAgICAgICAgIGxldCBlbGVtZW50OiBOb2RlIHwgbnVsbCA9IHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aGlsZSAoZWxlbWVudCAmJiAhKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuXG4gICAgZ2V0U2VsZWN0ZWRUZXh0Tm9kZXMoKTogTm9kZVtdIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICBpZiAoIXNlbGVjdGlvbiB8fCBzZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGV4dE5vZGVzOiBOb2RlW10gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGlvbi5yYW5nZUNvdW50OyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoaSk7XG4gICAgICAgICAgICBjb25zdCBub2RlSXRlcmF0b3IgPSBkb2N1bWVudC5jcmVhdGVOb2RlSXRlcmF0b3IoXG4gICAgICAgICAgICAgICAgcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXIsXG4gICAgICAgICAgICAgICAgTm9kZUZpbHRlci5TSE9XX1RFWFQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhY2NlcHROb2RlKG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZS5pbnRlcnNlY3RzTm9kZShub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTm9kZUZpbHRlci5GSUxURVJfUkVKRUNUO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgbGV0IG5vZGU7XG4gICAgICAgICAgICB3aGlsZSAoKG5vZGUgPSBub2RlSXRlcmF0b3IubmV4dE5vZGUoKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZVJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZVJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhub2RlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5jb21wYXJlQm91bmRhcnlQb2ludHMoUmFuZ2UuRU5EX1RPX1NUQVJULCBub2RlUmFuZ2UpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKFJhbmdlLlNUQVJUX1RPX0VORCwgbm9kZVJhbmdlKSA9PT0gMVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHROb2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRleHROb2RlcztcbiAgICB9XG5cbiAgICBmaW5kQ2xvc2VzdE1hdGNoaW5nUGFyZW50KGVsZW1lbnQ6IE5vZGUgfCBudWxsLCB0YXJnZXQ6IFRhcmdldE5vZGUpOiBFbGVtZW50IHwgbnVsbCB7XG4gICAgICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGVsZW1lbnQgJiYgZWxlbWVudCAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbSA9IGVsZW1lbnQgYXMgRWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IHRhcmdldC5ub2RlVHlwZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LmNsYXNzZXMgfHwgdGFyZ2V0LmNsYXNzZXMuZXZlcnkoY2xzID0+IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKGNscykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZXh0cmFjdFNlbGVjdGVkVGV4dCh0ZXh0Tm9kZTogTm9kZSk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcblxuICAgICAgICBpZiAoIXNlbGVjdGlvbiB8fCBzZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xuXG4gICAgICAgIGlmICh0ZXh0Tm9kZS5ub2RlVHlwZSAhPT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGV4dENvbnRlbnQgPSB0ZXh0Tm9kZS50ZXh0Q29udGVudCB8fCBcIlwiO1xuXG4gICAgICAgIGxldCBzdGFydCA9IDA7XG4gICAgICAgIGxldCBlbmQgPSB0ZXh0Q29udGVudC5sZW5ndGg7XG5cbiAgICAgICAgaWYgKCFyYW5nZS5pbnRlcnNlY3RzTm9kZSh0ZXh0Tm9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0Q29udGFpbmVyID09PSB0ZXh0Tm9kZSkge1xuICAgICAgICAgICAgc3RhcnQgPSByYW5nZS5zdGFydE9mZnNldDtcbiAgICAgICAgfSBlbHNlIGlmIChyYW5nZS5zdGFydENvbnRhaW5lci5jb250YWlucyh0ZXh0Tm9kZSkpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5nZS5lbmRDb250YWluZXIgPT09IHRleHROb2RlKSB7XG4gICAgICAgICAgICBlbmQgPSByYW5nZS5lbmRPZmZzZXQ7XG4gICAgICAgIH0gZWxzZSBpZiAocmFuZ2UuZW5kQ29udGFpbmVyLmNvbnRhaW5zKHRleHROb2RlKSkge1xuICAgICAgICAgICAgZW5kID0gdGV4dENvbnRlbnQubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXJ0IDwgZW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dENvbnRlbnQuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVGFibGVVdGlscyB9IGZyb20gXCJAL3V0aWxpdGllcy9UYWJsZVV0aWxzXCI7XG5pbXBvcnQgeyBJVGFibGVPcGVyYXRpb25zU2VydmljZSB9IGZyb20gXCIuL0lUYWJsZU9wZXJhdGlvbnNTZXJ2aWNlXCI7XG5pbXBvcnQgeyBJRm9jdXNTdGFjayB9IGZyb20gXCJAL2NvcmUvSUZvY3VzU3RhY2tcIjtcbmltcG9ydCB7IERlcGVuZGVuY3lDb250YWluZXIgfSBmcm9tIFwiQC9jb3JlL0RlcGVuZGVuY3lDb250YWluZXJcIjtcbmltcG9ydCB7IElNZW1lbnRvIH0gZnJvbSBcIkAvY29yZS9JTWVtZW50b1wiO1xuaW1wb3J0IHsgQ29sb3JzIH0gZnJvbSBcIkAvY29tbW9uL0NvbG9yc1wiO1xuaW1wb3J0IHsgVGFibGVTY29wZXMgfSBmcm9tIFwiLi9UYWJsZVNjb3Blc1wiO1xuaW1wb3J0IHsgRE9NRWxlbWVudHMgfSBmcm9tIFwiQC9jb21tb24vRE9NRWxlbWVudHNcIjtcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gXCJAL2NvbW1hbmRzL0V2ZW50RW1pdHRlclwiO1xuaW1wb3J0IHsgRE9NVXRpbHMgfSBmcm9tIFwiQC91dGlsaXRpZXMvRE9NVXRpbHNcIjtcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkAvdXRpbGl0aWVzL1V0aWxzXCI7XG5pbXBvcnQgeyBUYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL2Zsb2F0aW5nLXRvb2xiYXIvVGFibGVDb250ZXh0RmxvYXRpbmdUb29sYmFyXCI7XG5pbXBvcnQgeyBUb29sYmFySURzIH0gZnJvbSBcIkAvY29yZS9Ub29sYmFySURzXCI7XG5cbmV4cG9ydCBjbGFzcyBUYWJsZU9wZXJhdGlvbnNTZXJ2aWNlIGltcGxlbWVudHMgSVRhYmxlT3BlcmF0aW9uc1NlcnZpY2Uge1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFRhYmxlT3BlcmF0aW9uc1NlcnZpY2U7XG5cbiAgICBwcml2YXRlIGZvY3VzU3RhY2s6IElGb2N1c1N0YWNrO1xuICAgIHByaXZhdGUgbWVtZW50bzogSU1lbWVudG87XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgZm9jdXNTdGFjazogSUZvY3VzU3RhY2ssXG4gICAgICAgIG1lbWVudG86IElNZW1lbnRvKSB7XG4gICAgICAgIGlmIChUYWJsZU9wZXJhdGlvbnNTZXJ2aWNlLmluc3RhbmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVc2UgVGFibGVPcGVyYXRpb25zU2VydmljZS5nZXRJbnN0YW5jZSgpIHRvIGdldCBpbnN0YW5jZS5cIik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZvY3VzU3RhY2sgPSBmb2N1c1N0YWNrO1xuICAgICAgICB0aGlzLm1lbWVudG8gPSBtZW1lbnRvO1xuICAgIH1cblxuICAgIGlzQWN0aXZlQ2VsbEJhY2tncm91bmRDb2xvcih2YWx1ZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH1cblxuICAgIHJlbW92ZUNvbHVtbigpOiB2b2lkIHtcblxuICAgICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7XG5cbiAgICAgICAgY29uc3QgY2VsbCA9IHRoaXMuZm9jdXNTdGFjay5wZWVrKCk7XG5cbiAgICAgICAgaWYgKGNlbGwpIHtcbiAgICAgICAgICAgIFRhYmxlVXRpbHMucmVtb3ZlQ29sdW1uQnlDZWxsKGNlbGwgYXMgSFRNTFRhYmxlQ2VsbEVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgRXZlbnRFbWl0dGVyLmVtaXRDbG9zZUVsZW1lbnRFdmVudChUb29sYmFySURzLlRhYmxlVG9vbGJhcik7XG4gICAgfVxuXG4gICAgcmVtb3ZlUm93KCk6IHZvaWQge1xuICAgICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7XG5cbiAgICAgICAgY29uc3QgY2VsbCA9IHRoaXMuZm9jdXNTdGFjay5wZWVrKCk7XG5cbiAgICAgICAgaWYgKGNlbGwpIHtcbiAgICAgICAgICAgIFRhYmxlVXRpbHMucmVtb3ZlUm93QnlDZWxsKGNlbGwgYXMgSFRNTFRhYmxlQ2VsbEVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgRXZlbnRFbWl0dGVyLmVtaXRDbG9zZUVsZW1lbnRFdmVudChUb29sYmFySURzLlRhYmxlVG9vbGJhcik7XG4gICAgfVxuXG5cbiAgICBleGVjQ2VsbEJhY2tncm91bmRDb2xvcih2YWx1ZTogc3RyaW5nKTogdm9pZCB7XG5cbiAgICAgICAgdGhpcy5tZW1lbnRvLnNhdmVTdGF0ZSgpO1xuXG4gICAgICAgIEV2ZW50RW1pdHRlci5lbWl0UmVzZXRBY3RpdmVCdXR0b25zRWxlbWVudEV2ZW50KFwiYmFja2dyb3VuZENvbG9yXCIpO1xuXG4gICAgICAgIGNvbnN0IGFjdGl2ZUNlbGwgPSBUYWJsZVV0aWxzLmdldEFjdGl2ZVRhYmxlQ2VsbCgpO1xuXG4gICAgICAgIGlmIChhY3RpdmVDZWxsKSB7XG4gICAgICAgICAgICBjb25zdCB0YWJsZSA9IGFjdGl2ZUNlbGwuY2xvc2VzdCgndGFibGUnKSE7XG5cbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ2VsbHMgPSB0YWJsZS5xdWVyeVNlbGVjdG9yQWxsKCd0ZC5zZWxlY3RlZCcpO1xuXG4gICAgICAgICAgICBzZWxlY3RlZENlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICAgICAgICAgICAgKGNlbGwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIEV2ZW50RW1pdHRlci5lbWl0U2hvd0hpZGVBY3RpdmVFbGVtZW50RXZlbnQoXCJiYWNrZ3JvdW5kQ29sb3JcIiwgdmFsdWUsIFwic2hvd1wiKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImNlbGwgbm90IGZvdW5kXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuICAgIHN0YXRpYyBpc0NlbGxCYWNrZ3JvdW5kQ29sb3IoY2VsbDogSFRNTFRhYmxlQ2VsbEVsZW1lbnQsIHRhcmdldEhleENvbG9yOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFjZWxsIHx8IGNlbGwudGFnTmFtZSAhPT0gJ1REJyB8fCAhY2VsbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtcGxhY2Vob2xkZXInKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNlbGwpO1xuICAgICAgICBjb25zdCBjdXJyZW50QmFja2dyb3VuZENvbG9yID0gY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG5cbiAgICAgICAgY29uc3QgaGV4QmFja2dyb3VuZENvbG9yID0gVXRpbHMucmdiVG9IZXgoY3VycmVudEJhY2tncm91bmRDb2xvcik7XG5cbiAgICAgICAgcmV0dXJuIGhleEJhY2tncm91bmRDb2xvci50b1VwcGVyQ2FzZSgpID09PSB0YXJnZXRIZXhDb2xvci50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIHF1ZXJ5U3RhdGVDZWxsQmFja2dyb3VuZENvbG9yKHZhbHVlOiBzdHJpbmcpOiBib29sZWFuIHtcblxuICAgICAgICBjb25zdCBjZWxsID0gVGFibGVVdGlscy5nZXRBY3RpdmVUYWJsZUNlbGwoKTtcblxuICAgICAgICBpZiAoY2VsbCkge1xuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNlbGwpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEJhY2tncm91bmRDb2xvciA9IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnYmFja2dyb3VuZC1jb2xvcicpO1xuXG4gICAgICAgICAgICBjb25zdCBoZXhCYWNrZ3JvdW5kQ29sb3IgPSBVdGlscy5yZ2JUb0hleChjdXJyZW50QmFja2dyb3VuZENvbG9yKTtcblxuICAgICAgICAgICAgcmV0dXJuIGhleEJhY2tncm91bmRDb2xvci50b1VwcGVyQ2FzZSgpID09PSB2YWx1ZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIC8vIGNvbnN0IGEgPSBET01VdGlscy5cblxuICAgICAgICAvLyAgICAgdGhpcy5tZW1lbnRvLnNhdmVTdGF0ZSgpO1xuXG4gICAgICAgIC8vIEV2ZW50RW1pdHRlci5lbWl0UmVzZXRBY3RpdmVCdXR0b25zRWxlbWVudEV2ZW50KFwiYmFja2dyb3VuZENvbG9yXCIpO1xuXG4gICAgICAgIC8vIGNvbnN0IGFjdGl2ZUNlbGwgPSBUYWJsZVV0aWxzLmdldEFjdGl2ZVRhYmxlQ2VsbCgpO1xuXG4gICAgICAgIC8vIGlmIChhY3RpdmVDZWxsKSB7XG4gICAgICAgIC8vICAgICBjb25zdCB0YWJsZSA9IGFjdGl2ZUNlbGwuY2xvc2VzdCgndGFibGUnKSE7XG5cbiAgICAgICAgLy8gICAgIGNvbnN0IHNlbGVjdGVkQ2VsbHMgPSB0YWJsZS5xdWVyeVNlbGVjdG9yQWxsKCd0ZC5zZWxlY3RlZCcpO1xuXG4gICAgICAgIC8vICAgICBzZWxlY3RlZENlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICAgIC8vICAgICAgICAgKGNlbGwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHZhbHVlO1xuICAgICAgICAvLyAgICAgfSk7XG5cbiAgICAgICAgLy8gICAgIEV2ZW50RW1pdHRlci5lbWl0U2hvd0hpZGVBY3RpdmVFbGVtZW50RXZlbnQoXCJiYWNrZ3JvdW5kQ29sb3JcIiwgdmFsdWUsIFwic2hvd1wiKTtcblxuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgY29uc29sZS5lcnJvcihcImNlbGwgbm90IGZvdW5kXCIpO1xuICAgICAgICAvLyB9XG4gICAgfVxuXG4gICAgcXVlcnlBbGxTdGF0ZUNlbGxCYWNrZ3JvdW5kQ29sb3IoZWxlbWVudHM6IEhUTUxUYWJsZUNlbGxFbGVtZW50W10sIGNvbG9yOiBDb2xvcnMpOiBib29sZWFuIHtcblxuICAgICAgICBsZXQgaXM6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgICAgIGlmIChjb2xvciA9PSBDb2xvcnMuQmFja2dyb3VuZENvbG9yTm9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChjZWxsID0+IHtcblxuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjZWxsKTtcbiAgICAgICAgICAgIGNvbnN0IHJnYkNvbG9yID0gc3R5bGUuYmFja2dyb3VuZENvbG9yO1xuXG4gICAgICAgICAgICBjb25zdCBoZXhDb2xvciA9IFV0aWxzLnJnYlRvSGV4KHJnYkNvbG9yKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKGhleENvbG9yICE9PSBjb2xvci50b0xvY2FsZUxvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgaXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGlzO1xuICAgIH1cblxuXG4gICAgLy8gZXhlY0hpbGl0ZUNvbG9yKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcblxuICAgIC8vICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7XG5cbiAgICAvLyAgICAgaWYgKGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiaGlsaXRlQ29sb3JcIiwgZmFsc2UsIHZhbHVlKSkge1xuICAgIC8vICAgICAgICAgRXZlbnRFbWl0dGVyLmVtaXRTaG93SGlkZUFjdGl2ZUVsZW1lbnRFdmVudChcImhpbGl0ZUNvbG9yXCIsIHZhbHVlLCBcInNob3dcIik7XG4gICAgLy8gICAgIH1lbHNle1xuICAgIC8vICAgICAgICAgRXZlbnRFbWl0dGVyLmVtaXRTaG93SGlkZUFjdGl2ZUVsZW1lbnRFdmVudChcImhpbGl0ZUNvbG9yXCIsIHZhbHVlLCBcImhpZGVcIik7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogVGFibGVPcGVyYXRpb25zU2VydmljZSB7XG5cbiAgICAgICAgY29uc3QgZm9jdXNTdGFjayA9IERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVzb2x2ZTxJRm9jdXNTdGFjaz4oXCJJRm9jdXNTdGFja1wiKTtcbiAgICAgICAgY29uc3QgbWVtZW50byA9IERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVzb2x2ZTxJTWVtZW50bz4oXCJJTWVtZW50b1wiKTtcblxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgVGFibGVPcGVyYXRpb25zU2VydmljZShmb2N1c1N0YWNrLCBtZW1lbnRvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xuICAgIH1cblxuICAgIGluc2VydFJvd0Fib3ZlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7XG5cbiAgICAgICAgY29uc3QgY2VsbCA9IHRoaXMuZm9jdXNTdGFjay5wZWVrKCk7IC8vIEFnb3JhLCBgY2VsbGAgw6kgYSBgdGRgIGRpcmV0YW1lbnRlXG4gICAgICAgIGlmICghY2VsbCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIGNlbGwgaXMgZm9jdXNlZFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJvdyA9IGNlbGwucGFyZW50RWxlbWVudDsgLy8gT2J0ZW0gYSBsaW5oYSAoYHRyYCkgcGFpIGRhIGPDqWx1bGFcbiAgICAgICAgaWYgKCFyb3cpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyByb3cgaXMgZm9jdXNlZFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRhYmxlID0gcm93LmNsb3Nlc3QoXCJ0YWJsZVwiKTsgLy8gRW5jb250cmEgYSB0YWJlbGEgcXVlIGNvbnTDqW0gYSBsaW5oYVxuICAgICAgICBpZiAoIXRhYmxlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVGFibGUgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0Ym9keSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5JykgfHwgdGFibGU7IC8vIEFzc3VtZSB0YWJsZSBzZSB0Ym9keSBuw6NvIGV4aXN0aXJcbiAgICAgICAgY29uc3Qgcm93SW5kZXggPSBBcnJheS5mcm9tKHRib2R5LmNoaWxkcmVuKS5pbmRleE9mKHJvdyk7IC8vIEVuY29udHJhIG8gw61uZGljZSBkYSBsaW5oYSBkZW50cm8gZG8gdGJvZHkgb3UgZGEgdGFiZWxhXG5cbiAgICAgICAgaWYgKHJvd0luZGV4IDwgMCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlJvdyBpbmRleCBub3QgZm91bmRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBUYWJsZVV0aWxzLmFkZFJvdyh0YWJsZSwgcm93SW5kZXgpOyAvLyBJbnNlcmUgdW1hIG5vdmEgbGluaGEgbm8gw61uZGljZSBlbmNvbnRyYWRvXG4gICAgICAgIEV2ZW50RW1pdHRlci5lbWl0Q2xvc2VFbGVtZW50RXZlbnQoVG9vbGJhcklEcy5UYWJsZVRvb2xiYXIpO1xuICAgIH1cblxuICAgIGluc2VydFJvd0JlbG93KGJsb2NrOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7XG5cbiAgICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgICAgICBjb25zdCB0YWJsZSA9IGJsb2NrLnF1ZXJ5U2VsZWN0b3IoXCJ0YWJsZVwiKTtcbiAgICAgICAgICAgIGlmICh0YWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoXCJ0cjpsYXN0LWNoaWxkXCIpO1xuICAgICAgICAgICAgICAgIGlmIChyb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm93SW5kZXggPSBBcnJheS5mcm9tKHRhYmxlLmNoaWxkcmVuWzBdLmNoaWxkcmVuKS5pbmRleE9mKHJvdykgKyAxO1xuICAgICAgICAgICAgICAgICAgICBUYWJsZVV0aWxzLmFkZFJvdyh0YWJsZSwgcm93SW5kZXgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyByb3dzIGluIHRoZSB0YWJsZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlRhYmxlIGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmZvY3VzU3RhY2sucGVlaygpO1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIGZvY3VzZWQgZWxlbWVudCBhdmFpbGFibGVcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjZWxsID0gZWxlbWVudC5jbG9zZXN0KFwidGRcIik7XG4gICAgICAgICAgICBpZiAoIWNlbGwpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTm8gY2VsbCBpcyBmb2N1c2VkXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgcm93ID0gY2VsbC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgdGFibGUgPSBjZWxsLmNsb3Nlc3QoXCJ0YWJsZVwiKTtcbiAgICAgICAgICAgIGlmICghdGFibGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVGFibGUgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocm93KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm93SW5kZXggPSBBcnJheS5mcm9tKHRhYmxlLmNoaWxkcmVuWzBdLmNoaWxkcmVuKS5pbmRleE9mKHJvdykgKyAxO1xuICAgICAgICAgICAgICAgIFRhYmxlVXRpbHMuYWRkUm93KHRhYmxlLCByb3dJbmRleCk7XG5cbiAgICAgICAgICAgICAgICBFdmVudEVtaXR0ZXIuZW1pdENsb3NlRWxlbWVudEV2ZW50KFRvb2xiYXJJRHMuVGFibGVUb29sYmFyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gaW5zZXJ0Q29sdW1uKGRpcmVjdGlvbjogJ2xlZnQnIHwgJ3JpZ2h0Jyk6IHZvaWQge1xuICAgIC8vICAgICB0aGlzLm1lbWVudG8uc2F2ZVN0YXRlKCk7ICAvLyBTYWx2YSBvIGVzdGFkbyBhdHVhbCBwYXJhIHBvc3PDrXZlbCBkZXNmYXppbWVudG9cblxuICAgIC8vICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5mb2N1c1N0YWNrLnBlZWsoKTsgIC8vIFBlZ2EgbyBlbGVtZW50byBhdHVhbG1lbnRlIGZvY2Fkb1xuICAgIC8vICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAvLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBmb2N1c2VkIGVsZW1lbnQgYXZhaWxhYmxlXCIpO1xuICAgIC8vICAgICAgICAgcmV0dXJuO1xuICAgIC8vICAgICB9XG5cbiAgICAvLyAgICAgY29uc3QgY2VsbCA9IGVsZW1lbnQuY2xvc2VzdChcInRkXCIpOyAgLy8gRW5jb250cmEgYSBjw6lsdWxhIGZvY2FkYSBkZW50cm8gZGEgdGFiZWxhXG4gICAgLy8gICAgIGlmICghY2VsbCkge1xuICAgIC8vICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIGNlbGwgaXMgZm9jdXNlZFwiKTtcbiAgICAvLyAgICAgICAgIHJldHVybjtcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIGNvbnN0IHRhYmxlID0gY2VsbC5jbG9zZXN0KFwidGFibGVcIik7ICAvLyBFbmNvbnRyYSBhIHRhYmVsYSBjb250ZW5kbyBhIGPDqWx1bGFcbiAgICAvLyAgICAgaWYgKCF0YWJsZSkge1xuICAgIC8vICAgICAgICAgY29uc29sZS5lcnJvcihcIlRhYmxlIGRvZXMgbm90IGV4aXN0XCIpO1xuICAgIC8vICAgICAgICAgcmV0dXJuO1xuICAgIC8vICAgICB9XG5cbiAgICAvLyAgICAgY29uc3QgY29sdW1uSW5kZXggPSBBcnJheS5mcm9tKGNlbGwucGFyZW50RWxlbWVudC5jaGlsZHJlbikuaW5kZXhPZihjZWxsKTsgIC8vIERldGVybWluYSBvIMOtbmRpY2UgZGEgY29sdW5hIGF0dWFsXG4gICAgLy8gICAgIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xuICAgIC8vICAgICAgICAgVGFibGVVdGlscy5hZGRDb2x1bW4odGFibGUsIGNvbHVtbkluZGV4KTsgIC8vIEFkaWNpb25hIGNvbHVuYSDDoCBlc3F1ZXJkYVxuICAgIC8vICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgVGFibGVVdGlscy5hZGRDb2x1bW4odGFibGUsIGNvbHVtbkluZGV4ICsgMSk7ICAvLyBBZGljaW9uYSBjb2x1bmEgw6AgZGlyZWl0YVxuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgaW5zZXJ0Q29sdW1uTGVmdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tZW1lbnRvLnNhdmVTdGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmZvY3VzU3RhY2sucGVlaygpO1xuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBmb2N1c2VkIGVsZW1lbnQgYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2VsbCA9IGVsZW1lbnQuY2xvc2VzdChcInRkXCIpO1xuICAgICAgICBpZiAoIWNlbGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBjZWxsIGlzIGZvY3VzZWRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0YWJsZSA9IGNlbGwuY2xvc2VzdChcInRhYmxlXCIpO1xuICAgICAgICBpZiAoIXRhYmxlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVGFibGUgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb2x1bW5JbmRleCA9IEFycmF5LmZyb20oY2VsbC5wYXJlbnRFbGVtZW50IS5jaGlsZHJlbikuaW5kZXhPZihjZWxsKTtcbiAgICAgICAgVGFibGVVdGlscy5hZGRDb2x1bW4odGFibGUsIGNvbHVtbkluZGV4KTtcblxuICAgICAgICBFdmVudEVtaXR0ZXIuZW1pdENsb3NlRWxlbWVudEV2ZW50KFRvb2xiYXJJRHMuVGFibGVUb29sYmFyKTtcblxuICAgIH1cblxuICAgIGluc2VydENvbHVtblJpZ2h0KGJsb2NrOiBIVE1MRWxlbWVudCB8IG51bGwpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tZW1lbnRvLnNhdmVTdGF0ZSgpO1xuXG4gICAgICAgIGlmIChibG9jaykge1xuICAgICAgICAgICAgY29uc3QgdGFibGUgPSBibG9jay5xdWVyeVNlbGVjdG9yKFwidGFibGVcIik7XG4gICAgICAgICAgICBpZiAodGFibGUpIHtcbiAgICAgICAgICAgICAgICBUYWJsZVV0aWxzLmFkZENvbHVtbih0YWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5mb2N1c1N0YWNrLnBlZWsoKTtcbiAgICAgICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBmb2N1c2VkIGVsZW1lbnQgYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY2VsbCA9IGVsZW1lbnQuY2xvc2VzdChcInRkXCIpO1xuICAgICAgICAgICAgaWYgKCFjZWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIGNlbGwgaXMgZm9jdXNlZFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRhYmxlID0gY2VsbC5jbG9zZXN0KFwidGFibGVcIik7XG4gICAgICAgICAgICBpZiAoIXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlRhYmxlIGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY29sdW1uSW5kZXggPSBBcnJheS5mcm9tKGNlbGwucGFyZW50RWxlbWVudCEuY2hpbGRyZW4pLmluZGV4T2YoY2VsbCk7XG4gICAgICAgICAgICBUYWJsZVV0aWxzLmFkZENvbHVtbih0YWJsZSwgY29sdW1uSW5kZXggKyAxKTtcblxuICAgICAgICAgICAgRXZlbnRFbWl0dGVyLmVtaXRDbG9zZUVsZW1lbnRFdmVudChUb29sYmFySURzLlRhYmxlVG9vbGJhcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaG93SW5zZXJ0TGluZUVsZW1lbnQoYmxvY2s6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGluc2VydExpbmUgPSBibG9jay5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YWJsZS1yb3dcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGluc2VydExpbmUuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgIH1cblxuICAgIHNob3dJbnNlcnRDb2x1bW5FbGVtZW50KGJsb2NrOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgICAgICBjb25zdCBpbnNlcnRMaW5lID0gYmxvY2sucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFibGUtY29sdW1uXCIpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBpbnNlcnRMaW5lLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICB9XG5cbiAgICBoaWRlSW5zZXJ0Um93RWxlbWVudChibG9jazogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgaW5zZXJ0TGluZSA9IGJsb2NrLnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhYmxlLXJvd1wiKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaW5zZXJ0TGluZS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICB9XG5cbiAgICBoaWRlSW5zZXJ0Q29sdW1uRWxlbWVudChibG9jazogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgaW5zZXJ0TGluZSA9IGJsb2NrLnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhYmxlLWNvbHVtblwiKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaW5zZXJ0TGluZS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICB9XG5cbiAgICAvLyBpc0FjdGl2ZUNlbGxCYWNrZ3JvdW5kQ29sb3IodmFsdWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIC8vICAgICByZXR1cm4gVGFibGVVdGlscy5pc0FjdGl2ZUNlbGxCYWNrZ3JvdW5kQ29sb3IodmFsdWUpO1xuICAgIC8vIH1cblxuICAgIC8vIGVtaXRDaGFuZ2VUYWJsZUJvcmRlckNvbG9yRXZlbnQgPSAoc2NvcGU6IFRhYmxlU2NvcGVzLCBjb2xvcjogQ29sb3JzKTogdm9pZCA9PiB7XG4gICAgLy8gICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KENvbW1hbmRzLiwge1xuICAgIC8vICAgICAgICAgZGV0YWlsOiB7IHNjb3BlOiBzY29wZSB9XG4gICAgLy8gICAgIH0pO1xuXG4gICAgLy8gICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xuICAgIC8vIH1cblxuXG4gICAgY2hhbmdlVGFibGVCb3JkZXJDb2xvcihzY29wZTogVGFibGVTY29wZXMsIGNvbG9yOiBDb2xvcnMpOiB2b2lkIHtcblxuICAgICAgICBjb25zdCB0YWJsZSA9IHRoaXMuZm9jdXNTdGFjay5wZWVrKCk/LmNsb3Nlc3QoRE9NRWxlbWVudHMuVEFCTEUpO1xuXG4gICAgICAgIGlmICh0YWJsZSkge1xuICAgICAgICAgICAgVGFibGVVdGlscy5jaGFuZ2VDZWxsQm9yZGVyQ29sb3IodGFibGUsIHNjb3BlLCBjb2xvcilcbiAgICAgICAgfVxuICAgIH1cblxufSIsImltcG9ydCB7IENvbW1vbkNsYXNzZXMgfSBmcm9tIFwiQC9jb21tb24vQ29tbW9uQ2xhc3Nlc1wiO1xyXG5pbXBvcnQgeyBJTWVtZW50byB9IGZyb20gXCIuL0lNZW1lbnRvXCI7XHJcbmltcG9ydCB7IERPTVV0aWxzIH0gZnJvbSBcIkAvdXRpbGl0aWVzL0RPTVV0aWxzXCI7XHJcbmltcG9ydCB7IERlZmF1bHRKU0V2ZW50cyB9IGZyb20gXCJAL2NvbW1vbi9EZWZhdWx0SlNFdmVudHNcIjtcclxuaW1wb3J0IHsgS2V5Ym9hcmRLZXlzIH0gZnJvbSBcIkAvY29tbW9uL0tleWJvYXJkS2V5c1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbWVudG8gaW1wbGVtZW50cyBJTWVtZW50byB7XHJcblxyXG4gIHByaXZhdGUgc3RhdGljIHF1ZXJ5OiBzdHJpbmcgPSBcIiNqb2hhbm5lc0VkaXRvciAuY29udGVudC13cmFwcGVyXCI7XHJcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IE1lbWVudG87XHJcblxyXG4gIHByaXZhdGUgdW5kb1N0YWNrOiB7IGh0bWw6IHN0cmluZyB9W10gPSBbXTtcclxuICBwcml2YXRlIHJlZG9TdGFjazogeyBodG1sOiBzdHJpbmcgfVtdID0gW107XHJcblxyXG4gIHByaXZhdGUgZ2V0IGNvbnRlbnQoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoTWVtZW50by5xdWVyeSkhO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcclxuICAgIGlmIChNZW1lbnRvLmluc3RhbmNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZSBNZW1lbnRvLmdldEluc3RhbmNlKCkgdG8gZ2V0IGluc3RhbmNlLlwiKTtcclxuICAgIH1cclxuICAgIHRoaXMuYXR0YWNoRXZlbnRzKCk7XHJcbiAgICB0aGlzLnNhdmVTdGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgc2F2ZVN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuY29udGVudCkge1xyXG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuY2FwdHVyZVN0YXRlKCk7XHJcbiAgICAgIHRoaXMudW5kb1N0YWNrLnB1c2goc3RhdGUpO1xyXG4gICAgICB0aGlzLnJlZG9TdGFjayA9IFtdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1bmRvKCkge1xyXG4gICAgaWYgKHRoaXMudW5kb1N0YWNrLmxlbmd0aCA+IDEpIHtcclxuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmNhcHR1cmVTdGF0ZSgpO1xyXG4gICAgICB0aGlzLnJlZG9TdGFjay5wdXNoKHN0YXRlKTtcclxuXHJcbiAgICAgIGNvbnN0IHN0YXRlVG9SZXN0b3JlID0gdGhpcy51bmRvU3RhY2sucG9wKCk7XHJcbiAgICAgIGlmIChzdGF0ZVRvUmVzdG9yZSkge1xyXG4gICAgICAgIHRoaXMuY29udGVudC5pbm5lckhUTUwgPSBzdGF0ZVRvUmVzdG9yZS5odG1sO1xyXG4gICAgICAgIERPTVV0aWxzLnJlc3RvcmVDYXJldEZyb21NYXJrZXIodGhpcy5jb250ZW50KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZWRvKCkge1xyXG4gICAgaWYgKHRoaXMucmVkb1N0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmNhcHR1cmVTdGF0ZSgpO1xyXG4gICAgICB0aGlzLnVuZG9TdGFjay5wdXNoKHN0YXRlKTtcclxuXHJcbiAgICAgIGNvbnN0IHN0YXRlVG9BcHBseSA9IHRoaXMucmVkb1N0YWNrLnBvcCgpO1xyXG4gICAgICBpZiAoc3RhdGVUb0FwcGx5KSB7XHJcbiAgICAgICAgdGhpcy5jb250ZW50LmlubmVySFRNTCA9IHN0YXRlVG9BcHBseS5odG1sO1xyXG4gICAgICAgIERPTVV0aWxzLnJlc3RvcmVDYXJldEZyb21NYXJrZXIodGhpcy5jb250ZW50KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXR0YWNoRXZlbnRzKCkge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChldmVudC5jdHJsS2V5ICYmIGV2ZW50LmtleSA9PT0gJ3onKSB7XHJcbiAgICAgICAgdGhpcy51bmRvKCk7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgfSBlbHNlIGlmIChldmVudC5jdHJsS2V5ICYmIGV2ZW50LmtleSA9PT0gJ3knKSB7XHJcbiAgICAgICAgdGhpcy5yZWRvKCk7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldmVudDogRXZlbnQpID0+IHtcclxuICAgIC8vICAgY29uc3QgaW5wdXRFdmVudCA9IGV2ZW50IGFzIElucHV0RXZlbnQ7XHJcbiAgICAvLyAgIGlmICghaW5wdXRFdmVudC5pc0NvbXBvc2luZyAmJiAhaW5wdXRFdmVudC5pbnB1dFR5cGUuc3RhcnRzV2l0aChcImRlbGV0ZVwiKSkge1xyXG4gICAgLy8gICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5kZWJvdW5jZVRpbWVyKTtcclxuICAgIC8vICAgICB0aGlzLmRlYm91bmNlVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAvLyAgICAgICB0aGlzLnNhdmVTdGF0ZSgpO1xyXG4gICAgLy8gICAgIH0sIHRoaXMuZGVib3VuY2VEZWxheSk7XHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH0pO1xyXG5cclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKERlZmF1bHRKU0V2ZW50cy5LZXl1cCwgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChldmVudC5rZXkgPT0gS2V5Ym9hcmRLZXlzLlNwYWNlKSB7XHJcbiAgICAgICAgdGhpcy5zYXZlU3RhdGUoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEluc3RhbmNlKCk6IE1lbWVudG8ge1xyXG4gICAgaWYgKCFNZW1lbnRvLmluc3RhbmNlKSB7XHJcbiAgICAgIE1lbWVudG8uaW5zdGFuY2UgPSBuZXcgTWVtZW50bygpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBNZW1lbnRvLmluc3RhbmNlO1xyXG4gIH1cclxuXHJcblxyXG4gIHByaXZhdGUgY2FwdHVyZVN0YXRlKCk6IHsgaHRtbDogc3RyaW5nIH0ge1xyXG4gICAgRE9NVXRpbHMuaW5zZXJ0Q2FyZXRNYXJrZXIodGhpcy5jb250ZW50KTtcclxuXHJcbiAgICBjb25zdCBjbG9uZSA9IHRoaXMuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkgYXMgSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgY2xvbmUucXVlcnlTZWxlY3RvckFsbChgLiR7Q29tbW9uQ2xhc3Nlcy5FZGl0b3JPbmx5fWApLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xyXG5cclxuICAgIERPTVV0aWxzLnJlbW92ZUNhcmV0TWFya2VyKHRoaXMuY29udGVudCk7XHJcblxyXG4gICAgcmV0dXJuIHsgaHRtbDogY2xvbmUuaW5uZXJIVE1MIH07XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBET01VdGlscyB9IGZyb20gXCJAL3V0aWxpdGllcy9ET01VdGlsc1wiO1xuaW1wb3J0IHsgSUVkaXRhYmxlTmF2aWdhdGlvbiB9IGZyb20gXCIuL0lFZGl0YWJsZU5hdmlnYXRpb25cIjtcbmltcG9ydCB7IERpcmVjdGlvbnMgfSBmcm9tIFwiQC9jb21tb24vRGlyZWN0aW9uc1wiO1xuaW1wb3J0IHsgQm91bmRhcmllcyB9IGZyb20gXCJAL2NvbW1vbi9Cb3VuZGFyaWVzXCI7XG5pbXBvcnQgeyBUYWJsZVV0aWxzIH0gZnJvbSBcIkAvdXRpbGl0aWVzL1RhYmxlVXRpbHNcIjtcbmltcG9ydCB7IElRdWlja01lbnUgfSBmcm9tIFwiQC9jb21wb25lbnRzL3F1aWNrLW1lbnUvSVF1aWNrTWVudVwiO1xuaW1wb3J0IHsgRGVwZW5kZW5jeUNvbnRhaW5lciB9IGZyb20gXCIuL0RlcGVuZGVuY3lDb250YWluZXJcIjtcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGhhbmRsZXMga2V5Ym9hcmQgZXZlbnRzIHRvIG5hdmlnYXRlIGJldHdlZW4gY29udGVudGVkaXRhYmxlIGVsZW1lbnRzIHVzaW5nIGFycm93IGtleXMsXG4gKiBhbmQgZW5zdXJlcyBmb2N1cyBtYW5hZ2VtZW50IGFuZCBjYXJldCBwbGFjZW1lbnQgd2l0aGluIHRoZXNlIGVsZW1lbnRzLlxuICogSXQgaW1wbGVtZW50cyB0aGUgYElFZGl0YWJsZU5hdmlnYXRpb25gIGludGVyZmFjZSBhbmQgdXNlcyBhIHNpbmdsZXRvbiBwYXR0ZXJuIHRvIG1hbmFnZSBpdHMgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBFZGl0YWJsZU5hdmlnYXRpb24gaW1wbGVtZW50cyBJRWRpdGFibGVOYXZpZ2F0aW9uIHtcblxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBFZGl0YWJsZU5hdmlnYXRpb247XG5cbiAgICBxdWlja01lbnU6IElRdWlja01lbnU7XG5cbiAgICAvKipcbiAgICAgKiBQcml2YXRlIGNvbnN0cnVjdG9yIHRvIHByZXZlbnQgZXh0ZXJuYWwgaW5zdGFudGlhdGlvbi5cbiAgICAgKiBJdCBiaW5kcyB0aGUgYGhhbmRsZUFycm93S2V5c2AgbWV0aG9kIHRvIGtleWJvYXJkIGV2ZW50cyBvbiB0aGUgZG9jdW1lbnQuXG4gICAgICovXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihxdWlja01lbnU6IElRdWlja01lbnUpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlQXJyb3dLZXlzLmJpbmQodGhpcykpO1xuXG4gICAgICAgIHRoaXMucXVpY2tNZW51ID0gcXVpY2tNZW51O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFjdHMgYXMgYSB0cmlnZ2VyIHdpdGhpbiB0aGUgZGVwZW5kZW5jeSBpbmplY3Rpb24gY29udGFpbmVyIHRvIGVuc3VyZSBpbnN0YW50aWF0aW9uIG9mIHRoaXMgc2luZ2xldG9uIGNsYXNzLlxuICAgICAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHBlcmZvcm0gYW55IG9wZXJhdGlvbnMgaXRzZWxmIGJ1dCBlbnN1cmVzIHRoYXQgYW4gaW5zdGFuY2Ugb2YgRWRpdGFibGVOYXZpZ2F0aW9uXG4gICAgICogaXMgY3JlYXRlZCBhbmQgcmVhZHkgdG8gbGlzdGVuIHRvIGtleWJvYXJkIGV2ZW50cy4gVGhpcyBpcyBjcnVjaWFsIGZvciBzZXR0aW5nIHVwIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgKiB0aGF0IG1hbmFnZSBuYXZpZ2F0aW9uIHdpdGhpbiBlZGl0YWJsZSBjb250ZW50IGFyZWFzLCBhcyBpdCB0cmlnZ2VycyB0aGUgbmVjZXNzYXJ5IGJpbmRpbmdzIHVwb24gaW5zdGFudGlhdGlvbi5cbiAgICAgKi9cbiAgICBsaXN0ZW4oKTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRWRpdGFibGVOYXZpZ2F0aW9uIGlzIG5vdyBsaXN0ZW5pbmcgZm9yIGtleSBldmVudHMuXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgc2luZ2xldG9uIGluc3RhbmNlIG9mIHRoZSBFZGl0YWJsZU5hdmlnYXRpb24gY2xhc3MuXG4gICAgICogSWYgdGhlIGluc3RhbmNlIGRvZXMgbm90IGV4aXN0LCBpdCBjcmVhdGVzIGEgbmV3IG9uZS5cbiAgICAgKiBAcmV0dXJucyB7RWRpdGFibGVOYXZpZ2F0aW9ufSBUaGUgc2luZ2xldG9uIGluc3RhbmNlIG9mIHRoZSBFZGl0YWJsZU5hdmlnYXRpb24gY2xhc3MuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBFZGl0YWJsZU5hdmlnYXRpb24ge1xuXG4gICAgICAgIGlmICghRWRpdGFibGVOYXZpZ2F0aW9uLmluc3RhbmNlKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHF1aWNrTWVudSA9IERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVzb2x2ZTxJUXVpY2tNZW51PihcIklRdWlja01lbnVcIik7XG5cbiAgICAgICAgICAgIEVkaXRhYmxlTmF2aWdhdGlvbi5pbnN0YW5jZSA9IG5ldyBFZGl0YWJsZU5hdmlnYXRpb24ocXVpY2tNZW51KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRWRpdGFibGVOYXZpZ2F0aW9uLmluc3RhbmNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlQXJyb3dLZXlzKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLnF1aWNrTWVudS5pc1Zpc2libGUgJiYgZXZlbnQua2V5LnN0YXJ0c1dpdGgoJ0Fycm93JykgJiYgIWV2ZW50LmFsdEtleSAmJiAhZXZlbnQuY3RybEtleSAmJiAhZXZlbnQuYWx0S2V5ICYmICFldmVudC5zaGlmdEtleSAmJiAhZXZlbnQubWV0YUtleSkge1xuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RWRpdGFibGUgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudEVkaXRhYmxlICYmIGN1cnJlbnRFZGl0YWJsZS5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZFN3aXRjaEVkaXRhYmxlKGN1cnJlbnRFZGl0YWJsZSwgZXZlbnQua2V5IGFzIERpcmVjdGlvbnMpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dEVkaXRhYmxlID0gdGhpcy5maW5kTmV4dEVkaXRhYmxlKGN1cnJlbnRFZGl0YWJsZSwgZXZlbnQua2V5IGFzIERpcmVjdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEVkaXRhYmxlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PSBEaXJlY3Rpb25zLkFycm93VXAgfHwgZXZlbnQua2V5ID09IERpcmVjdGlvbnMuQXJyb3dEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGFjZUNhcmV0SW5TaW1pbGFyUG9zaXRpb24oY3VycmVudEVkaXRhYmxlLCBuZXh0RWRpdGFibGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09IERpcmVjdGlvbnMuQXJyb3dMZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRE9NVXRpbHMucGxhY2VDdXJzb3JBdEVuZE9mRWRpdGFibGVFbGVtZW50KG5leHRFZGl0YWJsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT0gRGlyZWN0aW9ucy5BcnJvd1JpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRE9NVXRpbHMucGxhY2VDdXJzb3JBdFN0YXJ0T2ZFZGl0YWJsZUVsZW1lbnQobmV4dEVkaXRhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEVkaXRhYmxlLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZXMgaWYgbmF2aWdhdGlvbiBzaG91bGQgc3dpdGNoIGZyb20gdGhlIGN1cnJlbnQgZWRpdGFibGUgZWxlbWVudCBiYXNlZCBvbiB0aGUgYXJyb3cgZGlyZWN0aW9uIGFuZCBjYXJldCBwb3NpdGlvbi5cbiAgICAqIEl0IGNoZWNrcyBpZiB0aGUgY2FyZXQgaXMgYXQgdGhlIHN0YXJ0IG9yIGVuZCBvZiB0aGUgY29udGVudCBhbmQgZXZhbHVhdGVzIGJvdW5kYXJ5IGNvbmRpdGlvbnMgZm9yIHZlcnRpY2FsIG5hdmlnYXRpb24uXG4gICAgKiBcbiAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBUaGUgY3VycmVudCBjb250ZW50ZWRpdGFibGUgZWxlbWVudCBiZWluZyBldmFsdWF0ZWQuXG4gICAgKiBAcGFyYW0ge0RpcmVjdGlvbnN9IGRpcmVjdGlvbiAtIFRoZSBuYXZpZ2F0aW9uIGRpcmVjdGlvbiBpbmRpY2F0ZWQgYnkgdGhlIGFycm93IGtleSBwcmVzcy5cbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIG5hdmlnYXRpb24gc2hvdWxkIG1vdmUgdG8gYW5vdGhlciBlbGVtZW50LCBmYWxzZSBvdGhlcndpc2UuXG4gICAgKi9cbiAgICBwcml2YXRlIHNob3VsZFN3aXRjaEVkaXRhYmxlKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBkaXJlY3Rpb246IERpcmVjdGlvbnMpOiBib29sZWFuIHtcblxuICAgICAgICAvLyBET01VdGlscy5zYW5pdGl6ZUNvbnRlbnRFZGl0YWJsZShlbGVtZW50KTtcbiAgICAgICAgY29uc3Qgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuXG4gICAgICAgIC8vIElmIGhhcyBzZWxlY3Rpb24gaWdub3JlIG5hdmlnYXRpb24gXG4gICAgICAgIGlmIChzZWwgJiYgc2VsLnJhbmdlQ291bnQgPiAwKSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSBzZWwuZ2V0UmFuZ2VBdCgwKTtcbiAgICAgICAgICAgIGlmIChyYW5nZS5lbmRPZmZzZXQgIT0gcmFuZ2Uuc3RhcnRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsICYmIHNlbC5yYW5nZUNvdW50ID4gMCkge1xuICAgICAgICAgICAgY29uc3QgeyBhdFN0YXJ0LCBhdEVuZCB9ID0gRE9NVXRpbHMuZ2V0U2VsZWN0aW9uVGV4dEluZm8oZWxlbWVudCk7XG4gICAgICAgICAgICBjb25zdCBpc0F0Rmlyc3RMaW5lID0gdGhpcy5pc0F0TGluZUJvdW5kYXJ5KGVsZW1lbnQsIEJvdW5kYXJpZXMuRmlyc3QpO1xuICAgICAgICAgICAgY29uc3QgaXNBdExhc3RMaW5lID0gdGhpcy5pc0F0TGluZUJvdW5kYXJ5KGVsZW1lbnQsIEJvdW5kYXJpZXMuTGFzdCk7XG5cbiAgICAgICAgICAgIGlmICgoZGlyZWN0aW9uID09PSBEaXJlY3Rpb25zLkFycm93TGVmdCAmJiBhdFN0YXJ0KSB8fCAoZGlyZWN0aW9uID09PSBEaXJlY3Rpb25zLkFycm93UmlnaHQgJiYgYXRFbmQpIHx8XG4gICAgICAgICAgICAgICAgKGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9ucy5BcnJvd1VwICYmIChhdFN0YXJ0IHx8IGlzQXRGaXJzdExpbmUpKSB8fFxuICAgICAgICAgICAgICAgIChkaXJlY3Rpb24gPT09IERpcmVjdGlvbnMuQXJyb3dEb3duICYmIChhdEVuZCB8fCBpc0F0TGFzdExpbmUpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0F0TGluZUJvdW5kYXJ5KGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBib3VuZGFyeTogQm91bmRhcmllcyk6IGJvb2xlYW4ge1xuXG4gICAgICAgIGNvbnN0IGhhc1RleHRDb250ZW50ID0gZWxlbWVudC50ZXh0Q29udGVudD8udHJpbSgpICE9PSBcIlwiO1xuXG4gICAgICAgIGlmICghaGFzVGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICBpZiAoIXNlbGVjdGlvbiB8fCBzZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG4gICAgICAgIGNvbnN0IHJlY3QgPSByYW5nZS5nZXRDbGllbnRSZWN0cygpWzBdO1xuXG4gICAgICAgIGlmICghcmVjdCkgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgY29uc3QgZWxlbWVudFJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCB0b2xlcmFuY2UgPSAxMTtcblxuICAgICAgICBpZiAoYm91bmRhcnkgPT09IEJvdW5kYXJpZXMuRmlyc3QpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyhyZWN0LnRvcCAtIGVsZW1lbnRSZWN0LnRvcCkgPCB0b2xlcmFuY2U7XG4gICAgICAgIH0gZWxzZSBpZiAoYm91bmRhcnkgPT09IEJvdW5kYXJpZXMuTGFzdCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHJlY3QuYm90dG9tIC0gZWxlbWVudFJlY3QuYm90dG9tKSA8IHRvbGVyYW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIExvY2F0ZXMgdGhlIG5leHQgY29udGVudGVkaXRhYmxlIGVsZW1lbnQgaW4gdGhlIHNwZWNpZmllZCBuYXZpZ2F0aW9uIGRpcmVjdGlvbi5cbiAgICAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgaW50byBhY2NvdW50IGJvdGggaG9yaXpvbnRhbCAobGVmdC9yaWdodCkgYW5kIHZlcnRpY2FsICh1cC9kb3duKSBkaXJlY3Rpb25zIGFuZCBoYW5kbGVzIHRhYmxlIGNlbGwgYm91bmRhcmllcy5cbiAgICAqIFxuICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY3VycmVudCAtIFRoZSBjdXJyZW50IGNvbnRlbnRlZGl0YWJsZSBlbGVtZW50LlxuICAgICogQHBhcmFtIHtEaXJlY3Rpb25zfSBkaXJlY3Rpb24gLSBUaGUgZGlyZWN0aW9uIG9mIHRoZSBhcnJvdyBrZXkgbmF2aWdhdGlvbi5cbiAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudCB8IG51bGx9IFRoZSBuZXh0IGNvbnRlbnRlZGl0YWJsZSBlbGVtZW50IGluIHRoZSBkZXNpcmVkIGRpcmVjdGlvbiBvciBudWxsIGlmIG5vIHN1aXRhYmxlIGVsZW1lbnQgaXMgZm91bmQuXG4gICAgKi9cbiAgICBwcml2YXRlIGZpbmROZXh0RWRpdGFibGUoY3VycmVudDogSFRNTEVsZW1lbnQsIGRpcmVjdGlvbjogRGlyZWN0aW9ucyk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGFsbEVkaXRhYmxlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2NvbnRlbnRlZGl0YWJsZT1cInRydWVcIl0nKSkgYXMgSFRNTEVsZW1lbnRbXTtcbiAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gYWxsRWRpdGFibGVzLmluZGV4T2YoY3VycmVudCk7XG5cbiAgICAgICAgLy8gVGhlIHRhYmxlIG5hdmlnYXRpb24gYmVoYXZpb3IgaXMgYSBsaXR0bGUgZGlmZmVyZW50XG4gICAgICAgIGlmIChjdXJyZW50LmNsb3Nlc3QoXCJ0ZFwiKSkge1xuICAgICAgICAgICAgY29uc3QgdGFibGUgPSBjdXJyZW50LmNsb3Nlc3QoXCJ0YWJsZVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBjdXJyZW50LmNsb3Nlc3QoXCJ0ZFwiKTtcbiAgICAgICAgICAgIGlmICh0YWJsZSAmJiBjZWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmVpZ2hib3JDZWxsID0gVGFibGVVdGlscy5nZXROZWlnaGJvckNlbGwodGFibGUsIGNlbGwsIGRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKG5laWdoYm9yQ2VsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmVpZ2hib3JDZWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuZXh0SW5kZXggPSAtMTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9ucy5BcnJvd0xlZnQgfHwgZGlyZWN0aW9uID09PSBEaXJlY3Rpb25zLkFycm93UmlnaHQpIHtcbiAgICAgICAgICAgIG5leHRJbmRleCA9IGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9ucy5BcnJvd0xlZnQgPyBjdXJyZW50SW5kZXggLSAxIDogY3VycmVudEluZGV4ICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHRJbmRleCA9IHRoaXMuZmluZFZlcnRpY2FsRWRpdGFibGVJbmRleChjdXJyZW50LCBhbGxFZGl0YWJsZXMsIGRpcmVjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV4dEluZGV4IDwgMCB8fCBuZXh0SW5kZXggPj0gYWxsRWRpdGFibGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYWxsRWRpdGFibGVzW25leHRJbmRleF0gfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIEZpbmRzIHRoZSBuZXh0IGNvbnRlbnRlZGl0YWJsZSBlbGVtZW50IGluIGEgdmVydGljYWwgZGlyZWN0aW9uICh1cCBvciBkb3duKSByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBlbGVtZW50LlxuICAgICogSXQgY2FsY3VsYXRlcyB0aGUgY2xvc2VzdCBlZGl0YWJsZSBlbGVtZW50IGJhc2VkIG9uIHZlcnRpY2FsIGRpc3RhbmNlIGFuZCBtaW5pbWFsIGhvcml6b250YWwgc2hpZnQsIGZhdm9yaW5nIGVsZW1lbnRzIGRpcmVjdGx5IGFib3ZlIG9yIGJlbG93LlxuICAgICogXG4gICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjdXJyZW50IC0gVGhlIGN1cnJlbnRseSBmb2N1c2VkIGNvbnRlbnRlZGl0YWJsZSBlbGVtZW50LlxuICAgICogQHBhcmFtIHtIVE1MRWxlbWVudFtdfSBhbGxFZGl0YWJsZXMgLSBBbiBhcnJheSBvZiBhbGwgY29udGVudGVkaXRhYmxlIGVsZW1lbnRzLlxuICAgICogQHBhcmFtIHtEaXJlY3Rpb25zfSBkaXJlY3Rpb24gLSBUaGUgZGlyZWN0aW9uIG9mIG5hdmlnYXRpb24sIGVpdGhlciB1cCBvciBkb3duLlxuICAgICogQHJldHVybnMge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSBjbG9zZXN0IHZlcnRpY2FsIGVkaXRhYmxlIGVsZW1lbnQgb3IgdGhlIGN1cnJlbnQgaW5kZXggaWYgbm9uZSBhcmUgY2xvc2VyLlxuICAgICovXG4gICAgLy8gcHJpdmF0ZSBmaW5kVmVydGljYWxFZGl0YWJsZShjdXJyZW50OiBIVE1MRWxlbWVudCwgYWxsRWRpdGFibGVzOiBIVE1MRWxlbWVudFtdLCBkaXJlY3Rpb246IERpcmVjdGlvbnMpOiBudW1iZXIge1xuICAgIC8vICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBhbGxFZGl0YWJsZXMuaW5kZXhPZihjdXJyZW50KTtcbiAgICAvLyAgICAgY29uc3QgY3VycmVudFJlY3QgPSBjdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIC8vICAgICBsZXQgY2xvc2VzdEluZGV4ID0gLTE7XG4gICAgLy8gICAgIGxldCBjbG9zZXN0RGlzdGFuY2UgPSBJbmZpbml0eTtcblxuICAgIC8vICAgICBhbGxFZGl0YWJsZXMuZm9yRWFjaCgoZWRpdGFibGUsIGluZGV4KSA9PiB7XG4gICAgLy8gICAgICAgICBpZiAoZWRpdGFibGUgIT09IGN1cnJlbnQpIHtcbiAgICAvLyAgICAgICAgICAgICBjb25zdCByZWN0ID0gZWRpdGFibGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgLy8gICAgICAgICAgICAgY29uc3QgdmVydGljYWxEaXN0YW5jZSA9IGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9ucy5BcnJvd1VwID8gY3VycmVudFJlY3QudG9wIC0gcmVjdC5ib3R0b20gOiByZWN0LnRvcCAtIGN1cnJlbnRSZWN0LmJvdHRvbTtcbiAgICAvLyAgICAgICAgICAgICBjb25zdCBob3Jpem9udGFsRGlzdGFuY2UgPSBNYXRoLmFicyhjdXJyZW50UmVjdC5sZWZ0IC0gcmVjdC5sZWZ0KTtcblxuICAgIC8vICAgICAgICAgICAgIGlmICh2ZXJ0aWNhbERpc3RhbmNlID4gMCAmJiAodmVydGljYWxEaXN0YW5jZSArIGhvcml6b250YWxEaXN0YW5jZSA8IGNsb3Nlc3REaXN0YW5jZSkpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgY2xvc2VzdERpc3RhbmNlID0gdmVydGljYWxEaXN0YW5jZSArIGhvcml6b250YWxEaXN0YW5jZTtcbiAgICAvLyAgICAgICAgICAgICAgICAgY2xvc2VzdEluZGV4ID0gaW5kZXg7XG4gICAgLy8gICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9KTtcblxuICAgIC8vICAgICByZXR1cm4gY2xvc2VzdEluZGV4ID09PSAtMSA/IGN1cnJlbnRJbmRleCA6IGNsb3Nlc3RJbmRleDtcbiAgICAvLyB9XG4gICAgcHJpdmF0ZSBmaW5kVmVydGljYWxFZGl0YWJsZUluZGV4KGN1cnJlbnQ6IEhUTUxFbGVtZW50LCBhbGxFZGl0YWJsZXM6IEhUTUxFbGVtZW50W10sIGRpcmVjdGlvbjogRGlyZWN0aW9ucyk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGFsbEVkaXRhYmxlcy5pbmRleE9mKGN1cnJlbnQpO1xuICAgICAgICBsZXQgbmV4dEluZGV4ID0gY3VycmVudEluZGV4O1xuICAgIFxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBEaXJlY3Rpb25zLkFycm93VXApIHtcbiAgICAgICAgICAgIG5leHRJbmRleC0tO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9ucy5BcnJvd0Rvd24pIHtcbiAgICAgICAgICAgIG5leHRJbmRleCsrO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGlmIChuZXh0SW5kZXggPj0gMCAmJiBuZXh0SW5kZXggPCBhbGxFZGl0YWJsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dEluZGV4O1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFBsYWNlcyB0aGUgY2FyZXQgaW4gYSBwb3NpdGlvbiB3aXRoaW4gdGhlIG5leHQgZWxlbWVudCB0aGF0IGNsb3NlbHkgbWF0Y2hlcyBpdHMgcG9zaXRpb24gaW4gdGhlIGN1cnJlbnQgZWxlbWVudC5cbiAgICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4gbW92aW5nIGZvY3VzIGJldHdlZW4gY29udGVudGVkaXRhYmxlIGVsZW1lbnRzIHRvIG1haW50YWluIGEgY29uc2lzdGVudCB1c2VyIGV4cGVyaWVuY2UuXG4gICAgKiBcbiAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGN1cnJlbnQgLSBUaGUgY3VycmVudCBjb250ZW50ZWRpdGFibGUgZWxlbWVudCB3aGVyZSB0aGUgY2FyZXQgaXMgbG9jYXRlZC5cbiAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5leHQgLSBUaGUgbmV4dCBjb250ZW50ZWRpdGFibGUgZWxlbWVudCB0byB3aGljaCB0aGUgY2FyZXQgd2lsbCBtb3ZlLlxuICAgICovXG4gICAgcHJpdmF0ZSBwbGFjZUNhcmV0SW5TaW1pbGFyUG9zaXRpb24oY3VycmVudDogSFRNTEVsZW1lbnQsIG5leHQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgaWYgKHNlbCAmJiBzZWwucmFuZ2VDb3VudCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSYW5nZSA9IHNlbC5nZXRSYW5nZUF0KDApO1xuICAgICAgICAgICAgY29uc3QgcmVjdCA9IGN1cnJlbnRSYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuXG4gICAgICAgICAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKG5leHQsIE5vZGVGaWx0ZXIuU0hPV19URVhUKTtcbiAgICAgICAgICAgIGxldCBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICBsZXQgYmVzdE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgbGV0IGJlc3RPZmZzZXQgPSAwO1xuICAgICAgICAgICAgbGV0IGJlc3REaXN0YW5jZSA9IEluZmluaXR5O1xuXG4gICAgICAgICAgICBpZiAoYmVzdE5vZGUpIHtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbm9kZSB8fCAhbm9kZS5ub2RlVmFsdWUpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIDApO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobm9kZSwgbm9kZS5ub2RlVmFsdWUubGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUubm9kZVZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChub2RlLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVzdFJlY3QgPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9yaXpvbnRhbERpc3RhbmNlID0gTWF0aC5hYnModGVzdFJlY3QubGVmdCAtIHJlY3QubGVmdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9yaXpvbnRhbERpc3RhbmNlIDwgYmVzdERpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdERpc3RhbmNlID0gaG9yaXpvbnRhbERpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3ROb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZXN0T2Zmc2V0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSk7XG5cbiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChiZXN0Tm9kZSwgYmVzdE9mZnNldCk7XG4gICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG4gICAgICAgICAgICAgICAgc2VsLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKG5leHQpO1xuICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn0iLCJpbXBvcnQgJy4vYXNzZXRzL2Nzcy9tYWluLmNzcyc7XHJcbmltcG9ydCB7IFVJQnVpbGRlciB9IGZyb20gJy4vYnVpbGRlcnMvVUlCdWlsZGVyJztcclxuaW1wb3J0IHsgQ29tbWFuZERpc3BhdGNoZXIgfSBmcm9tICcuL2NvbW1hbmRzL0NvbW1hbmREaXNwYXRjaGVyJztcclxuaW1wb3J0IHsgU2hvcnRjdXRMaXN0ZW5lcnMgfSBmcm9tICcuL2NvcmUvU2hvcnRjdXRMaXN0ZW5lcnMnO1xyXG5pbXBvcnQgeyBUYWJsZUxpc3RlbmVycyB9IGZyb20gJy4vY29yZS9saXN0ZW5lcnMvVGFibGVMaXN0ZW5lcnMnO1xyXG5pbXBvcnQgeyBRdWlja01lbnUgfSBmcm9tICcuL2NvbXBvbmVudHMvcXVpY2stbWVudS9RdWlja01lbnUnO1xyXG5pbXBvcnQgeyBEZXBlbmRlbmN5Q29udGFpbmVyIH0gZnJvbSAnLi9jb3JlL0RlcGVuZGVuY3lDb250YWluZXInO1xyXG5pbXBvcnQgeyBGb2N1c1N0YWNrIH0gZnJvbSAnLi9jb3JlL0ZvY3VzU3RhY2snO1xyXG5pbXBvcnQgeyBCbG9ja09wZXJhdGlvbnNTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9ibG9jay1vcGVyYXRpb25zL0Jsb2NrT3BlcmF0aW9uc1NlcnZpY2UnO1xyXG5pbXBvcnQgeyBFbGVtZW50RmFjdG9yeVNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2VsZW1lbnQtZmFjdG9yeS9FbGVtZW50RmFjdG9yeVNlcnZpY2UnO1xyXG5pbXBvcnQgeyBUZXh0T3BlcmF0aW9uc1NlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL3RleHQtb3BlcmF0aW9ucy9UZXh0T3BlcmF0aW9uc1NlcnZpY2UnO1xyXG5pbXBvcnQgeyBUYWJsZU9wZXJhdGlvbnNTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy90YWJsZS1vcGVyYXRpb25zL1RhYmxlT3BlcmF0aW9uc1NlcnZpY2UnO1xyXG5pbXBvcnQgeyBUYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXIgfSBmcm9tICcuL2NvbXBvbmVudHMvZmxvYXRpbmctdG9vbGJhci9UYWJsZUNvbnRleHRGbG9hdGluZ1Rvb2xiYXInO1xyXG5pbXBvcnQgeyBNZW1lbnRvIH0gZnJvbSAnLi9jb3JlL01lbWVudG8nO1xyXG5pbXBvcnQgeyBFZGl0YWJsZU5hdmlnYXRpb24gfSBmcm9tICcuL2NvcmUvRWRpdGFibGVOYXZpZ2F0aW9uJztcclxuaW1wb3J0IHsgQmxvY2tUb29sYm94IH0gZnJvbSAnLi9jb21wb25lbnRzL2Jsb2NrLXRvb2xib3gvQmxvY2tUb29sYm94JztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIHNjcmlwdCBpbml0aWFsaXplcyB0aGUgZWRpdG9yIGFuZCBzZXRzIHVwIGV2ZW50IGxpc3RlbmVycyBvbmNlIHRoZSBET00gY29udGVudCBoYXMgZnVsbHkgbG9hZGVkLlxyXG4gKiBJdCBpcyByZXNwb25zaWJsZSBmb3IgYnVpbGRpbmcgdGhlIHVzZXIgaW50ZXJmYWNlIGFuZCBzdGFydGluZyB0aGUgZXZlbnQgbGlzdGVuaW5nIHByb2Nlc3MgdG8gaGFuZGxlIGNvbW1hbmRzLlxyXG4gKlxyXG4gKiBUaGUgYERPTUNvbnRlbnRMb2FkZWRgIGV2ZW50IGVuc3VyZXMgdGhhdCBhbGwgdGhlIERPTSBjb250ZW50IGhhcyBiZWVuIGZ1bGx5IHBhcnNlZCBhbmQgbG9hZGVkIGJlZm9yZSB0aGUgaW5pdGlhbGl6YXRpb24gYmVnaW5zLlxyXG4gKiBgVUlCdWlsZGVyLmJ1aWxkKCkuc3RhcnQoKTtgIGlzIHVzZWQgdG8gY29uc3RydWN0IGFuZCBhY3RpdmF0ZSB0aGUgdXNlciBpbnRlcmZhY2UuXHJcbiAqIGBDb21tYW5kRGlzcGF0Y2hlci5nZXRJbnN0YW5jZSgpLmxpc3RlbigpO2AgcmV0cmlldmVzIGFuIGluc3RhbmNlIG9mIHRoZSBDb21tYW5kRGlzcGF0Y2hlciBhbmQgc3RhcnRzIGxpc3RlbmluZyBmb3IgZXZlbnRzLlxyXG4gKi9cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICBEZXBlbmRlbmN5Q29udGFpbmVyLkluc3RhbmNlLnJlZ2lzdGVyKFwiSU1lbWVudG9cIiwgKCkgPT4gTWVtZW50by5nZXRJbnN0YW5jZSgpKTtcclxuICAgIERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVnaXN0ZXIoXCJJU2hvcnRjdXRMaXN0ZW5lcnNcIiwgKCkgPT4gU2hvcnRjdXRMaXN0ZW5lcnMuZ2V0SW5zdGFuY2UoKSk7XHJcbiAgICBEZXBlbmRlbmN5Q29udGFpbmVyLkluc3RhbmNlLnJlZ2lzdGVyKFwiSVRhYmxlTGlzdGVuZXJzXCIsICgpID0+IFRhYmxlTGlzdGVuZXJzLmdldEluc3RhbmNlKCkpO1xyXG5cclxuICAgIERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVnaXN0ZXIoXCJJRm9jdXNTdGFja1wiLCAoKSA9PiBGb2N1c1N0YWNrLmdldEluc3RhbmNlKCkpO1xyXG4gICAgRGVwZW5kZW5jeUNvbnRhaW5lci5JbnN0YW5jZS5yZWdpc3RlcihcIklFbGVtZW50RmFjdG9yeVNlcnZpY2VcIiwgKCkgPT4gRWxlbWVudEZhY3RvcnlTZXJ2aWNlLmdldEluc3RhbmNlKCkpO1xyXG4gICAgRGVwZW5kZW5jeUNvbnRhaW5lci5JbnN0YW5jZS5yZWdpc3RlcihcIklUZXh0T3BlcmF0aW9uc1NlcnZpY2VcIiwgKCkgPT4gVGV4dE9wZXJhdGlvbnNTZXJ2aWNlLmdldEluc3RhbmNlKCkpO1xyXG4gICAgRGVwZW5kZW5jeUNvbnRhaW5lci5JbnN0YW5jZS5yZWdpc3RlcihcIklUYWJsZU9wZXJhdGlvbnNTZXJ2aWNlXCIsICgpID0+IFRhYmxlT3BlcmF0aW9uc1NlcnZpY2UuZ2V0SW5zdGFuY2UoKSk7XHJcbiAgICBEZXBlbmRlbmN5Q29udGFpbmVyLkluc3RhbmNlLnJlZ2lzdGVyKFwiSUJsb2NrT3BlcmF0aW9uc1NlcnZpY2VcIiwgKCkgPT4gQmxvY2tPcGVyYXRpb25zU2VydmljZS5nZXRJbnN0YW5jZSgpKTtcclxuXHJcbiAgICAvL1VzZXJJbnRlcmZhY2VcclxuICAgIERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVnaXN0ZXIoXCJJUXVpY2tNZW51XCIsICgpID0+IFF1aWNrTWVudS5nZXRJbnN0YW5jZSgpKTtcclxuICAgIERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVnaXN0ZXIoXCJJVGFibGVDb250ZXh0RmxvYXRpbmdUb29sYmFyXCIsICgpID0+IFRhYmxlQ29udGV4dEZsb2F0aW5nVG9vbGJhci5nZXRJbnN0YW5jZSgpKTtcclxuICAgIERlcGVuZGVuY3lDb250YWluZXIuSW5zdGFuY2UucmVnaXN0ZXIoXCJJRWRpdGFibGVOYXZpZ2F0aW9uXCIsICgpID0+IEVkaXRhYmxlTmF2aWdhdGlvbi5nZXRJbnN0YW5jZSgpKTtcclxuXHJcbiAgICBVSUJ1aWxkZXIuYnVpbGQoKS5zdGFydCgpO1xyXG5cclxuICAgIENvbW1hbmREaXNwYXRjaGVyLmdldEluc3RhbmNlKCkubGlzdGVuKCk7XHJcbiAgICBFZGl0YWJsZU5hdmlnYXRpb24uZ2V0SW5zdGFuY2UoKS5saXN0ZW4oKTtcclxuICAgIEJsb2NrVG9vbGJveC5nZXRJbnN0YW5jZSgpLmxpc3RlbigpO1xyXG5cclxuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwiVGV4dEVkaXRvckxvYWRlZFwiKSk7XHJcblxyXG59KTsiXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIiwiQ29udGVudFR5cGVzIiwiSWNvbnMiLCJUb29sYm94T3B0aW9ucyIsIkNvbW1vbkNsYXNzZXMiLCJDdXN0b21VSUV2ZW50cyIsIkRlZmF1bHRKU0V2ZW50cyIsImxvY2FscyIsIlV0aWxzIiwiZ2VuZXJhdGVVbmlxdWVJZCIsInRpbWVQYXJ0IiwiRGF0ZSIsIm5vdyIsInJhbmRvbUFycmF5IiwiVWludDMyQXJyYXkiLCJjcnlwdG8iLCJnZXRSYW5kb21WYWx1ZXMiLCJyZ2JUb0hleCIsInJnYiIsIm1hdGNoIiwiTnVtYmVyIiwieCIsImhleCIsImlzVmFsaWRVcmwiLCJ1cmwiLCJwYXR0ZXJuIiwiUmVnRXhwIiwiaW5jbHVkZXMiLCJ0b0xvd2VyQ2FzZSIsInRlc3QiLCJFbGVtZW50RmFjdG9yeVNlcnZpY2UiLCJjcmVhdG9ycyIsInN0YXRpYyIsIkJMT0NLX1BBUkFHUkFQSCIsIlBBUkFHUkFQSCIsIkNIRUNLQk9YX0lURU0iLCJMSVNUX0lURU0iLCJDT0RFIiwiUVVPVEUiLCJCVUxMRVRFRF9MSVNUIiwiTlVNQkVSRURfTElTVCIsIkNIRUNLX0xJU1QiLCJIRUFERVJfMSIsIkhFQURFUl8yIiwiSEVBREVSXzMiLCJIRUFERVJfNCIsIkhFQURFUl81IiwiSEVBREVSXzYiLCJEUkFHX0hBTkRMRV9CVVRUT04iLCJUQUJMRSIsIklNQUdFIiwiVklERU8iLCJTUE9USUZZIiwiR0lUSFVCX0dJU1QiLCJHSVRMQUJfU05JUFBFVCIsIkNPREVQRU4iLCJDQUxMT1VUIiwiU0VQQVJBVE9SIiwiX2luc3RhbmNlIiwicmVnaXN0ZXIiLCJFTEVNRU5UX1RZUEVTIiwiYmxvY2tQYXJhZ3JhcGhDcmVhdG9yIiwicGFyYWdyYXBoQ3JlYXRvciIsImNoZWNrYm94SXRlbUNyZWF0b3IiLCJsaXN0SXRlbUNyZWF0b3IiLCJjb2RlQ3JlYXRvciIsInF1b3RlQ3JlYXRvciIsImNoZWNrTGlzdENyZWF0b3IiLCJidWxsZXRlZExpc3RDcmVhdG9yIiwibnVtYmVyZWRMaXN0Q3JlYXRvciIsImhlYWRpbmdDcmVhdG9yIiwiZHJhZ0hhbmRsZUJ1dHRvbkNyZWF0b3IiLCJ0YWJsZUNyZWF0b3IiLCJwbGFjZWhvbGRlckNyZWF0b3IiLCJJbWFnZSIsIkltYWdlMiIsIlNob3dNZWRpYUlucHV0VXBsb2FkIiwiU2hvd01lZGlhSW5wdXRFbWJlZCIsIklmcmFtZSIsIllvdVR1YmUiLCJTcG90aWZ5IiwiR2l0SHViIiwiQ29kZVBlbiIsImNhbGxvdXRDcmVhdG9yIiwic2VwYXJhdG9yQ3JlYXRvciIsImdldEluc3RhbmNlIiwidHlwZSIsImNyZWF0b3IiLCJjcmVhdGUiLCJUeXBlRXJyb3IiLCJibG9ja1BhcmFncmFwaCIsInBhcmFncmFwaCIsImxldmVsIiwiaGVhZGluZyIsImNoZWNrYm94SXRlbSIsImxpc3RJdGVtXzIiLCJkcmFnSGFuZGxlQnV0dG9uIiwiY29udGFpbmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwiY29kZUJsb2NrIiwicHJlIiwiSW5jbHVkZUJsb2NrVG9vbGJhckNsYXNzIiwiTGFuZ3VhZ2VTZWxlY3Rpb25Ub29sQ2xhc3MiLCJFeHRyYU9wdGlvbnNDbGFzcyIsImNvZGUiLCJjb250ZW50RWRpdGFibGUiLCJ0ZXh0Q29udGVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVBdHRyaWJ1dGUiLCJobGpzIiwiaGlnaGxpZ2h0RWxlbWVudCIsImNvbnRlbnRFbGVtZW50IiwiYmxvY2txdW90ZSIsImdldFJhbmRvbVF1b3RlIiwicXVvdGF0aW9ucyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInVsIiwiQ2hlY2tMaXN0IiwiaW5pdGlhbEl0ZW0iLCJCdWxsZXRlZExpc3QiLCJOdW1iZXJlZExpc3QiLCJ0YWJsZVNoZWxsIiwidGFibGVDb250cm9sbGVyIiwidGFibGVXcmFwcGVyIiwidGFibGUiLCJBbGlnblRvb2xDbGFzcyIsIlRhYmxlIiwidGJvZHkiLCJyb3dEYXRhIiwic3BsaXQiLCJyb3ciLCJmb3JFYWNoIiwiY2VsbENvbnRlbnQiLCJjZWxsIiwiYWRkUm93IiwiaW5uZXJIVE1MIiwiYWRkQ29sdW1uIiwiY29udGVudFR5cGUiLCJpY29uIiwidGV4dCIsImNsYXNzZXMiLCJDb250ZW50RWxlbWVudCIsInBsYWNlaG9sZGVyIiwiU2hvd01lZGlhSW5wdXRPbkNsaWNrIiwicGxhY2Vob2xkZXJJY29uIiwiY3JlYXRlSWNvbiIsInBsYWNlaG9sZGVyVGV4dCIsImlubmVyVGV4dCIsImpvaGFubmVzQ2FsbG91dCIsIkNvbG9yVG9vbENsYXNzIiwiY2FsbG91dFdyYXBwZXIiLCJ0ZXh0QXJlYSIsIndyYXBwZXIiLCJzZXBhcmF0b3IiLCJwIiwiUGFyYWdyYXBoIiwiaCIsImNoZWNrYm94Iiwic3BhbiIsImRpdiIsIm5ld0RpdiIsIm5ld0VsZW1lbnQiLCJkcmFnSGFuZGxlcldyYXBwZXIiLCJFZGl0b3JPbmx5IiwiYnV0dG9uIiwiZHJhZ2dhYmxlIiwiaWNvbklkIiwiQmFzZVVJQ29tcG9uZW50IiwiX2NhbkhpZGUiLCJwcm9wcyIsImh0bWxFbGVtZW50IiwicGFyZW50IiwiY29uc3RydWN0b3IiLCJpbml0IiwiZGlzcGxheSIsInNldElkIiwiYWRkQ3NzQ2xhc3MiLCJ0b2tlbnMiLCJhcHBlbmRUbyIsImlzVmlzaWJsZSIsInZpc2liaWxpdHkiLCJjb250YWlucyIsImdldENvbXB1dGVkU3R5bGUiLCJwYXJlbnRFbGVtZW50Iiwic2hvdyIsImhpZGUiLCJsb2NrSGlkZSIsInVubG9ja0hpZGUiLCJjYW5IaWRlIiwidmFsdWUiLCJmb2N1cyIsImNoYW5nZUNvbG9yIiwiY29sb3IiLCJyZW1vdmVDb2xvciIsImNoYW5nZVZpc2liaWxpdHlUb1Zpc2libGUiLCJjaGFuZ2VWaXNpYmlsaXR5VG9IaWRkZW4iLCJkb2VzRWxlbWVudE92ZXJmbG93U2NyZWVuIiwib3JpZ2luYWxEaXNwbGF5Iiwib3JpZ2luYWxWaXNpYmlsaXR5Iiwib3JpZ2luYWxQb3NpdGlvbiIsInBvc2l0aW9uIiwiZWxlbWVudFJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzY3JlZW5XaWR0aCIsImlubmVyV2lkdGgiLCJyaWdodCIsImxlZnQiLCJlbnN1cmVWaXNpYmxlIiwiY2xvc2VzdCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJibG9jayIsImlubGluZSIsImNvbnNvbGUiLCJ3YXJuIiwiaGFuZGxlQ2xvc2VFbGVtZW50RXZlbnQiLCJldmVudCIsImRldGFpbHMiLCJkZXRhaWwiLCJ0YXJnZXRJZCIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImhhbmRsZVNob3dFbGVtZW50RXZlbnQiLCJhdHRhY2hVSUV2ZW50IiwiQ2xvc2VFbGVtZW50IiwiYmluZCIsIlNob3dFbGVtZW50IiwiRGVwZW5kZW5jeUNvbnRhaW5lciIsImRlcGVuZGVuY2llcyIsIkluc3RhbmNlIiwiaW5zdGFuY2UiLCJyZXNvbHZlIiwiU1RBUlRfTUFSS0VSX0lEIiwiRE9NVXRpbHMiLCJpc1NlbGVjdGlvbkluVGFibGVDZWxsIiwic2VsZWN0aW9uIiwiZ2V0U2VsZWN0aW9uIiwicmFuZ2VDb3VudCIsIm5vZGUiLCJhbmNob3JOb2RlIiwibm9kZVR5cGUiLCJOb2RlIiwiRUxFTUVOVF9OT0RFIiwidGFnTmFtZSIsImdldFNlbGVjdGlvblRleHRJbmZvIiwiZWwiLCJzZWxSYW5nZSIsInRlc3RSYW5nZSIsImF0U3RhcnQiLCJhdEVuZCIsInNlbCIsImdldFJhbmdlQXQiLCJjcmVhdGVSYW5nZSIsInNlbGVjdE5vZGVDb250ZW50cyIsInNldEVuZCIsInN0YXJ0Q29udGFpbmVyIiwic3RhcnRPZmZzZXQiLCJzZXRTdGFydCIsImVuZENvbnRhaW5lciIsImVuZE9mZnNldCIsImluc2VydEFmdGVyIiwibmV3Tm9kZSIsInJlZmVyZW5jZU5vZGUiLCJpbnNlcnRCZWZvcmUiLCJuZXh0U2libGluZyIsImhhc1RleHRDb250ZW50IiwidHJpbSIsImhhc0NoaWxkTm9kZXMiLCJBcnJheSIsImZyb20iLCJjaGlsZE5vZGVzIiwic29tZSIsImNoaWxkTm9kZSIsImNsb25lQW5kSW5zZXJ0QWZ0ZXIiLCJjbG9uZWRFbGVtZW50IiwiY2xvbmVOb2RlIiwicHJlZml4IiwiZmluZENsb3Nlc3RBbmNlc3Rvck9mQWN0aXZlRWxlbWVudEJ5Q2xhc3MiLCJjbGFzc05hbWUiLCJhY3RpdmVFbGVtZW50IiwiY3VycmVudEVsZW1lbnQiLCJIVE1MRWxlbWVudCIsImZpbmRDbG9zZXN0QW5jZXN0b3JPZlNlbGVjdGlvbkJ5Q2xhc3MiLCJjb21tb25BbmNlc3RvckNvbnRhaW5lciIsIlRFWFRfTk9ERSIsInJlYXJyYW5nZUNvbnRlbnRBZnRlclNwbGl0IiwiY3VycmVudE5vZGUiLCJjdXJzb3JQb3NpdGlvbiIsImdldEN1cnNvclBvc2l0aW9uIiwicmFuZ2VzMSIsInNwbGl0Q29udGVudEF0Q3Vyc29yU2VsZWN0aW9uIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJkZWxldGVGcm9tRG9jdW1lbnQiLCJzZXRDdXJzb3JQb3NpdGlvbiIsInJhbmdlczIiLCJyYW5nZSIsImludGVyc2VjdHNOb2RlIiwidHJlZVdhbGtlciIsImNyZWF0ZVRyZWVXYWxrZXIiLCJOb2RlRmlsdGVyIiwiU0hPV19URVhUIiwiYWNjZXB0Tm9kZSIsIkZJTFRFUl9BQ0NFUFQiLCJjaGFyQ291bnQiLCJuZXh0Tm9kZSIsImN1cnJlbnRQb3MiLCJ0ZXh0TGVuZ3RoIiwiY29sbGFwc2UiLCJnZXRDb250ZW50VHlwZUZyb21BY3RpdmVFbGVtZW50IiwiZ2V0Q3VycmVudEFjdGl2ZUJsb2NrIiwiZ2V0QXR0cmlidXRlIiwicm9vdE5vZGUiLCJyYW5nZXMiLCJyYW5nZUJlZm9yZSIsInJhbmdlQWZ0ZXIiLCJsYXN0Q2hpbGQiLCJzZXRFbmRBZnRlciIsInBsYWNlQ3Vyc29yQXRTdGFydE9mRWRpdGFibGVFbGVtZW50IiwiZWRpdGFibGVFbGVtZW50Iiwic2V0VGltZW91dCIsImlzQ29udGVudEVkaXRhYmxlIiwicGxhY2VDdXJzb3JBdEVuZE9mRWRpdGFibGVFbGVtZW50IiwiY29udGVudEJsb2NrIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibGFzdE5vZGUiLCJpc1NlbGVjdGVkVGV4dERlc2NlbmRhbnRPZiIsInBhcmVudFNlbGVjdG9yIiwicmVtb3ZlRmlsdGVyVGV4dCIsImxhc3RTbGFzaFBvc2l0aW9uIiwib2Zmc2V0Iiwic3Vic3RyaW5nIiwibGFzdEluZGV4T2YiLCJkZWxldGVDb250ZW50cyIsImZpbmRDbGlja2VkRWxlbWVudE9yQW5jZXN0b3JCeURhdGFDb250ZW50VHlwZSIsImRhdGFDb250ZW50VHlwZSIsImNsaWNrZWRFbGVtZW50IiwiZGF0YXNldCIsImZpbmRDbGlja2VkRWxlbWVudE9yQW5jZXN0b3JCeUlkIiwiZmluZENsaWNrZWRFbGVtZW50T3JBbmNlc3RvckJ5Q2xhc3MiLCJjbGFzc0tleSIsImlzRXZlbnRUYXJnZXREZXNjZW5kYW50T2YiLCJzZWxlY3RvciIsIkVsZW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJtYXRjaGVzIiwiZ2V0UGFyZW50VGFyZ2V0QnlTZWxlY3RvciIsImdldFBhcmVudEZyb21TZWxlY3Rpb24iLCJyZW1vdmVDbGFzc2VzV2l0aFByZWZpeCIsImZpbHRlciIsImNscyIsInN0YXJ0c1dpdGgiLCJpc1RhcmdldERlc2NlbmRhbnRPZlNlbGVjdG9yIiwiVGV4dCIsInF1ZXJ5U2VsZWN0b3JJbmNsdWRpbmdTZWxmIiwic2FuaXRpemVDb250ZW50RWRpdGFibGUiLCJzaG91bGRSZXN0b3JlQ2FyZXQiLCJjYXJldFBvcyIsImVuZHNXaXRoIiwibm9kZU5hbWUiLCJSYW5nZSIsInRleHROb2RlcyIsImdldFRleHROb2Rlc0luIiwidGV4dE5vZGUiLCJub2RlTGVuZ3RoIiwiY2hpbGRyZW4iLCJnZXRQcmV2aW91c0NvbnRlbnRFZGl0YWJsZSIsImFsbENvbnRlbnRFZGl0YWJsZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5kZXhPZiIsImdldE5leHRDb250ZW50RWRpdGFibGUiLCJnZXRBY3RpdmVDb250ZW50RWRpdGFibGUiLCJmaW5kQ29udGVudEVkaXRhYmxlSW5EZXNjZW5kYW50cyIsImNoaWxkIiwic2F2ZUNhcmV0UG9zaXRpb24yZCIsInJlY3QiLCJjaGFySW5kZXgiLCJzbGljZSIsImFuY2hvck9mZnNldCIsImhvcml6b250YWxQb3MiLCJyZXN0b3JlQ2FyZXRQb3NpdGlvbjJkIiwid2Fsa2VyIiwiYmVzdE5vZGUiLCJiZXN0T2Zmc2V0IiwiYmVzdERpc3RhbmNlIiwiSW5maW5pdHkiLCJub2RlVmFsdWUiLCJ0ZXN0UmVjdCIsImhvcml6b250YWxEaXN0YW5jZSIsImFicyIsInNhdmVDYXJldFBvc2l0aW9uM2QiLCJ2ZXJ0aWNhbFBvcyIsInRvcCIsInJlc3RvcmVDYXJldFBvc2l0aW9uM2QiLCJ2ZXJ0aWNhbERpc3RhbmNlIiwidG90YWxEaXN0YW5jZSIsInNxcnQiLCJtZXJnZUlubGluZUVsZW1lbnRzIiwibm9ybWFsaXplIiwiY2hpbGRFbGVtZW50IiwiaW5zZXJ0Q2FyZXRNYXJrZXIiLCJjb2xsYXBzZWQiLCJtYXJrZXIiLCJpbnNlcnROb2RlIiwic2V0U3RhcnRBZnRlciIsImVuZE1hcmtlciIsInJhbmdlQ2xvbmVFbmQiLCJjbG9uZVJhbmdlIiwic3RhcnRNYXJrZXIiLCJuZXdSYW5nZSIsInNldEVuZEJlZm9yZSIsInJlbW92ZUNhcmV0TWFya2VyIiwicmVzdG9yZUNhcmV0RnJvbU1hcmtlciIsIkN1c3RvbUV2ZW50cyIsIlpJbmRleCIsIkNvbG9ycyIsIkNvbG9yc05hbWVzIiwiQ29tbWFuZHMiLCJCdXR0b25JRHMiLCJLZXlib2FyZEtleXMiLCJEcm9wZG93bkl0ZW1JRHMiLCJET01FbGVtZW50cyIsIkRyb3Bkb3duTGlzdElEcyIsIkRyb3Bkb3duTWVudUlEcyIsIkZsb2F0aW5nVG9vbGJhciIsImRyb3Bkb3ducyIsInNlcGFyYXRvcnMiLCJjdXJyZW50U2VsZWN0aW9uUmFuZ2UiLCJodG1sRm9jdXNlZEVsZW1lbnRCZWZvcmVPcGVuUXVpY2tNZW51Iiwic3VwZXIiLCJ6SW5kZXgiLCJTbGlnaHRseUltcG9ydGFudCIsInNlbGVjdFdyYXBwZXIiLCJhbnlEcm9wZG93blZpc2libGUiLCJoaWRlQWxsRHJvcGRvd25WaXNpYmxlIiwiYXBwZW5kRHJvcGRvd24iLCJkcm9wZG93biIsImFwcGVuZEJ1dHRvbkdyb3VwIiwiYnV0dG9uR3JvdXAiLCJhcHBlbmRTZXBhcmF0b3IiLCJhcHBlbmRUZXh0VG9vbGJhciIsImRyb3Bkb3duTGlzdCIsImF0dGFjaEV2ZW50cyIsIkNsaWNrIiwicHJldmVudERlZmF1bHQiLCJNb3VzZWRvd24iLCJyZXN0b3JlUmFuZ2VTZWxlY3Rpb24iLCJibG9ja0RlbGV0ZWQiLCJibG9ja1R5cGVDaGFuZ2VkIiwiaXNTZWxlY3Rpb25FbXB0eSIsIkNoYW5nZUNvbG9yIiwiU2hvd0hpZGVBY3RpdmVCdXR0b24iLCJpbnRlbnRpb24iLCJSZXNldEFjdGl2ZUJ1dHRvbnMiLCJDaGFuZ2VCbG9ja1Rvb2xiYXJMYW5ndWFnZSIsImxhbmd1YWdlIiwiYmxvY2tJZCIsIkV2ZW50RW1pdHRlciIsImVtaXRDb2RlQmxvY2tMYW5ndWFnZUNoYW5nZWRFdmVudCIsInRhcmdldENsYXNzIiwiY3VzdG9tRXZlbnQiLCJDdXN0b21FdmVudCIsImFjdGlvbiIsImRpc3BhdGNoRXZlbnQiLCJlbWl0U2hvd0VsZW1lbnRFdmVudCIsImVtaXRDbG9zZUVsZW1lbnRFdmVudCIsImVtaXRDaGFuZ2VDb21wb25lbnRDb2xvckV2ZW50IiwiQ29sb3JDaGFuZ2VSZXF1ZXN0IiwiZW1pdFNob3dIaWRlQWN0aXZlRWxlbWVudEV2ZW50IiwiaW50ZW5zaW9uIiwiSGlsaXRlQ29sb3JOb25lIiwiRm9yZUNvbG9ySW5pdGlhbCIsIkJhY2tncm91bmRDb2xvck5vbmUiLCJlbWl0UmVzZXRBY3RpdmVCdXR0b25zRWxlbWVudEV2ZW50IiwiZW1pdENoYW5nZVRhYmxlQm9yZGVyQ29sb3JFdmVudCIsInNjb3BlIiwiZW1pdHRlZENvbW1hbmQiLCJjb21tYW5kIiwiY2hhbmdlVGFibGVCb3JkZXJDb2xvciIsIlRleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyIiwidGV4dE9wZXJhdGlvbnNTZXJ2aWNlIiwiaW5pdGlhbFJlY3QiLCJsb2NrZWRIaWRlIiwiZGVib3VuY2VUaW1lciIsIlZlcnlJbXBvcnRhbnQiLCJwcm9jZXNzU2VsZWN0aW9uQ2hhbmdlRWZmZWN0cyIsImlzTGluayIsInF1ZXJ5Q29tbWFuZFN0YXRlIiwiaXNCb2xkIiwiaXNJdGFsaWMiLCJpc1VuZGVybGluZSIsImlzSW5saW5lQ29kZSIsImlzU3RyaWtlVGhyb3VnaCIsImhpbGl0ZUNvbG9ycyIsIkhpbGl0ZUNvbG9yUmVkIiwicXVlcnlIaWxpdGVDb2xvciIsIkhpbGl0ZUNvbG9yR3JlZW4iLCJIaWxpdGVDb2xvckJsdWUiLCJIaWxpdGVDb2xvclllbGxvdyIsIkhpbGl0ZUNvbG9yR3JleSIsImZvcmVDb2xvcnMiLCJGb3JlQ29sb3JSZWQiLCJxdWVyeUZvcmVDb2xvciIsIkZvcmVDb2xvckdyZWVuIiwiRm9yZUNvbG9yQmx1ZSIsIkZvcmVDb2xvclllbGxvdyIsIkZvcmVDb2xvckdyZXkiLCJlbnRyaWVzIiwiYWN0aXZlIiwiTGluayIsIkJvbGQiLCJJdGFsaWMiLCJJbmxpbmVDb2RlIiwiVW5kZXJsaW5lIiwiU3RyaWtldGhyb3VnaCIsIkljb25BY3RpdmVCbHVlIiwiSWNvbkRlZmF1bHRCbGFjayIsInByb2Nlc3NBZnRlckNoYW5nZSIsImlzQ29sbGFwc2VkIiwiaXNTZWxlY3RpbmciLCJNb3VzZXVwIiwiQmJsQ2xpY2siLCJTZWxlY3Rpb25DaGFuZ2UiLCJLZXlkb3duIiwic2hpZnRLZXkiLCJLZXl1cCIsIlNoaWZ0Iiwic2hvd0hpZGUiLCJjbGVhclRpbWVvdXQiLCJFc2NhcGUiLCJzaG91bGRVcGRhdGVQb3NpdGlvbiIsImN1cnJlbnRSZWN0IiwiaGFzQ29udGVudCIsImhhc1NlbGVjdGlvbiIsImNoYW5nZVRvb2xiYXJQb3NpdGlvblRvQmVDbG9zZWRUb1NlbGVjdGlvbiIsImVycm9yIiwicmVjdHMiLCJnZXRDbGllbnRSZWN0cyIsImZpcnN0UmVjdCIsImNfZmlyc3RSZWN0TGVmdCIsImNfZmlyc3RSZWN0VG9wIiwiY19maXJzdFJlY3RCb3R0b20iLCJib3R0b20iLCJlbGVtZW50V2lkdGgiLCJvZmZzZXRXaWR0aCIsImxlZnRQb3NpdGlvbiIsInNjcm9sbFgiLCJlbGVtZW50SGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwidG9wUG9zaXRpb24iLCJzY3JvbGxZIiwiaGlkZVR1cm5JbnRvIiwiaGlkZU1vcmVPcHRpb25zIiwic2hvdWxkSGlkZSIsImlzU2VsZWN0aW9uV2l0aGluRWxlbWVudFdpdGhDbGFzcyIsInVwZGF0ZVBvc2l0aW9uIiwic2V0UG9zaXRpb24iLCJJbnB1dExpbmtCb3giLCJwYXJlbnRXcmFwcGVyIiwic2V0UGFyZW50V3JhcHBlciIsIklucHV0TGlua0JveFdyYXBwZXIiLCJpbnB1dExpbmtCb3giLCJoaWdobGlnaHRzIiwic2F2ZWRTZWxlY3Rpb25SYW5nZSIsInRleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyIiwiYXR0YWNoRXZlbnQiLCJoZWFkZXIiLCJzaGVsbCIsIkNvbnRyb2wiLCJib2R5IiwiRW50ZXIiLCJpbnNlcnRMaW5rIiwiY3RybEtleSIsImhyZWYiLCJvcGVuIiwidXJsV2l0aFByb3RvY29sIiwibGlua1JlYWR5VG9JbnNlcnQiLCJpbnB1dCIsImJhY2tncm91bmRDb2xvciIsInBvc2l0aW9uTGlua0NvbXBvbmVudEJlbG93U2VsZWN0aW9uIiwiaGlnaGxpZ2h0U2VsZWN0ZWRUZXh0IiwicmVtb3ZlSGlnaGxpZ2h0cyIsImhpZ2hsaWdodCIsIndpZHRoIiwiaGVpZ2h0Iiwib3BhY2l0eSIsInBvaW50ZXJFdmVudHMiLCJFZGl0b3IiLCJlbGVtZW50RmFjdG9yeVNlcnZpY2UiLCJtZW1lbnRvIiwidGl0bGUiLCJhZGRCbG9jayIsInRleHRGbG9hdGluZ1Rvb2xiYXIiLCJxdWlja01lbnUiLCJ0YWJsZUNvbnRleHRUb29sYmFyIiwibWVkaWFJbnB1dHRlciIsImlucHV0TGlua0JveFdyYXBwZXIiLCJibG9ja09wZXJhdGlvbnNTZXJ2aWNlIiwiZmxvYXRpbmdUb29sYmFyIiwidGFibGVUb29sYmFyIiwic2F2ZVN0YXRlIiwiZ2V0RWxlbWVudEJ5SWQiLCJlZGl0b3JJZCIsImNvbnRlbnRXcmFwcGVyIiwiZWRpdG9yQ29uZmlnIiwidGFibGVGbG9hdGluZ1Rvb2xiYXIiLCJibG9ja0VsZW1lbnQiLCJhcHBlbmREcmFnSGFuZGxlciIsInJlYWR5U3RhdGUiLCJmaXJzdFBhcmFncmFwaCIsImNsaXBib2FyZERhdGEiLCJnZXREYXRhIiwiaW5zZXJ0VGV4dEF0Q3Vyc29yIiwiYXR0YWNoRHJhZ0hhbmRsZXIiLCJkcmFnSGFuZGxlciIsInByZXBlbmQiLCJyZW1vdmVEcmFnSGFuZGxlciIsImV4dHJhY3RDb250ZW50IiwiZHJhZ2dlZEl0ZW0iLCJkcm9wTGluZSIsImJvdW5kaW5nIiwieSIsImNsaWVudFkiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiQWRkQmxvY2tCdXR0b24iLCJleGVjQ29tbWFuZCIsImNyZWF0ZURlZmF1bHRCbG9jayIsIkFkZEJsb2NrV3JhcHBlciIsIlNpemVzIiwiU1ZHSWNvbiIsInVzZUVsZW1lbnQiLCJzaXplIiwiY3JlYXRlRWxlbWVudE5TIiwidXNlIiwic2V0QXR0cmlidXRlTlMiLCJjbG9uZSIsInNpemVzIiwic2V0VXNlVG8iLCJBZGRCbG9ja0J1aWxkZXIiLCJidWlsZCIsIlBsdXMiLCJtZWRpdW0iLCJEcm9wZG93bk1lbnUiLCJkcm9wZG93bkJ1dHRvbiIsInByZWZpeElkIiwiY2xhc3Nlc0tleSIsIkJhc2VEb3VibHlMaW5rZWRMaXN0IiwidGFpbCIsImdldEZpcnN0IiwiZ2V0TGFzdCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY3VycmVudCIsImNhbGxiYWNrIiwiYW55IiwicHJlZGljYXRlIiwiZmluZEZpcnN0IiwiZmluZExhc3QiLCJwcmV2aW91c05vZGUiLCJmaW5kIiwiSk5vZGUiLCJwYXJlbnRMaXN0Iiwic2V0TmV4dCIsInNldFByZXZpb3VzIiwiZ2V0TmV4dFNhdGlzZnlpbmciLCJzdGFydE5vZGUiLCJnZXRQcmV2aW91c1NhdGlzZnlpbmciLCJDaXJjdWxhckRvdWJseUxpbmtlZExpc3QiLCJhcHBlbmQiLCJEcm9wZG93bk1lbnVMaXN0SXRlbSIsImFjdGl2ZUljb24iLCJsZWZ0SWNvbiIsIm9uRm9jdXNGdW5jdGlvbkxpc3QiLCJvbkxvc2VGb2N1c0Z1bmN0aW9uTGlzdCIsInBhcmVudERyb3Bkb3duTWVudUxpc3QiLCJzaG9ydGN1dCIsImFkZENsYXNzIiwiYXR0YWNoT25Gb2N1cyIsImZ1bmMiLCJhcmdzIiwiYXR0YWNoT25Mb3NlRm9jdXMiLCJyZW1vdmVGb2N1cyIsInRhYkluZGV4IiwidGV4dE9wdGlvbiIsInNob3J0Q3V0IiwiZW1pdENvbW1hbmRFdmVudCIsIk1vdXNlbW92ZSIsImFzeW5jIiwiZHJvcGRvd25JdGVtcyIsInN3aXRjaFZpc3VhbEZvY3VzIiwiaGFuZGxlQ2hhbmdlQmxvY2tUb29sYmFyTGFuZ3VhZ2VFdmVudCIsImV2ZW50VmFsdWVzIiwiaGFuZGxlU2hvd0hpZGVBY3RpdmVCdXR0b25FdmVudCIsImhhbmRsZVJlc2V0QWN0aXZlQnV0dG9uc0V2ZW50IiwiZXZlbnRDb2xvciIsIkRyb3Bkb3duTWVudUxpc3QiLCJwYXJlbnREcm9wZG93blBhcmVudEJ1dHRvbiIsImN1cnJlbnRGb2N1c2VkTWVudUl0ZW0iLCJtYXhIZWlnaHQiLCJvdmVyZmxvd1kiLCJFeHRyZW1lbHlJbXBvcnRhbnQiLCJkcm9wZG93bkl0ZW0iLCJzZXRQYXJlbnREcm9wZG93bk1lbnVCdXR0b24iLCJkcm9wZG93blBhcmVudEJ1dHRvbiIsImNsaWNrZWRPdXRzaWRlVGhlRHJvcGRvd25XaGlsZURyb3Bkb3duSXNWaXNpYmxlIiwia2V5UHJlc3NlZE91dHNpZGVUaGVEcm9wZG93bldoaWxlRHJvcGRvd25Jc1Zpc2libGUiLCJmb2N1c05leHRWaXNpYmxlSXRlbSIsImZvY3VzUHJldmlvdXNWaXNpYmxlSXRlbSIsImhhbmRsZXJLZXlEb3duRXZlbnQiLCJibG9ja0Nsb25lZCIsImFsdEtleSIsIm1ldGFLZXkiLCJCYWNrc3BhY2UiLCJhcHBseUZpbHRlciIsInRvTG9jYWxlTG93ZXJDYXNlIiwic3ZnSWNvbiIsIm5leHRWaXNpYmxlSXRlbSIsInByZXZpb3VzVmlzaWJsZUl0ZW0iLCJGbG9hdGluZ1Rvb2xiYXJTZXBhcmF0b3IiLCJib3JkZXJSaWdodCIsIm1hcmdpbiIsIkJ1dHRvbkdyb3VwIiwiQnV0dG9uR3JvdXBJdGVtIiwic2hvd1VJIiwidG9nZ2xlTGluayIsIkNvbG9ySWNvbiIsImJvcmRlclJhZGl1cyIsImJvcmRlciIsImJveFNpemluZyIsIkRyb3Bkb3duTWVudUxpc3RJdGVtVGl0bGUiLCJjaGFuZ2VBY3RpdmVJY29uVG9WaXNpYmxlIiwiZ2V0TGVmdEljb25CYWNrZ3JvdW5kQ29sb3IiLCJyZXNldEFjdGl2ZUljb24iLCJCbG9ja1Rvb2xib3hCdWlsZGVyIiwiYWxpZ25Ub29sIiwiZ3JvdXBCdXR0b24iLCJKdXN0aWZ5TGVmdCIsIkp1c3RpZnlTdGFydCIsImxhcmdlIiwiSnVzdGlmeUNlbnRlciIsIkp1c3RpZnlSaWdodCIsIkp1c3RpZnlFbmQiLCJjb2xvclRvb2wiLCJjb2xvckRyb3Bkb3duTGlzdCIsImNvbG9yQnV0dG9uIiwiRHJvcGRvd25NZW51QnV0dG9uIiwiY29sb3JEcm9wZG93biIsImJhY2tncm91bmRDb2xvclJlZCIsIkJhY2tncm91bmRPcHRpb25SZWQiLCJjaGFuZ2VDYWxsb3V0QmFja2dyb3VuZENvbG9yIiwiQ2FsbG91dEJhY2tncm91bmRSZWQiLCJiYWNrZ3JvdW5kQ29sb3JHcmVlbiIsIkJhY2tncm91bmRPcHRpb25HcmVlbiIsIkNhbGxvdXRCYWNrZ3JvdW5kR3JlZW4iLCJiYWNrZ3JvdW5kQ29sb3JCbHVlIiwiQmFja2dyb3VuZE9wdGlvbkJsdWUiLCJDYWxsb3V0QmFja2dyb3VuZEJsdWUiLCJiYWNrZ3JvdW5kQ29sb3JZZWxsb3ciLCJCYWNrZ3JvdW5kT3B0aW9uWWVsbG93IiwiQ2FsbG91dEJhY2tncm91bmRZZWxsb3ciLCJiYWNrZ3JvdW5kQ29sb3JHcmV5IiwiQmFja2dyb3VuZE9wdGlvbkdyZXkiLCJDYWxsb3V0QmFja2dyb3VuZEdyZXkiLCJiYWNrZ3JvdW5kQ29sb3JOb25lIiwiQmFja2dyb3VuZE9wdGlvbk5vbmUiLCJDYWxsb3V0QmFja2dyb3VuZE5vbmUiLCJsYW5ndWFnZVNlbGVjdGlvblRvb2wiLCJzZWxlY3QiLCJtZW51IiwiQmxvY2tUb29sYm94IiwibGFuZ3VhZ2VNYXAiLCJzb3J0IiwiYiIsImxvY2FsZUNvbXBhcmUiLCJuYW1lIiwiY2hhbmdlQ29kZUJsb2NrTGFuZ3VhZ2UiLCJleHRyYU9wdGlvbnMiLCJkdXBsaWNhdGVCbG9jayIsIkR1cGxpY2F0ZSIsImRlbGV0ZUl0ZW0iLCJkZWxldGVCbG9jayIsIlRyYXNoIiwibGlzdGVuIiwibG9nIiwiTW91c2VvdmVyIiwiaW5zZXJ0VG9vbGJveEludG9CbG9ja09uY2UiLCJGb2N1c2luIiwiaGFuZGxlVGFibGVCZWhhdmlvckZvY3VzSW4iLCJGb2N1c291dCIsImhhbmRsZVRhYmxlQmVoYXZpb3JGb2N1c091dCIsImhhbmRsZUNsaWNrRXZlbnQiLCJ0YXJnZXRFbGVtZW50IiwidG9vbGJveFZpc2liaWxpdHlDb250cm9sbGVyIiwiZm9yY2VIaWRlRWxlbWVudCIsIm9wdGlvbnNXcmFwcGVyIiwiaW5jbHVkZUxhbmd1YWdlU2VsZWN0aW9uVG9vbCIsImluY2x1ZGVBbGlnblRvb2wiLCJpbmNsdWRlQ29sb3JUb29sIiwiaW5jbHVkZUV4dHJhT3B0aW9ucyIsInRvb2xib3hXcmFwcGVyIiwiY3JlYXRlVG9vbGJveCIsIk1vdXNlZW50ZXIiLCJyZXNldFRvb2xib3giLCJibG9ja1Rvb2xiYXJJZCIsInRvb2xiYXIiLCJoaWRlQmxvY2tUb29sYm94IiwiTW91c2VsZWF2ZSIsImlmcmFtZSIsImNoYW5nZVRvb2xiYXJDb2xvciIsImNvbG9ySW50ZXJhY3RpdmVCdXR0b24iLCJib3JkZXJDb2xvciIsImlzQW55RGVwZW5kZW50Qm94VmlzaWJsZSIsImRlcGVuZGVudEJveGVzIiwiYm94IiwiYmxvY2tUb29sYmFyIiwibW9yZSIsImh0bWxFbGVtZW50V3JhcHBlciIsImluY2x1ZGVDaGV2cm9uSWNvbiIsInJvbGUiLCJjaGFuZ2VUaXRsZSIsIlRleHRDb250ZXh0RmxvYXRpbmdUb29sYmFyQnVpbGRlciIsImZsb2F0aW5nQmFyIiwidHVybkludG9Ecm9wZG93biIsIm1vcmVPcHRpb25zRHJvcGRvd24iLCJ0dXJuSW50b0Jhckxpc3QiLCJ0dXJuSW50b0JhckJ1dHRvbiIsInRyYW5zZm9ybUJsb2NrIiwiU1ZHSWNvbnMiLCJ0b2RvX2xpc3QiLCJiX2xpc3QiLCJuX2xpc3QiLCJxdW90ZSIsImhlYWQyIiwiaGVhZDMiLCJoZWFkNCIsImxpbmsiLCJib2xkIiwidG9nZ2xlQm9sZCIsIml0YWxpYyIsInRvZ2dsZUl0YWxpYyIsInVuZGVybGluZSIsInRvZ2dsZVVuZGVybGluZSIsImlubGluZUNvZGUiLCJ0b2dnbGVJbmxpbmVDb2RlIiwic3RyaWtldGhyb3VnaCIsInRvZ2dsZVN0cmlrZVRocm91Z2giLCJTdHJpa2VUaHJvdWdoIiwiQ29sb3JUZXh0T3B0aW9uU2VsZWN0IiwiQ29sb3JUZXh0T3B0aW9uc01lbnUiLCJoaWxpdGVDb2xvclJlZCIsInRvZ2dsZUhpbGl0ZUNvbG9yIiwiaGlsaXRlQ29sb3JHcmVlbiIsImhpbGl0ZUNvbG9yQmx1ZSIsImhpbGl0ZUNvbG9yWWVsbG93IiwiaGlsaXRlQ29sb3JHcmV5IiwiaGlsaXRlQ29sb3JOb25lIiwiZm9yZUNvbG9yUmVkIiwidG9nZ2xlRm9yZUNvbG9yIiwiZm9yZUNvbG9yR3JlZW4iLCJmb3JlQ29sb3JCbHVlIiwiZm9yZUNvbG9yWWVsbG93IiwiZm9yZUNvbG9yR3JleSIsImZvcmVDb2xvck5vbmUiLCJtb3JlT3B0aW9uc0xpc3QiLCJtb3JlT3B0aW9uc0J1dHRvbiIsImNvcHlTZWxlY3RlZCIsImNvcHkiLCJjdXRTZWxlY3RlZCIsImN1dCIsInBhc3QiLCJwYXN0ZSIsImR1cGxpY2F0ZSIsInJlbW92ZUZvcm1hdCIsImVyYXNlciIsImRlbGV0ZSIsImhlYWQxIiwiaGVhZDUiLCJoZWFkNiIsIlF1aWNrTWVudUVtcHR5IiwiaHRtbEVtcHR5SW5kaWNhdG9yIiwicGFkZGluZyIsIlF1aWNrTWVudSIsIm1lbnVTZWN0aW9ucyIsInF1aWNrTWVudUVtcHR5IiwiZmlsdGVySW5wdXQiLCJmb2N1c1N0YWNrIiwiYmxvY2tPcHRpb25zIiwibWVudUl0ZW0iLCJwZWVrIiwiZm9jdXNPblRoZUZpcnN0VmlzaWJsZUl0ZW0iLCJmaXJzdFNlY3Rpb25Ob2RlIiwiY3VycmVudFNlY3Rpb25Ob2RlIiwiaXRlbU5vZGUiLCJtZW51SXRlbXMiLCJwcmV2aW91c1Zpc2libGVTZWN0aW9uTm9kZSIsImltbWVkaWF0ZVBhcmVudCIsInNlY3Rpb24iLCJsYXN0VmlzaWJsZVNlY3Rpb25Ob2RlIiwibmV4dFZpc2libGVTZWN0aW9uTm9kZSIsImZpcnN0VmlzaWJsZVNlY3Rpb25Ob2RlIiwiZmlsdGVySXRlbXMiLCJmaWx0ZXJTZWN0aW9uIiwicmVzdG9yZSIsInJlbW92ZUxhc3RGaWx0ZXJJbnB1dENoYXJhY3RlciIsImNvbmNhdEZpbHRlcklucHV0Iiwic3RvcFByb3BhZ2F0aW9uIiwiYmxvY2tUeXBlIiwidHJhbnNmb3JtSHRtbEZvY3VzZWRFbGVtZW50QmVmb3JlT3BlblF1aWNrTWVudSIsInN0ZyIsIkRvdWJseUxpbmtlZExpc3QiLCJRdWlja01lbnVTZWN0aW9uIiwicXVpY2tNZW51SW5zdGFuY2UiLCJhcHBlbmRRdWlja01lbnVJdGVtcyIsImFwcGVuZFF1aWNrTWVudUl0ZW0iLCJmaWx0ZXJWYWx1ZSIsIlF1aWNrTWVudUl0ZW0iLCJfYmxvY2tUeXBlIiwiX2ZpbHRlclZhbHVlIiwiX2ltbWVkaWF0ZVBhcmVudCIsImRlc2NyaXB0aW9uIiwib3B0aW9uSW1hZ2UiLCJzdmciLCJvcHRpb25UZXh0IiwiYmxvY2tUaXRsZSIsImJsb2NrRGVzY3JpcHRpb24iLCJRdWlja01lbnVCdWlsZGVyIiwiYmFzaWNCbG9ja3NTZWN0aW9uIiwiQ2FsbG91dCIsIm1lZGlhQmxvY2tzU2VjdGlvbiIsImhlYWRpbmdCbG9ja3NTZWN0aW9uIiwibGlzdEJsb2Nrc1NlY3Rpb24iLCJlbWJlZFNlY3Rpb24iLCJUaXRsZSIsImgxIiwiVGl0bGVCdWlsZGVyIiwiRGlyZWN0aW9ucyIsIlRhYmxlU2NvcGVzIiwiU2VsZWN0aW9uTW9kZXMiLCJFbWJlZFR5cGVzIiwiVG9vbGJhcklEcyIsIkJvdW5kYXJpZXMiLCJUYWJsZVV0aWxzIiwiaW5zZXJ0UG9zaXRpb24iLCJyb3dzIiwibmV3Um93IiwiaW5zZXJ0Um93IiwibnVtQ29sdW1ucyIsInJlZHVjZSIsIm1heCIsImNlbGxzIiwiYWZmZWN0ZWRDZWxscyIsImluc2VydENlbGwiLCJpc0xhc3RDb2x1bW4iLCJjZWxsUm93IiwiaXNMYXN0Um93IiwicmVtb3ZlQ29sdW1uQnlDZWxsIiwiY29sdW1uSW5kZXgiLCJjZWxsSW5kZXgiLCJkZWxldGVDZWxsIiwicmVtb3ZlUm93QnlDZWxsIiwiZGVsZXRlUm93Iiwicm93SW5kZXgiLCJnZXRBY3RpdmVUYWJsZUNlbGwiLCJnZXRMYXN0VGFibGVDZWxsIiwiaiIsImdldEZpcnN0VGFibGVDZWxsIiwiZ2V0TmVpZ2hib3JDZWxsIiwiZGlyZWN0aW9uIiwiQXJyb3dSaWdodCIsIkFycm93TGVmdCIsIkFycm93VXAiLCJBcnJvd0Rvd24iLCJjaGFuZ2VDZWxsQm9yZGVyQ29sb3IiLCJjZWxsc1RvQ2hhbmdlIiwiQ29sdW1uIiwiUm93Iiwic2VsZWN0ZWRDZWxsIiwiQ2VsbCIsIlNlbGVjdGVkQ2VsbHMiLCJtb3ZlRm9jdXNUb0JlbG93Q2VsbCIsIm5leHRSb3ciLCJiZWxvd0NlbGwiLCJDb250ZW50IiwibWFyZ2luVG9wIiwiY2xlYXJTZWxlY3Rpb25PbkRyYWciLCJyZVJlbmRlclBsYWNlaG9sZGVyIiwic2VsZWN0ZWQiLCJwYXJlbnRCbG9jayIsIkJsdXIiLCJjb3B5RWxlbWVudEl0ZW0iLCJlZGl0b3IiLCJibG9ja3MiLCJwcmVzc2VkRW50ZXJPblRpdGxlIiwiZGVsZXRlQmxvY2tBbmRGb2N1c09uUHJldmlvdXMiLCJzZWxlY3RlZENvbnRlbnQiLCJtZXJnZVdpdGhQcmV2aW91c0Jsb2NrIiwiRGVsZXRlIiwiZGVsZXRlQmxvY2tBbmRGb2N1c09uTmV4dCIsIm1lcmdlV2l0aE5leHRCbG9jayIsImlzQ3Vyc29yQXRFbmQiLCJpc0N1cnNvckF0U3RhcnQiLCJpc0N1cnNvck9uTGFzdExpbmUiLCJpc0N1cnNvck9uRmlyc3RMaW5lIiwidGFiQ2hhcmFjdGVyIiwiYWN0aXZlQ2VsbCIsImZvY3VzT25OZXh0QmxvY2siLCJpbnNlcnROZXciLCJzYW5pdGl6ZUVsZW1lbnRFdmVudEhhbmRsZXIiLCJJbnB1dCIsImhhc0F0dHJpYnV0ZSIsImN1c3RvbVBsYWNlaG9sZGVyIiwiZm9jdXNhYmxlUGFyZW50IiwiZW5kTm9kZSIsImlzQXRGaXJzdFZpc2libGVMaW5lIiwiaXNBdExhc3RWaXNpYmxlTGluZSIsImRpZEN1cnNvck1vdmUiLCJQcm9taXNlIiwib3JpZ2luYWxSZWN0IiwibmV3UmVjdCIsImRpZE1vdmUiLCJDb250ZW50QnVpbGRlciIsIlRhYmxlQ29udGV4dEZsb2F0aW5nVG9vbGJhciIsInNlbGVjdGVkQ2VsbHMiLCJhY3R1YWxGb2N1c2VkQ2VsbCIsInRhYmxlT3BlcmF0aW9uc1NlcnZpY2UiLCJjb250cm9sbGVyIiwic2VsZWN0aW9uTW9kZSIsInNlbGVjdGlvbkZsYWciLCJzZWxlY3RlZFRleHQiLCJjbGVhckFuZEhpZGUiLCJNb2RlcmF0ZWx5SW1wb3J0YW50IiwiQWJvcnRDb250cm9sbGVyIiwiaGFuZGxlTW91c2VEb3duIiwiaGFuZGxlTW91c2VNb3ZlIiwiaGFuZGxlTW91c2VVcCIsImhhbmRsZVN0YXJ0U2VsZWN0aW9uSW5DZWxsS2V5RG93biIsImhhbmRsZUNlbGxTZWxlY3Rpb25Db250aW51YXRpb25PbktleURvd24iLCJoYW5kbGVLZXlEb3duIiwiaGFuZGxlS2V5VXAiLCJURCIsImFib3J0IiwiY2xlYXJBbGwiLCJhZGRTZWxlY3RlZENlbGwiLCJ1cGRhdGVTZWxlY3Rpb25Nb2RlQnlNb3VzZUV2ZW50IiwicmVzZXRTZWxlY3Rpb25TdGF0ZSIsImN1cnJlbnRDZWxsIiwicmVwZWF0IiwibmV4dENlbGwiLCJub3JtYWxpemVUZXh0IiwicmVwbGFjZSIsInVwZGF0ZVRoZVNlbGVjdGlvbk1vZGVCeUN1cnJlbnRTZWxlY3Rpb25TdGF0ZSIsImFjdHVhbFNlbGVjdGlvbiIsImN1cnJlbnRDZWxsVGV4dCIsImNlbGxSZWN0IiwibW91c2VYIiwiY2xpZW50WCIsIm1vdXNlWSIsInJlc2V0QWJvcnRDb250cm9sbGVyIiwiY2hhbmdlVG9vbGJhclBvc2l0aW9uVG9CZUNsb3NlZFRvIiwic2lnbmFsIiwiYmFja2dyb3VuZENvbG9ycyIsIkJhY2tncm91bmRDb2xvclJlZCIsInF1ZXJ5QWxsU3RhdGVDZWxsQmFja2dyb3VuZENvbG9yIiwiQmFja2dyb3VuZENvbG9yR3JlZW4iLCJCYWNrZ3JvdW5kQ29sb3JCbHVlIiwiQmFja2dyb3VuZENvbG9yWWVsbG93IiwiQmFja2dyb3VuZENvbG9yR3JleSIsIlRhYmxlQ29udGV4dEZsb2F0aW5nVG9vbGJhckJ1aWxkZXIiLCJ0YWJsZU9wZXJhdGlvblNlcnZpY2UiLCJ0YWJsZU9wdGlvbnMiLCJ0YWJsZUNvbG9yRHJvcGRvd24iLCJpbnNlcnRUYWJsZUNvbHVtbkxlZnQiLCJDb2x1bW5MZWZ0IiwiaW5zZXJ0VGFibGVDb2x1bW5SaWdodCIsIkNvbHVtblJpZ2h0IiwiaW5zZXJ0VGFibGVSb3dBYm92ZSIsIlJvd0Fib3ZlIiwiaW5zZXJ0VGFibGVSb3dCZWxvdyIsIlJvd0JlbG93IiwiZGVsZXRlQ29sdW1uSXRlbSIsInJlbW92ZUNvbHVtbiIsImRlbGV0ZVN3ZWVwIiwiZGVsZXRlUm93SXRlbSIsInJlbW92ZVJvdyIsImNlbGxCYWNrZ3JvdW5kQ29sb3JSZWQiLCJ0b2dnbGVDZWxsSGlsaXRlQ29sb3IiLCJCYWNrZ3JvdW5kQ29sb3JDZWxsUmVkIiwiY2VsbEJhY2tncm91bmRDb2xvckdyZWVuIiwiQmFja2dyb3VuZENvbG9yQ2VsbEdyZWVuIiwiY2VsbEJhY2tncm91bmRDb2xvckJsdWUiLCJCYWNrZ3JvdW5kQ29sb3JDZWxsQmx1ZSIsImNlbGxCYWNrZ3JvdW5kQ29sb3JZZWxsb3ciLCJCYWNrZ3JvdW5kQ29sb3JDZWxsWWVsbG93IiwiY2VsbEJhY2tncm91bmRDb2xvckdyZXkiLCJCYWNrZ3JvdW5kQ29sb3JDZWxsR3JleSIsImNlbGxCYWNrZ3JvdW5kQ29sb3JOb25lIiwiRW1iZWRUb29sIiwiZW1iZWRJbWFnZSIsInVybE9iaiIsImxhc3RGb2N1c2VkRWxlbWVudCIsIlVSTCIsInZhbGlkYXRlSW1hZ2UiLCJjcmVhdGVFbWJlZENvbnRhaW5lciIsIm1heFdpZHRoIiwiaW1hZ2UiLCJzcmMiLCJhbHQiLCJmaW5hbGl6ZUVtYmVkIiwidXJsVG9DaGVjayIsInJlamVjdCIsIm9ubG9hZCIsIm9uZXJyb3IiLCJlbWJlZEdvb2dsZVNoZWV0Iiwic2hlZXRJZCIsInBhdGhuYW1lIiwic2FmZVNoZWV0SWQiLCJmcmFtZUJvcmRlciIsImFsbG93RnVsbHNjcmVlbiIsImVtYmVkWW91VHViZVZpZGVvQXNJZnJhbWUiLCJ2aWRlb0lkIiwic2VhcmNoUGFyYW1zIiwic2FmZVZpZGVvSWQiLCJhbGxvdyIsImVtYmVkWW91VHViZVNob3J0QXNJZnJhbWUiLCJwYXRoU2VnbWVudHMiLCJzaG9ydElkIiwic2FmZVNob3J0SWRJZCIsImVtYmVkWW91VHViZVBsYXlsaXN0QXNJZnJhbWUiLCJsaXN0SWQiLCJzYWZlTGlzdElkIiwiZW1iZWRTcG90aWZ5Q29udGVudCIsImNvbnRlbnRJZCIsInBvcCIsInNhZmVDb250ZW50SWQiLCJTcG90aWZ5VHJhY2siLCJTcG90aWZ5UGxheWxpc3QiLCJTcG90aWZ5U2hvdyIsIlNwb3RpZnlFcGlzb2RlIiwiU3BvdGlmeUFydGlzdCIsImVtYmVkR2lzdEFzU2NyaXB0IiwiZ2lzdElkIiwic2hhZG93RWxlbWVudCIsIm1pbkhlaWdodCIsInNoYWRvd1Jvb3QiLCJhdHRhY2hTaGFkb3ciLCJtb2RlIiwic2NyaXB0U3JjIiwic2NyaXB0Iiwib3JpZ2luYWxXcml0ZSIsIndyaXRlIiwic2NyaXB0T3V0cHV0IiwidGVtcERpdiIsImVtYmVkQ29kZXBlbkFzSWZyYW1lIiwicGFydHMiLCJ1c2VyIiwicGVuIiwic2FmZVVzZXIiLCJzYWZlUGVuIiwib3ZlcmZsb3ciLCJyZXNpemVPYnNlcnZlciIsIlJlc2l6ZU9ic2VydmVyIiwiZW50cnkiLCJjb250ZW50UmVjdCIsIm9ic2VydmUiLCJmaWd1cmUiLCJmaWdjYXB0aW9uIiwiY29udGVudEVsZW1lbnRDbGFzc2VzIiwidG9vbGJhcldyYXBwZXIiLCJkZXRlcm1pbmVFbWJlZFR5cGUiLCJkb21haW4iLCJob3N0bmFtZSIsInBhdGgiLCJoYXMiLCJZb3VUdWJlUGxheWxpc3QiLCJZb3VUdWJlVmlkZW8iLCJZb3VUdWJlU2hvcnQiLCJWaW1lb1ZpZGVvIiwiR29vZ2xlU2hlZXQiLCJUd2VldCIsIkdvb2dsZU1hcCIsIkdpdEh1Ykdpc3QiLCJHaXRMYWJTbmlwcGV0IiwiTWVkaWFJbnB1dHRlciIsInVwbG9hZFRhYiIsImNyZWF0ZU5hdkl0ZW0iLCJlbWJlZFRhYiIsInVwbG9hZENvbnRlbnQiLCJjcmVhdGVVcGxvYWRDb250ZW50IiwiZW1iZWRDb250ZW50IiwiY3JlYXRlRW1iZWRDb250ZW50IiwibGkiLCJhY2NlcHQiLCJsYWJlbCIsImh0bWxGb3IiLCJjbGljayIsInRleHRJbmZvIiwidXBsb2FkSW1hZ2UiLCJmaWxlcyIsImZpbGUiLCJhbGVydCIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJmb2N1c2VkRWxlbWVudCIsInJlYWRBc0RhdGFVUkwiLCJlbWJlZEdlbmVyaWMiLCJyZXNldElucHV0QmdDb2xvciIsInN0cmluZ1VSTCIsImVtYmVkVHlwZSIsImlucHV0VmFsdWUiLCJpbnB1dFRleHQiLCJzZXRBY3RpdmVUYWIiLCJoYW5kbGVyS2V5ZG93bkV2ZW50cyIsImhhbmRsZXJDbGlja0V2ZW50cyIsImhpZGVNZWRpYUlucHV0dGVyT25FeHRlcm5hbENsaWNrIiwic2hvd01lZGlhSW5wdXR0ZXJPbk1lZGlhSW5wdXR0ZXJFbGVtZW50Q2xpY2siLCJjbGlja2VkT25FbGVtZW50V2l0aFNob3dNZWRpYUlucHV0Q2xhc3MiLCJmaW5kQ2xhc3NXaXRoU3VmZml4Iiwic3VmZml4IiwicmVnZXgiLCJnZXRUYWIiLCJ0YWJJZCIsImdldENvbnRlbnQiLCJsYXN0Rm9jdXNlZCIsInNob3dJbnB1dE1lZGlhIiwidGV4dFBsYWNlaG9sZGVyIiwic2V0SW5wdXRQbGFjZWhvbGRlciIsImFjdGl2YXRlTWVkaWFVcGxvYWQiLCJpc0VsZW1lbnRWaXNpYmxlIiwiZW1iZWQiLCJvZmZzZXRQYXJlbnQiLCJNZWRpYUlucHV0dGVyQnVpbGRlciIsIkVkaXRvckJ1aWxkZXIiLCJVSUJ1aWxkZXIiLCJzdGFydCIsImluc2VydEljb25zIiwic3ZnQ29udGFpbmVyIiwiQ29tbWFuZERpc3BhdGNoZXIiLCJ0ZXh0T3BlcmF0aW9uU2VydmljZSIsImhhbmRsZUNvbW1hbmRFdmVudCIsImNyZWF0ZUFOZXdQYXJhZ3JhcGhGcm9tVGl0bGUiLCJ0YXJnZXRCbG9ja1R5cGUiLCJleGVjSW5zZXJ0TGluayIsImV4ZWNUb2dnbGVMaW5rIiwiZXhlY0JvbGQiLCJleGVjSW5saW5lQ29kZSIsImV4ZWNJdGFsaWMiLCJleGVjVW5kZXJsaW5lIiwiZXhlY1N0cmlrZVRocm91Z2giLCJleGVjSGlsaXRlQ29sb3IiLCJleGVjRm9yZUNvbG9yIiwiZXhlY0R1cGxpY2F0ZUJsb2NrIiwiZXhlY0RlbGV0ZUJsb2NrIiwiZXhlY0RlbGV0ZUZvY3VzT25QcmV2aW91cyIsImV4ZWNEZWxldGVBbmRGb2N1c09uTmV4dCIsImV4ZWNGb2N1c09uTmV4dCIsImV4ZWNSZW1vdmVGb3JtYXQiLCJqdXN0aWZ5TGVmdCIsImp1c3RpZnlDZW50ZXIiLCJqdXN0aWZ5UmlnaHQiLCJleGVjQ3JlYXRlRGVmYXVsdEJsb2NrIiwiZXhlY0luc2VydE5ldyIsImZvY3VzT25QcmV2aW91c0Jsb2NrIiwiZXhlY0ZvY3VzT25QcmV2aW91c0Jsb2NrIiwiZXhlY01lcmdlV2l0aE5leHRCbG9jayIsImV4ZWNNZXJnZVdpdGhQcmV2aW91c0Jsb2NrIiwiaW5zZXJ0Q29sdW1uTGVmdCIsImluc2VydENvbHVtblJpZ2h0IiwiaW5zZXJ0Um93QWJvdmUiLCJpbnNlcnRSb3dCZWxvdyIsImV4ZWNDZWxsQmFja2dyb3VuZENvbG9yIiwiZXhlY0NoYW5nZUNhbGxvdXRCYWNrZ3JvdW5kIiwiZm9ybWF0IiwiY3JlYXRlTmV3RWxlbWVudEFuZFNwbGl0Q29udGVudCIsIlNob3J0Y3V0TGlzdGVuZXJzIiwic3RhcnRMaXN0ZW4iLCJpc051bVBhZCIsIm51bUxvY2tPbiIsImdldE1vZGlmaWVyU3RhdGUiLCJUYWJsZUxpc3RlbmVycyIsInNob3duRWxlbWVudHMiLCJNYXAiLCJGb2N1c1N0YWNrIiwic3RhY2siLCJjYXBhY2l0eSIsInNoaWZ0IiwiY2xlYXIiLCJCbG9ja09wZXJhdGlvbnNTZXJ2aWNlIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwidGhlbiIsImNvcGllZEV2ZW50IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJjYXRjaCIsImVyciIsInJlYWRUZXh0IiwicGFzdGVkVGV4dCIsInNlbGVjdGlvbkV2ZW50IiwiZ2V0Q3VycmVudFNlbGVjdGVkQmxvY2siLCJmb2N1c09uRmlyc3RCbG9jayIsImdldERyYWdnYWJsZUVsZW1lbnRGcm9tU2VsZWN0aW9uIiwiY3VycmVudENvbnRlbnRFZGl0YWJsZSIsInByZXZpb3VzQ29udGVudEVkaXRhYmxlIiwiY2FyZXRQb3NpdGlvbiIsImxpc3RJdGVtIiwiYWRqdXN0ZWRDYXJldFBvc2l0aW9uIiwibmV4dENvbnRlbnRFZGl0YWJsZSIsIm5leHRFbGVtZW50IiwiaGlkZUV2ZW50IiwiZm9jdXNPbk5leHQiLCJkZWxldGVUaGVDdXJyZW50RWxlbWVudEFuZFRoZURyYWdnYWJsZUJsb2NrSWZFbXB0eSIsIm5ld0NvbnRlbnRCbG9jayIsImZvY3VzU3RhY2tUb0FkZCIsImVkaXRhYmxlQ29udGVudCIsImNhbGxvdXQiLCJyZXBsYWNlQ2hpbGQiLCJmb2N1c2FibGUiLCJjcmVhdGVOZXdFbGVtZW50IiwiY3JlYXRlTGlzdEl0ZW0iLCJuZXdDb250ZW50RWxlbWVudCIsImN1cnJlbnRJdGVtIiwiY29udGVudEN1cnJlbnQiLCJjb250ZW50Q2xvbmUiLCJjb3VudGVyIiwibmV3UGFyYWdyYXBoIiwiY3VycmVudEJsb2NrIiwiY2xvbmVkQmxvY2siLCJjbG9uZWRUaXRsZSIsIm5ld0Jsb2NrIiwiZXZlbnRQYXJhZ3JhcGgiLCJjdXJyZW50QWN0aXZlRWxlbWVudCIsImZvY3VzT25QcmV2aW91cyIsImFjdHVhbEVsZW1lbnQiLCJ0b1VwcGVyQ2FzZSIsInByZXZpb3VzRWxlbWVudCIsImFwcGx5Q3Vyc29yWEVuZFBvc2l0aW9uIiwic2libGluZyIsImZvY3VzYWJsZUNhbmRpZGF0ZXMiLCJnZXRQcmV2aW91c0ZvY3VzYWJsZUVsZW1lbnQiLCJhcHBseUN1cnNvclhTdGFydFBvc2l0aW9uIiwiZ2V0TmV4dEZvY3VzYWJsZUVsZW1lbnQiLCJhY3R1YWwiLCJ4UG9zaXRpb24iLCJhZGp1c3RDdXJzb3JPZmZzZXQiLCJwcmV2aW91c1NpYmxpbmciLCJjbG9zZXN0Tm9kZSIsImNsb3Nlc3RPZmZzZXQiLCJjbG9zZXN0RGlmZiIsImxlZnREaWZmIiwicmlnaHREaWZmIiwibWluIiwiZ2V0Q3VycmVudFNlbGVjdGVkRm9jdXNhYmxlIiwicmVtb3ZlSnVzdGlmeSIsImNhbGxvdXREaXYiLCJUZXh0T3BlcmF0aW9uc1NlcnZpY2UiLCJub3JtYWxpemVBbmNob3JzIiwiYW5jaG9yIiwicXVlcnlBbmNob3JDb21tYW5kU3RhdGUiLCJxdWVyeUlubGluZUNvZGVDb21tYW5kU3RhdGUiLCJleHRyYWN0Q29udGVudHMiLCJpc0NvZGUiLCJjb250YWluc0NvZGUiLCJwYXJlbnRDb2RlIiwiY29kZUVsZW1lbnQiLCJxdWVyeVVuZGVybGluZUNvbW1hbmRTdGF0ZSIsImlzTm9kZUluc2lkZUFuY2hvciIsImNsb25lQ29udGVudHMiLCJleHBlY3RlZENvbG9yIiwiZm9udENvbG9yIiwicmdiQ29sb3IiLCJzcGFuV2l0aEJhY2tncm91bmQiLCJnZXRUYXJnZXRFbGVtZW50TWFwIiwiZ2V0U2VsZWN0ZWRIVE1MRWxlbWVudCIsImdldFNlbGVjdGVkVGV4dE5vZGVzIiwibm9kZUl0ZXJhdG9yIiwiY3JlYXRlTm9kZUl0ZXJhdG9yIiwiRklMVEVSX1JFSkVDVCIsIm5vZGVSYW5nZSIsImNvbXBhcmVCb3VuZGFyeVBvaW50cyIsIkVORF9UT19TVEFSVCIsIlNUQVJUX1RPX0VORCIsImZpbmRDbG9zZXN0TWF0Y2hpbmdQYXJlbnQiLCJlbGVtIiwiZXZlcnkiLCJleHRyYWN0U2VsZWN0ZWRUZXh0IiwiZW5kIiwiVGFibGVPcGVyYXRpb25zU2VydmljZSIsImlzQWN0aXZlQ2VsbEJhY2tncm91bmRDb2xvciIsIlRhYmxlVG9vbGJhciIsImlzQ2VsbEJhY2tncm91bmRDb2xvciIsInRhcmdldEhleENvbG9yIiwiY3VycmVudEJhY2tncm91bmRDb2xvciIsImdldFByb3BlcnR5VmFsdWUiLCJxdWVyeVN0YXRlQ2VsbEJhY2tncm91bmRDb2xvciIsImVsZW1lbnRzIiwiaXMiLCJzaG93SW5zZXJ0TGluZUVsZW1lbnQiLCJzaG93SW5zZXJ0Q29sdW1uRWxlbWVudCIsImhpZGVJbnNlcnRSb3dFbGVtZW50IiwiaGlkZUluc2VydENvbHVtbkVsZW1lbnQiLCJNZW1lbnRvIiwidW5kb1N0YWNrIiwicmVkb1N0YWNrIiwicXVlcnkiLCJzdGF0ZSIsImNhcHR1cmVTdGF0ZSIsInVuZG8iLCJzdGF0ZVRvUmVzdG9yZSIsImh0bWwiLCJyZWRvIiwic3RhdGVUb0FwcGx5IiwiU3BhY2UiLCJFZGl0YWJsZU5hdmlnYXRpb24iLCJoYW5kbGVBcnJvd0tleXMiLCJjdXJyZW50RWRpdGFibGUiLCJzaG91bGRTd2l0Y2hFZGl0YWJsZSIsIm5leHRFZGl0YWJsZSIsImZpbmROZXh0RWRpdGFibGUiLCJwbGFjZUNhcmV0SW5TaW1pbGFyUG9zaXRpb24iLCJpc0F0Rmlyc3RMaW5lIiwiaXNBdExpbmVCb3VuZGFyeSIsIkZpcnN0IiwiaXNBdExhc3RMaW5lIiwiTGFzdCIsImJvdW5kYXJ5IiwiYWxsRWRpdGFibGVzIiwiY3VycmVudEluZGV4IiwibmVpZ2hib3JDZWxsIiwibmV4dEluZGV4IiwiZmluZFZlcnRpY2FsRWRpdGFibGVJbmRleCIsIm5leHQiLCJFdmVudCJdLCJzb3VyY2VSb290IjoiIn0=